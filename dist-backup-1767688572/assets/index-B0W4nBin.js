const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-Dafd0v4t.js","assets/webworkerAll-Befx4J3y.js","assets/colorToUniform-BXaCBwVl.js","assets/WebGPURenderer-BapVUsMU.js","assets/SharedSystems-BXU4sZ9A.js","assets/WebGLRenderer-KW9JlGjt.js"])))=>i.map(i=>d[i]);
var nae=Object.defineProperty;var N7=t=>{throw TypeError(t)};var sae=(t,e,r)=>e in t?nae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ns=(t,e,r)=>sae(t,typeof e!="symbol"?e+"":e,r),j_=(t,e,r)=>e.has(t)||N7("Cannot "+r);var St=(t,e,r)=>(j_(t,e,"read from private field"),r?r.call(t):e.get(t)),Cn=(t,e,r)=>e.has(t)?N7("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Yr=(t,e,r,n)=>(j_(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),bo=(t,e,r)=>(j_(t,e,"access private method"),r);var gj=(t,e,r,n)=>({set _(s){Yr(t,e,s,r)},get _(){return St(t,e,n)}});function iae(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var xj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OW={exports:{}},X4={},LW={exports:{}},vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw=Symbol.for("react.element"),aae=Symbol.for("react.portal"),oae=Symbol.for("react.fragment"),lae=Symbol.for("react.strict_mode"),cae=Symbol.for("react.profiler"),uae=Symbol.for("react.provider"),dae=Symbol.for("react.context"),hae=Symbol.for("react.forward_ref"),fae=Symbol.for("react.suspense"),pae=Symbol.for("react.memo"),mae=Symbol.for("react.lazy"),C7=Symbol.iterator;function gae(t){return t===null||typeof t!="object"?null:(t=C7&&t[C7]||t["@@iterator"],typeof t=="function"?t:null)}var RW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DW=Object.assign,FW={};function By(t,e,r){this.props=t,this.context=e,this.refs=FW,this.updater=r||RW}By.prototype.isReactComponent={};By.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};By.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BW(){}BW.prototype=By.prototype;function hT(t,e,r){this.props=t,this.context=e,this.refs=FW,this.updater=r||RW}var fT=hT.prototype=new BW;fT.constructor=hT;DW(fT,By.prototype);fT.isPureReactComponent=!0;var _7=Array.isArray,$W=Object.prototype.hasOwnProperty,pT={current:null},zW={key:!0,ref:!0,__self:!0,__source:!0};function UW(t,e,r){var n,s={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)$W.call(e,n)&&!zW.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:cw,type:t,key:a,ref:o,props:s,_owner:pT.current}}function xae(t,e){return{$$typeof:cw,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mT(t){return typeof t=="object"&&t!==null&&t.$$typeof===cw}function yae(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var A7=/\/+/g;function S_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yae(""+t.key):e.toString(36)}function q5(t,e,r,n,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cw:case aae:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+S_(o,0):n,_7(s)?(r="",t!=null&&(r=t.replace(A7,"$&/")+"/"),q5(s,e,r,"",function(u){return u})):s!=null&&(mT(s)&&(s=xae(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(A7,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",_7(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+S_(a,l);o+=q5(a,e,r,c,s)}else if(c=gae(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+S_(a,l++),o+=q5(a,e,r,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yj(t,e,r){if(t==null)return t;var n=[],s=0;return q5(t,n,"","",function(a){return e.call(r,a,s++)}),n}function vae(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hl={current:null},Y5={transition:null},bae={ReactCurrentDispatcher:hl,ReactCurrentBatchConfig:Y5,ReactCurrentOwner:pT};function WW(){throw Error("act(...) is not supported in production builds of React.")}vn.Children={map:yj,forEach:function(t,e,r){yj(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return yj(t,function(){e++}),e},toArray:function(t){return yj(t,function(e){return e})||[]},only:function(t){if(!mT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vn.Component=By;vn.Fragment=oae;vn.Profiler=cae;vn.PureComponent=hT;vn.StrictMode=lae;vn.Suspense=fae;vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bae;vn.act=WW;vn.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=DW({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=pT.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)$W.call(e,c)&&!zW.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:cw,type:t.type,key:s,ref:a,props:n,_owner:o}};vn.createContext=function(t){return t={$$typeof:dae,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uae,_context:t},t.Consumer=t};vn.createElement=UW;vn.createFactory=function(t){var e=UW.bind(null,t);return e.type=t,e};vn.createRef=function(){return{current:null}};vn.forwardRef=function(t){return{$$typeof:hae,render:t}};vn.isValidElement=mT;vn.lazy=function(t){return{$$typeof:mae,_payload:{_status:-1,_result:t},_init:vae}};vn.memo=function(t,e){return{$$typeof:pae,type:t,compare:e===void 0?null:e}};vn.startTransition=function(t){var e=Y5.transition;Y5.transition={};try{t()}finally{Y5.transition=e}};vn.unstable_act=WW;vn.useCallback=function(t,e){return hl.current.useCallback(t,e)};vn.useContext=function(t){return hl.current.useContext(t)};vn.useDebugValue=function(){};vn.useDeferredValue=function(t){return hl.current.useDeferredValue(t)};vn.useEffect=function(t,e){return hl.current.useEffect(t,e)};vn.useId=function(){return hl.current.useId()};vn.useImperativeHandle=function(t,e,r){return hl.current.useImperativeHandle(t,e,r)};vn.useInsertionEffect=function(t,e){return hl.current.useInsertionEffect(t,e)};vn.useLayoutEffect=function(t,e){return hl.current.useLayoutEffect(t,e)};vn.useMemo=function(t,e){return hl.current.useMemo(t,e)};vn.useReducer=function(t,e,r){return hl.current.useReducer(t,e,r)};vn.useRef=function(t){return hl.current.useRef(t)};vn.useState=function(t){return hl.current.useState(t)};vn.useSyncExternalStore=function(t,e,r){return hl.current.useSyncExternalStore(t,e,r)};vn.useTransition=function(){return hl.current.useTransition()};vn.version="18.3.1";LW.exports=vn;var b=LW.exports;const xe=On(b),K4=iae({__proto__:null,default:xe},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wae=b,jae=Symbol.for("react.element"),Sae=Symbol.for("react.fragment"),Nae=Object.prototype.hasOwnProperty,Cae=wae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_ae={key:!0,ref:!0,__self:!0,__source:!0};function GW(t,e,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Nae.call(e,n)&&!_ae.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:jae,type:t,key:a,ref:o,props:s,_owner:Cae.current}}X4.Fragment=Sae;X4.jsx=GW;X4.jsxs=GW;OW.exports=X4;var i=OW.exports,HW={exports:{}},Ac={},VW={exports:{}},qW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,O){var K=B.length;B.push(O);e:for(;0<K;){var Y=K-1>>>1,D=B[Y];if(0<s(D,O))B[Y]=O,B[K]=D,K=Y;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var O=B[0],K=B.pop();if(K!==O){B[0]=K;e:for(var Y=0,D=B.length,Z=D>>>1;Y<Z;){var ie=2*(Y+1)-1,he=B[ie],J=ie+1,ae=B[J];if(0>s(he,K))J<D&&0>s(ae,he)?(B[Y]=ae,B[J]=K,Y=J):(B[Y]=he,B[ie]=K,Y=ie);else if(J<D&&0>s(ae,K))B[Y]=ae,B[J]=K,Y=J;else break e}}return O}function s(B,O){var K=B.sortIndex-O.sortIndex;return K!==0?K:B.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=B)n(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=r(u)}}function N(B){if(g=!1,S(B),!m)if(r(c)!==null)m=!0,G(C);else{var O=r(u);O!==null&&W(N,O.startTime-B)}}function C(B,O){m=!1,g&&(g=!1,x(E),E=-1),f=!0;var K=p;try{for(S(O),h=r(c);h!==null&&(!(h.expirationTime>O)||B&&!I());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var D=Y(h.expirationTime<=O);O=t.unstable_now(),typeof D=="function"?h.callback=D:h===r(c)&&n(c),S(O)}else n(c);h=r(c)}if(h!==null)var Z=!0;else{var ie=r(u);ie!==null&&W(N,ie.startTime-O),Z=!1}return Z}finally{h=null,p=K,f=!1}}var A=!1,k=null,E=-1,T=5,R=-1;function I(){return!(t.unstable_now()-R<T)}function L(){if(k!==null){var B=t.unstable_now();R=B;var O=!0;try{O=k(!0,B)}finally{O?U():(A=!1,k=null)}}else A=!1}var U;if(typeof w=="function")U=function(){w(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,q=$.port2;$.port1.onmessage=L,U=function(){q.postMessage(null)}}else U=function(){y(L,0)};function G(B){k=B,A||(A=!0,U())}function W(B,O){E=y(function(){B(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,G(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var K=p;p=O;try{return B()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,O){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=p;p=B;try{return O()}finally{p=K}},t.unstable_scheduleCallback=function(B,O,K){var Y=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Y+K:Y):K=Y,B){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=K+D,B={id:d++,callback:O,priorityLevel:B,startTime:K,expirationTime:D,sortIndex:-1},K>Y?(B.sortIndex=K,e(u,B),r(c)===null&&B===r(u)&&(g?(x(E),E=-1):g=!0,W(N,K-Y))):(B.sortIndex=D,e(c,B),m||f||(m=!0,G(C))),B},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(B){var O=p;return function(){var K=p;p=O;try{return B.apply(this,arguments)}finally{p=K}}}})(qW);VW.exports=qW;var Aae=VW.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kae=b,Cc=Aae;function Bt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YW=new Set,Ib={};function qg(t,e){K0(t,e),K0(t+"Capture",e)}function K0(t,e){for(Ib[t]=e,t=0;t<e.length;t++)YW.add(e[t])}var gf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oP=Object.prototype.hasOwnProperty,Pae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k7={},P7={};function Eae(t){return oP.call(P7,t)?!0:oP.call(k7,t)?!1:Pae.test(t)?P7[t]=!0:(k7[t]=!0,!1)}function Tae(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Iae(t,e,r,n){if(e===null||typeof e>"u"||Tae(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fl(t,e,r,n,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var io={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){io[t]=new fl(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];io[e]=new fl(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){io[t]=new fl(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){io[t]=new fl(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){io[t]=new fl(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){io[t]=new fl(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){io[t]=new fl(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){io[t]=new fl(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){io[t]=new fl(t,5,!1,t.toLowerCase(),null,!1,!1)});var gT=/[\-:]([a-z])/g;function xT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gT,xT);io[e]=new fl(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gT,xT);io[e]=new fl(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gT,xT);io[e]=new fl(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){io[t]=new fl(t,1,!1,t.toLowerCase(),null,!1,!1)});io.xlinkHref=new fl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){io[t]=new fl(t,1,!1,t.toLowerCase(),null,!0,!0)});function yT(t,e,r,n){var s=io.hasOwnProperty(e)?io[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Iae(e,r,s,n)&&(r=null),n||s===null?Eae(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _f=kae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vj=Symbol.for("react.element"),e0=Symbol.for("react.portal"),t0=Symbol.for("react.fragment"),vT=Symbol.for("react.strict_mode"),lP=Symbol.for("react.profiler"),XW=Symbol.for("react.provider"),KW=Symbol.for("react.context"),bT=Symbol.for("react.forward_ref"),cP=Symbol.for("react.suspense"),uP=Symbol.for("react.suspense_list"),wT=Symbol.for("react.memo"),lp=Symbol.for("react.lazy"),ZW=Symbol.for("react.offscreen"),E7=Symbol.iterator;function qv(t){return t===null||typeof t!="object"?null:(t=E7&&t[E7]||t["@@iterator"],typeof t=="function"?t:null)}var oi=Object.assign,N_;function k1(t){if(N_===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);N_=e&&e[1]||""}return`
`+N_+t}var C_=!1;function __(t,e){if(!t||C_)return"";C_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{C_=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?k1(t):""}function Mae(t){switch(t.tag){case 5:return k1(t.type);case 16:return k1("Lazy");case 13:return k1("Suspense");case 19:return k1("SuspenseList");case 0:case 2:case 15:return t=__(t.type,!1),t;case 11:return t=__(t.type.render,!1),t;case 1:return t=__(t.type,!0),t;default:return""}}function dP(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case t0:return"Fragment";case e0:return"Portal";case lP:return"Profiler";case vT:return"StrictMode";case cP:return"Suspense";case uP:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KW:return(t.displayName||"Context")+".Consumer";case XW:return(t._context.displayName||"Context")+".Provider";case bT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wT:return e=t.displayName||null,e!==null?e:dP(t.type)||"Memo";case lp:e=t._payload,t=t._init;try{return dP(t(e))}catch{}}return null}function Oae(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dP(e);case 8:return e===vT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kp(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QW(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lae(t){var e=QW(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bj(t){t._valueTracker||(t._valueTracker=Lae(t))}function JW(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=QW(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function IS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hP(t,e){var r=e.checked;return oi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function T7(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Kp(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eG(t,e){e=e.checked,e!=null&&yT(t,"checked",e,!1)}function fP(t,e){eG(t,e);var r=Kp(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pP(t,e.type,r):e.hasOwnProperty("defaultValue")&&pP(t,e.type,Kp(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function I7(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function pP(t,e,r){(e!=="number"||IS(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var P1=Array.isArray;function b0(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Kp(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Bt(91));return oi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M7(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Bt(92));if(P1(r)){if(1<r.length)throw Error(Bt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Kp(r)}}function tG(t,e){var r=Kp(e.value),n=Kp(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function O7(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rG(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rG(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wj,nG=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wj=wj||document.createElement("div"),wj.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wj.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mb(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var X1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rae=["Webkit","ms","Moz","O"];Object.keys(X1).forEach(function(t){Rae.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),X1[e]=X1[t]})});function sG(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||X1.hasOwnProperty(t)&&X1[t]?(""+e).trim():e+"px"}function iG(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sG(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Dae=oi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xP(t,e){if(e){if(Dae[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Bt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Bt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Bt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Bt(62))}}function yP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vP=null;function jT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bP=null,w0=null,j0=null;function L7(t){if(t=hw(t)){if(typeof bP!="function")throw Error(Bt(280));var e=t.stateNode;e&&(e=t3(e),bP(t.stateNode,t.type,e))}}function aG(t){w0?j0?j0.push(t):j0=[t]:w0=t}function oG(){if(w0){var t=w0,e=j0;if(j0=w0=null,L7(t),e)for(t=0;t<e.length;t++)L7(e[t])}}function lG(t,e){return t(e)}function cG(){}var A_=!1;function uG(t,e,r){if(A_)return t(e,r);A_=!0;try{return lG(t,e,r)}finally{A_=!1,(w0!==null||j0!==null)&&(cG(),oG())}}function Ob(t,e){var r=t.stateNode;if(r===null)return null;var n=t3(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Bt(231,e,typeof r));return r}var wP=!1;if(gf)try{var Yv={};Object.defineProperty(Yv,"passive",{get:function(){wP=!0}}),window.addEventListener("test",Yv,Yv),window.removeEventListener("test",Yv,Yv)}catch{wP=!1}function Fae(t,e,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var K1=!1,MS=null,OS=!1,jP=null,Bae={onError:function(t){K1=!0,MS=t}};function $ae(t,e,r,n,s,a,o,l,c){K1=!1,MS=null,Fae.apply(Bae,arguments)}function zae(t,e,r,n,s,a,o,l,c){if($ae.apply(this,arguments),K1){if(K1){var u=MS;K1=!1,MS=null}else throw Error(Bt(198));OS||(OS=!0,jP=u)}}function Yg(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dG(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function R7(t){if(Yg(t)!==t)throw Error(Bt(188))}function Uae(t){var e=t.alternate;if(!e){if(e=Yg(t),e===null)throw Error(Bt(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return R7(s),t;if(a===n)return R7(s),e;a=a.sibling}throw Error(Bt(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Bt(189))}}if(r.alternate!==n)throw Error(Bt(190))}if(r.tag!==3)throw Error(Bt(188));return r.stateNode.current===r?t:e}function hG(t){return t=Uae(t),t!==null?fG(t):null}function fG(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fG(t);if(e!==null)return e;t=t.sibling}return null}var pG=Cc.unstable_scheduleCallback,D7=Cc.unstable_cancelCallback,Wae=Cc.unstable_shouldYield,Gae=Cc.unstable_requestPaint,Ti=Cc.unstable_now,Hae=Cc.unstable_getCurrentPriorityLevel,ST=Cc.unstable_ImmediatePriority,mG=Cc.unstable_UserBlockingPriority,LS=Cc.unstable_NormalPriority,Vae=Cc.unstable_LowPriority,gG=Cc.unstable_IdlePriority,Z4=null,uh=null;function qae(t){if(uh&&typeof uh.onCommitFiberRoot=="function")try{uh.onCommitFiberRoot(Z4,t,void 0,(t.current.flags&128)===128)}catch{}}var xd=Math.clz32?Math.clz32:Kae,Yae=Math.log,Xae=Math.LN2;function Kae(t){return t>>>=0,t===0?32:31-(Yae(t)/Xae|0)|0}var jj=64,Sj=4194304;function E1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function RS(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=E1(l):(a&=o,a!==0&&(n=E1(a)))}else o=r&~s,o!==0?n=E1(o):a!==0&&(n=E1(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-xd(e),s=1<<r,n|=t[r],e&=~s;return n}function Zae(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qae(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-xd(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Zae(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function SP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xG(){var t=jj;return jj<<=1,!(jj&4194240)&&(jj=64),t}function k_(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function uw(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xd(e),t[e]=r}function Jae(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-xd(r),a=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~a}}function NT(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-xd(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var as=0;function yG(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vG,CT,bG,wG,jG,NP=!1,Nj=[],Op=null,Lp=null,Rp=null,Lb=new Map,Rb=new Map,hp=[],eoe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F7(t,e){switch(t){case"focusin":case"focusout":Op=null;break;case"dragenter":case"dragleave":Lp=null;break;case"mouseover":case"mouseout":Rp=null;break;case"pointerover":case"pointerout":Lb.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rb.delete(e.pointerId)}}function Xv(t,e,r,n,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},e!==null&&(e=hw(e),e!==null&&CT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function toe(t,e,r,n,s){switch(e){case"focusin":return Op=Xv(Op,t,e,r,n,s),!0;case"dragenter":return Lp=Xv(Lp,t,e,r,n,s),!0;case"mouseover":return Rp=Xv(Rp,t,e,r,n,s),!0;case"pointerover":var a=s.pointerId;return Lb.set(a,Xv(Lb.get(a)||null,t,e,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Rb.set(a,Xv(Rb.get(a)||null,t,e,r,n,s)),!0}return!1}function SG(t){var e=Jm(t.target);if(e!==null){var r=Yg(e);if(r!==null){if(e=r.tag,e===13){if(e=dG(r),e!==null){t.blockedOn=e,jG(t.priority,function(){bG(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function X5(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=CP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);vP=n,r.target.dispatchEvent(n),vP=null}else return e=hw(r),e!==null&&CT(e),t.blockedOn=r,!1;e.shift()}return!0}function B7(t,e,r){X5(t)&&r.delete(e)}function roe(){NP=!1,Op!==null&&X5(Op)&&(Op=null),Lp!==null&&X5(Lp)&&(Lp=null),Rp!==null&&X5(Rp)&&(Rp=null),Lb.forEach(B7),Rb.forEach(B7)}function Kv(t,e){t.blockedOn===e&&(t.blockedOn=null,NP||(NP=!0,Cc.unstable_scheduleCallback(Cc.unstable_NormalPriority,roe)))}function Db(t){function e(s){return Kv(s,t)}if(0<Nj.length){Kv(Nj[0],t);for(var r=1;r<Nj.length;r++){var n=Nj[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Op!==null&&Kv(Op,t),Lp!==null&&Kv(Lp,t),Rp!==null&&Kv(Rp,t),Lb.forEach(e),Rb.forEach(e),r=0;r<hp.length;r++)n=hp[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<hp.length&&(r=hp[0],r.blockedOn===null);)SG(r),r.blockedOn===null&&hp.shift()}var S0=_f.ReactCurrentBatchConfig,DS=!0;function noe(t,e,r,n){var s=as,a=S0.transition;S0.transition=null;try{as=1,_T(t,e,r,n)}finally{as=s,S0.transition=a}}function soe(t,e,r,n){var s=as,a=S0.transition;S0.transition=null;try{as=4,_T(t,e,r,n)}finally{as=s,S0.transition=a}}function _T(t,e,r,n){if(DS){var s=CP(t,e,r,n);if(s===null)F_(t,e,n,FS,r),F7(t,n);else if(toe(s,t,e,r,n))n.stopPropagation();else if(F7(t,n),e&4&&-1<eoe.indexOf(t)){for(;s!==null;){var a=hw(s);if(a!==null&&vG(a),a=CP(t,e,r,n),a===null&&F_(t,e,n,FS,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else F_(t,e,n,null,r)}}var FS=null;function CP(t,e,r,n){if(FS=null,t=jT(n),t=Jm(t),t!==null)if(e=Yg(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dG(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return FS=t,null}function NG(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hae()){case ST:return 1;case mG:return 4;case LS:case Vae:return 16;case gG:return 536870912;default:return 16}default:return 16}}var Sp=null,AT=null,K5=null;function CG(){if(K5)return K5;var t,e=AT,r=e.length,n,s="value"in Sp?Sp.value:Sp.textContent,a=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[a-n];n++);return K5=s.slice(t,1<n?1-n:void 0)}function Z5(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cj(){return!0}function $7(){return!1}function kc(t){function e(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cj:$7,this.isPropagationStopped=$7,this}return oi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cj)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cj)},persist:function(){},isPersistent:Cj}),e}var $y={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kT=kc($y),dw=oi({},$y,{view:0,detail:0}),ioe=kc(dw),P_,E_,Zv,Q4=oi({},dw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zv&&(Zv&&t.type==="mousemove"?(P_=t.screenX-Zv.screenX,E_=t.screenY-Zv.screenY):E_=P_=0,Zv=t),P_)},movementY:function(t){return"movementY"in t?t.movementY:E_}}),z7=kc(Q4),aoe=oi({},Q4,{dataTransfer:0}),ooe=kc(aoe),loe=oi({},dw,{relatedTarget:0}),T_=kc(loe),coe=oi({},$y,{animationName:0,elapsedTime:0,pseudoElement:0}),uoe=kc(coe),doe=oi({},$y,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hoe=kc(doe),foe=oi({},$y,{data:0}),U7=kc(foe),poe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},moe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},goe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xoe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=goe[t])?!!e[t]:!1}function PT(){return xoe}var yoe=oi({},dw,{key:function(t){if(t.key){var e=poe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Z5(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?moe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PT,charCode:function(t){return t.type==="keypress"?Z5(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Z5(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),voe=kc(yoe),boe=oi({},Q4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W7=kc(boe),woe=oi({},dw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PT}),joe=kc(woe),Soe=oi({},$y,{propertyName:0,elapsedTime:0,pseudoElement:0}),Noe=kc(Soe),Coe=oi({},Q4,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_oe=kc(Coe),Aoe=[9,13,27,32],ET=gf&&"CompositionEvent"in window,Z1=null;gf&&"documentMode"in document&&(Z1=document.documentMode);var koe=gf&&"TextEvent"in window&&!Z1,_G=gf&&(!ET||Z1&&8<Z1&&11>=Z1),G7=" ",H7=!1;function AG(t,e){switch(t){case"keyup":return Aoe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kG(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var r0=!1;function Poe(t,e){switch(t){case"compositionend":return kG(e);case"keypress":return e.which!==32?null:(H7=!0,G7);case"textInput":return t=e.data,t===G7&&H7?null:t;default:return null}}function Eoe(t,e){if(r0)return t==="compositionend"||!ET&&AG(t,e)?(t=CG(),K5=AT=Sp=null,r0=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _G&&e.locale!=="ko"?null:e.data;default:return null}}var Toe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V7(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Toe[t.type]:e==="textarea"}function PG(t,e,r,n){aG(n),e=BS(e,"onChange"),0<e.length&&(r=new kT("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Q1=null,Fb=null;function Ioe(t){$G(t,0)}function J4(t){var e=i0(t);if(JW(e))return t}function Moe(t,e){if(t==="change")return e}var EG=!1;if(gf){var I_;if(gf){var M_="oninput"in document;if(!M_){var q7=document.createElement("div");q7.setAttribute("oninput","return;"),M_=typeof q7.oninput=="function"}I_=M_}else I_=!1;EG=I_&&(!document.documentMode||9<document.documentMode)}function Y7(){Q1&&(Q1.detachEvent("onpropertychange",TG),Fb=Q1=null)}function TG(t){if(t.propertyName==="value"&&J4(Fb)){var e=[];PG(e,Fb,t,jT(t)),uG(Ioe,e)}}function Ooe(t,e,r){t==="focusin"?(Y7(),Q1=e,Fb=r,Q1.attachEvent("onpropertychange",TG)):t==="focusout"&&Y7()}function Loe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return J4(Fb)}function Roe(t,e){if(t==="click")return J4(e)}function Doe(t,e){if(t==="input"||t==="change")return J4(e)}function Foe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jd=typeof Object.is=="function"?Object.is:Foe;function Bb(t,e){if(jd(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!oP.call(e,s)||!jd(t[s],e[s]))return!1}return!0}function X7(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function K7(t,e){var r=X7(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=X7(r)}}function IG(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IG(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MG(){for(var t=window,e=IS();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=IS(t.document)}return e}function TT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Boe(t){var e=MG(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&IG(r.ownerDocument.documentElement,r)){if(n!==null&&TT(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!t.extend&&a>n&&(s=n,n=a,a=s),s=K7(r,a);var o=K7(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $oe=gf&&"documentMode"in document&&11>=document.documentMode,n0=null,_P=null,J1=null,AP=!1;function Z7(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;AP||n0==null||n0!==IS(n)||(n=n0,"selectionStart"in n&&TT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),J1&&Bb(J1,n)||(J1=n,n=BS(_P,"onSelect"),0<n.length&&(e=new kT("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=n0)))}function _j(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var s0={animationend:_j("Animation","AnimationEnd"),animationiteration:_j("Animation","AnimationIteration"),animationstart:_j("Animation","AnimationStart"),transitionend:_j("Transition","TransitionEnd")},O_={},OG={};gf&&(OG=document.createElement("div").style,"AnimationEvent"in window||(delete s0.animationend.animation,delete s0.animationiteration.animation,delete s0.animationstart.animation),"TransitionEvent"in window||delete s0.transitionend.transition);function e3(t){if(O_[t])return O_[t];if(!s0[t])return t;var e=s0[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in OG)return O_[t]=e[r];return t}var LG=e3("animationend"),RG=e3("animationiteration"),DG=e3("animationstart"),FG=e3("transitionend"),BG=new Map,Q7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rm(t,e){BG.set(t,e),qg(e,[t])}for(var L_=0;L_<Q7.length;L_++){var R_=Q7[L_],zoe=R_.toLowerCase(),Uoe=R_[0].toUpperCase()+R_.slice(1);rm(zoe,"on"+Uoe)}rm(LG,"onAnimationEnd");rm(RG,"onAnimationIteration");rm(DG,"onAnimationStart");rm("dblclick","onDoubleClick");rm("focusin","onFocus");rm("focusout","onBlur");rm(FG,"onTransitionEnd");K0("onMouseEnter",["mouseout","mouseover"]);K0("onMouseLeave",["mouseout","mouseover"]);K0("onPointerEnter",["pointerout","pointerover"]);K0("onPointerLeave",["pointerout","pointerover"]);qg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qg("onBeforeInput",["compositionend","keypress","textInput","paste"]);qg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var T1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Woe=new Set("cancel close invalid load scroll toggle".split(" ").concat(T1));function J7(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,zae(n,e,void 0,t),t.currentTarget=null}function $G(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;J7(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;J7(s,l,u),a=c}}}if(OS)throw t=jP,OS=!1,jP=null,t}function Ls(t,e){var r=e[IP];r===void 0&&(r=e[IP]=new Set);var n=t+"__bubble";r.has(n)||(zG(e,t,2,!1),r.add(n))}function D_(t,e,r){var n=0;e&&(n|=4),zG(r,t,n,e)}var Aj="_reactListening"+Math.random().toString(36).slice(2);function $b(t){if(!t[Aj]){t[Aj]=!0,YW.forEach(function(r){r!=="selectionchange"&&(Woe.has(r)||D_(r,!1,t),D_(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Aj]||(e[Aj]=!0,D_("selectionchange",!1,e))}}function zG(t,e,r,n){switch(NG(e)){case 1:var s=noe;break;case 4:s=soe;break;default:s=_T}r=s.bind(null,e,r,t),s=void 0,!wP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function F_(t,e,r,n,s){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Jm(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}uG(function(){var u=a,d=jT(r),h=[];e:{var p=BG.get(t);if(p!==void 0){var f=kT,m=t;switch(t){case"keypress":if(Z5(r)===0)break e;case"keydown":case"keyup":f=voe;break;case"focusin":m="focus",f=T_;break;case"focusout":m="blur",f=T_;break;case"beforeblur":case"afterblur":f=T_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=z7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ooe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=joe;break;case LG:case RG:case DG:f=uoe;break;case FG:f=Noe;break;case"scroll":f=ioe;break;case"wheel":f=_oe;break;case"copy":case"cut":case"paste":f=hoe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=W7}var g=(e&4)!==0,y=!g&&t==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var w=u,S;w!==null;){S=w;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,x!==null&&(N=Ob(w,x),N!=null&&g.push(zb(w,N,S)))),y)break;w=w.return}0<g.length&&(p=new f(p,m,null,r,d),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&r!==vP&&(m=r.relatedTarget||r.fromElement)&&(Jm(m)||m[xf]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(m=r.relatedTarget||r.toElement,f=u,m=m?Jm(m):null,m!==null&&(y=Yg(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(g=z7,N="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=W7,N="onPointerLeave",x="onPointerEnter",w="pointer"),y=f==null?p:i0(f),S=m==null?p:i0(m),p=new g(N,w+"leave",f,r,d),p.target=y,p.relatedTarget=S,N=null,Jm(d)===u&&(g=new g(x,w+"enter",m,r,d),g.target=S,g.relatedTarget=y,N=g),y=N,f&&m)t:{for(g=f,x=m,w=0,S=g;S;S=Mx(S))w++;for(S=0,N=x;N;N=Mx(N))S++;for(;0<w-S;)g=Mx(g),w--;for(;0<S-w;)x=Mx(x),S--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=Mx(g),x=Mx(x)}g=null}else g=null;f!==null&&eL(h,p,f,g,!1),m!==null&&y!==null&&eL(h,y,m,g,!0)}}e:{if(p=u?i0(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var C=Moe;else if(V7(p))if(EG)C=Doe;else{C=Loe;var A=Ooe}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=Roe);if(C&&(C=C(t,u))){PG(h,C,r,d);break e}A&&A(t,p,u),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&pP(p,"number",p.value)}switch(A=u?i0(u):window,t){case"focusin":(V7(A)||A.contentEditable==="true")&&(n0=A,_P=u,J1=null);break;case"focusout":J1=_P=n0=null;break;case"mousedown":AP=!0;break;case"contextmenu":case"mouseup":case"dragend":AP=!1,Z7(h,r,d);break;case"selectionchange":if($oe)break;case"keydown":case"keyup":Z7(h,r,d)}var k;if(ET)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else r0?AG(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(_G&&r.locale!=="ko"&&(r0||E!=="onCompositionStart"?E==="onCompositionEnd"&&r0&&(k=CG()):(Sp=d,AT="value"in Sp?Sp.value:Sp.textContent,r0=!0)),A=BS(u,E),0<A.length&&(E=new U7(E,t,null,r,d),h.push({event:E,listeners:A}),k?E.data=k:(k=kG(r),k!==null&&(E.data=k)))),(k=koe?Poe(t,r):Eoe(t,r))&&(u=BS(u,"onBeforeInput"),0<u.length&&(d=new U7("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}$G(h,e)})}function zb(t,e,r){return{instance:t,listener:e,currentTarget:r}}function BS(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ob(t,r),a!=null&&n.unshift(zb(t,a,s)),a=Ob(t,e),a!=null&&n.push(zb(t,a,s))),t=t.return}return n}function Mx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eL(t,e,r,n,s){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ob(r,a),c!=null&&o.unshift(zb(r,c,l))):s||(c=Ob(r,a),c!=null&&o.push(zb(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Goe=/\r\n?/g,Hoe=/\u0000|\uFFFD/g;function tL(t){return(typeof t=="string"?t:""+t).replace(Goe,`
`).replace(Hoe,"")}function kj(t,e,r){if(e=tL(e),tL(t)!==e&&r)throw Error(Bt(425))}function $S(){}var kP=null,PP=null;function EP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var TP=typeof setTimeout=="function"?setTimeout:void 0,Voe=typeof clearTimeout=="function"?clearTimeout:void 0,rL=typeof Promise=="function"?Promise:void 0,qoe=typeof queueMicrotask=="function"?queueMicrotask:typeof rL<"u"?function(t){return rL.resolve(null).then(t).catch(Yoe)}:TP;function Yoe(t){setTimeout(function(){throw t})}function B_(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Db(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Db(e)}function Dp(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var zy=Math.random().toString(36).slice(2),rh="__reactFiber$"+zy,Ub="__reactProps$"+zy,xf="__reactContainer$"+zy,IP="__reactEvents$"+zy,Xoe="__reactListeners$"+zy,Koe="__reactHandles$"+zy;function Jm(t){var e=t[rh];if(e)return e;for(var r=t.parentNode;r;){if(e=r[xf]||r[rh]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nL(t);t!==null;){if(r=t[rh])return r;t=nL(t)}return e}t=r,r=t.parentNode}return null}function hw(t){return t=t[rh]||t[xf],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function i0(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Bt(33))}function t3(t){return t[Ub]||null}var MP=[],a0=-1;function nm(t){return{current:t}}function zs(t){0>a0||(t.current=MP[a0],MP[a0]=null,a0--)}function _s(t,e){a0++,MP[a0]=t.current,t.current=e}var Zp={},Ro=nm(Zp),Ll=nm(!1),Sg=Zp;function Z0(t,e){var r=t.type.contextTypes;if(!r)return Zp;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Rl(t){return t=t.childContextTypes,t!=null}function zS(){zs(Ll),zs(Ro)}function sL(t,e,r){if(Ro.current!==Zp)throw Error(Bt(168));_s(Ro,e),_s(Ll,r)}function UG(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Bt(108,Oae(t)||"Unknown",s));return oi({},r,n)}function US(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zp,Sg=Ro.current,_s(Ro,t),_s(Ll,Ll.current),!0}function iL(t,e,r){var n=t.stateNode;if(!n)throw Error(Bt(169));r?(t=UG(t,e,Sg),n.__reactInternalMemoizedMergedChildContext=t,zs(Ll),zs(Ro),_s(Ro,t)):zs(Ll),_s(Ll,r)}var Qh=null,r3=!1,$_=!1;function WG(t){Qh===null?Qh=[t]:Qh.push(t)}function Zoe(t){r3=!0,WG(t)}function sm(){if(!$_&&Qh!==null){$_=!0;var t=0,e=as;try{var r=Qh;for(as=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Qh=null,r3=!1}catch(s){throw Qh!==null&&(Qh=Qh.slice(t+1)),pG(ST,sm),s}finally{as=e,$_=!1}}return null}var o0=[],l0=0,WS=null,GS=0,su=[],iu=0,Ng=null,tf=1,rf="";function Bm(t,e){o0[l0++]=GS,o0[l0++]=WS,WS=t,GS=e}function GG(t,e,r){su[iu++]=tf,su[iu++]=rf,su[iu++]=Ng,Ng=t;var n=tf;t=rf;var s=32-xd(n)-1;n&=~(1<<s),r+=1;var a=32-xd(e)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,tf=1<<32-xd(e)+s|r<<s|n,rf=a+t}else tf=1<<a|r<<s|n,rf=t}function IT(t){t.return!==null&&(Bm(t,1),GG(t,1,0))}function MT(t){for(;t===WS;)WS=o0[--l0],o0[l0]=null,GS=o0[--l0],o0[l0]=null;for(;t===Ng;)Ng=su[--iu],su[iu]=null,rf=su[--iu],su[iu]=null,tf=su[--iu],su[iu]=null}var yc=null,fc=null,Ks=!1,pd=null;function HG(t,e){var r=du(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function aL(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yc=t,fc=Dp(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yc=t,fc=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ng!==null?{id:tf,overflow:rf}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=du(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,yc=t,fc=null,!0):!1;default:return!1}}function OP(t){return(t.mode&1)!==0&&(t.flags&128)===0}function LP(t){if(Ks){var e=fc;if(e){var r=e;if(!aL(t,e)){if(OP(t))throw Error(Bt(418));e=Dp(r.nextSibling);var n=yc;e&&aL(t,e)?HG(n,r):(t.flags=t.flags&-4097|2,Ks=!1,yc=t)}}else{if(OP(t))throw Error(Bt(418));t.flags=t.flags&-4097|2,Ks=!1,yc=t}}}function oL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yc=t}function Pj(t){if(t!==yc)return!1;if(!Ks)return oL(t),Ks=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!EP(t.type,t.memoizedProps)),e&&(e=fc)){if(OP(t))throw VG(),Error(Bt(418));for(;e;)HG(t,e),e=Dp(e.nextSibling)}if(oL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Bt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fc=Dp(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fc=null}}else fc=yc?Dp(t.stateNode.nextSibling):null;return!0}function VG(){for(var t=fc;t;)t=Dp(t.nextSibling)}function Q0(){fc=yc=null,Ks=!1}function OT(t){pd===null?pd=[t]:pd.push(t)}var Qoe=_f.ReactCurrentBatchConfig;function Qv(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Bt(309));var n=r.stateNode}if(!n)throw Error(Bt(147,t));var s=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Bt(284));if(!r._owner)throw Error(Bt(290,t))}return t}function Ej(t,e){throw t=Object.prototype.toString.call(e),Error(Bt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lL(t){var e=t._init;return e(t._payload)}function qG(t){function e(x,w){if(t){var S=x.deletions;S===null?(x.deletions=[w],x.flags|=16):S.push(w)}}function r(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=zp(x,w),x.index=0,x.sibling=null,x}function a(x,w,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<w?(x.flags|=2,w):S):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,w,S,N){return w===null||w.tag!==6?(w=q_(S,x.mode,N),w.return=x,w):(w=s(w,S),w.return=x,w)}function c(x,w,S,N){var C=S.type;return C===t0?d(x,w,S.props.children,N,S.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===lp&&lL(C)===w.type)?(N=s(w,S.props),N.ref=Qv(x,w,S),N.return=x,N):(N=sS(S.type,S.key,S.props,null,x.mode,N),N.ref=Qv(x,w,S),N.return=x,N)}function u(x,w,S,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Y_(S,x.mode,N),w.return=x,w):(w=s(w,S.children||[]),w.return=x,w)}function d(x,w,S,N,C){return w===null||w.tag!==7?(w=gg(S,x.mode,N,C),w.return=x,w):(w=s(w,S),w.return=x,w)}function h(x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=q_(""+w,x.mode,S),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vj:return S=sS(w.type,w.key,w.props,null,x.mode,S),S.ref=Qv(x,null,w),S.return=x,S;case e0:return w=Y_(w,x.mode,S),w.return=x,w;case lp:var N=w._init;return h(x,N(w._payload),S)}if(P1(w)||qv(w))return w=gg(w,x.mode,S,null),w.return=x,w;Ej(x,w)}return null}function p(x,w,S,N){var C=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:l(x,w,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vj:return S.key===C?c(x,w,S,N):null;case e0:return S.key===C?u(x,w,S,N):null;case lp:return C=S._init,p(x,w,C(S._payload),N)}if(P1(S)||qv(S))return C!==null?null:d(x,w,S,N,null);Ej(x,S)}return null}function f(x,w,S,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(S)||null,l(w,x,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case vj:return x=x.get(N.key===null?S:N.key)||null,c(w,x,N,C);case e0:return x=x.get(N.key===null?S:N.key)||null,u(w,x,N,C);case lp:var A=N._init;return f(x,w,S,A(N._payload),C)}if(P1(N)||qv(N))return x=x.get(S)||null,d(w,x,N,C,null);Ej(w,N)}return null}function m(x,w,S,N){for(var C=null,A=null,k=w,E=w=0,T=null;k!==null&&E<S.length;E++){k.index>E?(T=k,k=null):T=k.sibling;var R=p(x,k,S[E],N);if(R===null){k===null&&(k=T);break}t&&k&&R.alternate===null&&e(x,k),w=a(R,w,E),A===null?C=R:A.sibling=R,A=R,k=T}if(E===S.length)return r(x,k),Ks&&Bm(x,E),C;if(k===null){for(;E<S.length;E++)k=h(x,S[E],N),k!==null&&(w=a(k,w,E),A===null?C=k:A.sibling=k,A=k);return Ks&&Bm(x,E),C}for(k=n(x,k);E<S.length;E++)T=f(k,x,E,S[E],N),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?E:T.key),w=a(T,w,E),A===null?C=T:A.sibling=T,A=T);return t&&k.forEach(function(I){return e(x,I)}),Ks&&Bm(x,E),C}function g(x,w,S,N){var C=qv(S);if(typeof C!="function")throw Error(Bt(150));if(S=C.call(S),S==null)throw Error(Bt(151));for(var A=C=null,k=w,E=w=0,T=null,R=S.next();k!==null&&!R.done;E++,R=S.next()){k.index>E?(T=k,k=null):T=k.sibling;var I=p(x,k,R.value,N);if(I===null){k===null&&(k=T);break}t&&k&&I.alternate===null&&e(x,k),w=a(I,w,E),A===null?C=I:A.sibling=I,A=I,k=T}if(R.done)return r(x,k),Ks&&Bm(x,E),C;if(k===null){for(;!R.done;E++,R=S.next())R=h(x,R.value,N),R!==null&&(w=a(R,w,E),A===null?C=R:A.sibling=R,A=R);return Ks&&Bm(x,E),C}for(k=n(x,k);!R.done;E++,R=S.next())R=f(k,x,E,R.value,N),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?E:R.key),w=a(R,w,E),A===null?C=R:A.sibling=R,A=R);return t&&k.forEach(function(L){return e(x,L)}),Ks&&Bm(x,E),C}function y(x,w,S,N){if(typeof S=="object"&&S!==null&&S.type===t0&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case vj:e:{for(var C=S.key,A=w;A!==null;){if(A.key===C){if(C=S.type,C===t0){if(A.tag===7){r(x,A.sibling),w=s(A,S.props.children),w.return=x,x=w;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===lp&&lL(C)===A.type){r(x,A.sibling),w=s(A,S.props),w.ref=Qv(x,A,S),w.return=x,x=w;break e}r(x,A);break}else e(x,A);A=A.sibling}S.type===t0?(w=gg(S.props.children,x.mode,N,S.key),w.return=x,x=w):(N=sS(S.type,S.key,S.props,null,x.mode,N),N.ref=Qv(x,w,S),N.return=x,x=N)}return o(x);case e0:e:{for(A=S.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){r(x,w.sibling),w=s(w,S.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else e(x,w);w=w.sibling}w=Y_(S,x.mode,N),w.return=x,x=w}return o(x);case lp:return A=S._init,y(x,w,A(S._payload),N)}if(P1(S))return m(x,w,S,N);if(qv(S))return g(x,w,S,N);Ej(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(r(x,w.sibling),w=s(w,S),w.return=x,x=w):(r(x,w),w=q_(S,x.mode,N),w.return=x,x=w),o(x)):r(x,w)}return y}var J0=qG(!0),YG=qG(!1),HS=nm(null),VS=null,c0=null,LT=null;function RT(){LT=c0=VS=null}function DT(t){var e=HS.current;zs(HS),t._currentValue=e}function RP(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function N0(t,e){VS=t,LT=c0=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ml=!0),t.firstContext=null)}function bu(t){var e=t._currentValue;if(LT!==t)if(t={context:t,memoizedValue:e,next:null},c0===null){if(VS===null)throw Error(Bt(308));c0=t,VS.dependencies={lanes:0,firstContext:t}}else c0=c0.next=t;return e}var eg=null;function FT(t){eg===null?eg=[t]:eg.push(t)}function XG(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,FT(e)):(r.next=s.next,s.next=r),e.interleaved=r,yf(t,n)}function yf(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var cp=!1;function BT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KG(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lf(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fp(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Mn&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,yf(t,r)}return s=n.interleaved,s===null?(e.next=e,FT(n)):(e.next=s.next,s.next=e),n.interleaved=e,yf(t,r)}function Q5(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,NT(t,r)}}function cL(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=e:a=a.next=e}else s=a=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function qS(t,e,r,n){var s=t.updateQueue;cp=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,g=l;switch(p=e,f=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(f,h,p);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,p=typeof m=="function"?m.call(f,h,p):m,p==null)break e;h=oi({},h,p);break e;case 2:cp=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);_g|=o,t.lanes=o,t.memoizedState=h}}function uL(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Bt(191,s));s.call(n)}}}var fw={},dh=nm(fw),Wb=nm(fw),Gb=nm(fw);function tg(t){if(t===fw)throw Error(Bt(174));return t}function $T(t,e){switch(_s(Gb,e),_s(Wb,t),_s(dh,fw),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gP(e,t)}zs(dh),_s(dh,e)}function ey(){zs(dh),zs(Wb),zs(Gb)}function ZG(t){tg(Gb.current);var e=tg(dh.current),r=gP(e,t.type);e!==r&&(_s(Wb,t),_s(dh,r))}function zT(t){Wb.current===t&&(zs(dh),zs(Wb))}var ni=nm(0);function YS(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var z_=[];function UT(){for(var t=0;t<z_.length;t++)z_[t]._workInProgressVersionPrimary=null;z_.length=0}var J5=_f.ReactCurrentDispatcher,U_=_f.ReactCurrentBatchConfig,Cg=0,ai=null,ia=null,Ea=null,XS=!1,eb=!1,Hb=0,Joe=0;function wo(){throw Error(Bt(321))}function WT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!jd(t[r],e[r]))return!1;return!0}function GT(t,e,r,n,s,a){if(Cg=a,ai=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J5.current=t===null||t.memoizedState===null?nle:sle,t=r(n,s),eb){a=0;do{if(eb=!1,Hb=0,25<=a)throw Error(Bt(301));a+=1,Ea=ia=null,e.updateQueue=null,J5.current=ile,t=r(n,s)}while(eb)}if(J5.current=KS,e=ia!==null&&ia.next!==null,Cg=0,Ea=ia=ai=null,XS=!1,e)throw Error(Bt(300));return t}function HT(){var t=Hb!==0;return Hb=0,t}function Qd(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ea===null?ai.memoizedState=Ea=t:Ea=Ea.next=t,Ea}function wu(){if(ia===null){var t=ai.alternate;t=t!==null?t.memoizedState:null}else t=ia.next;var e=Ea===null?ai.memoizedState:Ea.next;if(e!==null)Ea=e,ia=t;else{if(t===null)throw Error(Bt(310));ia=t,t={memoizedState:ia.memoizedState,baseState:ia.baseState,baseQueue:ia.baseQueue,queue:ia.queue,next:null},Ea===null?ai.memoizedState=Ea=t:Ea=Ea.next=t}return Ea}function Vb(t,e){return typeof e=="function"?e(t):e}function W_(t){var e=wu(),r=e.queue;if(r===null)throw Error(Bt(311));r.lastRenderedReducer=t;var n=ia,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Cg&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ai.lanes|=d,_g|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,jd(n,e.memoizedState)||(Ml=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do a=s.lane,ai.lanes|=a,_g|=a,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function G_(t){var e=wu(),r=e.queue;if(r===null)throw Error(Bt(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,a=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);jd(a,e.memoizedState)||(Ml=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function QG(){}function JG(t,e){var r=ai,n=wu(),s=e(),a=!jd(n.memoizedState,s);if(a&&(n.memoizedState=s,Ml=!0),n=n.queue,VT(rH.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Ea!==null&&Ea.memoizedState.tag&1){if(r.flags|=2048,qb(9,tH.bind(null,r,n,s,e),void 0,null),Da===null)throw Error(Bt(349));Cg&30||eH(r,e,s)}return s}function eH(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ai.updateQueue,e===null?(e={lastEffect:null,stores:null},ai.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function tH(t,e,r,n){e.value=r,e.getSnapshot=n,nH(e)&&sH(t)}function rH(t,e,r){return r(function(){nH(e)&&sH(t)})}function nH(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!jd(t,r)}catch{return!0}}function sH(t){var e=yf(t,1);e!==null&&yd(e,t,1,-1)}function dL(t){var e=Qd();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vb,lastRenderedState:t},e.queue=t,t=t.dispatch=rle.bind(null,ai,t),[e.memoizedState,t]}function qb(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ai.updateQueue,e===null?(e={lastEffect:null,stores:null},ai.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function iH(){return wu().memoizedState}function eS(t,e,r,n){var s=Qd();ai.flags|=t,s.memoizedState=qb(1|e,r,void 0,n===void 0?null:n)}function n3(t,e,r,n){var s=wu();n=n===void 0?null:n;var a=void 0;if(ia!==null){var o=ia.memoizedState;if(a=o.destroy,n!==null&&WT(n,o.deps)){s.memoizedState=qb(e,r,a,n);return}}ai.flags|=t,s.memoizedState=qb(1|e,r,a,n)}function hL(t,e){return eS(8390656,8,t,e)}function VT(t,e){return n3(2048,8,t,e)}function aH(t,e){return n3(4,2,t,e)}function oH(t,e){return n3(4,4,t,e)}function lH(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cH(t,e,r){return r=r!=null?r.concat([t]):null,n3(4,4,lH.bind(null,e,t),r)}function qT(){}function uH(t,e){var r=wu();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&WT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function dH(t,e){var r=wu();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&WT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function hH(t,e,r){return Cg&21?(jd(r,e)||(r=xG(),ai.lanes|=r,_g|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ml=!0),t.memoizedState=r)}function ele(t,e){var r=as;as=r!==0&&4>r?r:4,t(!0);var n=U_.transition;U_.transition={};try{t(!1),e()}finally{as=r,U_.transition=n}}function fH(){return wu().memoizedState}function tle(t,e,r){var n=$p(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pH(t))mH(e,r);else if(r=XG(t,e,r,n),r!==null){var s=il();yd(r,t,n,s),gH(r,e,n)}}function rle(t,e,r){var n=$p(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pH(t))mH(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,jd(l,o)){var c=e.interleaved;c===null?(s.next=s,FT(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=XG(t,e,s,n),r!==null&&(s=il(),yd(r,t,n,s),gH(r,e,n))}}function pH(t){var e=t.alternate;return t===ai||e!==null&&e===ai}function mH(t,e){eb=XS=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function gH(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,NT(t,r)}}var KS={readContext:bu,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},nle={readContext:bu,useCallback:function(t,e){return Qd().memoizedState=[t,e===void 0?null:e],t},useContext:bu,useEffect:hL,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,eS(4194308,4,lH.bind(null,e,t),r)},useLayoutEffect:function(t,e){return eS(4194308,4,t,e)},useInsertionEffect:function(t,e){return eS(4,2,t,e)},useMemo:function(t,e){var r=Qd();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Qd();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=tle.bind(null,ai,t),[n.memoizedState,t]},useRef:function(t){var e=Qd();return t={current:t},e.memoizedState=t},useState:dL,useDebugValue:qT,useDeferredValue:function(t){return Qd().memoizedState=t},useTransition:function(){var t=dL(!1),e=t[0];return t=ele.bind(null,t[1]),Qd().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ai,s=Qd();if(Ks){if(r===void 0)throw Error(Bt(407));r=r()}else{if(r=e(),Da===null)throw Error(Bt(349));Cg&30||eH(n,e,r)}s.memoizedState=r;var a={value:r,getSnapshot:e};return s.queue=a,hL(rH.bind(null,n,a,t),[t]),n.flags|=2048,qb(9,tH.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Qd(),e=Da.identifierPrefix;if(Ks){var r=rf,n=tf;r=(n&~(1<<32-xd(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Hb++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Joe++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sle={readContext:bu,useCallback:uH,useContext:bu,useEffect:VT,useImperativeHandle:cH,useInsertionEffect:aH,useLayoutEffect:oH,useMemo:dH,useReducer:W_,useRef:iH,useState:function(){return W_(Vb)},useDebugValue:qT,useDeferredValue:function(t){var e=wu();return hH(e,ia.memoizedState,t)},useTransition:function(){var t=W_(Vb)[0],e=wu().memoizedState;return[t,e]},useMutableSource:QG,useSyncExternalStore:JG,useId:fH,unstable_isNewReconciler:!1},ile={readContext:bu,useCallback:uH,useContext:bu,useEffect:VT,useImperativeHandle:cH,useInsertionEffect:aH,useLayoutEffect:oH,useMemo:dH,useReducer:G_,useRef:iH,useState:function(){return G_(Vb)},useDebugValue:qT,useDeferredValue:function(t){var e=wu();return ia===null?e.memoizedState=t:hH(e,ia.memoizedState,t)},useTransition:function(){var t=G_(Vb)[0],e=wu().memoizedState;return[t,e]},useMutableSource:QG,useSyncExternalStore:JG,useId:fH,unstable_isNewReconciler:!1};function sd(t,e){if(t&&t.defaultProps){e=oi({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function DP(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:oi({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var s3={isMounted:function(t){return(t=t._reactInternals)?Yg(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=il(),s=$p(t),a=lf(n,s);a.payload=e,r!=null&&(a.callback=r),e=Fp(t,a,s),e!==null&&(yd(e,t,s,n),Q5(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=il(),s=$p(t),a=lf(n,s);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Fp(t,a,s),e!==null&&(yd(e,t,s,n),Q5(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=il(),n=$p(t),s=lf(r,n);s.tag=2,e!=null&&(s.callback=e),e=Fp(t,s,n),e!==null&&(yd(e,t,n,r),Q5(e,t,n))}};function fL(t,e,r,n,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Bb(r,n)||!Bb(s,a):!0}function xH(t,e,r){var n=!1,s=Zp,a=e.contextType;return typeof a=="object"&&a!==null?a=bu(a):(s=Rl(e)?Sg:Ro.current,n=e.contextTypes,a=(n=n!=null)?Z0(t,s):Zp),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=s3,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function pL(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&s3.enqueueReplaceState(e,e.state,null)}function FP(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},BT(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=bu(a):(a=Rl(e)?Sg:Ro.current,s.context=Z0(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(DP(t,e,a,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&s3.enqueueReplaceState(s,s.state,null),qS(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ty(t,e){try{var r="",n=e;do r+=Mae(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function H_(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function BP(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ale=typeof WeakMap=="function"?WeakMap:Map;function yH(t,e,r){r=lf(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){QS||(QS=!0,XP=n),BP(t,e)},r}function vH(t,e,r){r=lf(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){BP(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){BP(t,e),typeof n!="function"&&(Bp===null?Bp=new Set([this]):Bp.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function mL(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ale;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=ble.bind(null,t,e,r),e.then(t,t))}function gL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xL(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=lf(-1,1),e.tag=2,Fp(r,e,1))),r.lanes|=1),t)}var ole=_f.ReactCurrentOwner,Ml=!1;function Zo(t,e,r,n){e.child=t===null?YG(e,null,r,n):J0(e,t.child,r,n)}function yL(t,e,r,n,s){r=r.render;var a=e.ref;return N0(e,s),n=GT(t,e,r,n,a,s),r=HT(),t!==null&&!Ml?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vf(t,e,s)):(Ks&&r&&IT(e),e.flags|=1,Zo(t,e,n,s),e.child)}function vL(t,e,r,n,s){if(t===null){var a=r.type;return typeof a=="function"&&!tI(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,bH(t,e,a,n,s)):(t=sS(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Bb,r(o,n)&&t.ref===e.ref)return vf(t,e,s)}return e.flags|=1,t=zp(a,n),t.ref=e.ref,t.return=e,e.child=t}function bH(t,e,r,n,s){if(t!==null){var a=t.memoizedProps;if(Bb(a,n)&&t.ref===e.ref)if(Ml=!1,e.pendingProps=n=a,(t.lanes&s)!==0)t.flags&131072&&(Ml=!0);else return e.lanes=t.lanes,vf(t,e,s)}return $P(t,e,r,n,s)}function wH(t,e,r){var n=e.pendingProps,s=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_s(d0,sc),sc|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_s(d0,sc),sc|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,_s(d0,sc),sc|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,_s(d0,sc),sc|=n;return Zo(t,e,s,r),e.child}function jH(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function $P(t,e,r,n,s){var a=Rl(r)?Sg:Ro.current;return a=Z0(e,a),N0(e,s),r=GT(t,e,r,n,a,s),n=HT(),t!==null&&!Ml?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vf(t,e,s)):(Ks&&n&&IT(e),e.flags|=1,Zo(t,e,r,s),e.child)}function bL(t,e,r,n,s){if(Rl(r)){var a=!0;US(e)}else a=!1;if(N0(e,s),e.stateNode===null)tS(t,e),xH(e,r,n),FP(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=bu(u):(u=Rl(r)?Sg:Ro.current,u=Z0(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&pL(e,o,n,u),cp=!1;var p=e.memoizedState;o.state=p,qS(e,n,o,s),c=e.memoizedState,l!==n||p!==c||Ll.current||cp?(typeof d=="function"&&(DP(e,r,d,n),c=e.memoizedState),(l=cp||fL(e,r,l,n,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,KG(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:sd(e.type,l),o.props=u,h=e.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=bu(c):(c=Rl(r)?Sg:Ro.current,c=Z0(e,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&pL(e,o,n,c),cp=!1,p=e.memoizedState,o.state=p,qS(e,n,o,s);var m=e.memoizedState;l!==h||p!==m||Ll.current||cp?(typeof f=="function"&&(DP(e,r,f,n),m=e.memoizedState),(u=cp||fL(e,r,u,n,p,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return zP(t,e,r,n,a,s)}function zP(t,e,r,n,s,a){jH(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&iL(e,r,!1),vf(t,e,a);n=e.stateNode,ole.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=J0(e,t.child,null,a),e.child=J0(e,null,l,a)):Zo(t,e,l,a),e.memoizedState=n.state,s&&iL(e,r,!0),e.child}function SH(t){var e=t.stateNode;e.pendingContext?sL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sL(t,e.context,!1),$T(t,e.containerInfo)}function wL(t,e,r,n,s){return Q0(),OT(s),e.flags|=256,Zo(t,e,r,n),e.child}var UP={dehydrated:null,treeContext:null,retryLane:0};function WP(t){return{baseLanes:t,cachePool:null,transitions:null}}function NH(t,e,r){var n=e.pendingProps,s=ni.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),_s(ni,s&1),t===null)return LP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=o3(o,n,0,null),t=gg(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=WP(r),e.memoizedState=UP,t):YT(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lle(t,e,o,n,l,s,r);if(a){a=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=zp(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=zp(l,a):(a=gg(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?WP(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=UP,n}return a=t.child,t=a.sibling,n=zp(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function YT(t,e){return e=o3({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tj(t,e,r,n){return n!==null&&OT(n),J0(e,t.child,null,r),t=YT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lle(t,e,r,n,s,a,o){if(r)return e.flags&256?(e.flags&=-257,n=H_(Error(Bt(422))),Tj(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,s=e.mode,n=o3({mode:"visible",children:n.children},s,0,null),a=gg(a,s,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&J0(e,t.child,null,o),e.child.memoizedState=WP(o),e.memoizedState=UP,a);if(!(e.mode&1))return Tj(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Bt(419)),n=H_(a,n,void 0),Tj(t,e,o,n)}if(l=(o&t.childLanes)!==0,Ml||l){if(n=Da,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,yf(t,s),yd(n,t,s,-1))}return eI(),n=H_(Error(Bt(421))),Tj(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wle.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,fc=Dp(s.nextSibling),yc=e,Ks=!0,pd=null,t!==null&&(su[iu++]=tf,su[iu++]=rf,su[iu++]=Ng,tf=t.id,rf=t.overflow,Ng=e),e=YT(e,n.children),e.flags|=4096,e)}function jL(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),RP(t.return,e,r)}function V_(t,e,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function CH(t,e,r){var n=e.pendingProps,s=n.revealOrder,a=n.tail;if(Zo(t,e,n.children,r),n=ni.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jL(t,r,e);else if(t.tag===19)jL(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(_s(ni,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&YS(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),V_(e,!1,s,r,a);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&YS(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}V_(e,!0,r,null,a);break;case"together":V_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tS(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vf(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),_g|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Bt(153));if(e.child!==null){for(t=e.child,r=zp(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=zp(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function cle(t,e,r){switch(e.tag){case 3:SH(e),Q0();break;case 5:ZG(e);break;case 1:Rl(e.type)&&US(e);break;case 4:$T(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;_s(HS,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(_s(ni,ni.current&1),e.flags|=128,null):r&e.child.childLanes?NH(t,e,r):(_s(ni,ni.current&1),t=vf(t,e,r),t!==null?t.sibling:null);_s(ni,ni.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return CH(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_s(ni,ni.current),n)break;return null;case 22:case 23:return e.lanes=0,wH(t,e,r)}return vf(t,e,r)}var _H,GP,AH,kH;_H=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};GP=function(){};AH=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,tg(dh.current);var a=null;switch(r){case"input":s=hP(t,s),n=hP(t,n),a=[];break;case"select":s=oi({},s,{value:void 0}),n=oi({},n,{value:void 0}),a=[];break;case"textarea":s=mP(t,s),n=mP(t,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=$S)}xP(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ib.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ib.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ls("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};kH=function(t,e,r,n){r!==n&&(e.flags|=4)};function Jv(t,e){if(!Ks)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function jo(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ule(t,e,r){var n=e.pendingProps;switch(MT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jo(e),null;case 1:return Rl(e.type)&&zS(),jo(e),null;case 3:return n=e.stateNode,ey(),zs(Ll),zs(Ro),UT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Pj(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pd!==null&&(QP(pd),pd=null))),GP(t,e),jo(e),null;case 5:zT(e);var s=tg(Gb.current);if(r=e.type,t!==null&&e.stateNode!=null)AH(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Bt(166));return jo(e),null}if(t=tg(dh.current),Pj(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[rh]=e,n[Ub]=a,t=(e.mode&1)!==0,r){case"dialog":Ls("cancel",n),Ls("close",n);break;case"iframe":case"object":case"embed":Ls("load",n);break;case"video":case"audio":for(s=0;s<T1.length;s++)Ls(T1[s],n);break;case"source":Ls("error",n);break;case"img":case"image":case"link":Ls("error",n),Ls("load",n);break;case"details":Ls("toggle",n);break;case"input":T7(n,a),Ls("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ls("invalid",n);break;case"textarea":M7(n,a),Ls("invalid",n)}xP(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&kj(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&kj(n.textContent,l,t),s=["children",""+l]):Ib.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ls("scroll",n)}switch(r){case"input":bj(n),I7(n,a,!0);break;case"textarea":bj(n),O7(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=$S)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rG(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[rh]=e,t[Ub]=n,_H(t,e,!1,!1),e.stateNode=t;e:{switch(o=yP(r,n),r){case"dialog":Ls("cancel",t),Ls("close",t),s=n;break;case"iframe":case"object":case"embed":Ls("load",t),s=n;break;case"video":case"audio":for(s=0;s<T1.length;s++)Ls(T1[s],t);s=n;break;case"source":Ls("error",t),s=n;break;case"img":case"image":case"link":Ls("error",t),Ls("load",t),s=n;break;case"details":Ls("toggle",t),s=n;break;case"input":T7(t,n),s=hP(t,n),Ls("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=oi({},n,{value:void 0}),Ls("invalid",t);break;case"textarea":M7(t,n),s=mP(t,n),Ls("invalid",t);break;default:s=n}xP(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?iG(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nG(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mb(t,c):typeof c=="number"&&Mb(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ib.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ls("scroll",t):c!=null&&yT(t,a,c,o))}switch(r){case"input":bj(t),I7(t,n,!1);break;case"textarea":bj(t),O7(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Kp(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?b0(t,!!n.multiple,a,!1):n.defaultValue!=null&&b0(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$S)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jo(e),null;case 6:if(t&&e.stateNode!=null)kH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Bt(166));if(r=tg(Gb.current),tg(dh.current),Pj(e)){if(n=e.stateNode,r=e.memoizedProps,n[rh]=e,(a=n.nodeValue!==r)&&(t=yc,t!==null))switch(t.tag){case 3:kj(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kj(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rh]=e,e.stateNode=n}return jo(e),null;case 13:if(zs(ni),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ks&&fc!==null&&e.mode&1&&!(e.flags&128))VG(),Q0(),e.flags|=98560,a=!1;else if(a=Pj(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Bt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Bt(317));a[rh]=e}else Q0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jo(e),a=!1}else pd!==null&&(QP(pd),pd=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ni.current&1?la===0&&(la=3):eI())),e.updateQueue!==null&&(e.flags|=4),jo(e),null);case 4:return ey(),GP(t,e),t===null&&$b(e.stateNode.containerInfo),jo(e),null;case 10:return DT(e.type._context),jo(e),null;case 17:return Rl(e.type)&&zS(),jo(e),null;case 19:if(zs(ni),a=e.memoizedState,a===null)return jo(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Jv(a,!1);else{if(la!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=YS(t),o!==null){for(e.flags|=128,Jv(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return _s(ni,ni.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ti()>ry&&(e.flags|=128,n=!0,Jv(a,!1),e.lanes=4194304)}else{if(!n)if(t=YS(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Jv(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ks)return jo(e),null}else 2*Ti()-a.renderingStartTime>ry&&r!==1073741824&&(e.flags|=128,n=!0,Jv(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ti(),e.sibling=null,r=ni.current,_s(ni,n?r&1|2:r&1),e):(jo(e),null);case 22:case 23:return JT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?sc&1073741824&&(jo(e),e.subtreeFlags&6&&(e.flags|=8192)):jo(e),null;case 24:return null;case 25:return null}throw Error(Bt(156,e.tag))}function dle(t,e){switch(MT(e),e.tag){case 1:return Rl(e.type)&&zS(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ey(),zs(Ll),zs(Ro),UT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zT(e),null;case 13:if(zs(ni),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Bt(340));Q0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zs(ni),null;case 4:return ey(),null;case 10:return DT(e.type._context),null;case 22:case 23:return JT(),null;case 24:return null;default:return null}}var Ij=!1,Eo=!1,hle=typeof WeakSet=="function"?WeakSet:Set,dr=null;function u0(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bi(t,e,n)}else r.current=null}function HP(t,e,r){try{r()}catch(n){bi(t,e,n)}}var SL=!1;function fle(t,e){if(kP=DS,t=MG(),TT(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===r&&++u===s&&(l=o),p===a&&++d===n&&(c=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(PP={focusedElem:t,selectionRange:r},DS=!1,dr=e;dr!==null;)if(e=dr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,dr=t;else for(;dr!==null;){e=dr;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:sd(e.type,g),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Bt(163))}}catch(N){bi(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,dr=t;break}dr=e.return}return m=SL,SL=!1,m}function tb(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&HP(e,r,a)}s=s.next}while(s!==n)}}function i3(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function VP(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function PH(t){var e=t.alternate;e!==null&&(t.alternate=null,PH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rh],delete e[Ub],delete e[IP],delete e[Xoe],delete e[Koe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EH(t){return t.tag===5||t.tag===3||t.tag===4}function NL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=$S));else if(n!==4&&(t=t.child,t!==null))for(qP(t,e,r),t=t.sibling;t!==null;)qP(t,e,r),t=t.sibling}function YP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(YP(t,e,r),t=t.sibling;t!==null;)YP(t,e,r),t=t.sibling}var to=null,ld=!1;function Jf(t,e,r){for(r=r.child;r!==null;)TH(t,e,r),r=r.sibling}function TH(t,e,r){if(uh&&typeof uh.onCommitFiberUnmount=="function")try{uh.onCommitFiberUnmount(Z4,r)}catch{}switch(r.tag){case 5:Eo||u0(r,e);case 6:var n=to,s=ld;to=null,Jf(t,e,r),to=n,ld=s,to!==null&&(ld?(t=to,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):to.removeChild(r.stateNode));break;case 18:to!==null&&(ld?(t=to,r=r.stateNode,t.nodeType===8?B_(t.parentNode,r):t.nodeType===1&&B_(t,r),Db(t)):B_(to,r.stateNode));break;case 4:n=to,s=ld,to=r.stateNode.containerInfo,ld=!0,Jf(t,e,r),to=n,ld=s;break;case 0:case 11:case 14:case 15:if(!Eo&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&HP(r,e,o),s=s.next}while(s!==n)}Jf(t,e,r);break;case 1:if(!Eo&&(u0(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){bi(r,e,l)}Jf(t,e,r);break;case 21:Jf(t,e,r);break;case 22:r.mode&1?(Eo=(n=Eo)||r.memoizedState!==null,Jf(t,e,r),Eo=n):Jf(t,e,r);break;default:Jf(t,e,r)}}function CL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new hle),e.forEach(function(n){var s=jle.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qu(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:to=l.stateNode,ld=!1;break e;case 3:to=l.stateNode.containerInfo,ld=!0;break e;case 4:to=l.stateNode.containerInfo,ld=!0;break e}l=l.return}if(to===null)throw Error(Bt(160));TH(a,o,s),to=null,ld=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){bi(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IH(e,t),e=e.sibling}function IH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qu(e,t),qd(t),n&4){try{tb(3,t,t.return),i3(3,t)}catch(g){bi(t,t.return,g)}try{tb(5,t,t.return)}catch(g){bi(t,t.return,g)}}break;case 1:Qu(e,t),qd(t),n&512&&r!==null&&u0(r,r.return);break;case 5:if(Qu(e,t),qd(t),n&512&&r!==null&&u0(r,r.return),t.flags&32){var s=t.stateNode;try{Mb(s,"")}catch(g){bi(t,t.return,g)}}if(n&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&eG(s,a),yP(l,o);var u=yP(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?iG(s,h):d==="dangerouslySetInnerHTML"?nG(s,h):d==="children"?Mb(s,h):yT(s,d,h,u)}switch(l){case"input":fP(s,a);break;case"textarea":tG(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?b0(s,!!a.multiple,f,!1):p!==!!a.multiple&&(a.defaultValue!=null?b0(s,!!a.multiple,a.defaultValue,!0):b0(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ub]=a}catch(g){bi(t,t.return,g)}}break;case 6:if(Qu(e,t),qd(t),n&4){if(t.stateNode===null)throw Error(Bt(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(g){bi(t,t.return,g)}}break;case 3:if(Qu(e,t),qd(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Db(e.containerInfo)}catch(g){bi(t,t.return,g)}break;case 4:Qu(e,t),qd(t);break;case 13:Qu(e,t),qd(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ZT=Ti())),n&4&&CL(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Eo=(u=Eo)||d,Qu(e,t),Eo=u):Qu(e,t),qd(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(dr=t,d=t.child;d!==null;){for(h=dr=d;dr!==null;){switch(p=dr,f=p.child,p.tag){case 0:case 11:case 14:case 15:tb(4,p,p.return);break;case 1:u0(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){bi(n,r,g)}}break;case 5:u0(p,p.return);break;case 22:if(p.memoizedState!==null){AL(h);continue}}f!==null?(f.return=p,dr=f):AL(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sG("display",o))}catch(g){bi(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){bi(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qu(e,t),qd(t),n&4&&CL(t);break;case 21:break;default:Qu(e,t),qd(t)}}function qd(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(EH(r)){var n=r;break e}r=r.return}throw Error(Bt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Mb(s,""),n.flags&=-33);var a=NL(t);YP(t,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=NL(t);qP(t,l,o);break;default:throw Error(Bt(161))}}catch(c){bi(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ple(t,e,r){dr=t,MH(t)}function MH(t,e,r){for(var n=(t.mode&1)!==0;dr!==null;){var s=dr,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ij;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Eo;l=Ij;var u=Eo;if(Ij=o,(Eo=c)&&!u)for(dr=s;dr!==null;)o=dr,c=o.child,o.tag===22&&o.memoizedState!==null?kL(s):c!==null?(c.return=o,dr=c):kL(s);for(;a!==null;)dr=a,MH(a),a=a.sibling;dr=s,Ij=l,Eo=u}_L(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,dr=a):_L(t)}}function _L(t){for(;dr!==null;){var e=dr;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Eo||i3(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Eo)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:sd(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&uL(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}uL(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Db(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Bt(163))}Eo||e.flags&512&&VP(e)}catch(p){bi(e,e.return,p)}}if(e===t){dr=null;break}if(r=e.sibling,r!==null){r.return=e.return,dr=r;break}dr=e.return}}function AL(t){for(;dr!==null;){var e=dr;if(e===t){dr=null;break}var r=e.sibling;if(r!==null){r.return=e.return,dr=r;break}dr=e.return}}function kL(t){for(;dr!==null;){var e=dr;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{i3(4,e)}catch(c){bi(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){bi(e,s,c)}}var a=e.return;try{VP(e)}catch(c){bi(e,a,c)}break;case 5:var o=e.return;try{VP(e)}catch(c){bi(e,o,c)}}}catch(c){bi(e,e.return,c)}if(e===t){dr=null;break}var l=e.sibling;if(l!==null){l.return=e.return,dr=l;break}dr=e.return}}var mle=Math.ceil,ZS=_f.ReactCurrentDispatcher,XT=_f.ReactCurrentOwner,mu=_f.ReactCurrentBatchConfig,Mn=0,Da=null,Wi=null,no=0,sc=0,d0=nm(0),la=0,Yb=null,_g=0,a3=0,KT=0,rb=null,Tl=null,ZT=0,ry=1/0,Kh=null,QS=!1,XP=null,Bp=null,Mj=!1,Np=null,JS=0,nb=0,KP=null,rS=-1,nS=0;function il(){return Mn&6?Ti():rS!==-1?rS:rS=Ti()}function $p(t){return t.mode&1?Mn&2&&no!==0?no&-no:Qoe.transition!==null?(nS===0&&(nS=xG()),nS):(t=as,t!==0||(t=window.event,t=t===void 0?16:NG(t.type)),t):1}function yd(t,e,r,n){if(50<nb)throw nb=0,KP=null,Error(Bt(185));uw(t,r,n),(!(Mn&2)||t!==Da)&&(t===Da&&(!(Mn&2)&&(a3|=r),la===4&&fp(t,no)),Dl(t,n),r===1&&Mn===0&&!(e.mode&1)&&(ry=Ti()+500,r3&&sm()))}function Dl(t,e){var r=t.callbackNode;Qae(t,e);var n=RS(t,t===Da?no:0);if(n===0)r!==null&&D7(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&D7(r),e===1)t.tag===0?Zoe(PL.bind(null,t)):WG(PL.bind(null,t)),qoe(function(){!(Mn&6)&&sm()}),r=null;else{switch(yG(n)){case 1:r=ST;break;case 4:r=mG;break;case 16:r=LS;break;case 536870912:r=gG;break;default:r=LS}r=zH(r,OH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function OH(t,e){if(rS=-1,nS=0,Mn&6)throw Error(Bt(327));var r=t.callbackNode;if(C0()&&t.callbackNode!==r)return null;var n=RS(t,t===Da?no:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=eN(t,n);else{e=n;var s=Mn;Mn|=2;var a=RH();(Da!==t||no!==e)&&(Kh=null,ry=Ti()+500,mg(t,e));do try{yle();break}catch(l){LH(t,l)}while(!0);RT(),ZS.current=a,Mn=s,Wi!==null?e=0:(Da=null,no=0,e=la)}if(e!==0){if(e===2&&(s=SP(t),s!==0&&(n=s,e=ZP(t,s))),e===1)throw r=Yb,mg(t,0),fp(t,n),Dl(t,Ti()),r;if(e===6)fp(t,n);else{if(s=t.current.alternate,!(n&30)&&!gle(s)&&(e=eN(t,n),e===2&&(a=SP(t),a!==0&&(n=a,e=ZP(t,a))),e===1))throw r=Yb,mg(t,0),fp(t,n),Dl(t,Ti()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Bt(345));case 2:$m(t,Tl,Kh);break;case 3:if(fp(t,n),(n&130023424)===n&&(e=ZT+500-Ti(),10<e)){if(RS(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){il(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=TP($m.bind(null,t,Tl,Kh),e);break}$m(t,Tl,Kh);break;case 4:if(fp(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-xd(n);a=1<<o,o=e[o],o>s&&(s=o),n&=~a}if(n=s,n=Ti()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mle(n/1960))-n,10<n){t.timeoutHandle=TP($m.bind(null,t,Tl,Kh),n);break}$m(t,Tl,Kh);break;case 5:$m(t,Tl,Kh);break;default:throw Error(Bt(329))}}}return Dl(t,Ti()),t.callbackNode===r?OH.bind(null,t):null}function ZP(t,e){var r=rb;return t.current.memoizedState.isDehydrated&&(mg(t,e).flags|=256),t=eN(t,e),t!==2&&(e=Tl,Tl=r,e!==null&&QP(e)),t}function QP(t){Tl===null?Tl=t:Tl.push.apply(Tl,t)}function gle(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!jd(a(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fp(t,e){for(e&=~KT,e&=~a3,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-xd(e),n=1<<r;t[r]=-1,e&=~n}}function PL(t){if(Mn&6)throw Error(Bt(327));C0();var e=RS(t,0);if(!(e&1))return Dl(t,Ti()),null;var r=eN(t,e);if(t.tag!==0&&r===2){var n=SP(t);n!==0&&(e=n,r=ZP(t,n))}if(r===1)throw r=Yb,mg(t,0),fp(t,e),Dl(t,Ti()),r;if(r===6)throw Error(Bt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$m(t,Tl,Kh),Dl(t,Ti()),null}function QT(t,e){var r=Mn;Mn|=1;try{return t(e)}finally{Mn=r,Mn===0&&(ry=Ti()+500,r3&&sm())}}function Ag(t){Np!==null&&Np.tag===0&&!(Mn&6)&&C0();var e=Mn;Mn|=1;var r=mu.transition,n=as;try{if(mu.transition=null,as=1,t)return t()}finally{as=n,mu.transition=r,Mn=e,!(Mn&6)&&sm()}}function JT(){sc=d0.current,zs(d0)}function mg(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Voe(r)),Wi!==null)for(r=Wi.return;r!==null;){var n=r;switch(MT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zS();break;case 3:ey(),zs(Ll),zs(Ro),UT();break;case 5:zT(n);break;case 4:ey();break;case 13:zs(ni);break;case 19:zs(ni);break;case 10:DT(n.type._context);break;case 22:case 23:JT()}r=r.return}if(Da=t,Wi=t=zp(t.current,null),no=sc=e,la=0,Yb=null,KT=a3=_g=0,Tl=rb=null,eg!==null){for(e=0;e<eg.length;e++)if(r=eg[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}eg=null}return t}function LH(t,e){do{var r=Wi;try{if(RT(),J5.current=KS,XS){for(var n=ai.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}XS=!1}if(Cg=0,Ea=ia=ai=null,eb=!1,Hb=0,XT.current=null,r===null||r.return===null){la=1,Yb=e,Wi=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=no,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gL(o);if(f!==null){f.flags&=-257,xL(f,o,l,a,e),f.mode&1&&mL(a,u,e),e=f,c=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break e}else{if(!(e&1)){mL(a,u,e),eI();break e}c=Error(Bt(426))}}else if(Ks&&l.mode&1){var y=gL(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),xL(y,o,l,a,e),OT(ty(c,l));break e}}a=c=ty(c,l),la!==4&&(la=2),rb===null?rb=[a]:rb.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=yH(a,c,e);cL(a,x);break e;case 1:l=c;var w=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Bp===null||!Bp.has(S)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=vH(a,l,e);cL(a,N);break e}}a=a.return}while(a!==null)}FH(r)}catch(C){e=C,Wi===r&&r!==null&&(Wi=r=r.return);continue}break}while(!0)}function RH(){var t=ZS.current;return ZS.current=KS,t===null?KS:t}function eI(){(la===0||la===3||la===2)&&(la=4),Da===null||!(_g&268435455)&&!(a3&268435455)||fp(Da,no)}function eN(t,e){var r=Mn;Mn|=2;var n=RH();(Da!==t||no!==e)&&(Kh=null,mg(t,e));do try{xle();break}catch(s){LH(t,s)}while(!0);if(RT(),Mn=r,ZS.current=n,Wi!==null)throw Error(Bt(261));return Da=null,no=0,la}function xle(){for(;Wi!==null;)DH(Wi)}function yle(){for(;Wi!==null&&!Wae();)DH(Wi)}function DH(t){var e=$H(t.alternate,t,sc);t.memoizedProps=t.pendingProps,e===null?FH(t):Wi=e,XT.current=null}function FH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=dle(r,e),r!==null){r.flags&=32767,Wi=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{la=6,Wi=null;return}}else if(r=ule(r,e,sc),r!==null){Wi=r;return}if(e=e.sibling,e!==null){Wi=e;return}Wi=e=t}while(e!==null);la===0&&(la=5)}function $m(t,e,r){var n=as,s=mu.transition;try{mu.transition=null,as=1,vle(t,e,r,n)}finally{mu.transition=s,as=n}return null}function vle(t,e,r,n){do C0();while(Np!==null);if(Mn&6)throw Error(Bt(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Bt(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Jae(t,a),t===Da&&(Wi=Da=null,no=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Mj||(Mj=!0,zH(LS,function(){return C0(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=mu.transition,mu.transition=null;var o=as;as=1;var l=Mn;Mn|=4,XT.current=null,fle(t,r),IH(r,t),Boe(PP),DS=!!kP,PP=kP=null,t.current=r,ple(r),Gae(),Mn=l,as=o,mu.transition=a}else t.current=r;if(Mj&&(Mj=!1,Np=t,JS=s),a=t.pendingLanes,a===0&&(Bp=null),qae(r.stateNode),Dl(t,Ti()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(QS)throw QS=!1,t=XP,XP=null,t;return JS&1&&t.tag!==0&&C0(),a=t.pendingLanes,a&1?t===KP?nb++:(nb=0,KP=t):nb=0,sm(),null}function C0(){if(Np!==null){var t=yG(JS),e=mu.transition,r=as;try{if(mu.transition=null,as=16>t?16:t,Np===null)var n=!1;else{if(t=Np,Np=null,JS=0,Mn&6)throw Error(Bt(331));var s=Mn;for(Mn|=4,dr=t.current;dr!==null;){var a=dr,o=a.child;if(dr.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(dr=u;dr!==null;){var d=dr;switch(d.tag){case 0:case 11:case 15:tb(8,d,a)}var h=d.child;if(h!==null)h.return=d,dr=h;else for(;dr!==null;){d=dr;var p=d.sibling,f=d.return;if(PH(d),d===u){dr=null;break}if(p!==null){p.return=f,dr=p;break}dr=f}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}dr=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,dr=o;else e:for(;dr!==null;){if(a=dr,a.flags&2048)switch(a.tag){case 0:case 11:case 15:tb(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,dr=x;break e}dr=a.return}}var w=t.current;for(dr=w;dr!==null;){o=dr;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,dr=S;else e:for(o=w;dr!==null;){if(l=dr,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:i3(9,l)}}catch(C){bi(l,l.return,C)}if(l===o){dr=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,dr=N;break e}dr=l.return}}if(Mn=s,sm(),uh&&typeof uh.onPostCommitFiberRoot=="function")try{uh.onPostCommitFiberRoot(Z4,t)}catch{}n=!0}return n}finally{as=r,mu.transition=e}}return!1}function EL(t,e,r){e=ty(r,e),e=yH(t,e,1),t=Fp(t,e,1),e=il(),t!==null&&(uw(t,1,e),Dl(t,e))}function bi(t,e,r){if(t.tag===3)EL(t,t,r);else for(;e!==null;){if(e.tag===3){EL(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bp===null||!Bp.has(n))){t=ty(r,t),t=vH(e,t,1),e=Fp(e,t,1),t=il(),e!==null&&(uw(e,1,t),Dl(e,t));break}}e=e.return}}function ble(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=il(),t.pingedLanes|=t.suspendedLanes&r,Da===t&&(no&r)===r&&(la===4||la===3&&(no&130023424)===no&&500>Ti()-ZT?mg(t,0):KT|=r),Dl(t,e)}function BH(t,e){e===0&&(t.mode&1?(e=Sj,Sj<<=1,!(Sj&130023424)&&(Sj=4194304)):e=1);var r=il();t=yf(t,e),t!==null&&(uw(t,e,r),Dl(t,r))}function wle(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),BH(t,r)}function jle(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Bt(314))}n!==null&&n.delete(e),BH(t,r)}var $H;$H=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ll.current)Ml=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ml=!1,cle(t,e,r);Ml=!!(t.flags&131072)}else Ml=!1,Ks&&e.flags&1048576&&GG(e,GS,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;tS(t,e),t=e.pendingProps;var s=Z0(e,Ro.current);N0(e,r),s=GT(null,e,n,t,s,r);var a=HT();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rl(n)?(a=!0,US(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,BT(e),s.updater=s3,e.stateNode=s,s._reactInternals=e,FP(e,n,t,r),e=zP(null,e,n,!0,a,r)):(e.tag=0,Ks&&a&&IT(e),Zo(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(tS(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Nle(n),t=sd(n,t),s){case 0:e=$P(null,e,n,t,r);break e;case 1:e=bL(null,e,n,t,r);break e;case 11:e=yL(null,e,n,t,r);break e;case 14:e=vL(null,e,n,sd(n.type,t),r);break e}throw Error(Bt(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sd(n,s),$P(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sd(n,s),bL(t,e,n,s,r);case 3:e:{if(SH(e),t===null)throw Error(Bt(387));n=e.pendingProps,a=e.memoizedState,s=a.element,KG(t,e),qS(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=ty(Error(Bt(423)),e),e=wL(t,e,n,r,s);break e}else if(n!==s){s=ty(Error(Bt(424)),e),e=wL(t,e,n,r,s);break e}else for(fc=Dp(e.stateNode.containerInfo.firstChild),yc=e,Ks=!0,pd=null,r=YG(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Q0(),n===s){e=vf(t,e,r);break e}Zo(t,e,n,r)}e=e.child}return e;case 5:return ZG(e),t===null&&LP(e),n=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,EP(n,s)?o=null:a!==null&&EP(n,a)&&(e.flags|=32),jH(t,e),Zo(t,e,o,r),e.child;case 6:return t===null&&LP(e),null;case 13:return NH(t,e,r);case 4:return $T(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=J0(e,null,n,r):Zo(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sd(n,s),yL(t,e,n,s,r);case 7:return Zo(t,e,e.pendingProps,r),e.child;case 8:return Zo(t,e,e.pendingProps.children,r),e.child;case 12:return Zo(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,_s(HS,n._currentValue),n._currentValue=o,a!==null)if(jd(a.value,o)){if(a.children===s.children&&!Ll.current){e=vf(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=lf(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),RP(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Bt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),RP(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Zo(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,N0(e,r),s=bu(s),n=n(s),e.flags|=1,Zo(t,e,n,r),e.child;case 14:return n=e.type,s=sd(n,e.pendingProps),s=sd(n.type,s),vL(t,e,n,s,r);case 15:return bH(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sd(n,s),tS(t,e),e.tag=1,Rl(n)?(t=!0,US(e)):t=!1,N0(e,r),xH(e,n,s),FP(e,n,s,r),zP(null,e,n,!0,t,r);case 19:return CH(t,e,r);case 22:return wH(t,e,r)}throw Error(Bt(156,e.tag))};function zH(t,e){return pG(t,e)}function Sle(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function du(t,e,r,n){return new Sle(t,e,r,n)}function tI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nle(t){if(typeof t=="function")return tI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bT)return 11;if(t===wT)return 14}return 2}function zp(t,e){var r=t.alternate;return r===null?(r=du(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function sS(t,e,r,n,s,a){var o=2;if(n=t,typeof t=="function")tI(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case t0:return gg(r.children,s,a,e);case vT:o=8,s|=8;break;case lP:return t=du(12,r,e,s|2),t.elementType=lP,t.lanes=a,t;case cP:return t=du(13,r,e,s),t.elementType=cP,t.lanes=a,t;case uP:return t=du(19,r,e,s),t.elementType=uP,t.lanes=a,t;case ZW:return o3(r,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XW:o=10;break e;case KW:o=9;break e;case bT:o=11;break e;case wT:o=14;break e;case lp:o=16,n=null;break e}throw Error(Bt(130,t==null?t:typeof t,""))}return e=du(o,r,e,s),e.elementType=t,e.type=n,e.lanes=a,e}function gg(t,e,r,n){return t=du(7,t,n,e),t.lanes=r,t}function o3(t,e,r,n){return t=du(22,t,n,e),t.elementType=ZW,t.lanes=r,t.stateNode={isHidden:!1},t}function q_(t,e,r){return t=du(6,t,null,e),t.lanes=r,t}function Y_(t,e,r){return e=du(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Cle(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=k_(0),this.expirationTimes=k_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k_(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rI(t,e,r,n,s,a,o,l,c){return t=new Cle(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=du(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},BT(a),t}function _le(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:e0,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function UH(t){if(!t)return Zp;t=t._reactInternals;e:{if(Yg(t)!==t||t.tag!==1)throw Error(Bt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rl(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Bt(171))}if(t.tag===1){var r=t.type;if(Rl(r))return UG(t,r,e)}return e}function WH(t,e,r,n,s,a,o,l,c){return t=rI(r,n,!0,t,s,a,o,l,c),t.context=UH(null),r=t.current,n=il(),s=$p(r),a=lf(n,s),a.callback=e??null,Fp(r,a,s),t.current.lanes=s,uw(t,s,n),Dl(t,n),t}function l3(t,e,r,n){var s=e.current,a=il(),o=$p(s);return r=UH(r),e.context===null?e.context=r:e.pendingContext=r,e=lf(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Fp(s,e,o),t!==null&&(yd(t,s,o,a),Q5(t,s,o)),o}function tN(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function nI(t,e){TL(t,e),(t=t.alternate)&&TL(t,e)}function Ale(){return null}var GH=typeof reportError=="function"?reportError:function(t){console.error(t)};function sI(t){this._internalRoot=t}c3.prototype.render=sI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Bt(409));l3(t,e,null,null)};c3.prototype.unmount=sI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ag(function(){l3(null,t,null,null)}),e[xf]=null}};function c3(t){this._internalRoot=t}c3.prototype.unstable_scheduleHydration=function(t){if(t){var e=wG();t={blockedOn:null,target:t,priority:e};for(var r=0;r<hp.length&&e!==0&&e<hp[r].priority;r++);hp.splice(r,0,t),r===0&&SG(t)}};function iI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IL(){}function kle(t,e,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=tN(o);a.call(u)}}var o=WH(e,n,t,0,null,!1,!1,"",IL);return t._reactRootContainer=o,t[xf]=o.current,$b(t.nodeType===8?t.parentNode:t),Ag(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=tN(c);l.call(u)}}var c=rI(t,0,!1,null,null,!1,!1,"",IL);return t._reactRootContainer=c,t[xf]=c.current,$b(t.nodeType===8?t.parentNode:t),Ag(function(){l3(e,c,r,n)}),c}function d3(t,e,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=tN(o);l.call(c)}}l3(e,o,t,s)}else o=kle(r,e,t,s,n);return tN(o)}vG=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=E1(e.pendingLanes);r!==0&&(NT(e,r|1),Dl(e,Ti()),!(Mn&6)&&(ry=Ti()+500,sm()))}break;case 13:Ag(function(){var n=yf(t,1);if(n!==null){var s=il();yd(n,t,1,s)}}),nI(t,1)}};CT=function(t){if(t.tag===13){var e=yf(t,134217728);if(e!==null){var r=il();yd(e,t,134217728,r)}nI(t,134217728)}};bG=function(t){if(t.tag===13){var e=$p(t),r=yf(t,e);if(r!==null){var n=il();yd(r,t,e,n)}nI(t,e)}};wG=function(){return as};jG=function(t,e){var r=as;try{return as=t,e()}finally{as=r}};bP=function(t,e,r){switch(e){case"input":if(fP(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=t3(n);if(!s)throw Error(Bt(90));JW(n),fP(n,s)}}}break;case"textarea":tG(t,r);break;case"select":e=r.value,e!=null&&b0(t,!!r.multiple,e,!1)}};lG=QT;cG=Ag;var Ple={usingClientEntryPoint:!1,Events:[hw,i0,t3,aG,oG,QT]},e1={findFiberByHostInstance:Jm,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ele={bundleType:e1.bundleType,version:e1.version,rendererPackageName:e1.rendererPackageName,rendererConfig:e1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_f.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hG(t),t===null?null:t.stateNode},findFiberByHostInstance:e1.findFiberByHostInstance||Ale,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oj=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oj.isDisabled&&Oj.supportsFiber)try{Z4=Oj.inject(Ele),uh=Oj}catch{}}Ac.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ple;Ac.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iI(e))throw Error(Bt(200));return _le(t,e,null,r)};Ac.createRoot=function(t,e){if(!iI(t))throw Error(Bt(299));var r=!1,n="",s=GH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rI(t,1,!1,null,null,r,!1,n,s),t[xf]=e.current,$b(t.nodeType===8?t.parentNode:t),new sI(e)};Ac.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Bt(188)):(t=Object.keys(t).join(","),Error(Bt(268,t)));return t=hG(e),t=t===null?null:t.stateNode,t};Ac.flushSync=function(t){return Ag(t)};Ac.hydrate=function(t,e,r){if(!u3(e))throw Error(Bt(200));return d3(null,t,e,!0,r)};Ac.hydrateRoot=function(t,e,r){if(!iI(t))throw Error(Bt(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=GH;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=WH(e,null,t,1,r??null,s,!1,a,o),t[xf]=e.current,$b(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new c3(e)};Ac.render=function(t,e,r){if(!u3(e))throw Error(Bt(200));return d3(null,t,e,!1,r)};Ac.unmountComponentAtNode=function(t){if(!u3(t))throw Error(Bt(40));return t._reactRootContainer?(Ag(function(){d3(null,null,t,!1,function(){t._reactRootContainer=null,t[xf]=null})}),!0):!1};Ac.unstable_batchedUpdates=QT;Ac.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!u3(r))throw Error(Bt(200));if(t==null||t._reactInternals===void 0)throw Error(Bt(38));return d3(t,e,r,!1,n)};Ac.version="18.3.1-next-f1338f8080-20240426";function HH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HH)}catch(t){console.error(t)}}HH(),HW.exports=Ac;var hu=HW.exports;const VH=On(hu);var qH,ML=hu;qH=ML.createRoot,ML.hydrateRoot;const Tle=1,Ile=1e6;let X_=0;function Mle(){return X_=(X_+1)%Number.MAX_SAFE_INTEGER,X_.toString()}const K_=new Map,OL=t=>{if(K_.has(t))return;const e=setTimeout(()=>{K_.delete(t),sb({type:"REMOVE_TOAST",toastId:t})},Ile);K_.set(t,e)},Ole=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Tle)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?OL(r):t.toasts.forEach(n=>{OL(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},iS=[];let aS={toasts:[]};function sb(t){aS=Ole(aS,t),iS.forEach(e=>{e(aS)})}function wi({...t}){const e=Mle(),r=s=>sb({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>sb({type:"DISMISS_TOAST",toastId:e});return sb({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function Uy(){const[t,e]=b.useState(aS);return b.useEffect(()=>(iS.push(e),()=>{const r=iS.indexOf(e);r>-1&&iS.splice(r,1)}),[t]),{...t,toast:wi,dismiss:r=>sb({type:"DISMISS_TOAST",toastId:r})}}function Ft(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function LL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Af(...t){return e=>{let r=!1;const n=t.map(s=>{const a=LL(s,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():LL(t[s],null)}}}}function Lr(...t){return b.useCallback(Af(...t),t)}function Lle(t,e){const r=b.createContext(e),n=a=>{const{children:o,...l}=a,c=b.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(a){const o=b.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,s]}function ma(t,e=[]){let r=[];function n(a,o){const l=b.createContext(o),c=r.length;r=[...r,o];const u=h=>{var x;const{scope:p,children:f,...m}=h,g=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,y=b.useMemo(()=>m,Object.values(m));return i.jsx(g.Provider,{value:y,children:f})};u.displayName=a+"Provider";function d(h,p){var g;const f=((g=p==null?void 0:p[t])==null?void 0:g[c])||l,m=b.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Rle(s,...e)]}function Rle(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function RL(t){const e=Dle(t),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(Ble);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return i.jsx(e,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return i.jsx(e,{...o,ref:s,children:a})});return r.displayName=`${t}.Slot`,r}function Dle(t){const e=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=zle(s),l=$le(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Af(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Fle=Symbol("radix.slottable");function Ble(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Fle}function $le(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function zle(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Wy(t){const e=t+"CollectionProvider",[r,n]=ma(e),[s,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:x}=g,w=xe.useRef(null),S=xe.useRef(new Map).current;return i.jsx(s,{scope:y,itemMap:S,collectionRef:w,children:x})};o.displayName=e;const l=t+"CollectionSlot",c=RL(l),u=xe.forwardRef((g,y)=>{const{scope:x,children:w}=g,S=a(l,x),N=Lr(y,S.collectionRef);return i.jsx(c,{ref:N,children:w})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=RL(d),f=xe.forwardRef((g,y)=>{const{scope:x,children:w,...S}=g,N=xe.useRef(null),C=Lr(y,N),A=a(d,x);return xe.useEffect(()=>(A.itemMap.set(N,{ref:N,...S}),()=>void A.itemMap.delete(N))),i.jsx(p,{[h]:"",ref:C,children:w})});f.displayName=d;function m(g){const y=a(t+"CollectionConsumer",g);return xe.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((A,k)=>S.indexOf(A.ref.current)-S.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},m,n]}function Ule(t){const e=Wle(t),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(Hle);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return i.jsx(e,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return i.jsx(e,{...o,ref:s,children:a})});return r.displayName=`${t}.Slot`,r}function Wle(t){const e=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=qle(s),l=Vle(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Af(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Gle=Symbol("radix.slottable");function Hle(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Gle}function Vle(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function qle(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Yle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ir=Yle.reduce((t,e)=>{const r=Ule(`Primitive.${e}`),n=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function aI(t,e){t&&hu.flushSync(()=>t.dispatchEvent(e))}function Li(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Xle(t,e=globalThis==null?void 0:globalThis.document){const r=Li(t);b.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Kle="DismissableLayer",JP="dismissableLayer.update",Zle="dismissableLayer.pointerDownOutside",Qle="dismissableLayer.focusOutside",DL,YH=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gy=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(YH),[d,h]=b.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=b.useState({}),m=Lr(e,k=>h(k)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),w=d?g.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=x,C=ece(k=>{const E=k.target,T=[...u.branches].some(R=>R.contains(E));!N||T||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},p),A=tce(k=>{const E=k.target;[...u.branches].some(R=>R.contains(E))||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},p);return Xle(k=>{w===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(DL=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),FL(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=DL)}},[d,p,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),FL())},[d,u]),b.useEffect(()=>{const k=()=>f({});return document.addEventListener(JP,k),()=>document.removeEventListener(JP,k)},[]),i.jsx(ir.div,{...c,ref:m,style:{pointerEvents:S?N?"auto":"none":void 0,...t.style},onFocusCapture:Ft(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Ft(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Ft(t.onPointerDownCapture,C.onPointerDownCapture)})});Gy.displayName=Kle;var Jle="DismissableLayerBranch",XH=b.forwardRef((t,e)=>{const r=b.useContext(YH),n=b.useRef(null),s=Lr(e,n);return b.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(ir.div,{...t,ref:s})});XH.displayName=Jle;function ece(t,e=globalThis==null?void 0:globalThis.document){const r=Li(t),n=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){KH(Zle,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function tce(t,e=globalThis==null?void 0:globalThis.document){const r=Li(t),n=b.useRef(!1);return b.useEffect(()=>{const s=a=>{a.target&&!n.current&&KH(Qle,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function FL(){const t=new CustomEvent(JP);document.dispatchEvent(t)}function KH(t,e,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?aI(s,a):s.dispatchEvent(a)}var rce=Gy,nce=XH,pa=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},sce="Portal",pw=b.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,a]=b.useState(!1);pa(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?VH.createPortal(i.jsx(ir.div,{...n,ref:e}),o):null});pw.displayName=sce;function ice(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var Fa=t=>{const{present:e,children:r}=t,n=ace(e),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),a=Lr(n.ref,oce(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:a}):null};Fa.displayName="Presence";function ace(t){const[e,r]=b.useState(),n=b.useRef(null),s=b.useRef(t),a=b.useRef("none"),o=t?"mounted":"unmounted",[l,c]=ice(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Lj(n.current);a.current=l==="mounted"?u:"none"},[l]),pa(()=>{const u=n.current,d=s.current;if(d!==t){const p=a.current,f=Lj(u);t?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),pa(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=f=>{const g=Lj(n.current).includes(CSS.escape(f.animationName));if(f.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=f=>{f.target===e&&(a.current=Lj(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Lj(t){return(t==null?void 0:t.animationName)||"none"}function oce(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var lce=K4[" useInsertionEffect ".trim().toString()]||pa;function cl({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,a,o]=cce({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:s;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=b.useCallback(d=>{var h;if(l){const p=uce(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else a(d)},[l,t,a,o]);return[c,u]}function cce({defaultProp:t,onChange:e}){const[r,n]=b.useState(t),s=b.useRef(r),a=b.useRef(e);return lce(()=>{a.current=e},[e]),b.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function uce(t){return typeof t=="function"}var ZH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dce="VisuallyHidden",h3=b.forwardRef((t,e)=>i.jsx(ir.span,{...t,ref:e,style:{...ZH,...t.style}}));h3.displayName=dce;var hce=h3,oI="ToastProvider",[lI,fce,pce]=Wy("Toast"),[QH]=ma("Toast",[pce]),[mce,f3]=QH(oI),JH=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=t,[l,c]=b.useState(null),[u,d]=b.useState(0),h=b.useRef(!1),p=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${oI}\`. Expected non-empty \`string\`.`),i.jsx(lI.Provider,{scope:e,children:i.jsx(mce,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>d(f=>f+1),[]),onToastRemove:b.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};JH.displayName=oI;var eV="ToastViewport",gce=["F8"],e6="toast.viewportPause",t6="toast.viewportResume",tV=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=gce,label:s="Notifications ({hotkey})",...a}=t,o=f3(eV,r),l=fce(r),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),p=Lr(e,h,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;b.useEffect(()=>{const y=x=>{var S;n.length!==0&&n.every(N=>x[N]||x.code===N)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),b.useEffect(()=>{const y=c.current,x=h.current;if(m&&y&&x){const w=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(e6);x.dispatchEvent(A),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(t6);x.dispatchEvent(A),o.isClosePausedRef.current=!1}},N=A=>{!y.contains(A.relatedTarget)&&S()},C=()=>{y.contains(document.activeElement)||S()};return y.addEventListener("focusin",w),y.addEventListener("focusout",N),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[m,o.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:y})=>{const w=l().map(S=>{const N=S.ref.current,C=[N,...Pce(N)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?w.reverse():w).flat()},[l]);return b.useEffect(()=>{const y=h.current;if(y){const x=w=>{var C,A,k;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const E=document.activeElement,T=w.shiftKey;if(w.target===y&&T){(C=u.current)==null||C.focus();return}const L=g({tabbingDirection:T?"backwards":"forwards"}),U=L.findIndex($=>$===E);Z_(L.slice(U+1))?w.preventDefault():T?(A=u.current)==null||A.focus():(k=d.current)==null||k.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,g]),i.jsxs(nce,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&i.jsx(r6,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Z_(y)}}),i.jsx(lI.Slot,{scope:r,children:i.jsx(ir.ol,{tabIndex:-1,...a,ref:p})}),m&&i.jsx(r6,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Z_(y)}})]})});tV.displayName=eV;var rV="ToastFocusProxy",r6=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,a=f3(rV,r);return i.jsx(h3,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});r6.displayName=rV;var mw="Toast",xce="toast.swipeStart",yce="toast.swipeMove",vce="toast.swipeCancel",bce="toast.swipeEnd",nV=b.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=t,[l,c]=cl({prop:n,defaultProp:s??!0,onChange:a,caller:mw});return i.jsx(Fa,{present:r||l,children:i.jsx(Sce,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Li(t.onPause),onResume:Li(t.onResume),onSwipeStart:Ft(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ft(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ft(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ft(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});nV.displayName=mw;var[wce,jce]=QH(mw,{onClose(){}}),Sce=b.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...m}=t,g=f3(mw,r),[y,x]=b.useState(null),w=Lr(e,$=>x($)),S=b.useRef(null),N=b.useRef(null),C=s||g.duration,A=b.useRef(0),k=b.useRef(C),E=b.useRef(0),{onToastAdd:T,onToastRemove:R}=g,I=Li(()=>{var q;(y==null?void 0:y.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),o()}),L=b.useCallback($=>{!$||$===1/0||(window.clearTimeout(E.current),A.current=new Date().getTime(),E.current=window.setTimeout(I,$))},[I]);b.useEffect(()=>{const $=g.viewport;if($){const q=()=>{L(k.current),u==null||u()},G=()=>{const W=new Date().getTime()-A.current;k.current=k.current-W,window.clearTimeout(E.current),c==null||c()};return $.addEventListener(e6,G),$.addEventListener(t6,q),()=>{$.removeEventListener(e6,G),$.removeEventListener(t6,q)}}},[g.viewport,C,c,u,L]),b.useEffect(()=>{a&&!g.isClosePausedRef.current&&L(C)},[a,C,g.isClosePausedRef,L]),b.useEffect(()=>(T(),()=>R()),[T,R]);const U=b.useMemo(()=>y?uV(y):null,[y]);return g.viewport?i.jsxs(i.Fragment,{children:[U&&i.jsx(Nce,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:U}),i.jsx(wce,{scope:r,onClose:I,children:hu.createPortal(i.jsx(lI.ItemSlot,{scope:r,children:i.jsx(rce,{asChild:!0,onEscapeKeyDown:Ft(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ir.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ft(t.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ft(t.onPointerDown,$=>{$.button===0&&(S.current={x:$.clientX,y:$.clientY})}),onPointerMove:Ft(t.onPointerMove,$=>{if(!S.current)return;const q=$.clientX-S.current.x,G=$.clientY-S.current.y,W=!!N.current,B=["left","right"].includes(g.swipeDirection),O=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,K=B?O(0,q):0,Y=B?0:O(0,G),D=$.pointerType==="touch"?10:2,Z={x:K,y:Y},ie={originalEvent:$,delta:Z};W?(N.current=Z,Rj(yce,h,ie,{discrete:!1})):BL(Z,g.swipeDirection,D)?(N.current=Z,Rj(xce,d,ie,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(q)>D||Math.abs(G)>D)&&(S.current=null)}),onPointerUp:Ft(t.onPointerUp,$=>{const q=N.current,G=$.target;if(G.hasPointerCapture($.pointerId)&&G.releasePointerCapture($.pointerId),N.current=null,S.current=null,q){const W=$.currentTarget,B={originalEvent:$,delta:q};BL(q,g.swipeDirection,g.swipeThreshold)?Rj(bce,f,B,{discrete:!0}):Rj(vce,p,B,{discrete:!0}),W.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Nce=t=>{const{__scopeToast:e,children:r,...n}=t,s=f3(mw,e),[a,o]=b.useState(!1),[l,c]=b.useState(!1);return Ace(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(pw,{asChild:!0,children:i.jsx(h3,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},Cce="ToastTitle",sV=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(ir.div,{...n,ref:e})});sV.displayName=Cce;var _ce="ToastDescription",iV=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(ir.div,{...n,ref:e})});iV.displayName=_ce;var aV="ToastAction",oV=b.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(cV,{altText:r,asChild:!0,children:i.jsx(cI,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${aV}\`. Expected non-empty \`string\`.`),null)});oV.displayName=aV;var lV="ToastClose",cI=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=jce(lV,r);return i.jsx(cV,{asChild:!0,children:i.jsx(ir.button,{type:"button",...n,ref:e,onClick:Ft(t.onClick,s.onClose)})})});cI.displayName=lV;var cV=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return i.jsx(ir.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function uV(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),kce(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...uV(n))}}),e}function Rj(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?aI(s,a):s.dispatchEvent(a)}var BL=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),a=n>s;return e==="left"||e==="right"?a&&n>r:!a&&s>r};function Ace(t=()=>{}){const e=Li(t);pa(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function kce(t){return t.nodeType===t.ELEMENT_NODE}function Pce(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Z_(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Ece=JH,dV=tV,hV=nV,fV=sV,pV=iV,mV=oV,gV=cI;function xV(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=xV(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function nn(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=xV(t))&&(n&&(n+=" "),n+=e);return n}const $L=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zL=nn,Hy=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return zL(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=e,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const p=$L(d)||$L(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...a,...l}[g]):{...a,...l}[g]===y})?[...u,h,p]:u},[]);return zL(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yV=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ice={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...Ice,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:yV("lucide",s),...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(t,e)=>{const r=b.forwardRef(({className:n,...s},a)=>b.createElement(Mce,{ref:a,iconNode:e,className:yV(`lucide-${Tce(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=Nt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=Nt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=Nt("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=Nt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Nt("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=Nt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=Nt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Nt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=Nt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=Nt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=Nt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=Nt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=Nt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=Nt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=Nt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=Nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=Nt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Nt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Nt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Nt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Nt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=Nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=Nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=Nt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=Nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Nt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=Nt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=Nt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Nt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=Nt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=Nt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Nt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=Nt("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=Nt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Nt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=Nt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=Nt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=Nt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=Nt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=Nt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Nt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=Nt("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Nt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=Nt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=Nt("LassoSelect",[["path",{d:"M7 22a5 5 0 0 1-2-4",key:"umushi"}],["path",{d:"M7 16.93c.96.43 1.96.74 2.99.91",key:"ybbtv3"}],["path",{d:"M3.34 14A6.8 6.8 0 0 1 2 10c0-4.42 4.48-8 10-8s10 3.58 10 8a7.19 7.19 0 0 1-.33 2",key:"gt5e1w"}],["path",{d:"M5 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z",key:"bq3ynw"}],["path",{d:"M14.33 22h-.09a.35.35 0 0 1-.24-.32v-10a.34.34 0 0 1 .33-.34c.08 0 .15.03.21.08l7.34 6a.33.33 0 0 1-.21.59h-4.49l-2.57 3.85a.35.35 0 0 1-.28.14z",key:"72q637"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=Nt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=Nt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=Nt("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=Nt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=Nt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=Nt("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=Nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=Nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=Nt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=Nt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=Nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Nt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Nt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=Nt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=Nt("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Nt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=Nt("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Nt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Nt("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=Nt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=Nt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=Nt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=Nt("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=Nt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=Nt("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Nt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=Nt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=Nt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Nt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Nt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=Nt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=Nt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=Nt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Nt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=Nt("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=Nt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Nt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=Nt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=Nt("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=Nt("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=Nt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=Nt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=Nt("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Nt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=Nt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=Nt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=Nt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=Nt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=Nt("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=Nt("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=Nt("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=Nt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=Nt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=Nt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),fI="-",bue=t=>{const e=jue(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(fI);return l[0]===""&&l.length!==1&&l.shift(),RV(l,e)||wue(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},RV=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?RV(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(fI);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},VL=/^\[(.+)\]$/,wue=t=>{if(VL.test(t)){const e=VL.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},jue=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Nue(Object.entries(t.classGroups),r).forEach(([a,o])=>{n6(o,n,a,e)}),n},n6=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:qL(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(Sue(s)){n6(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{n6(o,qL(e,a),r,n)})})},qL=(t,e)=>{let r=t;return e.split(fI).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Sue=t=>t.isThemeGetter,Nue=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,s]}):t,Cue=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},DV="!",_ue=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===s&&(n||l.slice(y,y+a)===e)){c.push(l.slice(d,y)),d=y+a;continue}if(x==="/"){h=y;continue}}x==="["?u++:x==="]"&&u--}const p=c.length===0?l:l.substring(d),f=p.startsWith(DV),m=f?p.substring(1):p,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Aue=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},kue=t=>({cache:Cue(t.cacheSize),parseClassName:_ue(t),...bue(t)}),Pue=/\s+/,Eue=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],o=t.trim().split(Pue);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(u);let m=!!f,g=n(m?p.substring(0,f):p);if(!g){if(!m){l=u+(l.length>0?" "+l:l);continue}if(g=n(p),!g){l=u+(l.length>0?" "+l:l);continue}m=!1}const y=Aue(d).join(":"),x=h?y+DV:y,w=x+g;if(a.includes(w))continue;a.push(w);const S=s(g,m);for(let N=0;N<S.length;++N){const C=S[N];a.push(x+C)}l=u+(l.length>0?" "+l:l)}return l};function Tue(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=FV(e))&&(n&&(n+=" "),n+=r);return n}const FV=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=FV(t[n]))&&(r&&(r+=" "),r+=e);return r};function Iue(t,...e){let r,n,s,a=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=kue(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Eue(c,r);return s(c,d),d}return function(){return a(Tue.apply(null,arguments))}}const Os=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},BV=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mue=/^\d+\/\d+$/,Oue=new Set(["px","full","screen"]),Lue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Due=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Fue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wh=t=>A0(t)||Oue.has(t)||Mue.test(t),ep=t=>Yy(t,"length",que),A0=t=>!!t&&!Number.isNaN(Number(t)),eA=t=>Yy(t,"number",A0),t1=t=>!!t&&Number.isInteger(Number(t)),$ue=t=>t.endsWith("%")&&A0(t.slice(0,-1)),on=t=>BV.test(t),tp=t=>Lue.test(t),zue=new Set(["length","size","percentage"]),Uue=t=>Yy(t,zue,$V),Wue=t=>Yy(t,"position",$V),Gue=new Set(["image","url"]),Hue=t=>Yy(t,Gue,Xue),Vue=t=>Yy(t,"",Yue),r1=()=>!0,Yy=(t,e,r)=>{const n=BV.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},que=t=>Rue.test(t)&&!Due.test(t),$V=()=>!1,Yue=t=>Fue.test(t),Xue=t=>Bue.test(t),Kue=()=>{const t=Os("colors"),e=Os("spacing"),r=Os("blur"),n=Os("brightness"),s=Os("borderColor"),a=Os("borderRadius"),o=Os("borderSpacing"),l=Os("borderWidth"),c=Os("contrast"),u=Os("grayscale"),d=Os("hueRotate"),h=Os("invert"),p=Os("gap"),f=Os("gradientColorStops"),m=Os("gradientColorStopPositions"),g=Os("inset"),y=Os("margin"),x=Os("opacity"),w=Os("padding"),S=Os("saturate"),N=Os("scale"),C=Os("sepia"),A=Os("skew"),k=Os("space"),E=Os("translate"),T=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",on,e],L=()=>[on,e],U=()=>["",Wh,ep],$=()=>["auto",A0,on],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",on],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[A0,on];return{cacheSize:500,separator:":",theme:{colors:[r1],spacing:[Wh,ep],blur:["none","",tp,on],brightness:Y(),borderColor:[t],borderRadius:["none","","full",tp,on],borderSpacing:L(),borderWidth:U(),contrast:Y(),grayscale:O(),hueRotate:Y(),invert:O(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[$ue,ep],inset:I(),margin:I(),opacity:Y(),padding:L(),saturate:Y(),scale:Y(),sepia:O(),skew:Y(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",on]}],container:["container"],columns:[{columns:[tp]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),on]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",t1,on]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",on]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",t1,on]}],"grid-cols":[{"grid-cols":[r1]}],"col-start-end":[{col:["auto",{span:["full",t1,on]},on]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[r1]}],"row-start-end":[{row:["auto",{span:[t1,on]},on]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",on]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",on]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",on,e]}],"min-w":[{"min-w":[on,e,"min","max","fit"]}],"max-w":[{"max-w":[on,e,"none","full","min","max","fit","prose",{screen:[tp]},tp]}],h:[{h:[on,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[on,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[on,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[on,e,"auto","min","max","fit"]}],"font-size":[{text:["base",tp,ep]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eA]}],"font-family":[{font:[r1]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",on]}],"line-clamp":[{"line-clamp":["none",A0,eA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wh,on]}],"list-image":[{"list-image":["none",on]}],"list-style-type":[{list:["none","disc","decimal",on]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wh,ep]}],"underline-offset":[{"underline-offset":["auto",Wh,on]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",on]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",on]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),Wue]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Uue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hue]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Wh,on]}],"outline-w":[{outline:[Wh,ep]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Wh,ep]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",tp,Vue]}],"shadow-color":[{shadow:[r1]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",tp,on]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",on]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",on]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",on]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[t1,on]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",on]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",on]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",on]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wh,ep,eA]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Zue=Iue(Kue);function dt(...t){return Zue(nn(t))}const Que=Ece,zV=b.forwardRef(({className:t,...e},r)=>i.jsx(dV,{ref:r,className:dt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));zV.displayName=dV.displayName;const Jue=Hy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),UV=b.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(hV,{ref:n,className:dt(Jue({variant:e}),t),...r}));UV.displayName=hV.displayName;const ede=b.forwardRef(({className:t,...e},r)=>i.jsx(mV,{ref:r,className:dt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));ede.displayName=mV.displayName;const WV=b.forwardRef(({className:t,...e},r)=>i.jsx(gV,{ref:r,className:dt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Ri,{className:"h-4 w-4"})}));WV.displayName=gV.displayName;const GV=b.forwardRef(({className:t,...e},r)=>i.jsx(fV,{ref:r,className:dt("text-sm font-semibold",t),...e}));GV.displayName=fV.displayName;const HV=b.forwardRef(({className:t,...e},r)=>i.jsx(pV,{ref:r,className:dt("text-sm opacity-90",t),...e}));HV.displayName=pV.displayName;function tde(){const{toasts:t}=Uy();return i.jsxs(Que,{children:[t.map(function({id:e,title:r,description:n,action:s,...a}){return i.jsxs(UV,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(GV,{children:r}),n&&i.jsx(HV,{children:n})]}),s,i.jsx(WV,{})]},e)}),i.jsx(zV,{})]})}var YL=["light","dark"],rde="(prefers-color-scheme: dark)",nde=b.createContext(void 0),sde={setTheme:t=>{},themes:[]},ide=()=>{var t;return(t=b.useContext(nde))!=null?t:sde};b.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?YL.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(m,g=!1,y=!0)=>{let x=o?o[m]:m,w=g?m+"|| ''":`'${x}'`,S="";return s&&y&&!g&&YL.includes(m)&&(S+=`d.style.colorScheme = '${m}';`),r==="class"?g||x?S+=`c.add(${w})`:S+="null":x&&(S+=`d[s](n,${w})`),S},f=t?`!function(){${d}${p(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${rde}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${h}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var ade=t=>{switch(t){case"success":return cde;case"info":return dde;case"warning":return ude;case"error":return hde;default:return null}},ode=Array(12).fill(0),lde=({visible:t,className:e})=>xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},xe.createElement("div",{className:"sonner-spinner"},ode.map((r,n)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),cde=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ude=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dde=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hde=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fde=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pde=()=>{let[t,e]=xe.useState(document.hidden);return xe.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},s6=1,mde=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:s6++,o=this.toasts.find(c=>c.id===a),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...e,id:a,title:n}),{...c,...e,id:a,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0,o,l=s.then(async u=>{if(o=["resolve",u],xe.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(xde(u)&&!u.ok){a=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:h})}else if(r.success!==void 0){a=!1;let d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){a=!1;let d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var u;a&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||s6++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},El=new mde,gde=(t,e)=>{let r=(e==null?void 0:e.id)||s6++;return El.addToast({title:t,...e,id:r}),r},xde=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yde=gde,vde=()=>El.toasts,bde=()=>El.getActiveToasts(),$e=Object.assign(yde,{success:El.success,info:El.info,warning:El.warning,error:El.error,custom:El.custom,message:El.message,promise:El.promise,dismiss:El.dismiss,loading:El.loading},{getHistory:vde,getToasts:bde});function wde(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}wde(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Dj(t){return t.label!==void 0}var jde=3,Sde="32px",Nde="16px",XL=4e3,Cde=356,_de=14,Ade=20,kde=200;function Ju(...t){return t.filter(Boolean).join(" ")}function Pde(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var Ede=t=>{var e,r,n,s,a,o,l,c,u,d,h;let{invert:p,toast:f,unstyled:m,interacting:g,setHeights:y,visibleToasts:x,heights:w,index:S,toasts:N,expanded:C,removeToast:A,defaultRichColors:k,closeButton:E,style:T,cancelButtonStyle:R,actionButtonStyle:I,className:L="",descriptionClassName:U="",duration:$,position:q,gap:G,loadingIcon:W,expandByDefault:B,classNames:O,icons:K,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:D}=t,[Z,ie]=xe.useState(null),[he,J]=xe.useState(null),[ae,ne]=xe.useState(!1),[se,Q]=xe.useState(!1),[re,le]=xe.useState(!1),[ve,fe]=xe.useState(!1),[X,ce]=xe.useState(!1),[Pe,ke]=xe.useState(0),[oe,Oe]=xe.useState(0),Ie=xe.useRef(f.duration||$||XL),He=xe.useRef(null),nt=xe.useRef(null),ft=S===0,Fe=S+1<=x,Ae=f.type,it=f.dismissible!==!1,Ee=f.className||"",Re=f.descriptionClassName||"",We=xe.useMemo(()=>w.findIndex(Ut=>Ut.toastId===f.id)||0,[w,f.id]),Ge=xe.useMemo(()=>{var Ut;return(Ut=f.closeButton)!=null?Ut:E},[f.closeButton,E]),ze=xe.useMemo(()=>f.duration||$||XL,[f.duration,$]),ot=xe.useRef(0),lt=xe.useRef(0),yt=xe.useRef(0),Pt=xe.useRef(null),[ct,zt]=q.split("-"),jt=xe.useMemo(()=>w.reduce((Ut,Zt,Te)=>Te>=We?Ut:Ut+Zt.height,0),[w,We]),At=pde(),Ht=f.invert||p,Vt=Ae==="loading";lt.current=xe.useMemo(()=>We*G+jt,[We,jt]),xe.useEffect(()=>{Ie.current=ze},[ze]),xe.useEffect(()=>{ne(!0)},[]),xe.useEffect(()=>{let Ut=nt.current;if(Ut){let Zt=Ut.getBoundingClientRect().height;return Oe(Zt),y(Te=>[{toastId:f.id,height:Zt,position:f.position},...Te]),()=>y(Te=>Te.filter(vt=>vt.toastId!==f.id))}},[y,f.id]),xe.useLayoutEffect(()=>{if(!ae)return;let Ut=nt.current,Zt=Ut.style.height;Ut.style.height="auto";let Te=Ut.getBoundingClientRect().height;Ut.style.height=Zt,Oe(Te),y(vt=>vt.find(Ct=>Ct.toastId===f.id)?vt.map(Ct=>Ct.toastId===f.id?{...Ct,height:Te}:Ct):[{toastId:f.id,height:Te,position:f.position},...vt])},[ae,f.title,f.description,y,f.id]);let It=xe.useCallback(()=>{Q(!0),ke(lt.current),y(Ut=>Ut.filter(Zt=>Zt.toastId!==f.id)),setTimeout(()=>{A(f)},kde)},[f,A,y,lt]);xe.useEffect(()=>{if(f.promise&&Ae==="loading"||f.duration===1/0||f.type==="loading")return;let Ut;return C||g||D&&At?(()=>{if(yt.current<ot.current){let Zt=new Date().getTime()-ot.current;Ie.current=Ie.current-Zt}yt.current=new Date().getTime()})():Ie.current!==1/0&&(ot.current=new Date().getTime(),Ut=setTimeout(()=>{var Zt;(Zt=f.onAutoClose)==null||Zt.call(f,f),It()},Ie.current)),()=>clearTimeout(Ut)},[C,g,f,Ae,D,At,It]),xe.useEffect(()=>{f.delete&&It()},[It,f.delete]);function Qt(){var Ut,Zt,Te;return K!=null&&K.loading?xe.createElement("div",{className:Ju(O==null?void 0:O.loader,(Ut=f==null?void 0:f.classNames)==null?void 0:Ut.loader,"sonner-loader"),"data-visible":Ae==="loading"},K.loading):W?xe.createElement("div",{className:Ju(O==null?void 0:O.loader,(Zt=f==null?void 0:f.classNames)==null?void 0:Zt.loader,"sonner-loader"),"data-visible":Ae==="loading"},W):xe.createElement(lde,{className:Ju(O==null?void 0:O.loader,(Te=f==null?void 0:f.classNames)==null?void 0:Te.loader),visible:Ae==="loading"})}return xe.createElement("li",{tabIndex:0,ref:nt,className:Ju(L,Ee,O==null?void 0:O.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[Ae],(r=f==null?void 0:f.classNames)==null?void 0:r[Ae]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:k,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ae,"data-promise":!!f.promise,"data-swiped":X,"data-removed":se,"data-visible":Fe,"data-y-position":ct,"data-x-position":zt,"data-index":S,"data-front":ft,"data-swiping":re,"data-dismissible":it,"data-type":Ae,"data-invert":Ht,"data-swipe-out":ve,"data-swipe-direction":he,"data-expanded":!!(C||B&&ae),style:{"--index":S,"--toasts-before":S,"--z-index":N.length-S,"--offset":`${se?Pe:lt.current}px`,"--initial-height":B?"auto":`${oe}px`,...T,...f.style},onDragEnd:()=>{le(!1),ie(null),Pt.current=null},onPointerDown:Ut=>{Vt||!it||(He.current=new Date,ke(lt.current),Ut.target.setPointerCapture(Ut.pointerId),Ut.target.tagName!=="BUTTON"&&(le(!0),Pt.current={x:Ut.clientX,y:Ut.clientY}))},onPointerUp:()=>{var Ut,Zt,Te,vt;if(ve||!it)return;Pt.current=null;let Ct=Number(((Ut=nt.current)==null?void 0:Ut.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qt=Number(((Zt=nt.current)==null?void 0:Zt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Nr=new Date().getTime()-((Te=He.current)==null?void 0:Te.getTime()),Or=Z==="x"?Ct:qt,fr=Math.abs(Or)/Nr;if(Math.abs(Or)>=Ade||fr>.11){ke(lt.current),(vt=f.onDismiss)==null||vt.call(f,f),J(Z==="x"?Ct>0?"right":"left":qt>0?"down":"up"),It(),fe(!0),ce(!1);return}le(!1),ie(null)},onPointerMove:Ut=>{var Zt,Te,vt,Ct;if(!Pt.current||!it||((Zt=window.getSelection())==null?void 0:Zt.toString().length)>0)return;let qt=Ut.clientY-Pt.current.y,Nr=Ut.clientX-Pt.current.x,Or=(Te=t.swipeDirections)!=null?Te:Pde(q);!Z&&(Math.abs(Nr)>1||Math.abs(qt)>1)&&ie(Math.abs(Nr)>Math.abs(qt)?"x":"y");let fr={x:0,y:0};Z==="y"?(Or.includes("top")||Or.includes("bottom"))&&(Or.includes("top")&&qt<0||Or.includes("bottom")&&qt>0)&&(fr.y=qt):Z==="x"&&(Or.includes("left")||Or.includes("right"))&&(Or.includes("left")&&Nr<0||Or.includes("right")&&Nr>0)&&(fr.x=Nr),(Math.abs(fr.x)>0||Math.abs(fr.y)>0)&&ce(!0),(vt=nt.current)==null||vt.style.setProperty("--swipe-amount-x",`${fr.x}px`),(Ct=nt.current)==null||Ct.style.setProperty("--swipe-amount-y",`${fr.y}px`)}},Ge&&!f.jsx?xe.createElement("button",{"aria-label":Y,"data-disabled":Vt,"data-close-button":!0,onClick:Vt||!it?()=>{}:()=>{var Ut;It(),(Ut=f.onDismiss)==null||Ut.call(f,f)},className:Ju(O==null?void 0:O.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(a=K==null?void 0:K.close)!=null?a:fde):null,f.jsx||b.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:xe.createElement(xe.Fragment,null,Ae||f.icon||f.promise?xe.createElement("div",{"data-icon":"",className:Ju(O==null?void 0:O.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Qt():null,f.type!=="loading"?f.icon||(K==null?void 0:K[Ae])||ade(Ae):null):null,xe.createElement("div",{"data-content":"",className:Ju(O==null?void 0:O.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},xe.createElement("div",{"data-title":"",className:Ju(O==null?void 0:O.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?xe.createElement("div",{"data-description":"",className:Ju(U,Re,O==null?void 0:O.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),b.isValidElement(f.cancel)?f.cancel:f.cancel&&Dj(f.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||R,onClick:Ut=>{var Zt,Te;Dj(f.cancel)&&it&&((Te=(Zt=f.cancel).onClick)==null||Te.call(Zt,Ut),It())},className:Ju(O==null?void 0:O.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,b.isValidElement(f.action)?f.action:f.action&&Dj(f.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||I,onClick:Ut=>{var Zt,Te;Dj(f.action)&&((Te=(Zt=f.action).onClick)==null||Te.call(Zt,Ut),!Ut.defaultPrevented&&It())},className:Ju(O==null?void 0:O.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function KL(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Tde(t,e){let r={};return[t,e].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?Nde:Sde;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var Ide=b.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:m=jde,toastOptions:g,dir:y=KL(),gap:x=_de,loadingIcon:w,icons:S,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:C}=t,[A,k]=xe.useState([]),E=xe.useMemo(()=>Array.from(new Set([n].concat(A.filter(D=>D.position).map(D=>D.position)))),[A,n]),[T,R]=xe.useState([]),[I,L]=xe.useState(!1),[U,$]=xe.useState(!1),[q,G]=xe.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=xe.useRef(null),B=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=xe.useRef(null),K=xe.useRef(!1),Y=xe.useCallback(D=>{k(Z=>{var ie;return(ie=Z.find(he=>he.id===D.id))!=null&&ie.delete||El.dismiss(D.id),Z.filter(({id:he})=>he!==D.id)})},[]);return xe.useEffect(()=>El.subscribe(D=>{if(D.dismiss){k(Z=>Z.map(ie=>ie.id===D.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{VH.flushSync(()=>{k(Z=>{let ie=Z.findIndex(he=>he.id===D.id);return ie!==-1?[...Z.slice(0,ie),{...Z[ie],...D},...Z.slice(ie+1)]:[D,...Z]})})})}),[]),xe.useEffect(()=>{if(d!=="system"){G(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:Z})=>{G(Z?"dark":"light")})}catch{D.addListener(({matches:ie})=>{try{G(ie?"dark":"light")}catch(he){console.error(he)}})}},[d]),xe.useEffect(()=>{A.length<=1&&L(!1)},[A]),xe.useEffect(()=>{let D=Z=>{var ie,he;s.every(J=>Z[J]||Z.code===J)&&(L(!0),(ie=W.current)==null||ie.focus()),Z.code==="Escape"&&(document.activeElement===W.current||(he=W.current)!=null&&he.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[s]),xe.useEffect(()=>{if(W.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,K.current=!1)}},[W.current]),xe.createElement("section",{ref:e,"aria-label":`${N} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((D,Z)=>{var ie;let[he,J]=D.split("-");return A.length?xe.createElement("ol",{key:D,dir:y==="auto"?KL():y,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":he,"data-lifted":I&&A.length>1&&!a,"data-x-position":J,style:{"--front-toast-height":`${((ie=T[0])==null?void 0:ie.height)||0}px`,"--width":`${Cde}px`,"--gap":`${x}px`,...f,...Tde(c,u)},onBlur:ae=>{K.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(K.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||K.current||(K.current=!0,O.current=ae.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{U||L(!1)},onDragEnd:()=>L(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},A.filter(ae=>!ae.position&&Z===0||ae.position===D).map((ae,ne)=>{var se,Q;return xe.createElement(Ede,{key:ae.id,icons:S,index:ne,toast:ae,defaultRichColors:h,duration:(se=g==null?void 0:g.duration)!=null?se:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:m,closeButton:(Q=g==null?void 0:g.closeButton)!=null?Q:o,interacting:U,position:D,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Y,toasts:A.filter(re=>re.position==ae.position),heights:T.filter(re=>re.position==ae.position),setHeights:R,expandByDefault:a,gap:x,loadingIcon:w,expanded:I,pauseWhenPageIsHidden:C,swipeDirections:t.swipeDirections})})):null}))});const Mde=({...t})=>{const{theme:e="system"}=ide();return i.jsx(Ide,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Ode=K4[" useId ".trim().toString()]||(()=>{}),Lde=0;function vc(t){const[e,r]=b.useState(Ode());return pa(()=>{r(n=>n??String(Lde++))},[t]),e?`radix-${e}`:""}const Rde=["top","right","bottom","left"],Qp=Math.min,lc=Math.max,oN=Math.round,Fj=Math.floor,fh=t=>({x:t,y:t}),Dde={left:"right",right:"left",bottom:"top",top:"bottom"},Fde={start:"end",end:"start"};function i6(t,e,r){return lc(t,Qp(e,r))}function bf(t,e){return typeof t=="function"?t(e):t}function wf(t){return t.split("-")[0]}function Xy(t){return t.split("-")[1]}function pI(t){return t==="x"?"y":"x"}function mI(t){return t==="y"?"height":"width"}const Bde=new Set(["top","bottom"]);function sh(t){return Bde.has(wf(t))?"y":"x"}function gI(t){return pI(sh(t))}function $de(t,e,r){r===void 0&&(r=!1);const n=Xy(t),s=gI(t),a=mI(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=lN(o)),[o,lN(o)]}function zde(t){const e=lN(t);return[a6(t),e,a6(e)]}function a6(t){return t.replace(/start|end/g,e=>Fde[e])}const ZL=["left","right"],QL=["right","left"],Ude=["top","bottom"],Wde=["bottom","top"];function Gde(t,e,r){switch(t){case"top":case"bottom":return r?e?QL:ZL:e?ZL:QL;case"left":case"right":return e?Ude:Wde;default:return[]}}function Hde(t,e,r,n){const s=Xy(t);let a=Gde(wf(t),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),e&&(a=a.concat(a.map(a6)))),a}function lN(t){return t.replace(/left|right|bottom|top/g,e=>Dde[e])}function Vde(t){return{top:0,right:0,bottom:0,left:0,...t}}function VV(t){return typeof t!="number"?Vde(t):{top:t,right:t,bottom:t,left:t}}function cN(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function JL(t,e,r){let{reference:n,floating:s}=t;const a=sh(e),o=gI(e),l=mI(o),c=wf(e),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Xy(e)){case"start":f[o]-=p*(r&&u?-1:1);break;case"end":f[o]+=p*(r&&u?-1:1);break}return f}const qde=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=JL(u,n,c),p=n,f={},m=0;for(let g=0;g<l.length;g++){const{name:y,fn:x}=l[g],{x:w,y:S,data:N,reset:C}=await x({x:d,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:f,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,h=S??h,f={...f,[y]:{...f[y],...N}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:d,y:h}=JL(u,p,c)),g=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:f}};async function Qb(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=bf(e,t),m=VV(f),y=l[p?h==="floating"?"reference":"floating":h],x=cN(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},C=cN(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:S,strategy:c}):w);return{top:(x.top-C.top+m.top)/N.y,bottom:(C.bottom-x.bottom+m.bottom)/N.y,left:(x.left-C.left+m.left)/N.x,right:(C.right-x.right+m.right)/N.x}}const Yde=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=bf(t,e)||{};if(u==null)return{};const h=VV(d),p={x:r,y:n},f=gI(s),m=mI(f),g=await o.getDimensions(u),y=f==="y",x=y?"top":"left",w=y?"bottom":"right",S=y?"clientHeight":"clientWidth",N=a.reference[m]+a.reference[f]-p[f]-a.floating[m],C=p[f]-a.reference[f],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=A?A[S]:0;(!k||!await(o.isElement==null?void 0:o.isElement(A)))&&(k=l.floating[S]||a.floating[m]);const E=N/2-C/2,T=k/2-g[m]/2-1,R=Qp(h[x],T),I=Qp(h[w],T),L=R,U=k-g[m]-I,$=k/2-g[m]/2+E,q=i6(L,$,U),G=!c.arrow&&Xy(s)!=null&&$!==q&&a.reference[m]/2-($<L?R:I)-g[m]/2<0,W=G?$<L?$-L:$-U:0;return{[f]:p[f]+W,data:{[f]:q,centerOffset:$-q-W,...G&&{alignmentOffset:W}},reset:G}}}),Xde=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=bf(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=wf(s),w=sh(l),S=wf(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(S||!g?[lN(l)]:zde(l)),A=m!=="none";!p&&A&&C.push(...Hde(l,g,m,N));const k=[l,...C],E=await Qb(e,y),T=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&T.push(E[x]),h){const $=$de(s,o,N);T.push(E[$[0]],E[$[1]])}if(R=[...R,{placement:s,overflows:T}],!T.every($=>$<=0)){var I,L;const $=(((I=a.flip)==null?void 0:I.index)||0)+1,q=k[$];if(q&&(!(h==="alignment"?w!==sh(q):!1)||R.every(B=>sh(B.placement)===w?B.overflows[0]>0:!0)))return{data:{index:$,overflows:R},reset:{placement:q}};let G=(L=R.filter(W=>W.overflows[0]<=0).sort((W,B)=>W.overflows[1]-B.overflows[1])[0])==null?void 0:L.placement;if(!G)switch(f){case"bestFit":{var U;const W=(U=R.filter(B=>{if(A){const O=sh(B.placement);return O===w||O==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(O=>O>0).reduce((O,K)=>O+K,0)]).sort((B,O)=>B[1]-O[1])[0])==null?void 0:U[0];W&&(G=W);break}case"initialPlacement":G=l;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function eR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function tR(t){return Rde.some(e=>t[e]>=0)}const Kde=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=bf(t,e);switch(n){case"referenceHidden":{const a=await Qb(e,{...s,elementContext:"reference"}),o=eR(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:tR(o)}}}case"escaped":{const a=await Qb(e,{...s,altBoundary:!0}),o=eR(a,r.floating);return{data:{escapedOffsets:o,escaped:tR(o)}}}default:return{}}}}},qV=new Set(["left","top"]);async function Zde(t,e){const{placement:r,platform:n,elements:s}=t,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=wf(r),l=Xy(r),c=sh(r)==="y",u=qV.has(o)?-1:1,d=a&&c?-1:1,h=bf(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof m=="number"&&(f=l==="end"?m*-1:m),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const Qde=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=e,c=await Zde(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},Jde=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x,y:w}=y;return{x,y:w}}},...c}=bf(t,e),u={x:r,y:n},d=await Qb(e,c),h=sh(wf(s)),p=pI(h);let f=u[p],m=u[h];if(a){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=f+d[y],S=f-d[x];f=i6(w,f,S)}if(o){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=m+d[y],S=m-d[x];m=i6(w,m,S)}const g=l.fn({...e,[p]:f,[h]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[p]:a,[h]:o}}}}}},ehe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bf(t,e),d={x:r,y:n},h=sh(s),p=pI(h);let f=d[p],m=d[h];const g=bf(l,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const S=p==="y"?"height":"width",N=a.reference[p]-a.floating[S]+y.mainAxis,C=a.reference[p]+a.reference[S]-y.mainAxis;f<N?f=N:f>C&&(f=C)}if(u){var x,w;const S=p==="y"?"width":"height",N=qV.has(wf(s)),C=a.reference[h]-a.floating[S]+(N&&((x=o.offset)==null?void 0:x[h])||0)+(N?0:y.crossAxis),A=a.reference[h]+a.reference[S]+(N?0:((w=o.offset)==null?void 0:w[h])||0)-(N?y.crossAxis:0);m<C?m=C:m>A&&(m=A)}return{[p]:f,[h]:m}}}},the=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=bf(t,e),d=await Qb(e,u),h=wf(s),p=Xy(s),f=sh(s)==="y",{width:m,height:g}=a.floating;let y,x;h==="top"||h==="bottom"?(y=h,x=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,y=p==="end"?"top":"bottom");const w=g-d.top-d.bottom,S=m-d.left-d.right,N=Qp(g-d[y],w),C=Qp(m-d[x],S),A=!e.middlewareData.shift;let k=N,E=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=S),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(k=w),A&&!p){const R=lc(d.left,0),I=lc(d.right,0),L=lc(d.top,0),U=lc(d.bottom,0);f?E=m-2*(R!==0||I!==0?R+I:lc(d.left,d.right)):k=g-2*(L!==0||U!==0?L+U:lc(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:k});const T=await o.getDimensions(l.floating);return m!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function x3(){return typeof window<"u"}function Ky(t){return YV(t)?(t.nodeName||"").toLowerCase():"#document"}function bc(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sh(t){var e;return(e=(YV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function YV(t){return x3()?t instanceof Node||t instanceof bc(t).Node:!1}function Nd(t){return x3()?t instanceof Element||t instanceof bc(t).Element:!1}function yh(t){return x3()?t instanceof HTMLElement||t instanceof bc(t).HTMLElement:!1}function rR(t){return!x3()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bc(t).ShadowRoot}const rhe=new Set(["inline","contents"]);function xw(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Cd(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!rhe.has(s)}const nhe=new Set(["table","td","th"]);function she(t){return nhe.has(Ky(t))}const ihe=[":popover-open",":modal"];function y3(t){return ihe.some(e=>{try{return t.matches(e)}catch{return!1}})}const ahe=["transform","translate","scale","rotate","perspective"],ohe=["transform","translate","scale","rotate","perspective","filter"],lhe=["paint","layout","strict","content"];function xI(t){const e=yI(),r=Nd(t)?Cd(t):t;return ahe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||ohe.some(n=>(r.willChange||"").includes(n))||lhe.some(n=>(r.contain||"").includes(n))}function che(t){let e=Jp(t);for(;yh(e)&&!ay(e);){if(xI(e))return e;if(y3(e))return null;e=Jp(e)}return null}function yI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uhe=new Set(["html","body","#document"]);function ay(t){return uhe.has(Ky(t))}function Cd(t){return bc(t).getComputedStyle(t)}function v3(t){return Nd(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Jp(t){if(Ky(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rR(t)&&t.host||Sh(t);return rR(e)?e.host:e}function XV(t){const e=Jp(t);return ay(e)?t.ownerDocument?t.ownerDocument.body:t.body:yh(e)&&xw(e)?e:XV(e)}function Jb(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=XV(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),o=bc(s);if(a){const l=o6(o);return e.concat(o,o.visualViewport||[],xw(s)?s:[],l&&r?Jb(l):[])}return e.concat(s,Jb(s,[],r))}function o6(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function KV(t){const e=Cd(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=yh(t),a=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=oN(r)!==a||oN(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function vI(t){return Nd(t)?t:t.contextElement}function k0(t){const e=vI(t);if(!yh(e))return fh(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:a}=KV(e);let o=(a?oN(r.width):r.width)/n,l=(a?oN(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const dhe=fh(0);function ZV(t){const e=bc(t);return!yI()||!e.visualViewport?dhe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function hhe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==bc(t)?!1:e}function kg(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=vI(t);let o=fh(1);e&&(n?Nd(n)&&(o=k0(n)):o=k0(t));const l=hhe(a,r,n)?ZV(a):fh(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){const p=bc(a),f=n&&Nd(n)?bc(n):n;let m=p,g=o6(m);for(;g&&n&&f!==m;){const y=k0(g),x=g.getBoundingClientRect(),w=Cd(g),S=x.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,N=x.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=S,u+=N,m=bc(g),g=o6(m)}}return cN({width:d,height:h,x:c,y:u})}function b3(t,e){const r=v3(t).scrollLeft;return e?e.left+r:kg(Sh(t)).left+r}function QV(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-b3(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function fhe(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const a=s==="fixed",o=Sh(n),l=e?y3(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=fh(1);const d=fh(0),h=yh(n);if((h||!h&&!a)&&((Ky(n)!=="body"||xw(o))&&(c=v3(n)),yh(n))){const f=kg(n);u=k0(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=o&&!h&&!a?QV(o,c):fh(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function phe(t){return Array.from(t.getClientRects())}function mhe(t){const e=Sh(t),r=v3(t),n=t.ownerDocument.body,s=lc(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=lc(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+b3(t);const l=-r.scrollTop;return Cd(n).direction==="rtl"&&(o+=lc(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const nR=25;function ghe(t,e){const r=bc(t),n=Sh(t),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=yI();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=b3(n);if(u<=0){const d=n.ownerDocument,h=d.body,p=getComputedStyle(h),f=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,m=Math.abs(n.clientWidth-h.clientWidth-f);m<=nR&&(a-=m)}else u<=nR&&(a+=u);return{width:a,height:o,x:l,y:c}}const xhe=new Set(["absolute","fixed"]);function yhe(t,e){const r=kg(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,a=yh(t)?k0(t):fh(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function sR(t,e,r){let n;if(e==="viewport")n=ghe(t,r);else if(e==="document")n=mhe(Sh(t));else if(Nd(e))n=yhe(e,r);else{const s=ZV(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return cN(n)}function JV(t,e){const r=Jp(t);return r===e||!Nd(r)||ay(r)?!1:Cd(r).position==="fixed"||JV(r,e)}function vhe(t,e){const r=e.get(t);if(r)return r;let n=Jb(t,[],!1).filter(l=>Nd(l)&&Ky(l)!=="body"),s=null;const a=Cd(t).position==="fixed";let o=a?Jp(t):t;for(;Nd(o)&&!ay(o);){const l=Cd(o),c=xI(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&xhe.has(s.position)||xw(o)&&!c&&JV(t,o))?n=n.filter(d=>d!==o):s=l,o=Jp(o)}return e.set(t,n),n}function bhe(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?y3(e)?[]:vhe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=sR(e,d,s);return u.top=lc(h.top,u.top),u.right=Qp(h.right,u.right),u.bottom=Qp(h.bottom,u.bottom),u.left=lc(h.left,u.left),u},sR(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function whe(t){const{width:e,height:r}=KV(t);return{width:e,height:r}}function jhe(t,e,r){const n=yh(e),s=Sh(e),a=r==="fixed",o=kg(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=fh(0);function u(){c.x=b3(s)}if(n||!n&&!a)if((Ky(e)!=="body"||xw(s))&&(l=v3(e)),n){const f=kg(e,!0,a,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?QV(s,l):fh(0),h=o.left+l.scrollLeft-c.x-d.x,p=o.top+l.scrollTop-c.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function tA(t){return Cd(t).position==="static"}function iR(t,e){if(!yh(t)||Cd(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Sh(t)===r&&(r=r.ownerDocument.body),r}function eq(t,e){const r=bc(t);if(y3(t))return r;if(!yh(t)){let s=Jp(t);for(;s&&!ay(s);){if(Nd(s)&&!tA(s))return s;s=Jp(s)}return r}let n=iR(t,e);for(;n&&she(n)&&tA(n);)n=iR(n,e);return n&&ay(n)&&tA(n)&&!xI(n)?r:n||che(t)||r}const She=async function(t){const e=this.getOffsetParent||eq,r=this.getDimensions,n=await r(t.floating);return{reference:jhe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Nhe(t){return Cd(t).direction==="rtl"}const Che={convertOffsetParentRelativeRectToViewportRelativeRect:fhe,getDocumentElement:Sh,getClippingRect:bhe,getOffsetParent:eq,getElementRects:She,getClientRects:phe,getDimensions:whe,getScale:k0,isElement:Nd,isRTL:Nhe};function tq(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _he(t,e){let r=null,n;const s=Sh(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(l||e(),!p||!f)return;const m=Fj(h),g=Fj(s.clientWidth-(d+p)),y=Fj(s.clientHeight-(h+f)),x=Fj(d),S={rootMargin:-m+"px "+-g+"px "+-y+"px "+-x+"px",threshold:lc(0,Qp(1,c))||1};let N=!0;function C(A){const k=A[0].intersectionRatio;if(k!==c){if(!N)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!tq(u,t.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(C,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,S)}r.observe(t)}return o(!0),a}function Ahe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=vI(t),d=s||a?[...u?Jb(u):[],...Jb(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const h=u&&l?_he(u,r):null;let p=-1,f=null;o&&(f=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(e)})),r()}),u&&!c&&f.observe(u),f.observe(e));let m,g=c?kg(t):null;c&&y();function y(){const x=kg(t);g&&!tq(g,x)&&r(),g=x,m=requestAnimationFrame(y)}return r(),()=>{var x;d.forEach(w=>{s&&w.removeEventListener("scroll",r),a&&w.removeEventListener("resize",r)}),h==null||h(),(x=f)==null||x.disconnect(),f=null,c&&cancelAnimationFrame(m)}}const khe=Qde,Phe=Jde,Ehe=Xde,The=the,Ihe=Kde,aR=Yde,Mhe=ehe,Ohe=(t,e,r)=>{const n=new Map,s={platform:Che,...r},a={...s.platform,_c:n};return qde(t,e,{...s,platform:a})};var Lhe=typeof document<"u",Rhe=function(){},cS=Lhe?b.useLayoutEffect:Rhe;function uN(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!uN(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!uN(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function rq(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function oR(t,e){const r=rq(t);return Math.round(e*r)/r}function rA(t){const e=b.useRef(t);return cS(()=>{e.current=t}),e}function Dhe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=b.useState(n);uN(p,n)||f(n);const[m,g]=b.useState(null),[y,x]=b.useState(null),w=b.useCallback(B=>{B!==A.current&&(A.current=B,g(B))},[]),S=b.useCallback(B=>{B!==k.current&&(k.current=B,x(B))},[]),N=a||m,C=o||y,A=b.useRef(null),k=b.useRef(null),E=b.useRef(d),T=c!=null,R=rA(c),I=rA(s),L=rA(u),U=b.useCallback(()=>{if(!A.current||!k.current)return;const B={placement:e,strategy:r,middleware:p};I.current&&(B.platform=I.current),Ohe(A.current,k.current,B).then(O=>{const K={...O,isPositioned:L.current!==!1};$.current&&!uN(E.current,K)&&(E.current=K,hu.flushSync(()=>{h(K)}))})},[p,e,r,I,L]);cS(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[u]);const $=b.useRef(!1);cS(()=>($.current=!0,()=>{$.current=!1}),[]),cS(()=>{if(N&&(A.current=N),C&&(k.current=C),N&&C){if(R.current)return R.current(N,C,U);U()}},[N,C,U,R,T]);const q=b.useMemo(()=>({reference:A,floating:k,setReference:w,setFloating:S}),[w,S]),G=b.useMemo(()=>({reference:N,floating:C}),[N,C]),W=b.useMemo(()=>{const B={position:r,left:0,top:0};if(!G.floating)return B;const O=oR(G.floating,d.x),K=oR(G.floating,d.y);return l?{...B,transform:"translate("+O+"px, "+K+"px)",...rq(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:K}},[r,l,G.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:U,refs:q,elements:G,floatingStyles:W}),[d,U,q,G,W])}const Fhe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?aR({element:n.current,padding:s}).fn(r):{}:n?aR({element:n,padding:s}).fn(r):{}}}},Bhe=(t,e)=>({...khe(t),options:[t,e]}),$he=(t,e)=>({...Phe(t),options:[t,e]}),zhe=(t,e)=>({...Mhe(t),options:[t,e]}),Uhe=(t,e)=>({...Ehe(t),options:[t,e]}),Whe=(t,e)=>({...The(t),options:[t,e]}),Ghe=(t,e)=>({...Ihe(t),options:[t,e]}),Hhe=(t,e)=>({...Fhe(t),options:[t,e]});var Vhe="Arrow",nq=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...a}=t;return i.jsx(ir.svg,{...a,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});nq.displayName=Vhe;var qhe=nq;function yw(t){const[e,r]=b.useState(void 0);return pa(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var bI="Popper",[sq,Zy]=ma(bI),[Yhe,iq]=sq(bI),aq=t=>{const{__scopePopper:e,children:r}=t,[n,s]=b.useState(null);return i.jsx(Yhe,{scope:e,anchor:n,onAnchorChange:s,children:r})};aq.displayName=bI;var oq="PopperAnchor",lq=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,a=iq(oq,r),o=b.useRef(null),l=Lr(e,o),c=b.useRef(null);return b.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:i.jsx(ir.div,{...s,ref:l})});lq.displayName=oq;var wI="PopperContent",[Xhe,Khe]=sq(wI),cq=b.forwardRef((t,e)=>{var ae,ne,se,Q,re,le;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:m,...g}=t,y=iq(wI,r),[x,w]=b.useState(null),S=Lr(e,ve=>w(ve)),[N,C]=b.useState(null),A=yw(N),k=(A==null?void 0:A.width)??0,E=(A==null?void 0:A.height)??0,T=n+(a!=="center"?"-"+a:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],L=I.length>0,U={padding:R,boundary:I.filter(Qhe),altBoundary:L},{refs:$,floatingStyles:q,placement:G,isPositioned:W,middlewareData:B}=Dhe({strategy:"fixed",placement:T,whileElementsMounted:(...ve)=>Ahe(...ve,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[Bhe({mainAxis:s+E,alignmentAxis:o}),c&&$he({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?zhe():void 0,...U}),c&&Uhe({...U}),Whe({...U,apply:({elements:ve,rects:fe,availableWidth:X,availableHeight:ce})=>{const{width:Pe,height:ke}=fe.reference,oe=ve.floating.style;oe.setProperty("--radix-popper-available-width",`${X}px`),oe.setProperty("--radix-popper-available-height",`${ce}px`),oe.setProperty("--radix-popper-anchor-width",`${Pe}px`),oe.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),N&&Hhe({element:N,padding:l}),Jhe({arrowWidth:k,arrowHeight:E}),p&&Ghe({strategy:"referenceHidden",...U})]}),[O,K]=hq(G),Y=Li(m);pa(()=>{W&&(Y==null||Y())},[W,Y]);const D=(ae=B.arrow)==null?void 0:ae.x,Z=(ne=B.arrow)==null?void 0:ne.y,ie=((se=B.arrow)==null?void 0:se.centerOffset)!==0,[he,J]=b.useState();return pa(()=>{x&&J(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:W?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Q=B.transformOrigin)==null?void 0:Q.x,(re=B.transformOrigin)==null?void 0:re.y].join(" "),...((le=B.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(Xhe,{scope:r,placedSide:O,onArrowChange:C,arrowX:D,arrowY:Z,shouldHideArrow:ie,children:i.jsx(ir.div,{"data-side":O,"data-align":K,...g,ref:S,style:{...g.style,animation:W?void 0:"none"}})})})});cq.displayName=wI;var uq="PopperArrow",Zhe={top:"bottom",right:"left",bottom:"top",left:"right"},dq=b.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,a=Khe(uq,n),o=Zhe[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(qhe,{...s,ref:r,style:{...s.style,display:"block"}})})});dq.displayName=uq;function Qhe(t){return t!==null}var Jhe=t=>({name:"transformOrigin",options:t,fn(e){var y,x,w;const{placement:r,rects:n,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=hq(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,f=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let m="",g="";return u==="bottom"?(m=o?h:`${p}px`,g=`${-c}px`):u==="top"?(m=o?h:`${p}px`,g=`${n.floating.height+c}px`):u==="right"?(m=`${-c}px`,g=o?h:`${f}px`):u==="left"&&(m=`${n.floating.width+c}px`,g=o?h:`${f}px`),{data:{x:m,y:g}}}});function hq(t){const[e,r="center"]=t.split("-");return[e,r]}var jI=aq,SI=lq,NI=cq,CI=dq,efe=Symbol("radix.slottable");function tfe(t){const e=({children:r})=>i.jsx(i.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=efe,e}var[w3]=ma("Tooltip",[Zy]),j3=Zy(),fq="TooltipProvider",rfe=700,l6="tooltip.open",[nfe,_I]=w3(fq),pq=t=>{const{__scopeTooltip:e,delayDuration:r=rfe,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(nfe,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};pq.displayName=fq;var e2="Tooltip",[sfe,S3]=w3(e2),mq=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=_I(e2,t.__scopeTooltip),u=j3(e),[d,h]=b.useState(null),p=vc(),f=b.useRef(0),m=o??c.disableHoverableContent,g=l??c.delayDuration,y=b.useRef(!1),[x,w]=cl({prop:n,defaultProp:s??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(l6))):c.onClose(),a==null||a(k)},caller:e2}),S=b.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),N=b.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y.current=!1,w(!0)},[w]),C=b.useCallback(()=>{window.clearTimeout(f.current),f.current=0,w(!1)},[w]),A=b.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{y.current=!0,w(!0),f.current=0},g)},[g,w]);return b.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),i.jsx(jI,{...u,children:i.jsx(sfe,{scope:e,contentId:p,open:x,stateAttribute:S,trigger:d,onTriggerChange:h,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?A():N()},[c.isOpenDelayedRef,A,N]),onTriggerLeave:b.useCallback(()=>{m?C():(window.clearTimeout(f.current),f.current=0)},[C,m]),onOpen:N,onClose:C,disableHoverableContent:m,children:r})})};mq.displayName=e2;var c6="TooltipTrigger",gq=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=S3(c6,r),a=_I(c6,r),o=j3(r),l=b.useRef(null),c=Lr(e,l,s.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),h=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(SI,{asChild:!0,...o,children:i.jsx(ir.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ft(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ft(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ft(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ft(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ft(t.onBlur,s.onClose),onClick:Ft(t.onClick,s.onClose)})})});gq.displayName=c6;var ife="TooltipPortal",[Irt,afe]=w3(ife,{forceMount:void 0}),oy="TooltipContent",xq=b.forwardRef((t,e)=>{const r=afe(oy,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=t,o=S3(oy,t.__scopeTooltip);return i.jsx(Fa,{present:n||o.open,children:o.disableHoverableContent?i.jsx(yq,{side:s,...a,ref:e}):i.jsx(ofe,{side:s,...a,ref:e})})}),ofe=b.forwardRef((t,e)=>{const r=S3(oy,t.__scopeTooltip),n=_I(oy,t.__scopeTooltip),s=b.useRef(null),a=Lr(e,s),[o,l]=b.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,p=b.useCallback(()=>{l(null),h(!1)},[h]),f=b.useCallback((m,g)=>{const y=m.currentTarget,x={x:m.clientX,y:m.clientY},w=hfe(x,y.getBoundingClientRect()),S=ffe(x,w),N=pfe(g.getBoundingClientRect()),C=gfe([...S,...N]);l(C),h(!0)},[h]);return b.useEffect(()=>()=>p(),[p]),b.useEffect(()=>{if(c&&d){const m=y=>f(y,d),g=y=>f(y,c);return c.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[c,d,f,p]),b.useEffect(()=>{if(o){const m=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),S=!mfe(x,o);w?p():S&&(p(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,d,o,u,p]),i.jsx(yq,{...t,ref:a})}),[lfe,cfe]=w3(e2,{isInside:!1}),ufe=tfe("TooltipContent"),yq=b.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=S3(oy,r),u=j3(r),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(l6,d),()=>document.removeEventListener(l6,d)),[d]),b.useEffect(()=>{if(c.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),i.jsx(Gy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:i.jsxs(NI,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(ufe,{children:n}),i.jsx(lfe,{scope:r,isInside:!0,children:i.jsx(hce,{id:c.contentId,role:"tooltip",children:s||n})})]})})});xq.displayName=oy;var vq="TooltipArrow",dfe=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=j3(r);return cfe(vq,r).isInside?null:i.jsx(CI,{...s,...n,ref:e})});dfe.displayName=vq;function hfe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ffe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function pfe(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function mfe(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function gfe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),xfe(e)}function xfe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var yfe=pq,vfe=mq,bfe=gq,bq=xq;const wq=yfe,wfe=vfe,jfe=bfe,jq=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(bq,{ref:n,sideOffset:e,className:dt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));jq.displayName=bq.displayName;var N3=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sfe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},xp,dT,CW,Nfe=(CW=class{constructor(){Cn(this,xp,Sfe);Cn(this,dT,!1)}setTimeoutProvider(t){Yr(this,xp,t)}setTimeout(t,e){return St(this,xp).setTimeout(t,e)}clearTimeout(t){St(this,xp).clearTimeout(t)}setInterval(t,e){return St(this,xp).setInterval(t,e)}clearInterval(t){St(this,xp).clearInterval(t)}},xp=new WeakMap,dT=new WeakMap,CW),u6=new Nfe;function Cfe(t){setTimeout(t,0)}var C3=typeof window>"u"||"Deno"in globalThis;function id(){}function _fe(t,e){return typeof t=="function"?t(e):t}function Afe(t){return typeof t=="number"&&t>=0&&t!==1/0}function kfe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function d6(t,e){return typeof t=="function"?t(e):t}function Pfe(t,e){return typeof t=="function"?t(e):t}function lR(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==AI(o,e.options))return!1}else if(!r2(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||a&&!a(e))}function cR(t,e){const{exact:r,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(t2(e.options.mutationKey)!==t2(a))return!1}else if(!r2(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function AI(t,e){return((e==null?void 0:e.queryKeyHashFn)||t2)(t)}function t2(t){return JSON.stringify(t,(e,r)=>h6(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function r2(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>r2(t[r],e[r])):!1}var Efe=Object.prototype.hasOwnProperty;function Sq(t,e){if(t===e)return t;const r=uR(t)&&uR(e);if(!r&&!(h6(t)&&h6(e)))return e;const s=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),o=a.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u],h=t[d],p=e[d];if(h===p){l[d]=h,(r?u<s:Efe.call(t,d))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){l[d]=p;continue}const f=Sq(h,p);l[d]=f,f===h&&c++}return s===o&&c===s?t:l}function uR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function h6(t){if(!dR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!dR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dR(t){return Object.prototype.toString.call(t)==="[object Object]"}function Tfe(t){return new Promise(e=>{u6.setTimeout(e,t)})}function Ife(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Sq(t,e):e}function Mfe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Ofe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var kI=Symbol();function Nq(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===kI?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Lfe(t,e,r){let n=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),t}var cg,yp,U0,_W,Rfe=(_W=class extends N3{constructor(){super();Cn(this,cg);Cn(this,yp);Cn(this,U0);Yr(this,U0,e=>{if(!C3&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){St(this,yp)||this.setEventListener(St(this,U0))}onUnsubscribe(){var e;this.hasListeners()||((e=St(this,yp))==null||e.call(this),Yr(this,yp,void 0))}setEventListener(e){var r;Yr(this,U0,e),(r=St(this,yp))==null||r.call(this),Yr(this,yp,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){St(this,cg)!==e&&(Yr(this,cg,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof St(this,cg)=="boolean"?St(this,cg):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},cg=new WeakMap,yp=new WeakMap,U0=new WeakMap,_W),Cq=new Rfe;function Dfe(){let t,e;const r=new Promise((s,a)=>{t=s,e=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var Ffe=Cfe;function Bfe(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=Ffe;const a=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Qo=Bfe(),W0,vp,G0,AW,$fe=(AW=class extends N3{constructor(){super();Cn(this,W0,!0);Cn(this,vp);Cn(this,G0);Yr(this,G0,e=>{if(!C3&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){St(this,vp)||this.setEventListener(St(this,G0))}onUnsubscribe(){var e;this.hasListeners()||((e=St(this,vp))==null||e.call(this),Yr(this,vp,void 0))}setEventListener(e){var r;Yr(this,G0,e),(r=St(this,vp))==null||r.call(this),Yr(this,vp,e(this.setOnline.bind(this)))}setOnline(e){St(this,W0)!==e&&(Yr(this,W0,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return St(this,W0)}},W0=new WeakMap,vp=new WeakMap,G0=new WeakMap,AW),dN=new $fe;function zfe(t){return Math.min(1e3*2**t,3e4)}function _q(t){return(t??"online")==="online"?dN.isOnline():!0}var f6=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Aq(t){let e=!1,r=0,n;const s=Dfe(),a=()=>s.status!=="pending",o=g=>{var y;if(!a()){const x=new f6(g);p(x),(y=t.onCancel)==null||y.call(t,x)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>Cq.isFocused()&&(t.networkMode==="always"||dN.isOnline())&&t.canRun(),d=()=>_q(t.networkMode)&&t.canRun(),h=g=>{a()||(n==null||n(),s.resolve(g))},p=g=>{a()||(n==null||n(),s.reject(g))},f=()=>new Promise(g=>{var y;n=x=>{(a()||u())&&g(x)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;n=void 0,a()||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(a())return;let g;const y=r===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var A;if(a())return;const w=t.retry??(C3?0:3),S=t.retryDelay??zfe,N=typeof S=="function"?S(r,x):S,C=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,x);if(e||!C){p(x);return}r++,(A=t.onFail)==null||A.call(t,r,x),Tfe(N).then(()=>u()?void 0:f()).then(()=>{e?p(x):m()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():f().then(m),s)}}var ug,kW,kq=(kW=class{constructor(){Cn(this,ug)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Afe(this.gcTime)&&Yr(this,ug,u6.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(C3?1/0:5*60*1e3))}clearGcTimeout(){St(this,ug)&&(u6.clearTimeout(St(this,ug)),Yr(this,ug,void 0))}},ug=new WeakMap,kW),dg,H0,ru,hg,ka,aw,fg,ad,Yh,PW,Ufe=(PW=class extends kq{constructor(e){super();Cn(this,ad);Cn(this,dg);Cn(this,H0);Cn(this,ru);Cn(this,hg);Cn(this,ka);Cn(this,aw);Cn(this,fg);Yr(this,fg,!1),Yr(this,aw,e.defaultOptions),this.setOptions(e.options),this.observers=[],Yr(this,hg,e.client),Yr(this,ru,St(this,hg).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Yr(this,dg,fR(this.options)),this.state=e.state??St(this,dg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=St(this,ka))==null?void 0:e.promise}setOptions(e){if(this.options={...St(this,aw),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=fR(this.options);r.data!==void 0&&(this.setState(hR(r.data,r.dataUpdatedAt)),Yr(this,dg,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&St(this,ru).remove(this)}setData(e,r){const n=Ife(this.state.data,e,this.options);return bo(this,ad,Yh).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){bo(this,ad,Yh).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=St(this,ka))==null?void 0:n.promise;return(s=St(this,ka))==null||s.cancel(e),r?r.then(id).catch(id):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(St(this,dg))}isActive(){return this.observers.some(e=>Pfe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kI||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>d6(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!kfe(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=St(this,ka))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=St(this,ka))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),St(this,ru).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(St(this,ka)&&(St(this,fg)?St(this,ka).cancel({revert:!0}):St(this,ka).cancelRetry()),this.scheduleGc()),St(this,ru).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||bo(this,ad,Yh).call(this,{type:"invalidate"})}async fetch(e,r){var c,u,d,h,p,f,m,g,y,x,w,S;if(this.state.fetchStatus!=="idle"&&((c=St(this,ka))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(St(this,ka))return St(this,ka).continueRetry(),St(this,ka).promise}if(e&&this.setOptions(e),!this.options.queryFn){const N=this.observers.find(C=>C.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,s=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Yr(this,fg,!0),n.signal)})},a=()=>{const N=Nq(this.options,r),A=(()=>{const k={client:St(this,hg),queryKey:this.queryKey,meta:this.meta};return s(k),k})();return Yr(this,fg,!1),this.options.persister?this.options.persister(N,A,this):N(A)},l=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:St(this,hg),state:this.state,fetchFn:a};return s(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),Yr(this,H0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&bo(this,ad,Yh).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),Yr(this,ka,Aq({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof f6&&N.revert&&this.setState({...St(this,H0),fetchStatus:"idle"}),n.abort()},onFail:(N,C)=>{bo(this,ad,Yh).call(this,{type:"failed",failureCount:N,error:C})},onPause:()=>{bo(this,ad,Yh).call(this,{type:"pause"})},onContinue:()=>{bo(this,ad,Yh).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await St(this,ka).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(f=(p=St(this,ru).config).onSuccess)==null||f.call(p,N,this),(g=(m=St(this,ru).config).onSettled)==null||g.call(m,N,this.state.error,this),N}catch(N){if(N instanceof f6){if(N.silent)return St(this,ka).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw bo(this,ad,Yh).call(this,{type:"error",error:N}),(x=(y=St(this,ru).config).onError)==null||x.call(y,N,this),(S=(w=St(this,ru).config).onSettled)==null||S.call(w,this.state.data,N,this),N}finally{this.scheduleGc()}}},dg=new WeakMap,H0=new WeakMap,ru=new WeakMap,hg=new WeakMap,ka=new WeakMap,aw=new WeakMap,fg=new WeakMap,ad=new WeakSet,Yh=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Wfe(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...hR(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Yr(this,H0,e.manual?s:void 0),s;case"error":const a=e.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Qo.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),St(this,ru).notify({query:this,type:"updated",action:e})})},PW);function Wfe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_q(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function hR(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function fR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function pR(t){return{onFetch:(e,r)=>{var d,h,p,f,m;const n=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,a=((f=e.state.data)==null?void 0:f.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=S=>{Lfe(S,()=>e.signal,()=>g=!0)},x=Nq(e.options,e.fetchOptions),w=async(S,N,C)=>{if(g)return Promise.reject();if(N==null&&S.pages.length)return Promise.resolve(S);const k=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:N,direction:C?"backward":"forward",meta:e.options.meta};return y(I),I})(),E=await x(k),{maxPages:T}=e.options,R=C?Ofe:Mfe;return{pages:R(S.pages,E,T),pageParams:R(S.pageParams,N,T)}};if(s&&a.length){const S=s==="backward",N=S?Gfe:mR,C={pages:a,pageParams:o},A=N(n,C);l=await w(C,A,S)}else{const S=t??a.length;do{const N=c===0?o[0]??n.initialPageParam:mR(n,l);if(c>0&&N==null)break;l=await w(l,N),c++}while(c<S)}return l};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function mR(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Gfe(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ow,Jd,Ko,pg,eh,sp,EW,Hfe=(EW=class extends kq{constructor(e){super();Cn(this,eh);Cn(this,ow);Cn(this,Jd);Cn(this,Ko);Cn(this,pg);Yr(this,ow,e.client),this.mutationId=e.mutationId,Yr(this,Ko,e.mutationCache),Yr(this,Jd,[]),this.state=e.state||Vfe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){St(this,Jd).includes(e)||(St(this,Jd).push(e),this.clearGcTimeout(),St(this,Ko).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Yr(this,Jd,St(this,Jd).filter(r=>r!==e)),this.scheduleGc(),St(this,Ko).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){St(this,Jd).length||(this.state.status==="pending"?this.scheduleGc():St(this,Ko).remove(this))}continue(){var e;return((e=St(this,pg))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,u,d,h,p,f,m,g,y,x,w,S,N,C,A,k,E,T;const r=()=>{bo(this,eh,sp).call(this,{type:"continue"})},n={client:St(this,ow),meta:this.options.meta,mutationKey:this.options.mutationKey};Yr(this,pg,Aq({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,I)=>{bo(this,eh,sp).call(this,{type:"failed",failureCount:R,error:I})},onPause:()=>{bo(this,eh,sp).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>St(this,Ko).canRun(this)}));const s=this.state.status==="pending",a=!St(this,pg).canStart();try{if(s)r();else{bo(this,eh,sp).call(this,{type:"pending",variables:e,isPaused:a}),await((l=(o=St(this,Ko).config).onMutate)==null?void 0:l.call(o,e,this,n));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,n));I!==this.state.context&&bo(this,eh,sp).call(this,{type:"pending",context:I,variables:e,isPaused:a})}const R=await St(this,pg).start();return await((h=(d=St(this,Ko).config).onSuccess)==null?void 0:h.call(d,R,e,this.state.context,this,n)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,R,e,this.state.context,n)),await((g=(m=St(this,Ko).config).onSettled)==null?void 0:g.call(m,R,null,this.state.variables,this.state.context,this,n)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,R,null,e,this.state.context,n)),bo(this,eh,sp).call(this,{type:"success",data:R}),R}catch(R){try{await((S=(w=St(this,Ko).config).onError)==null?void 0:S.call(w,R,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((C=(N=this.options).onError)==null?void 0:C.call(N,R,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((k=(A=St(this,Ko).config).onSettled)==null?void 0:k.call(A,void 0,R,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((T=(E=this.options).onSettled)==null?void 0:T.call(E,void 0,R,e,this.state.context,n))}catch(I){Promise.reject(I)}throw bo(this,eh,sp).call(this,{type:"error",error:R}),R}finally{St(this,Ko).runNext(this)}}},ow=new WeakMap,Jd=new WeakMap,Ko=new WeakMap,pg=new WeakMap,eh=new WeakSet,sp=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qo.batch(()=>{St(this,Jd).forEach(n=>{n.onMutationUpdate(e)}),St(this,Ko).notify({mutation:this,type:"updated",action:e})})},EW);function Vfe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ef,od,lw,TW,qfe=(TW=class extends N3{constructor(e={}){super();Cn(this,ef);Cn(this,od);Cn(this,lw);this.config=e,Yr(this,ef,new Set),Yr(this,od,new Map),Yr(this,lw,0)}build(e,r,n){const s=new Hfe({client:e,mutationCache:this,mutationId:++gj(this,lw)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){St(this,ef).add(e);const r=Bj(e);if(typeof r=="string"){const n=St(this,od).get(r);n?n.push(e):St(this,od).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(St(this,ef).delete(e)){const r=Bj(e);if(typeof r=="string"){const n=St(this,od).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&St(this,od).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Bj(e);if(typeof r=="string"){const n=St(this,od).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Bj(e);if(typeof r=="string"){const s=(n=St(this,od).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qo.batch(()=>{St(this,ef).forEach(e=>{this.notify({type:"removed",mutation:e})}),St(this,ef).clear(),St(this,od).clear()})}getAll(){return Array.from(St(this,ef))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>cR(r,n))}findAll(e={}){return this.getAll().filter(r=>cR(e,r))}notify(e){Qo.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Qo.batch(()=>Promise.all(e.map(r=>r.continue().catch(id))))}},ef=new WeakMap,od=new WeakMap,lw=new WeakMap,TW);function Bj(t){var e;return(e=t.options.scope)==null?void 0:e.id}var th,IW,Yfe=(IW=class extends N3{constructor(e={}){super();Cn(this,th);this.config=e,Yr(this,th,new Map)}build(e,r,n){const s=r.queryKey,a=r.queryHash??AI(s,r);let o=this.get(a);return o||(o=new Ufe({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){St(this,th).has(e.queryHash)||(St(this,th).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=St(this,th).get(e.queryHash);r&&(e.destroy(),r===e&&St(this,th).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qo.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return St(this,th).get(e)}getAll(){return[...St(this,th).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>lR(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>lR(e,n)):r}notify(e){Qo.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Qo.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qo.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},th=new WeakMap,IW),xi,bp,wp,V0,q0,jp,Y0,X0,MW,Xfe=(MW=class{constructor(t={}){Cn(this,xi);Cn(this,bp);Cn(this,wp);Cn(this,V0);Cn(this,q0);Cn(this,jp);Cn(this,Y0);Cn(this,X0);Yr(this,xi,t.queryCache||new Yfe),Yr(this,bp,t.mutationCache||new qfe),Yr(this,wp,t.defaultOptions||{}),Yr(this,V0,new Map),Yr(this,q0,new Map),Yr(this,jp,0)}mount(){gj(this,jp)._++,St(this,jp)===1&&(Yr(this,Y0,Cq.subscribe(async t=>{t&&(await this.resumePausedMutations(),St(this,xi).onFocus())})),Yr(this,X0,dN.subscribe(async t=>{t&&(await this.resumePausedMutations(),St(this,xi).onOnline())})))}unmount(){var t,e;gj(this,jp)._--,St(this,jp)===0&&((t=St(this,Y0))==null||t.call(this),Yr(this,Y0,void 0),(e=St(this,X0))==null||e.call(this),Yr(this,X0,void 0))}isFetching(t){return St(this,xi).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return St(this,bp).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=St(this,xi).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=St(this,xi).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(d6(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return St(this,xi).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=St(this,xi).get(n.queryHash),a=s==null?void 0:s.state.data,o=_fe(e,a);if(o!==void 0)return St(this,xi).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Qo.batch(()=>St(this,xi).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=St(this,xi).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=St(this,xi);Qo.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=St(this,xi);return Qo.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Qo.batch(()=>St(this,xi).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(id).catch(id)}invalidateQueries(t,e={}){return Qo.batch(()=>(St(this,xi).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Qo.batch(()=>St(this,xi).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(id)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(id)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=St(this,xi).build(this,e);return r.isStaleByTime(d6(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(id).catch(id)}fetchInfiniteQuery(t){return t.behavior=pR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(id).catch(id)}ensureInfiniteQueryData(t){return t.behavior=pR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return dN.isOnline()?St(this,bp).resumePausedMutations():Promise.resolve()}getQueryCache(){return St(this,xi)}getMutationCache(){return St(this,bp)}getDefaultOptions(){return St(this,wp)}setDefaultOptions(t){Yr(this,wp,t)}setQueryDefaults(t,e){St(this,V0).set(t2(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...St(this,V0).values()],r={};return e.forEach(n=>{r2(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){St(this,q0).set(t2(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...St(this,q0).values()],r={};return e.forEach(n=>{r2(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...St(this,wp).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=AI(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===kI&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...St(this,wp).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){St(this,xi).clear(),St(this,bp).clear()}},xi=new WeakMap,bp=new WeakMap,wp=new WeakMap,V0=new WeakMap,q0=new WeakMap,jp=new WeakMap,Y0=new WeakMap,X0=new WeakMap,MW),Kfe=b.createContext(void 0),Zfe=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(Kfe.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n2.apply(this,arguments)}var Ap;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ap||(Ap={}));const gR="popstate";function Qfe(t){t===void 0&&(t={});function e(n,s){let{pathname:a,search:o,hash:l}=n.location;return p6("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:hN(s)}return epe(e,r,null,t)}function Fi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jfe(){return Math.random().toString(36).substr(2,8)}function xR(t,e){return{usr:t.state,key:t.key,idx:e}}function p6(t,e,r,n){return r===void 0&&(r=null),n2({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qy(e):e,{state:r,key:e&&e.key||n||Jfe()})}function hN(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qy(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function epe(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Ap.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(n2({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Ap.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:x})}function p(y,x){l=Ap.Push;let w=p6(g.location,y,x);u=d()+1;let S=xR(w,u),N=g.createHref(w);try{o.pushState(S,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(N)}a&&c&&c({action:l,location:g.location,delta:1})}function f(y,x){l=Ap.Replace;let w=p6(g.location,y,x);u=d();let S=xR(w,u),N=g.createHref(w);o.replaceState(S,"",N),a&&c&&c({action:l,location:g.location,delta:0})}function m(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:hN(y);return w=w.replace(/ $/,"%20"),Fi(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let g={get action(){return l},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(gR,h),c=y,()=>{s.removeEventListener(gR,h),c=null}},createHref(y){return e(s,y)},createURL:m,encodeLocation(y){let x=m(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:f,go(y){return o.go(y)}};return g}var yR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yR||(yR={}));function tpe(t,e,r){return r===void 0&&(r="/"),rpe(t,e,r)}function rpe(t,e,r,n){let s=typeof e=="string"?Qy(e):e,a=EI(s.pathname||"/",r);if(a==null)return null;let o=Pq(t);npe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=mpe(a);l=hpe(o[c],u)}return l}function Pq(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Fi(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Wp([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Fi(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Pq(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:upe(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Eq(a.path))s(a,o,c)}),e}function Eq(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Eq(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function npe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:dpe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const spe=/^:[\w-]+$/,ipe=3,ape=2,ope=1,lpe=10,cpe=-2,vR=t=>t==="*";function upe(t,e){let r=t.split("/"),n=r.length;return r.some(vR)&&(n+=cpe),e&&(n+=ape),r.filter(s=>!vR(s)).reduce((s,a)=>s+(spe.test(a)?ipe:a===""?ope:lpe),n)}function dpe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function hpe(t,e,r){let{routesMeta:n}=t,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=fpe({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Wp([a,h.pathname]),pathnameBase:bpe(Wp([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=Wp([a,h.pathnameBase]))}return o}function fpe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=ppe(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let g=l[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[p]=void 0:u[p]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function ppe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),PI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function mpe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function EI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const gpe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xpe=t=>gpe.test(t);function ype(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Qy(t):t,a;if(r)if(xpe(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),PI(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=bR(r.substring(1),"/"):a=bR(r,e)}else a=e;return{pathname:a,search:wpe(n),hash:jpe(s)}}function bR(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function nA(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vpe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function TI(t,e){let r=vpe(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function II(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Qy(t):(s=n2({},t),Fi(!s.pathname||!s.pathname.includes("?"),nA("?","pathname","search",s)),Fi(!s.pathname||!s.pathname.includes("#"),nA("#","pathname","hash",s)),Fi(!s.search||!s.search.includes("#"),nA("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?e[h]:"/"}let c=ype(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Wp=t=>t.join("/").replace(/\/\/+/g,"/"),bpe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wpe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jpe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Spe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Tq=["post","put","patch","delete"];new Set(Tq);const Npe=["get",...Tq];new Set(Npe);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s2.apply(this,arguments)}const MI=b.createContext(null),Cpe=b.createContext(null),im=b.createContext(null),_3=b.createContext(null),Pf=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Iq=b.createContext(null);function _pe(t,e){let{relative:r}=e===void 0?{}:e;Jy()||Fi(!1);let{basename:n,navigator:s}=b.useContext(im),{hash:a,pathname:o,search:l}=Oq(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Wp([n,o])),s.createHref({pathname:c,search:l,hash:a})}function Jy(){return b.useContext(_3)!=null}function Vi(){return Jy()||Fi(!1),b.useContext(_3).location}function Mq(t){b.useContext(im).static||b.useLayoutEffect(t)}function rs(){let{isDataRoute:t}=b.useContext(Pf);return t?Bpe():Ape()}function Ape(){Jy()||Fi(!1);let t=b.useContext(MI),{basename:e,future:r,navigator:n}=b.useContext(im),{matches:s}=b.useContext(Pf),{pathname:a}=Vi(),o=JSON.stringify(TI(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return Mq(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=II(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Wp([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,a,t])}function Do(){let{matches:t}=b.useContext(Pf),e=t[t.length-1];return e?e.params:{}}function Oq(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(im),{matches:s}=b.useContext(Pf),{pathname:a}=Vi(),o=JSON.stringify(TI(s,n.v7_relativeSplatPath));return b.useMemo(()=>II(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function kpe(t,e){return Ppe(t,e)}function Ppe(t,e,r,n){Jy()||Fi(!1);let{navigator:s}=b.useContext(im),{matches:a}=b.useContext(Pf),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Vi(),d;if(e){var h;let y=typeof e=="string"?Qy(e):e;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Fi(!1),d=y}else d=u;let p=d.pathname||"/",f=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=tpe(t,{pathname:f}),g=Ope(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Wp([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Wp([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return e&&g?b.createElement(_3.Provider,{value:{location:s2({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ap.Pop}},g):g}function Epe(){let t=Fpe(),e=Spe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,null)}const Tpe=b.createElement(Epe,null);class Ipe extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(Pf.Provider,{value:this.props.routeContext},b.createElement(Iq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mpe(t){let{routeContext:e,match:r,children:n}=t,s=b.useContext(MI);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Pf.Provider,{value:e},n)}function Ope(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Fi(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=r,m=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,m=!1,g=null,y=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||Tpe,c&&(u<0&&p===0?($pe("route-fallback"),m=!0,y=null):u===p&&(m=!0,y=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),w=()=>{let S;return f?S=g:m?S=y:h.route.Component?S=b.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,b.createElement(Mpe,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:S})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?b.createElement(Ipe,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var Lq=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Lq||{}),Rq=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rq||{});function Lpe(t){let e=b.useContext(MI);return e||Fi(!1),e}function Rpe(t){let e=b.useContext(Cpe);return e||Fi(!1),e}function Dpe(t){let e=b.useContext(Pf);return e||Fi(!1),e}function Dq(t){let e=Dpe(),r=e.matches[e.matches.length-1];return r.route.id||Fi(!1),r.route.id}function Fpe(){var t;let e=b.useContext(Iq),r=Rpe(),n=Dq();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Bpe(){let{router:t}=Lpe(Lq.UseNavigateStable),e=Dq(Rq.UseNavigateStable),r=b.useRef(!1);return Mq(()=>{r.current=!0}),b.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,s2({fromRouteId:e},a)))},[t,e])}const wR={};function $pe(t,e,r){wR[t]||(wR[t]=!0)}function zpe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jR(t){let{to:e,replace:r,state:n,relative:s}=t;Jy()||Fi(!1);let{future:a,static:o}=b.useContext(im),{matches:l}=b.useContext(Pf),{pathname:c}=Vi(),u=rs(),d=II(e,TI(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Dr(t){Fi(!1)}function Upe(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ap.Pop,navigator:a,static:o=!1,future:l}=t;Jy()&&Fi(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:a,static:o,future:s2({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Qy(n));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:m="default"}=n,g=b.useMemo(()=>{let y=EI(d,c);return y==null?null:{location:{pathname:y,search:h,hash:p,state:f,key:m},navigationType:s}},[c,d,h,p,f,m,s]);return g==null?null:b.createElement(im.Provider,{value:u},b.createElement(_3.Provider,{children:r,value:g}))}function m6(t){let{children:e,location:r}=t;return kpe(g6(e),r)}new Promise(()=>{});function g6(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let a=[...e,s];if(n.type===b.Fragment){r.push.apply(r,g6(n.props.children,a));return}n.type!==Dr&&Fi(!1),!n.props.index||!n.props.children||Fi(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=g6(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x6(){return x6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x6.apply(this,arguments)}function Wpe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Gpe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Hpe(t,e){return t.button===0&&(!e||e==="_self")&&!Gpe(t)}function y6(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Vpe(t,e){let r=y6(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(a=>{r.append(s,a)})}),r}const qpe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ype="6";try{window.__reactRouterVersion=Ype}catch{}const Xpe="startTransition",SR=K4[Xpe];function Kpe(t){let{basename:e,children:r,future:n,window:s}=t,a=b.useRef();a.current==null&&(a.current=Qfe({window:s,v5Compat:!0}));let o=a.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(h=>{u&&SR?SR(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>zpe(n),[n]),b.createElement(Upe,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Zpe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qpe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=b.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,p=Wpe(e,qpe),{basename:f}=b.useContext(im),m,g=!1;if(typeof u=="string"&&Qpe.test(u)&&(m=u,Zpe))try{let S=new URL(window.location.href),N=u.startsWith("//")?new URL(S.protocol+u):new URL(u),C=EI(N.pathname,f);N.origin===S.origin&&C!=null?u=C+N.search+N.hash:g=!0}catch{}let y=_pe(u,{relative:s}),x=Jpe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function w(S){n&&n(S),S.defaultPrevented||x(S)}return b.createElement("a",x6({},p,{href:m||y,onClick:g||a?n:w,ref:r,target:c}))});var NR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(NR||(NR={}));var CR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CR||(CR={}));function Jpe(t,e){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=rs(),u=Vi(),d=Oq(t,{relative:o});return b.useCallback(h=>{if(Hpe(h,r)){h.preventDefault();let p=n!==void 0?n:hN(u)===hN(d);c(t,{replace:p,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,t,a,o,l])}function vw(t){let e=b.useRef(y6(t)),r=b.useRef(!1),n=Vi(),s=b.useMemo(()=>Vpe(n.search,r.current?null:e.current),[n.search]),a=rs(),o=b.useCallback((l,c)=>{const u=y6(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}const Pr="/api",uS="https://shelfmerch.in",Fq=Pr.endsWith("/api")?Pr.slice(0,-4):Pr;console.log("[Config] Running in production mode");console.log(`[Config] API Base URL: ${Pr}`);console.log(`[Config] Store Base URL: ${uS}`);class Ir extends Error{constructor(e,r,n){super(e),this.status=r,this.errors=n,this.name="ApiError"}}const Cs=()=>localStorage.getItem("token"),La={create:async t=>{const e=Cs(),r=await fetch(`${Pr}/store-products`,{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},credentials:"include",body:JSON.stringify(t)});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Ir(s.message||"Failed to save store product",r.status,s.errors)}return await r.json()},getById:async t=>{const e=Cs(),r=await fetch(`${Pr}/store-products/${t}`,{method:"GET",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},credentials:"include"});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Ir(s.message||"Failed to fetch store product",r.status,s.errors)}return await r.json()},list:async t=>{const e=Cs(),r=new URLSearchParams;t!=null&&t.status&&r.set("status",t.status),(t==null?void 0:t.isActive)!==void 0&&r.set("isActive",String(t.isActive));const n=await fetch(`${Pr}/store-products${r.toString()?`?${r.toString()}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},credentials:"include"});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Ir(a.message||"Failed to fetch store products",n.status,a.errors)}return await n.json()},update:async(t,e)=>{const r=Cs(),n=await fetch(`${Pr}/store-products/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include",body:JSON.stringify(e)});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Ir(a.message||"Failed to update store product",n.status,a.errors)}return await n.json()},updateDesignPreview:async(t,e)=>{const r=Cs(),n=await fetch(`${Pr}/store-products/${t}/design-preview`,{method:"PATCH",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include",body:JSON.stringify(e)});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Ir(a.message||"Failed to update design preview",n.status,a.errors)}return await n.json()},delete:async t=>{const e=Cs(),r=await fetch(`${Pr}/store-products/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},credentials:"include"});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Ir(s.message||"Failed to delete store product",r.status,s.errors)}return await r.json()},getPublic:async(t,e)=>{const r=t?`${Pr}/store-products/public/${t}/${e}`:`${Pr}/store-products/public/${e}`,n=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Ir(a.message||"Failed to fetch store product",n.status,a.errors)}return await n.json()},listPublic:async t=>{const e=t?`${Pr}/store-products/public/${t}`:`${Pr}/store-products/public`,r=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Ir(s.message||"Failed to fetch store products",r.status,s.errors)}return await r.json()}},Bq={listByProduct:async t=>Fr(`/variants/product/${encodeURIComponent(t)}`,{method:"GET"})},cf={listForMerchant:async()=>Fr("/store-orders"),getById:async t=>Fr(`/store-orders/${encodeURIComponent(t)}`),updateStatus:async(t,e)=>Fr(`/store-orders/${encodeURIComponent(t)}/status`,{method:"PATCH",body:JSON.stringify({status:e})})},$q={listByStore:async t=>Fr(`/store-customers/store/${encodeURIComponent(t)}`),getById:async t=>Fr(`/store-customers/${encodeURIComponent(t)}`)},v6={placeOrder:async(t,e)=>{const r=`store_token_${t}`,n=localStorage.getItem(r),s=await fetch(`${Pr}/store-checkout/${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},credentials:"include",body:JSON.stringify(e)}),a=await s.json().catch(()=>null);return s.ok?a:a||{success:!1,message:"Failed to place order"}},createRazorpayOrder:async(t,e)=>{const r=`store_token_${t}`,n=localStorage.getItem(r),s=await fetch(`${Pr}/store-checkout/${encodeURIComponent(t)}/razorpay/create-order`,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},credentials:"include",body:JSON.stringify(e)}),a=await s.json().catch(()=>null);return s.ok?a:a||{success:!1,message:"Failed to create Razorpay order"}},verifyRazorpayPayment:async(t,e)=>{const r=`store_token_${t}`,n=localStorage.getItem(r),s=await fetch(`${Pr}/store-checkout/${encodeURIComponent(t)}/razorpay/verify-payment`,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},credentials:"include",body:JSON.stringify(e)}),a=await s.json().catch(()=>null);return s.ok?a:a||{success:!1,message:"Failed to verify payment"}}},zq={getQuote:async(t,e)=>Fr("/shipping-quote",{method:"POST",body:JSON.stringify({destPincode:t,weightGrams:e})})},bw={listForMerchant:async()=>Fr("/invoices"),listAll:async()=>Fr("/invoices/all"),getById:async t=>Fr(`/invoices/${encodeURIComponent(t)}`),pay:async(t,e)=>Fr(`/invoices/${encodeURIComponent(t)}/pay`,{method:"POST",body:JSON.stringify(e)}),payWithWallet:async(t,e=!0)=>Fr(`/invoices/${encodeURIComponent(t)}/pay-with-wallet`,{method:"POST",body:JSON.stringify({useWallet:e})})},xg={getBalance:async()=>Fr("/wallet"),getTransactions:async t=>{const e=new URLSearchParams;t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.cursor&&e.append("cursor",t.cursor),t!=null&&t.status&&e.append("status",t.status);const r=e.toString();return Fr(`/wallet/transactions${r?`?${r}`:""}`)},createTopupOrder:async t=>Fr("/wallet/topup/create-order",{method:"POST",body:JSON.stringify({amountPaise:t})})},I1={listWallets:async t=>{const e=new URLSearchParams;t!=null&&t.search&&e.append("search",t.search),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.skip&&e.append("skip",t.skip.toString());const r=e.toString();return Fr(`/admin/wallet/wallets${r?`?${r}`:""}`)},getWallet:async t=>Fr(`/admin/wallet/wallets/${encodeURIComponent(t)}`),getTransactions:async(t,e)=>{const r=new URLSearchParams;e!=null&&e.limit&&r.append("limit",e.limit.toString()),e!=null&&e.cursor&&r.append("cursor",e.cursor);const n=r.toString();return Fr(`/admin/wallet/wallets/${encodeURIComponent(t)}/transactions${n?`?${n}`:""}`)},adjustBalance:async t=>Fr("/admin/wallet/wallets/adjust",{method:"POST",body:JSON.stringify(t)}),getStats:async()=>Fr("/admin/wallet/stats")},fN={getWalletSummary:async()=>Fr("/merchant/wallet/summary"),list:async t=>{const e=new URLSearchParams;t!=null&&t.status&&e.append("status",t.status),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.skip&&e.append("skip",t.skip.toString());const r=e.toString();return Fr(`/merchant/withdrawals${r?`?${r}`:""}`)},create:async t=>Fr("/merchant/withdrawals",{method:"POST",body:JSON.stringify(t)})},ly={getStats:async()=>Fr("/admin/withdrawals/stats"),list:async t=>{const e=new URLSearchParams;t!=null&&t.status&&e.append("status",t.status),t!=null&&t.merchantId&&e.append("merchantId",t.merchantId),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.skip&&e.append("skip",t.skip.toString());const r=e.toString();return Fr(`/admin/withdrawals${r?`?${r}`:""}`)},getById:async t=>Fr(`/admin/withdrawals/${encodeURIComponent(t)}`),approve:async t=>Fr(`/admin/withdrawals/${encodeURIComponent(t)}/approve`,{method:"POST"}),reject:async(t,e)=>Fr(`/admin/withdrawals/${encodeURIComponent(t)}/reject`,{method:"POST",body:JSON.stringify({reason:e})}),markPaid:async(t,e)=>Fr(`/admin/withdrawals/${encodeURIComponent(t)}/mark-paid`,{method:"POST",body:JSON.stringify(e)})},OI={getReviews:async(t,e)=>{const r=new URLSearchParams;e!=null&&e.limit&&r.append("limit",e.limit.toString()),e!=null&&e.skip&&r.append("skip",e.skip.toString()),e!=null&&e.sort&&r.append("sort",e.sort);const n=r.toString();return Fr(`/reviews/${encodeURIComponent(t)}${n?`?${n}`:""}`)},getStats:async t=>Fr(`/reviews/${encodeURIComponent(t)}/stats`),create:async(t,e)=>Fr(`/reviews/${encodeURIComponent(t)}`,{method:"POST",body:JSON.stringify(e)}),markHelpful:async(t,e)=>Fr(`/reviews/${encodeURIComponent(t)}/helpful`,{method:"POST",body:JSON.stringify({voterId:e})})},eme=()=>localStorage.getItem("refreshToken"),b6=(t,e)=>{localStorage.setItem("token",t),localStorage.setItem("refreshToken",e)},ih=()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken")},kp=async()=>{const t=eme();if(!t)return null;try{const r=await(await fetch(`${Pr}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t})})).json();return r.success&&r.token&&r.refreshToken?(b6(r.token,r.refreshToken),r.token):null}catch(e){return console.error("Token refresh failed:",e),null}},Fr=async(t,e={})=>{const r=Cs(),n={"Content-Type":"application/json"};r&&(n.Authorization=`Bearer ${r}`);const s={...e,headers:{...n,...e.headers},credentials:"include"};let a=await fetch(`${Pr}${t}`,s);if(a.status===401&&r){const l=await kp();if(l)s.headers={...n,Authorization:`Bearer ${l}`,...e.headers},a=await fetch(`${Pr}${t}`,s);else throw ih(),new Ir("Session expired. Please login again.",401)}let o;try{o=await a.json()}catch{throw new Ir(`Server error: ${a.status} ${a.statusText}`,a.status)}if(!a.ok)throw new Ir(o.message||"An error occurred",a.status,o.errors);return o.success!==void 0&&(o.token!==void 0||o.user!==void 0||typeof o.count=="number")?o:o.data||o.user||o},Kx={register:async(t,e,r)=>{if(!e||!e.trim())throw new Ir("Email is required",400);if(!t||!t.trim())throw new Ir("Name is required",400);if(!r||r.length<6)throw new Ir("Password must be at least 6 characters",400);const n=await Fr("/auth/register",{method:"POST",body:JSON.stringify({name:t.trim(),email:e.trim().toLowerCase().replace(/^@+/,""),password:r})});return n.token&&n.refreshToken&&b6(n.token,n.refreshToken),n},login:async(t,e)=>{const r=await Fr("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:e})});return r.token&&r.refreshToken&&b6(r.token,r.refreshToken),r},logout:async()=>{try{await Fr("/auth/logout",{method:"POST"})}catch(t){console.error("Logout error:",t)}finally{ih()}},getMe:async()=>Fr("/auth/me"),updatePassword:async(t,e)=>Fr("/auth/updatepassword",{method:"PUT",body:JSON.stringify({currentPassword:t,newPassword:e})}),getUserCount:async()=>Fr("/auth/users/count")},Di={create:async t=>{const e=Cs(),r=await fetch(`${Pr}/products`,{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},credentials:"include",body:JSON.stringify(t)});if(r.status===401&&e){const s=await kp();if(s){const a=await fetch(`${Pr}/products`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include",body:JSON.stringify(t)});if(!a.ok){const l=await a.json().catch(()=>({}));throw new Ir(l.message||"An error occurred",a.status,l.errors)}return await a.json()}else throw ih(),new Ir("Session expired. Please login again.",401)}if(!r.ok){const s=await r.json().catch(()=>({}));throw new Ir(s.message||"An error occurred",r.status,s.errors)}return await r.json()},getAll:async t=>{const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.search&&t.search.trim()&&e.append("search",t.search.trim()),((t==null?void 0:t.isActive)===!0||(t==null?void 0:t.isActive)===!1)&&e.append("isActive",t.isActive.toString());const r=e.toString(),n=Cs(),s=new AbortController,a=setTimeout(()=>s.abort(),15e3);try{const o=await fetch(`${Pr}/products${r?`?${r}`:""}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},signal:s.signal});if(clearTimeout(a),o.status===401&&n){const c=await kp();if(c){const u=new AbortController,d=setTimeout(()=>u.abort(),15e3);try{const h=await fetch(`${Pr}/products${r?`?${r}`:""}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},signal:u.signal});if(clearTimeout(d),!h.ok){const f=await h.json().catch(()=>({}));throw new Ir(f.message||"An error occurred",h.status,f.errors)}const p=await h.json();return{success:p.success!==!1,data:p.data||[],pagination:p.pagination||{page:parseInt(String((t==null?void 0:t.page)||1)),limit:parseInt(String((t==null?void 0:t.limit)||20)),total:0,pages:0}}}catch(h){throw clearTimeout(d),h.name==="AbortError"?new Ir("Request timeout - server is taking too long to respond",408):h}}else throw ih(),new Ir("Session expired. Please login again.",401)}if(!o.ok){const c=await o.json().catch(()=>({}));throw new Ir(c.message||"An error occurred",o.status,c.errors)}const l=await o.json();return{success:l.success!==!1,data:l.data||[],pagination:l.pagination||{page:parseInt(String((t==null?void 0:t.page)||1)),limit:parseInt(String((t==null?void 0:t.limit)||20)),total:0,pages:0}}}catch(o){throw clearTimeout(a),o.name==="AbortError"?new Ir("Request timeout - server is taking too long to respond",408):o}},getById:async t=>{const e=Cs(),r=new AbortController,n=setTimeout(()=>r.abort(),1e4);try{const s=await fetch(`${Pr}/products/${t}`,{method:"GET",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},credentials:"include",signal:r.signal});if(clearTimeout(n),s.status===401&&e){const o=await kp();if(o){const l=new AbortController,c=setTimeout(()=>l.abort(),1e4);try{const u=await fetch(`${Pr}/products/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},credentials:"include",signal:l.signal});if(clearTimeout(c),!u.ok){const h=await u.json().catch(()=>({}));throw new Ir(h.message||"An error occurred",u.status,h.errors)}return await u.json()}catch(u){throw clearTimeout(c),u.name==="AbortError"?new Ir("Request timeout - server is taking too long to respond",408):u}}else throw ih(),new Ir("Session expired. Please login again.",401)}if(!s.ok){const o=await s.json().catch(()=>({}));throw new Ir(o.message||"An error occurred",s.status,o.errors)}return await s.json()}catch(s){throw clearTimeout(n),s.name==="AbortError"?new Ir("Request timeout - server is taking too long to respond",408):s}},update:async(t,e)=>{const r=Cs(),n=await fetch(`${Pr}/products/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include",body:JSON.stringify(e)});if(n.status===401&&r){const a=await kp();if(a){const o=await fetch(`${Pr}/products/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},credentials:"include",body:JSON.stringify(e)});if(!o.ok){const c=await o.json().catch(()=>({}));throw new Ir(c.message||"An error occurred",o.status,c.errors)}return await o.json()}else throw ih(),new Ir("Session expired. Please login again.",401)}if(!n.ok){const a=await n.json().catch(()=>({}));throw new Ir(a.message||"An error occurred",n.status,a.errors)}return await n.json()},delete:async t=>Fr(`/products/${t}`,{method:"DELETE"}),getCatalogProducts:async t=>{const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.category&&e.append("category",t.category),t!=null&&t.subcategory&&e.append("subcategory",t.subcategory),t!=null&&t.search&&e.append("search",t.search);const r=e.toString(),n=`/products/catalog/active${r?`?${r}`:""}`,s=await fetch(`${Pr}${n}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){const a=await s.json().catch(()=>({}));throw new Ir(a.message||"An error occurred",s.status,a.errors)}return await s.json()}},ua={create:async t=>{const e=Cs(),r=await fetch(`${Pr}/stores`,{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},credentials:"include",body:JSON.stringify(t)});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Ir(s.message||"Failed to create store",r.status,s.errors)}return await r.json()},listAllStores:async t=>{const e=Cs(),r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.sortBy&&r.append("sortBy",t.sortBy),t!=null&&t.sortOrder&&r.append("sortOrder",t.sortOrder);const n=r.toString(),s=`${Pr}/stores/admin/all${n?`?${n}`:""}`,a=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},credentials:"include"});if(!a.ok){const l=await a.json().catch(()=>({}));throw new Ir(l.message||"Failed to fetch stores",a.status,l.errors)}return await a.json()},listMyStores:async()=>{const t=Cs(),e=await fetch(`${Pr}/stores`,{method:"GET",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},credentials:"include"});if(!e.ok){const n=await e.json().catch(()=>({}));throw new Ir(n.message||"Failed to fetch stores",e.status,n.errors)}return await e.json()},getMyStore:async()=>{const t=Cs(),e=await fetch(`${Pr}/stores/me`,{method:"GET",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},credentials:"include"});if(!e.ok){const n=await e.json().catch(()=>({}));throw new Ir(n.message||"Failed to fetch store",e.status,n.errors)}return await e.json()},getBySubdomain:async t=>{const e=t?`${Pr}/stores/by-subdomain/${t}`:`${Pr}/stores/by-subdomain`,r=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Ir(s.message||"Failed to fetch store",r.status,s.errors)}return await r.json()},getById:async(t,e=!1)=>{const r=Cs(),n=`${Pr}/stores/${t}${e?"?includeBuilder=true":""}`,s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include"});if(!s.ok){const o=await s.json().catch(()=>({}));throw new Ir(o.message||"Failed to fetch store",s.status,o.errors)}return await s.json()},update:async(t,e)=>{const r=Cs(),n=await fetch(`${Pr}/stores/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include",body:JSON.stringify(e)});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Ir(a.message||"Failed to update store",n.status,a.errors)}return await n.json()}},M1={get:async t=>{const e=Cs(),r=await fetch(`${Pr}/stores/${t}/builder`,{method:"GET",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},credentials:"include"});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Ir(s.message||"Failed to fetch builder data",r.status,s.errors)}return await r.json()},saveDraft:async(t,e)=>{const r=Cs(),n=await fetch(`${Pr}/stores/${t}/builder`,{method:"PUT",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include",body:JSON.stringify(e)});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Ir(a.message||"Failed to save builder draft",n.status,a.errors)}return await n.json()},publish:async(t,e)=>{const r=Cs(),n=await fetch(`${Pr}/stores/${t}/builder/publish`,{method:"POST",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include",body:JSON.stringify(e)});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Ir(a.message||"Failed to publish builder",n.status,a.errors)}return await n.json()},reset:async t=>{const e=Cs(),r=await fetch(`${Pr}/stores/${t}/builder`,{method:"DELETE",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},credentials:"include"});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Ir(s.message||"Failed to reset builder",r.status,s.errors)}return await r.json()},toggle:async(t,e)=>{const r=Cs(),n=await fetch(`${Pr}/stores/${t}/builder/toggle`,{method:"PATCH",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include",body:JSON.stringify({useBuilder:e})});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Ir(a.message||"Failed to toggle builder",n.status,a.errors)}return await n.json()}},Gp={getAll:async t=>{const e=new URLSearchParams;t!=null&&t.categoryId&&e.append("categoryId",t.categoryId),t!=null&&t.subcategoryId&&e.append("subcategoryId",t.subcategoryId),t!=null&&t.optionType&&e.append("optionType",t.optionType);const r=e.toString(),n=`/variant-options${r?`?${r}`:""}`;return Fr(n,{method:"GET"})},create:async t=>Fr("/variant-options",{method:"POST",body:JSON.stringify(t)}),update:async(t,e)=>Fr(`/variant-options/${t}`,{method:"PUT",body:JSON.stringify(e)}),delete:async t=>Fr(`/variant-options/${t}`,{method:"DELETE"}),getStats:async()=>Fr("/variant-options/stats",{method:"GET"})},ob={getAll:async t=>{const e=new URLSearchParams;t!=null&&t.categoryId&&e.append("categoryId",t.categoryId),t!=null&&t.subcategoryId&&e.append("subcategoryId",t.subcategoryId);const r=e.toString(),n=`/catalogue-fields${r?`?${r}`:""}`;return Fr(n,{method:"GET"})},create:async t=>Fr("/catalogue-fields",{method:"POST",body:JSON.stringify(t)}),update:async(t,e)=>Fr(`/catalogue-fields/${t}`,{method:"PUT",body:JSON.stringify(e)}),delete:async t=>Fr(`/catalogue-fields/${t}`,{method:"DELETE"}),getStats:async()=>Fr("/catalogue-fields/stats",{method:"GET"})},em={uploadImage:async(t,e="uploads")=>{const r=Cs(),n=new FormData;n.append("image",t),n.append("folder",e);const s=await fetch(`${Pr}/upload/image`,{method:"POST",headers:{...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include",body:n});if(s.status===401&&r){const o=await kp();if(o){const l=await fetch(`${Pr}/upload/image`,{method:"POST",headers:{Authorization:`Bearer ${o}`},credentials:"include",body:n});if(!l.ok){const u=await l.json().catch(()=>({}));throw new Ir(u.message||"Failed to upload image",l.status)}return(await l.json()).url}else throw ih(),new Ir("Session expired. Please login again.",401)}if(!s.ok){const o=await s.json().catch(()=>({}));throw new Ir(o.message||"Failed to upload image",s.status)}return(await s.json()).url},uploadVideo:async(t,e="videos")=>{const r=Cs(),n=new FormData;n.append("video",t),n.append("folder",e);const s=await fetch(`${Pr}/upload/video`,{method:"POST",headers:{...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include",body:n});if(s.status===401&&r){const o=await kp();if(o){const l=await fetch(`${Pr}/upload/video`,{method:"POST",headers:{Authorization:`Bearer ${o}`},credentials:"include",body:n});if(!l.ok){const u=await l.json().catch(()=>({}));throw new Ir(u.message||"Failed to upload video",l.status)}return(await l.json()).url}else throw ih(),new Ir("Session expired. Please login again.",401)}if(!s.ok){const o=await s.json().catch(()=>({}));throw new Ir(o.message||"Failed to upload video",s.status)}return(await s.json()).url},uploadBase64:async(t,e="image.jpg",r="uploads")=>Fr("/upload/base64",{method:"POST",body:JSON.stringify({base64:t,fileName:e,folder:r})}).then(n=>n.url),uploadBatch:async(t,e="uploads")=>{const r=Cs(),n=new FormData;t.forEach(o=>{n.append("images",o)}),n.append("folder",e);const s=await fetch(`${Pr}/upload/batch`,{method:"POST",headers:{...r?{Authorization:`Bearer ${r}`}:{}},credentials:"include",body:n});if(s.status===401&&r){const o=await kp();if(o){const l=await fetch(`${Pr}/upload/batch`,{method:"POST",headers:{Authorization:`Bearer ${o}`},credentials:"include",body:n});if(!l.ok){const u=await l.json().catch(()=>({}));throw new Ir(u.message||"Failed to upload images",l.status)}return(await l.json()).urls}else throw ih(),new Ir("Session expired. Please login again.",401)}if(!s.ok){const o=await s.json().catch(()=>({}));throw new Ir(o.message||"Failed to upload images",s.status)}return(await s.json()).urls}},Uq=Object.freeze(Object.defineProperty({__proto__:null,ApiError:Ir,adminWalletApi:I1,adminWithdrawalsApi:ly,apiRequest:Fr,authApi:Kx,builderApi:M1,catalogVariantsApi:Bq,catalogueFieldsApi:ob,checkoutApi:v6,getToken:Cs,invoiceApi:bw,productApi:Di,removeTokens:ih,reviewsApi:OI,shippingApi:zq,storeApi:ua,storeCustomersApi:$q,storeOrdersApi:cf,storeProductsApi:La,uploadApi:em,variantOptionsApi:Gp,walletApi:xg,withdrawalApi:fN},Symbol.toStringTag,{value:"Module"})),Wq=b.createContext(void 0),tme=({children:t})=>{const[e,r]=b.useState(null),[n,s]=b.useState(!0),a=rs();b.useEffect(()=>{(async()=>{try{if(localStorage.getItem("token")){const p=await Kx.getMe();p.success&&p.user&&r({id:p.user.id,email:p.user.email,name:p.user.name,role:p.user.role,createdAt:p.user.createdAt,lastLogin:p.user.lastLogin})}}catch(h){console.error("Auth check failed:",h),localStorage.removeItem("token"),localStorage.removeItem("refreshToken")}finally{s(!1)}})()},[]);const o=async(d,h)=>{try{const p=await Kx.login(d,h);if(p.success&&p.user)r({id:p.user.id,email:p.user.email,name:p.user.name,role:p.user.role,createdAt:p.user.createdAt});else throw new Error("Login failed")}catch(p){throw p instanceof Ir?p:new Error("Failed to login. Please try again.")}},l=async(d,h,p)=>{try{const f=await Kx.register(p,d,h);if(f.success)return;throw new Error(f.message||"Registration failed")}catch(f){throw f instanceof Ir?f:new Error("Failed to register. Please try again.")}},c=async()=>{try{await Kx.logout()}catch(d){console.error("Logout error:",d)}finally{r(null),a("/")}},u=async()=>{try{const d=await Kx.getMe();d.success&&d.user&&r({id:d.user.id,email:d.user.email,name:d.user.name,role:d.user.role,createdAt:d.user.createdAt,lastLogin:d.user.lastLogin})}catch(d){console.error("Failed to refresh user:",d)}};return i.jsx(Wq.Provider,{value:{user:e,isAuthenticated:!!e,isLoading:n,login:o,signup:l,logout:c,isAdmin:(e==null?void 0:e.role)==="superadmin",isMerchant:(e==null?void 0:e.role)==="merchant"||(e==null?void 0:e.role)==="superadmin",refreshUser:u},children:t})},Ba=()=>{const t=b.useContext(Wq);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Gq=b.createContext(void 0),ev=()=>{const t=b.useContext(Gq);if(!t)throw new Error("useStore must be used within a StoreProvider");return t},rme=({children:t})=>{const{user:e}=Ba(),[r,n]=b.useState([]),[s,a]=b.useState(null),[o,l]=b.useState(!0),[c,u]=b.useState(null),d=b.useRef(null),h=b.useCallback(async()=>{if(!(e!=null&&e.id)){n([]),a(null),d.current=null,l(!1);return}try{l(!0),u(null);const m=await ua.listMyStores();if(m.success){const g=m.data||[];n(g);const y=d.current||localStorage.getItem("selectedStoreId");if(!y&&g.length>0){const x=localStorage.getItem("selectedStoreId"),w=x?g.find(S=>S.id===x||S._id===x):null;if(w)a(w),d.current=w.id||w._id||null;else{const S=g[0];a(S);const N=S.id||S._id||"";d.current=N,localStorage.setItem("selectedStoreId",N)}}else if(y){const x=g.find(w=>w.id===y||w._id===y);if(x)a(x);else if(g.length>0){const w=g[0];a(w);const S=w.id||w._id||"";d.current=S,localStorage.setItem("selectedStoreId",S)}else a(null),d.current=null,localStorage.removeItem("selectedStoreId")}}else u("Failed to load stores")}catch(m){console.error("Error loading stores:",m),u(m.message||"Failed to load stores"),n([]),a(null),d.current=null}finally{l(!1)}},[e==null?void 0:e.id]);b.useEffect(()=>{h()},[h]);const p=b.useCallback(m=>{const g=r.find(y=>y.id===m||y._id===m);if(g){a(g);const y=g.id||g._id||m;d.current=y,localStorage.setItem("selectedStoreId",y),$e.success(`Switched to ${g.storeName}`)}else $e.error("Store not found")},[r]);b.useEffect(()=>{const m=d.current;if(m&&r.length>0){const g=r.find(y=>y.id===m||y._id===m);g&&a(y=>{if(y!==g){const x=(y==null?void 0:y.id)||(y==null?void 0:y._id),w=g.id||g._id;if(x===w)return g}return y})}},[r]),b.useEffect(()=>{if(s){const m=s.id||s._id||null;d.current=m}else d.current=null},[s==null?void 0:s.id,s==null?void 0:s._id]);const f={stores:r,selectedStore:s,setSelectedStore:m=>{if(a(m),m){const g=m.id||m._id||"";d.current=g,localStorage.setItem("selectedStoreId",g)}else d.current=null,localStorage.removeItem("selectedStoreId")},selectStoreById:p,refreshStores:h,loading:o,error:c};return i.jsx(Gq.Provider,{value:f,children:t})},Pc=(t,e)=>`${e}_${t}`,Ef=(t,e)=>{window.dispatchEvent(new CustomEvent("shelfmerch-data-update",{detail:{type:t,data:e,timestamp:Date.now()}}))},tv=t=>{const e=Pc(t,"products"),r=localStorage.getItem(e);return r?JSON.parse(r):[]},Hq=(t,e)=>{const r=tv(t),n=r.findIndex(a=>a.id===e.id);n>=0?r[n]={...e,updatedAt:new Date().toISOString()}:r.push(e);const s=Pc(t,"products");localStorage.setItem(s,JSON.stringify(r)),Ef("product",e)},nme=(t,e)=>{const r=tv(t).filter(s=>s.id!==e),n=Pc(t,"products");localStorage.setItem(n,JSON.stringify(r)),Ef("product")},A3=t=>{const e=Pc(t,"orders"),r=localStorage.getItem(e);return r?JSON.parse(r):[]},sme=(t,e)=>{const r=A3(t),n=r.findIndex(a=>a.id===e.id);n>=0?r[n]={...e,updatedAt:new Date().toISOString()}:r.push(e);const s=Pc(t,"orders");localStorage.setItem(s,JSON.stringify(r)),Ef("order",e)},ime=(t,e,r,n)=>{const s=A3(t),a=s.findIndex(o=>o.id===e);if(a>=0){s[a]={...s[a],status:r,trackingNumber:n||s[a].trackingNumber,updatedAt:new Date().toISOString()};const o=Pc(t,"orders");localStorage.setItem(o,JSON.stringify(s)),Ef("order",s[a])}},ame=t=>{const e=Pc(t,"store"),r=localStorage.getItem(e);return r?JSON.parse(r):null},ome=(t,e)=>{const r=Pc(t,"store"),n={...e,updatedAt:new Date().toISOString()};localStorage.setItem(r,JSON.stringify(n)),Ef("store",n)},k3=t=>{const e=Pc(t,"cart"),r=localStorage.getItem(e);return r?JSON.parse(r):{items:[],updatedAt:new Date().toISOString()}},lme=(t,e)=>{const r=k3(t),n=r.items.findIndex(a=>a.productId===e.productId&&a.variant.color===e.variant.color&&a.variant.size===e.variant.size);n>=0?r.items[n].quantity+=e.quantity:r.items.push(e),r.updatedAt=new Date().toISOString();const s=Pc(t,"cart");localStorage.setItem(s,JSON.stringify(r)),Ef("cart",r)},cme=(t,e,r,n)=>{const s=k3(t),a=s.items.findIndex(o=>o.productId===e&&o.variant.color===r.color&&o.variant.size===r.size);if(a>=0){n<=0?s.items.splice(a,1):s.items[a].quantity=n,s.updatedAt=new Date().toISOString();const o=Pc(t,"cart");localStorage.setItem(o,JSON.stringify(s)),Ef("cart",s)}},ume=(t,e,r)=>{const n=k3(t);n.items=n.items.filter(a=>!(a.productId===e&&a.variant.color===r.color&&a.variant.size===r.size)),n.updatedAt=new Date().toISOString();const s=Pc(t,"cart");localStorage.setItem(s,JSON.stringify(n)),Ef("cart",n)},dme=t=>{const e=Pc(t,"cart"),r={items:[],updatedAt:new Date().toISOString()};localStorage.setItem(e,JSON.stringify(r)),Ef("cart",r)},hme=t=>{const e=tv(t),r=A3(t),n=r.reduce((l,c)=>l+c.total,0),s=r.reduce((l,c)=>l+c.total*.4,0),a=r.filter(l=>l.status==="on-hold"||l.status==="in-production").length,o=r.filter(l=>l.status==="delivered").length;return{totalProducts:e.length,totalOrders:r.length,totalRevenue:n.toFixed(2),totalProfit:s.toFixed(2),pendingOrders:a,completedOrders:o}},Vq=b.createContext(void 0),fme=({children:t})=>{const{user:e}=Ba(),[r,n]=b.useState([]),[s,a]=b.useState([]),[o,l]=b.useState(null),[c,u]=b.useState([]),[d,h]=b.useState({items:[],updatedAt:new Date().toISOString()}),[p,f]=b.useState({totalProducts:0,totalOrders:0,totalRevenue:0,totalProfit:0,pendingOrders:0,completedOrders:0}),m=b.useCallback(()=>{if(!(e!=null&&e.id))return;const E=tv(e.id),T=A3(e.id),R=ame(e.id),I=k3(e.id),L=hme(e.id);n(E),a(T),l(R),u(R?[R]:[]),h(I),f(L)},[e==null?void 0:e.id]);b.useEffect(()=>{m()},[m]),b.useEffect(()=>{const E=T=>{m()};return window.addEventListener("shelfmerch-data-update",E),window.addEventListener("storage",E),()=>{window.removeEventListener("shelfmerch-data-update",E),window.removeEventListener("storage",E)}},[m]);const g=b.useCallback(E=>{e!=null&&e.id&&(Hq(e.id,E),m())},[e==null?void 0:e.id,m]),y=b.useCallback(E=>{e!=null&&e.id&&(nme(e.id,E),m())},[e==null?void 0:e.id,m]),x=b.useCallback(E=>{e!=null&&e.id&&(sme(e.id,E),m())},[e==null?void 0:e.id,m]),w=b.useCallback((E,T,R)=>{e!=null&&e.id&&(ime(e.id,E,T,R),m())},[e==null?void 0:e.id,m]),S=b.useCallback(E=>{e!=null&&e.id&&(ome(e.id,E),l(E),u(E?[E]:[]),m())},[e==null?void 0:e.id,m]),N=b.useCallback(E=>{e!=null&&e.id&&(lme(e.id,E),m())},[e==null?void 0:e.id,m]),C=b.useCallback((E,T,R)=>{e!=null&&e.id&&(cme(e.id,E,T,R),m())},[e==null?void 0:e.id,m]),A=b.useCallback((E,T)=>{e!=null&&e.id&&(ume(e.id,E,T),m())},[e==null?void 0:e.id,m]),k=b.useCallback(()=>{e!=null&&e.id&&(dme(e.id),m())},[e==null?void 0:e.id,m]);return i.jsx(Vq.Provider,{value:{products:r,orders:s,store:o,stores:c,cart:d,stats:p,refreshData:m,addProduct:g,deleteProduct:y,addOrder:x,updateOrderStatus:w,saveStore:S,addToCart:N,updateCartQuantity:C,removeFromCart:A,clearCart:k},children:t})},pme=()=>{const t=b.useContext(Vq);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t},ws=({children:t,requireAdmin:e=!1})=>{const{isAuthenticated:r,isAdmin:n}=Ba(),s=Vi();return r?e&&!n?i.jsx(jR,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:t}):i.jsx(jR,{to:"/auth",state:{from:s},replace:!0})};var mme=Symbol.for("react.lazy"),pN=K4[" use ".trim().toString()];function gme(t){return typeof t=="object"&&t!==null&&"then"in t}function qq(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===mme&&"_payload"in t&&gme(t._payload)}function LI(t){const e=xme(t),r=b.forwardRef((n,s)=>{let{children:a,...o}=n;qq(a)&&typeof pN=="function"&&(a=pN(a._payload));const l=b.Children.toArray(a),c=l.find(vme);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return i.jsx(e,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return i.jsx(e,{...o,ref:s,children:a})});return r.displayName=`${t}.Slot`,r}var Yq=LI("Slot");function xme(t){const e=b.forwardRef((r,n)=>{let{children:s,...a}=r;if(qq(s)&&typeof pN=="function"&&(s=pN(s._payload)),b.isValidElement(s)){const o=wme(s),l=bme(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Af(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yme=Symbol("radix.slottable");function vme(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yme}function bme(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function wme(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const P3=Hy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=b.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},a)=>{const o=n?Yq:"button";return i.jsx(o,{className:dt(P3({variant:e,size:r,className:t})),ref:a,...s})});pe.displayName="Button";const jme="/assets/logo-CqGh_WJ0.png",Sme=()=>{const{isAuthenticated:t,user:e,logout:r}=Ba();rs();const n=async()=>{await r()};return i.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[i.jsx(_t,{to:"/",className:"flex items-center gap-2",children:i.jsx("div",{className:"flex items-center",children:i.jsx("img",{src:jme,alt:"logo",className:"w-40 rounded-3xl shadow-2xl"})})}),i.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[i.jsx(_t,{to:"/products",className:"flex items-center gap-1 transition-colors hover:text-primary",children:i.jsx("span",{className:"text-l font-medium",children:"Products"})}),i.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-primary transition-colors",children:[i.jsx("span",{className:"text-l font-medium",children:"Solutions"}),i.jsx(gu,{className:"h-4 w-4"})]}),i.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-primary transition-colors",children:[i.jsx("span",{className:"text-l font-medium",children:"About Us"}),i.jsx(gu,{className:"h-4 w-4"})]}),i.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-primary transition-colors",children:[i.jsx("span",{className:"text-l font-medium",children:"Support"}),i.jsx(gu,{className:"h-4 w-4"})]}),i.jsx(_t,{to:"/pricing",className:"flex items-center gap-1 transition-colors hover:text-primary",children:i.jsx("span",{className:"text-l font-medium",children:"Pricing"})})]}),i.jsx("div",{className:"flex items-center gap-3",children:t?i.jsxs(i.Fragment,{children:[i.jsx(_t,{to:"/dashboard",children:i.jsx(pe,{variant:"ghost",className:"hidden sm:inline-flex text-sm font-medium",children:"Dashboard"})}),i.jsx("span",{className:"text-sm font-medium hidden md:inline",children:e==null?void 0:e.name}),i.jsx(pe,{variant:"ghost",className:"text-sm font-medium",onClick:n,children:"Log out"})]}):i.jsxs(i.Fragment,{children:[i.jsx(_t,{to:"/auth",children:i.jsx(pe,{variant:"ghost",className:"hidden sm:inline-flex text-sm font-medium",children:"Log in"})}),i.jsx(_t,{to:"/auth",children:i.jsx(pe,{className:"bg-primary hover:bg-lime-dark text-primary-foreground font-semibold px-5 py-2 rounded-lg",children:"Sign up for free"})})]})})]})})},Nme="/assets/hero-products-DmiZGeJR.png",Cme=()=>i.jsx("section",{className:"py-16 md:py-20 lg:py-24 bg-secondary",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("h1",{className:"text-4xl md:text-4xl lg:text-5xl font-bold leading-tight text-foreground",children:"Driving Global E-commerce with Locally Produced, Print-On-Demand Products"}),i.jsx("p",{className:"text-base text-foreground max-w-xl",children:"Design, sell, and scale your brand effortlessly with Shelf Merch's powerful print-on-demand platform. Custom merchandise, global delivery, zero upfront costs"}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx(_t,{to:"/auth",children:i.jsxs(pe,{className:"bg-primary hover:bg-lime-dark text-primary-foreground font-semibold px-6 py-3 rounded-lg flex items-center gap-2",children:["Get started for free",i.jsx(Sd,{className:"h-4 w-4"})]})}),i.jsx(_t,{to:"/products",children:i.jsxs(pe,{variant:"outline",className:"bg-background border-primary text-primary hover:bg-secondary font-semibold px-6 py-3 rounded-lg flex items-center gap-2",children:["See our Products",i.jsx(Sd,{className:"h-4 w-4"})]})})]})]}),i.jsx("div",{className:"flex justify-center lg:justify-end",children:i.jsx("div",{className:"w-fit",children:i.jsx("img",{src:Nme,alt:"Merchandise products - t-shirt, hoodie, tote bag",className:"max-w-md w-full rounded-2xl shadow-xl"})})})]})})});function _me(t){return Object.prototype.toString.call(t)==="[object Object]"}function _R(t){return _me(t)||Array.isArray(t)}function Ame(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function RI(t,e){const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),a=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==a?!1:r.every(o=>{const l=t[o],c=e[o];return typeof l=="function"?`${l}`==`${c}`:!_R(l)||!_R(c)?l===c:RI(l,c)})}function AR(t){return t.concat().sort((e,r)=>e.name>r.name?1:-1).map(e=>e.options)}function kme(t,e){if(t.length!==e.length)return!1;const r=AR(t),n=AR(e);return r.every((s,a)=>{const o=n[a];return RI(s,o)})}function DI(t){return typeof t=="number"}function w6(t){return typeof t=="string"}function E3(t){return typeof t=="boolean"}function kR(t){return Object.prototype.toString.call(t)==="[object Object]"}function si(t){return Math.abs(t)}function FI(t){return Math.sign(t)}function lb(t,e){return si(t-e)}function Pme(t,e){if(t===0||e===0||si(t)<=si(e))return 0;const r=lb(si(t),si(e));return si(r/t)}function Eme(t){return Math.round(t*100)/100}function i2(t){return a2(t).map(Number)}function bd(t){return t[ww(t)]}function ww(t){return Math.max(0,t.length-1)}function BI(t,e){return e===ww(t)}function PR(t,e=0){return Array.from(Array(t),(r,n)=>e+n)}function a2(t){return Object.keys(t)}function Xq(t,e){return[t,e].reduce((r,n)=>(a2(n).forEach(s=>{const a=r[s],o=n[s],l=kR(a)&&kR(o);r[s]=l?Xq(a,o):o}),r),{})}function j6(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Tme(t,e){const r={start:n,center:s,end:a};function n(){return 0}function s(c){return a(c)/2}function a(c){return e-c}function o(c,u){return w6(t)?r[t](c):t(e,c,u)}return{measure:o}}function o2(){let t=[];function e(s,a,o,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(a,o,l),c=()=>s.removeEventListener(a,o,l);else{const u=s;u.addListener(o),c=()=>u.removeListener(o)}return t.push(c),n}function r(){t=t.filter(s=>s())}const n={add:e,clear:r};return n}function Ime(t,e,r,n){const s=o2(),a=1e3/60;let o=null,l=0,c=0;function u(){s.add(t,"visibilitychange",()=>{t.hidden&&m()})}function d(){f(),s.clear()}function h(y){if(!c)return;o||(o=y,r(),r());const x=y-o;for(o=y,l+=x;l>=a;)r(),l-=a;const w=l/a;n(w),c&&(c=e.requestAnimationFrame(h))}function p(){c||(c=e.requestAnimationFrame(h))}function f(){e.cancelAnimationFrame(c),o=null,l=0,c=0}function m(){o=null,l=0}return{init:u,destroy:d,start:p,stop:f,update:r,render:n}}function Mme(t,e){const r=e==="rtl",n=t==="y",s=n?"y":"x",a=n?"x":"y",o=!n&&r?-1:1,l=d(),c=h();function u(m){const{height:g,width:y}=m;return n?g:y}function d(){return n?"top":r?"right":"left"}function h(){return n?"bottom":r?"left":"right"}function p(m){return m*o}return{scroll:s,cross:a,startEdge:l,endEdge:c,measureSize:u,direction:p}}function Pg(t=0,e=0){const r=si(t-e);function n(u){return u<t}function s(u){return u>e}function a(u){return n(u)||s(u)}function o(u){return a(u)?n(u)?t:e:u}function l(u){return r?u-r*Math.ceil((u-e)/r):u}return{length:r,max:e,min:t,constrain:o,reachedAny:a,reachedMax:s,reachedMin:n,removeOffset:l}}function Kq(t,e,r){const{constrain:n}=Pg(0,t),s=t+1;let a=o(e);function o(p){return r?si((s+p)%s):n(p)}function l(){return a}function c(p){return a=o(p),h}function u(p){return d().set(l()+p)}function d(){return Kq(t,l(),r)}const h={get:l,set:c,add:u,clone:d};return h}function Ome(t,e,r,n,s,a,o,l,c,u,d,h,p,f,m,g,y,x,w){const{cross:S,direction:N}=t,C=["INPUT","SELECT","TEXTAREA"],A={passive:!1},k=o2(),E=o2(),T=Pg(50,225).constrain(f.measure(20)),R={mouse:300,touch:400},I={mouse:500,touch:600},L=m?43:25;let U=!1,$=0,q=0,G=!1,W=!1,B=!1,O=!1;function K(le){if(!w)return;function ve(X){(E3(w)||w(le,X))&&J(X)}const fe=e;k.add(fe,"dragstart",X=>X.preventDefault(),A).add(fe,"touchmove",()=>{},A).add(fe,"touchend",()=>{}).add(fe,"touchstart",ve).add(fe,"mousedown",ve).add(fe,"touchcancel",ne).add(fe,"contextmenu",ne).add(fe,"click",se,!0)}function Y(){k.clear(),E.clear()}function D(){const le=O?r:e;E.add(le,"touchmove",ae,A).add(le,"touchend",ne).add(le,"mousemove",ae,A).add(le,"mouseup",ne)}function Z(le){const ve=le.nodeName||"";return C.includes(ve)}function ie(){return(m?I:R)[O?"mouse":"touch"]}function he(le,ve){const fe=h.add(FI(le)*-1),X=d.byDistance(le,!m).distance;return m||si(le)<T?X:y&&ve?X*.5:d.byIndex(fe.get(),0).distance}function J(le){const ve=j6(le,n);O=ve,B=m&&ve&&!le.buttons&&U,U=lb(s.get(),o.get())>=2,!(ve&&le.button!==0)&&(Z(le.target)||(G=!0,a.pointerDown(le),u.useFriction(0).useDuration(0),s.set(o),D(),$=a.readPoint(le),q=a.readPoint(le,S),p.emit("pointerDown")))}function ae(le){if(!j6(le,n)&&le.touches.length>=2)return ne(le);const fe=a.readPoint(le),X=a.readPoint(le,S),ce=lb(fe,$),Pe=lb(X,q);if(!W&&!O&&(!le.cancelable||(W=ce>Pe,!W)))return ne(le);const ke=a.pointerMove(le);ce>g&&(B=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(N(ke)),le.preventDefault()}function ne(le){const fe=d.byDistance(0,!1).index!==h.get(),X=a.pointerUp(le)*ie(),ce=he(N(X),fe),Pe=Pme(X,ce),ke=L-10*Pe,oe=x+Pe/50;W=!1,G=!1,E.clear(),u.useDuration(ke).useFriction(oe),c.distance(ce,!m),O=!1,p.emit("pointerUp")}function se(le){B&&(le.stopPropagation(),le.preventDefault(),B=!1)}function Q(){return G}return{init:K,destroy:Y,pointerDown:Q}}function Lme(t,e){let n,s;function a(h){return h.timeStamp}function o(h,p){const m=`client${(p||t.scroll)==="x"?"X":"Y"}`;return(j6(h,e)?h:h.touches[0])[m]}function l(h){return n=h,s=h,o(h)}function c(h){const p=o(h)-o(s),f=a(h)-a(n)>170;return s=h,f&&(n=h),p}function u(h){if(!n||!s)return 0;const p=o(s)-o(n),f=a(h)-a(n),m=a(h)-a(s)>170,g=p/f;return f&&!m&&si(g)>.1?g:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function Rme(){function t(r){const{offsetTop:n,offsetLeft:s,offsetWidth:a,offsetHeight:o}=r;return{top:n,right:s+a,bottom:n+o,left:s,width:a,height:o}}return{measure:t}}function Dme(t){function e(n){return t*(n/100)}return{measure:e}}function Fme(t,e,r,n,s,a,o){const l=[t].concat(n);let c,u,d=[],h=!1;function p(y){return s.measureSize(o.measure(y))}function f(y){if(!a)return;u=p(t),d=n.map(p);function x(w){for(const S of w){if(h)return;const N=S.target===t,C=n.indexOf(S.target),A=N?u:d[C],k=p(N?t:n[C]);if(si(k-A)>=.5){y.reInit(),e.emit("resize");break}}}c=new ResizeObserver(w=>{(E3(a)||a(y,w))&&x(w)}),r.requestAnimationFrame(()=>{l.forEach(w=>c.observe(w))})}function m(){h=!0,c&&c.disconnect()}return{init:f,destroy:m}}function Bme(t,e,r,n,s,a){let o=0,l=0,c=s,u=a,d=t.get(),h=0;function p(){const A=n.get()-t.get(),k=!c;let E=0;return k?(o=0,r.set(n),t.set(n),E=A):(r.set(t),o+=A/c,o*=u,d+=o,t.add(o),E=d-h),l=FI(E),h=d,C}function f(){const A=n.get()-e.get();return si(A)<.001}function m(){return c}function g(){return l}function y(){return o}function x(){return S(s)}function w(){return N(a)}function S(A){return c=A,C}function N(A){return u=A,C}const C={direction:g,duration:m,velocity:y,seek:p,settled:f,useBaseFriction:w,useBaseDuration:x,useFriction:N,useDuration:S};return C}function $me(t,e,r,n,s){const a=s.measure(10),o=s.measure(50),l=Pg(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(r.get())||!t.reachedAny(e.get()))}function d(f){if(!u())return;const m=t.reachedMin(e.get())?"min":"max",g=si(t[m]-e.get()),y=r.get()-e.get(),x=l.constrain(g/o);r.subtract(y*x),!f&&si(y)<a&&(r.set(t.constrain(r.get())),n.useDuration(25).useBaseFriction())}function h(f){c=!f}return{shouldConstrain:u,constrain:d,toggleActive:h}}function zme(t,e,r,n,s){const a=Pg(-e+t,0),o=h(),l=d(),c=p();function u(m,g){return lb(m,g)<=1}function d(){const m=o[0],g=bd(o),y=o.lastIndexOf(m),x=o.indexOf(g)+1;return Pg(y,x)}function h(){return r.map((m,g)=>{const{min:y,max:x}=a,w=a.constrain(m),S=!g,N=BI(r,g);return S?x:N||u(y,w)?y:u(x,w)?x:w}).map(m=>parseFloat(m.toFixed(3)))}function p(){if(e<=t+s)return[a.max];if(n==="keepSnaps")return o;const{min:m,max:g}=l;return o.slice(m,g)}return{snapsContained:c,scrollContainLimit:l}}function Ume(t,e,r){const n=e[0],s=r?n-t:bd(e);return{limit:Pg(s,n)}}function Wme(t,e,r,n){const a=e.min+.1,o=e.max+.1,{reachedMin:l,reachedMax:c}=Pg(a,o);function u(p){return p===1?c(r.get()):p===-1?l(r.get()):!1}function d(p){if(!u(p))return;const f=t*(p*-1);n.forEach(m=>m.add(f))}return{loop:d}}function Gme(t){const{max:e,length:r}=t;function n(a){const o=a-e;return r?o/-r:0}return{get:n}}function Hme(t,e,r,n,s){const{startEdge:a,endEdge:o}=t,{groupSlides:l}=s,c=h().map(e.measure),u=p(),d=f();function h(){return l(n).map(g=>bd(g)[o]-g[0][a]).map(si)}function p(){return n.map(g=>r[a]-g[a]).map(g=>-si(g))}function f(){return l(u).map(g=>g[0]).map((g,y)=>g+c[y])}return{snaps:u,snapsAligned:d}}function Vme(t,e,r,n,s,a){const{groupSlides:o}=s,{min:l,max:c}=n,u=d();function d(){const p=o(a),f=!t||e==="keepSnaps";return r.length===1?[a]:f?p:p.slice(l,c).map((m,g,y)=>{const x=!g,w=BI(y,g);if(x){const S=bd(y[0])+1;return PR(S)}if(w){const S=ww(a)-bd(y)[0]+1;return PR(S,bd(y)[0])}return m})}return{slideRegistry:u}}function qme(t,e,r,n,s){const{reachedAny:a,removeOffset:o,constrain:l}=n;function c(m){return m.concat().sort((g,y)=>si(g)-si(y))[0]}function u(m){const g=t?o(m):l(m),y=e.map((w,S)=>({diff:d(w-g,0),index:S})).sort((w,S)=>si(w.diff)-si(S.diff)),{index:x}=y[0];return{index:x,distance:g}}function d(m,g){const y=[m,m+r,m-r];if(!t)return m;if(!g)return c(y);const x=y.filter(w=>FI(w)===g);return x.length?c(x):bd(y)-r}function h(m,g){const y=e[m]-s.get(),x=d(y,g);return{index:m,distance:x}}function p(m,g){const y=s.get()+m,{index:x,distance:w}=u(y),S=!t&&a(y);if(!g||S)return{index:x,distance:m};const N=e[x]-w,C=m+d(N,0);return{index:x,distance:C}}return{byDistance:p,byIndex:h,shortcut:d}}function Yme(t,e,r,n,s,a,o){function l(h){const p=h.distance,f=h.index!==e.get();a.add(p),p&&(n.duration()?t.start():(t.update(),t.render(1),t.update())),f&&(r.set(e.get()),e.set(h.index),o.emit("select"))}function c(h,p){const f=s.byDistance(h,p);l(f)}function u(h,p){const f=e.clone().set(h),m=s.byIndex(f.get(),p);l(m)}return{distance:c,index:u}}function Xme(t,e,r,n,s,a,o,l){const c={passive:!0,capture:!0};let u=0;function d(f){if(!l)return;function m(g){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const w=r.findIndex(S=>S.includes(g));DI(w)&&(s.useDuration(0),n.index(w,0),o.emit("slideFocus"))}a.add(document,"keydown",h,!1),e.forEach((g,y)=>{a.add(g,"focus",x=>{(E3(l)||l(f,x))&&m(y)},c)})}function h(f){f.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function O1(t){let e=t;function r(){return e}function n(c){e=o(c)}function s(c){e+=o(c)}function a(c){e-=o(c)}function o(c){return DI(c)?c:c.get()}return{get:r,set:n,add:s,subtract:a}}function Zq(t,e){const r=t.scroll==="x"?o:l,n=e.style;let s=null,a=!1;function o(p){return`translate3d(${p}px,0px,0px)`}function l(p){return`translate3d(0px,${p}px,0px)`}function c(p){if(a)return;const f=Eme(t.direction(p));f!==s&&(n.transform=r(f),s=f)}function u(p){a=!p}function d(){a||(n.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function Kme(t,e,r,n,s,a,o,l,c){const d=i2(s),h=i2(s).reverse(),p=x().concat(w());function f(k,E){return k.reduce((T,R)=>T-s[R],E)}function m(k,E){return k.reduce((T,R)=>f(T,E)>0?T.concat([R]):T,[])}function g(k){return a.map((E,T)=>({start:E-n[T]+.5+k,end:E+e-.5+k}))}function y(k,E,T){const R=g(E);return k.map(I=>{const L=T?0:-r,U=T?r:0,$=T?"end":"start",q=R[I][$];return{index:I,loopPoint:q,slideLocation:O1(-1),translate:Zq(t,c[I]),target:()=>l.get()>q?L:U}})}function x(){const k=o[0],E=m(h,k);return y(E,r,!1)}function w(){const k=e-o[0]-1,E=m(d,k);return y(E,-r,!0)}function S(){return p.every(({index:k})=>{const E=d.filter(T=>T!==k);return f(E,e)<=.1})}function N(){p.forEach(k=>{const{target:E,translate:T,slideLocation:R}=k,I=E();I!==R.get()&&(T.to(I),R.set(I))})}function C(){p.forEach(k=>k.translate.clear())}return{canLoop:S,clear:C,loop:N,loopPoints:p}}function Zme(t,e,r){let n,s=!1;function a(c){if(!r)return;function u(d){for(const h of d)if(h.type==="childList"){c.reInit(),e.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(E3(r)||r(c,d))&&u(d)}),n.observe(t,{childList:!0})}function o(){n&&n.disconnect(),s=!0}return{init:a,destroy:o}}function Qme(t,e,r,n){const s={};let a=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(m=>{c||(m.forEach(g=>{const y=e.indexOf(g.target);s[y]=g}),a=null,o=null,r.emit("slidesInView"))},{root:t.parentElement,threshold:n}),e.forEach(m=>l.observe(m))}function d(){l&&l.disconnect(),c=!0}function h(m){return a2(s).reduce((g,y)=>{const x=parseInt(y),{isIntersecting:w}=s[x];return(m&&w||!m&&!w)&&g.push(x),g},[])}function p(m=!0){if(m&&a)return a;if(!m&&o)return o;const g=h(m);return m&&(a=g),m||(o=g),g}return{init:u,destroy:d,get:p}}function Jme(t,e,r,n,s,a){const{measureSize:o,startEdge:l,endEdge:c}=t,u=r[0]&&s,d=m(),h=g(),p=r.map(o),f=y();function m(){if(!u)return 0;const w=r[0];return si(e[l]-w[l])}function g(){if(!u)return 0;const w=a.getComputedStyle(bd(n));return parseFloat(w.getPropertyValue(`margin-${c}`))}function y(){return r.map((w,S,N)=>{const C=!S,A=BI(N,S);return C?p[S]+d:A?p[S]+h:N[S+1][l]-w[l]}).map(si)}return{slideSizes:p,slideSizesWithGaps:f,startGap:d,endGap:h}}function ege(t,e,r,n,s,a,o,l,c){const{startEdge:u,endEdge:d,direction:h}=t,p=DI(r);function f(x,w){return i2(x).filter(S=>S%w===0).map(S=>x.slice(S,S+w))}function m(x){return x.length?i2(x).reduce((w,S,N)=>{const C=bd(w)||0,A=C===0,k=S===ww(x),E=s[u]-a[C][u],T=s[u]-a[S][d],R=!n&&A?h(o):0,I=!n&&k?h(l):0,L=si(T-I-(E+R));return N&&L>e+c&&w.push(S),k&&w.push(x.length),w},[]).map((w,S,N)=>{const C=Math.max(N[S-1]||0);return x.slice(C,w)}):[]}function g(x){return p?f(x,r):m(x)}return{groupSlides:g}}function tge(t,e,r,n,s,a,o){const{align:l,axis:c,direction:u,startIndex:d,loop:h,duration:p,dragFree:f,dragThreshold:m,inViewThreshold:g,slidesToScroll:y,skipSnaps:x,containScroll:w,watchResize:S,watchSlides:N,watchDrag:C,watchFocus:A}=a,k=2,E=Rme(),T=E.measure(e),R=r.map(E.measure),I=Mme(c,u),L=I.measureSize(T),U=Dme(L),$=Tme(l,L),q=!h&&!!w,G=h||!!w,{slideSizes:W,slideSizesWithGaps:B,startGap:O,endGap:K}=Jme(I,T,R,r,G,s),Y=ege(I,L,y,h,T,R,O,K,k),{snaps:D,snapsAligned:Z}=Hme(I,$,T,R,Y),ie=-bd(D)+bd(B),{snapsContained:he,scrollContainLimit:J}=zme(L,ie,Z,w,k),ae=q?he:Z,{limit:ne}=Ume(ie,ae,h),se=Kq(ww(ae),d,h),Q=se.clone(),re=i2(r),le=({dragHandler:We,scrollBody:Ge,scrollBounds:ze,options:{loop:ot}})=>{ot||ze.constrain(We.pointerDown()),Ge.seek()},ve=({scrollBody:We,translate:Ge,location:ze,offsetLocation:ot,previousLocation:lt,scrollLooper:yt,slideLooper:Pt,dragHandler:ct,animation:zt,eventHandler:jt,scrollBounds:At,options:{loop:Ht}},Vt)=>{const It=We.settled(),Qt=!At.shouldConstrain(),Ut=Ht?It:It&&Qt,Zt=Ut&&!ct.pointerDown();Zt&&zt.stop();const Te=ze.get()*Vt+lt.get()*(1-Vt);ot.set(Te),Ht&&(yt.loop(We.direction()),Pt.loop()),Ge.to(ot.get()),Zt&&jt.emit("settle"),Ut||jt.emit("scroll")},fe=Ime(n,s,()=>le(Re),We=>ve(Re,We)),X=.68,ce=ae[se.get()],Pe=O1(ce),ke=O1(ce),oe=O1(ce),Oe=O1(ce),Ie=Bme(Pe,oe,ke,Oe,p,X),He=qme(h,ae,ie,ne,Oe),nt=Yme(fe,se,Q,Ie,He,Oe,o),ft=Gme(ne),Fe=o2(),Ae=Qme(e,r,o,g),{slideRegistry:it}=Vme(q,w,ae,J,Y,re),Ee=Xme(t,r,it,nt,Ie,Fe,o,A),Re={ownerDocument:n,ownerWindow:s,eventHandler:o,containerRect:T,slideRects:R,animation:fe,axis:I,dragHandler:Ome(I,t,n,s,Oe,Lme(I,s),Pe,fe,nt,Ie,He,se,o,U,f,m,x,X,C),eventStore:Fe,percentOfView:U,index:se,indexPrevious:Q,limit:ne,location:Pe,offsetLocation:oe,previousLocation:ke,options:a,resizeHandler:Fme(e,o,s,r,I,S,E),scrollBody:Ie,scrollBounds:$me(ne,oe,Oe,Ie,U),scrollLooper:Wme(ie,ne,oe,[Pe,oe,ke,Oe]),scrollProgress:ft,scrollSnapList:ae.map(ft.get),scrollSnaps:ae,scrollTarget:He,scrollTo:nt,slideLooper:Kme(I,L,ie,W,B,D,ae,oe,r),slideFocus:Ee,slidesHandler:Zme(e,o,N),slidesInView:Ae,slideIndexes:re,slideRegistry:it,slidesToScroll:Y,target:Oe,translate:Zq(I,e)};return Re}function rge(){let t={},e;function r(u){e=u}function n(u){return t[u]||[]}function s(u){return n(u).forEach(d=>d(e,u)),c}function a(u,d){return t[u]=n(u).concat([d]),c}function o(u,d){return t[u]=n(u).filter(h=>h!==d),c}function l(){t={}}const c={init:r,emit:s,off:o,on:a,clear:l};return c}const nge={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function sge(t){function e(a,o){return Xq(a,o||{})}function r(a){const o=a.breakpoints||{},l=a2(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>e(c,u),{});return e(a,l)}function n(a){return a.map(o=>a2(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:r,optionsMediaQueries:n}}function ige(t){let e=[];function r(a,o){return e=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),e.forEach(l=>l.init(a,t)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){e=e.filter(a=>a.destroy())}return{init:r,destroy:n}}function mN(t,e,r){const n=t.ownerDocument,s=n.defaultView,a=sge(s),o=ige(a),l=o2(),c=rge(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:h}=a,{on:p,off:f,emit:m}=c,g=I;let y=!1,x,w=u(nge,mN.globalOptions),S=u(w),N=[],C,A,k;function E(){const{container:re,slides:le}=S;A=(w6(re)?t.querySelector(re):re)||t.children[0];const fe=w6(le)?A.querySelectorAll(le):le;k=[].slice.call(fe||A.children)}function T(re){const le=tge(t,A,k,n,s,re,c);if(re.loop&&!le.slideLooper.canLoop()){const ve=Object.assign({},re,{loop:!1});return T(ve)}return le}function R(re,le){y||(w=u(w,re),S=d(w),N=le||N,E(),x=T(S),h([w,...N.map(({options:ve})=>ve)]).forEach(ve=>l.add(ve,"change",I)),S.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(Q),x.eventHandler.init(Q),x.resizeHandler.init(Q),x.slidesHandler.init(Q),x.options.loop&&x.slideLooper.loop(),A.offsetParent&&k.length&&x.dragHandler.init(Q),C=o.init(Q,N)))}function I(re,le){const ve=Y();L(),R(u({startIndex:ve},re),le),c.emit("reInit")}function L(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),o.destroy(),l.clear()}function U(){y||(y=!0,l.clear(),L(),c.emit("destroy"),c.clear())}function $(re,le,ve){!S.active||y||(x.scrollBody.useBaseFriction().useDuration(le===!0?0:S.duration),x.scrollTo.index(re,ve||0))}function q(re){const le=x.index.add(1).get();$(le,re,-1)}function G(re){const le=x.index.add(-1).get();$(le,re,1)}function W(){return x.index.add(1).get()!==Y()}function B(){return x.index.add(-1).get()!==Y()}function O(){return x.scrollSnapList}function K(){return x.scrollProgress.get(x.offsetLocation.get())}function Y(){return x.index.get()}function D(){return x.indexPrevious.get()}function Z(){return x.slidesInView.get()}function ie(){return x.slidesInView.get(!1)}function he(){return C}function J(){return x}function ae(){return t}function ne(){return A}function se(){return k}const Q={canScrollNext:W,canScrollPrev:B,containerNode:ne,internalEngine:J,destroy:U,off:f,on:p,emit:m,plugins:he,previousScrollSnap:D,reInit:g,rootNode:ae,scrollNext:q,scrollPrev:G,scrollProgress:K,scrollSnapList:O,scrollTo:$,selectedScrollSnap:Y,slideNodes:se,slidesInView:Z,slidesNotInView:ie};return R(e,r),setTimeout(()=>c.emit("init"),0),Q}mN.globalOptions=void 0;function $I(t={},e=[]){const r=b.useRef(t),n=b.useRef(e),[s,a]=b.useState(),[o,l]=b.useState(),c=b.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return b.useEffect(()=>{RI(r.current,t)||(r.current=t,c())},[t,c]),b.useEffect(()=>{kme(n.current,e)||(n.current=e,c())},[e,c]),b.useEffect(()=>{if(Ame()&&o){mN.globalOptions=$I.globalOptions;const u=mN(o,r.current,n.current);return a(u),()=>u.destroy()}else a(void 0)},[o,a]),[l,s]}$I.globalOptions=void 0;const Qq=b.createContext(null);function T3(){const t=b.useContext(Qq);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const zI=b.forwardRef(({orientation:t="horizontal",opts:e,setApi:r,plugins:n,className:s,children:a,...o},l)=>{const[c,u]=$I({...e,axis:t==="horizontal"?"x":"y"},n),[d,h]=b.useState(!1),[p,f]=b.useState(!1),m=b.useCallback(w=>{w&&(h(w.canScrollPrev()),f(w.canScrollNext()))},[]),g=b.useCallback(()=>{u==null||u.scrollPrev()},[u]),y=b.useCallback(()=>{u==null||u.scrollNext()},[u]),x=b.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),g()):w.key==="ArrowRight"&&(w.preventDefault(),y())},[g,y]);return b.useEffect(()=>{!u||!r||r(u)},[u,r]),b.useEffect(()=>{if(u)return m(u),u.on("reInit",m),u.on("select",m),()=>{u==null||u.off("select",m)}},[u,m]),i.jsx(Qq.Provider,{value:{carouselRef:c,api:u,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:y,canScrollPrev:d,canScrollNext:p},children:i.jsx("div",{ref:l,onKeyDownCapture:x,className:dt("relative",s),role:"region","aria-roledescription":"carousel",...o,children:a})})});zI.displayName="Carousel";const UI=b.forwardRef(({className:t,...e},r)=>{const{carouselRef:n,orientation:s}=T3();return i.jsx("div",{ref:n,className:"overflow-hidden",children:i.jsx("div",{ref:r,className:dt("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});UI.displayName="CarouselContent";const WI=b.forwardRef(({className:t,...e},r)=>{const{orientation:n}=T3();return i.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:dt("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",t),...e})});WI.displayName="CarouselItem";const age=b.forwardRef(({className:t,variant:e="outline",size:r="icon",...n},s)=>{const{orientation:a,scrollPrev:o,canScrollPrev:l}=T3();return i.jsxs(pe,{ref:s,variant:e,size:r,className:dt("absolute h-8 w-8 rounded-full",a==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...n,children:[i.jsx(ao,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Previous slide"})]})});age.displayName="CarouselPrevious";const oge=b.forwardRef(({className:t,variant:e="outline",size:r="icon",...n},s)=>{const{orientation:a,scrollNext:o,canScrollNext:l}=T3();return i.jsxs(pe,{ref:s,variant:e,size:r,className:dt("absolute h-8 w-8 rounded-full",a==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...n,children:[i.jsx(Sd,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Next slide"})]})});oge.displayName="CarouselNext";const lge="/assets/rubix-DSJIB33v.png",cge="/assets/yumchic-COaxwBAv.png",uge="/assets/datadog-bpfov6UB.png",dge="/assets/chhota-B2C06C8V.png",hge="/assets/racing-DyN-ztkW.png",fge="/assets/google-QtsRVLee.png",pge="/assets/aha-Cl-49nPE.png",mge=()=>{const t=[{name:"Rubix",logo:lge},{name:"Yum Chic",logo:cge},{name:"Datadog",logo:uge},{name:"Chhota Bheem",logo:dge},{name:"INDE Racing",logo:hge},{name:"Google",logo:fge},{name:"aha",logo:pge}];return i.jsx("section",{className:"py-8 border-y border-border bg-background",children:i.jsx("div",{className:"container",children:i.jsx(zI,{className:"w-full",opts:{dragFree:!0,loop:!1,align:"start",slidesToScroll:"auto"},children:i.jsx(UI,{className:"-ml-2 md:-ml-2",children:t.map((e,r)=>i.jsx(WI,{className:"pl-2 md:pl-3 basis-auto",children:i.jsx("div",{className:"flex items-center justify-center h-16 md:h-20 px-6 md:px-8 opacity-70 hover:opacity-100 transition-opacity",children:e.logo?i.jsx("img",{src:e.logo,alt:e.name,className:"h-10 md:h-12 w-auto object-contain grayscale hover:grayscale-0 transition-all cursor-pointer"}):i.jsx("div",{className:"text-foreground font-semibold text-lg md:text-xl grayscale hover:grayscale-0 transition-all cursor-pointer",children:e.name})})},r))})})})})},gge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABMCAYAAADp0nC5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAupSURBVHhe7Z15dFTVHcc/9032lRASkpDEhBBkT+BALauAK9WDS5WqVY/WulSquB17tC3H1tbtKC7UY1X0qFXq1nqoFRcURdxO2UJACCHBEILZJ2SZyca82z+SoeSavHnvzUwyoXz+y+/7hrz5zMu999175yGklJKTBA1NLZwksJwUHGREqDcRkr6nJxB9fg51QkKwh27aZAMu2UQ7zbTLZjqli07pwkM3HroBcBCOg3AiRSyRIpZokUg0icSKJOLEKByEq//0kDNkgl3SSbOsoUXW0ixraJfN6iGWiBaJJIo0EsRoEkUasWKkesiQMKiCdTw0ygoa9UqaZBWd0qUeEhAiRSxJIpNkLZtkkYOGQz1k0BgUwR66qNPLqdcP4JSH1DiojBRZpGhjSdXycBChxkEn6ILrZBk1nlKcslKNBpWRIps0x3hSxTg1CipBE9wq66nW91Kj70PHo8ZDgoaDNO1U0rWJxIsUNQ4KQRFco+/jsL6bVlmvRiFBvEhhjDaFNO1UNQo4ARXcLTuokruo8uzEw1E1DikchJHpKCBTTCVcRKlxwAiYYLc8wiG9iGq9RI1CmnRtAllaITFihBoFhIAIbpONHNS3U6+Xq9GwIEXL4xRtBnEiWY38xm/BbbKRCs8WGmSFGg0rRokcchyzAi7Zr8medtlCpb592MsFaJAVVOrbaZctauQXtgUflV1U6juoG6bNQn/U6eVU6js4KrvUyDa2BR+Wu6jW96rlYU+1vpfDcpdato0twXWynCo9cCcRalTpu6iTgfnLtNzJuaST/foXHNG/V6MBee2hD1izcp1aHlSW3X4mv3r4p2p5QEZoGeRr8/yelbMsuNzzNYf0nWrZkBt//CC1lU5yJqWrEQDOmhYOldaSOzmDhORYNTak1enmwO7DZI0fzci0BDUGoGJPNfFJsfzt2/vUyJAsrYA8x2y1bAlLghv1g5Ton9ItO9RoQNrbOjkv+XauuPscfnn/BWoMwPsvf80j17/CA+/czOzzpqqxId+s3809Fz7N3c9dxZJr5qgxAGtWruO1hz7gH5UPD/gh9Ee4iGKCtohk7RQ1Mo3pNlgiqZWlluQC7Ni0Dykl0+YN7izW8RTMyweg6PNSNTKkW3ZQK0t/sGxlBdOC6/VyW0Oyos9KEZpg6tyhEzxlTh5CE+z8fL8a+aRnHtv6+/ZiWrDdm4miTaWMn55NdFykGg0a0XGR5BdmsdPiFezF7nvHrOAmWUWDbv2XtLd1Urazimnze/5Eh5KC+fkcLKmh1Wl9mapBr6BJVqllU5gS7NQr0W1MP3rb38IFxoLDwnvWzDSHqdPpQ1iEudcW9J7D9s/2qZFPdI7i1O2tyBifFdCFG6fNT69oU0+bN3VOnhr1Yd7SApY/eimnnTtZjXwy88yJLH/0UuZfWKhGfZjW2wcUbbLXTDhlFV241bJPfApultW4pFMtm2LHpyXkTs4gfqTx2DY6LpJLbl2slk1zya2LiYk3njSPHxlLzqR0Wx0dx7YZVKtln/gWrNeoJVO0t3VSXnw4JNpfLwXz8/nu2+9ttcPYdOFTcIusVUum2LaxBCklBfOHbnimMrV3LF602d5VbMeFoeA22UirbFDLpvC2dTPPmKhGQ0bhgvEAtpuJVtlAm2xUy4YYCnbLJiS6WjZF0aZSMvNH+2x/vRR/UaaWTFNs8opMTk8kY2yK7fGwRMctm9SyIT4EH1FLpnC3dFBeXMWU2WPVqF8+e3sbKxY/ZuvKKtpUyoozVvH5OzvUqF+mzMmjbGcVnW57k+pWnRgKbsfe8klMQk+P7qw19/qy4p5hYPku68PB8t7Xlu4wN06tO9QzIoqMsbeNyqoTQ8Gdsk0tmWb8jGx2bt6Ps8b3CW18YysAbzy2wfKVtWHtfwB49/nNtDQajw6q9tdStKmUWWdPUiPTWHViLBjjEzbiopsX0unu4pEbXlGjPjz+679T/V0DedMyqatq4oFrX6Kro2c/sC9W3/Em+7YdZOKPcmlpdPHHK9fQ4epUD4PeK/e+y9cAcPld56ixaaw6MZwP/rL7JbqxNj15PL+96Bm+eq+YybPH8pNr5pCem4Lo3aB+pL6VjW9sZfO6IqYvOpVVH97G3eevZstHexiREsfSGxYwfWH/W5tanC7efX4zWz/ey2lLpvDQuuU8e+87vP7oR2SOS2XW2ZPImZRO5rhUurs8fPXvYv713OcALL1hAbf/5XL1nzRNOFHMDb9GLQ+IoeDPup8FP+ZC335qI0/f9ZZa7sPPf3Nun4n4t574mJf/vB5Xc3uf4/rj2pXnc/Xvzjv28/svf80LK9fRWD3wZu5f3LeUq+5dopYtIFgYfqNaHBAfgv+qlizhFXzL48uIiY+i5uD/xpAjRsUz6+xJjMn74S7HlkYXWz7ew+GyenS97zAxIjKcbRtL2L6xhPXOJ/qdBi3ZUsGB3YeprzqCRJKRO4ro+ChWXvpsAATDwvCb1NKADChYItncvcavradewU9uvDOgKxr3X/kCG9/cOqDg/ijevJ8VZ6ziuj8s5cp77AvWcLAg/Hq1PCADdnICgUaYWg4pvO35YGLVyYCC6V30O9EQfn4qVp0YCo4gRi2FFLZk2XjJ8Vh1Yig4WsSrpWGPrQ/lOKw6MRQchfk9BEOCn7LsYNWJoeBg7foOFHb8+nsFW3ViKNjffVmhiJ9+LTsZcBzsZfvRf9Ii69SyKczcyfnDR62rCY80N2zyjoNvfPBiLrvzLDU2RYJIZUbYxWrZEJ+Cy/QvqfLY26rqFTyuIJPYxGg1ts3BkhqO1LXyadczajQgxV+UsWLxY9z00MX87A57gjMdUxmnzVXLhvgUXKeXs8ezQS2bIlh3cn+6+kU+eX0LG9pWExZh7Qr2R/Akx1mkasZbEFQM22CAEVo6sSJJLQ9b7HZysSKJEVr/22+N8Ck4ghiSRJZaDg1syLLxEgCSRJblmwzMCAZI1rIR5g49IRFoJGvZatkUpqwliUxSNHMLmMcT27s2191pfV+bER2uLiJjIo7taTOD0HouXaGZest9SNHGkiQy1bIpTP+2USJXLflkwqwcALZ/Griv17qa29myYY/lTtO4KzfGznv3YlpwipZLqmbtTeVOzmD8jGzWPvIh2z4JjOTXV22gq6ObC286XY1MofVeyWZJ1caRog2CYIHGaJFPGOYmuL3c9tRlANy15Enee/FL3K321vg6XJ2sfeRDXn3wfeZfUMic86eph5jDgt8wIhkt8v3qf3yOg1XsfMvom/W7ue+K530uycckRBGXGEN8UgyxidHHevxOdxclWw8CsHjZTH7/6nV9X2gC743GLY8v4+Lli9S4Xwb9W0b0bqfa59lEs7S207CptoVXH/7g2EaR/mhv66S1yU3bETetTW4y80eTnN4zexUdF8myFWcyfVH/K82+cLd2sOrmtVx17xJOmeh7PJso0jjVcToxft4DWBYMUKeXsV//km7pe+V3OBIuosnX5lruc/rDVuOSqo0jU5uilk8YMrUpAZGLXcEAY8QUMjT7W5BClQxtEmNE4C4e24LDRCTZWiEpwtrkRyiTIvLI1goJE9ZGSkbYFgwQJRLICZvh10A8VBglcskJm0GUsLYk5AtbnZyKSzqp8GylXh5Qo2FBihhLjmOm5dUKMwREML3Dt0N68bB7SEe6NpEsbZrfw7GBCJhggKN0cchTxCG92NYXFwcTjTCytGlkOQoJC+IzLQMq2EuN3Mf3nm9tr+UFmwSRSoZjMmnC3k2LFYIimGPPriyhWt9r+4s0gUagka5NJF2bMLyfXXk8J5++GmTB9D5CvE6WU+8pH5rnBzvySBV5Q/II8kER7EXHQ4NegVOvpIkgPwGbTEZq2YzS/g+egN0fLtlEi6yhWVbTLGsD9Az30SSKdBJEWsishA+Z4OM5ShdtsgG33kQ7LbTLFrpw0Ykbj+zq+78QiAgiiSGCWKJFAjEikWgxgjgxKqjDLbuEhOATmf8C5XGn/bYlzskAAAAASUVORK5CYII=",xge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAABOCAYAAACt8XHIAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA10SURBVHhe7Z15dBRVvsc/VR2y7wQ6ELYkhEBAJGAMO2FJYFRmBAFlmVFHRB0QCDzk+WYGcTi88/QRgsoTkVFxkExUOMKIgxBkWGVfQkYgEqLEBEISQiBk63R3vT86adLVdOiqXhI9+ZzTJ/T3d9N0f/vWvb/7q1sVQZIkiTbchigX2nAtbYa7GaE1Dyk6qZpKSqg03qCGCmqkSnRUo6cWg6RHwoiAiEbwwANvPPHFRwjAh2ACxPYE0BFPwVf+si1KqzO8QiqizHiFm1IhVVK5PKwYPyGUEKELYWJ3goUIedjttArDq6UKiqVcrhsuUccdedhpeOGPVhNDuBCLrxAsD7uFFjX8lnSdIuM5SoyX5SGX01GMJkLsT5CglYdcSosYXi1VcMV4iuvGS/KQ29GKMXQXB7mtx7vd8B8Np/jReEIutzg9xAR6aAbJZafjNsPvSGV8bzjIbem6PNRqCBS09NKMwF8Ik4echlsMv2a8SK5hn1xutcRqkugk9pbLTsHlhucbj1FgOCOXWz3dNPFEiYly2WFcaniuYR/XjBfl8s+GTmJvYjVJctkhXGb4BcM3rSILcRStGEMfzVi5rBqX1FJyDft+EWYDXDdecur843TD843HftbDyL24ZrxIvvGYXFaFUw2/Zrz4s5wg7aHAcMYpHclpht+Rypx66LVGcg37uCOVyWVFOG3SPK3/QtGipuhyKZ+/9Q0XT/xI7qkr8rDL6Ts4iv4jejJ9cQoBoX7ysE0CBS0DPSbJZbtxiuFKl+s7N37Lm3M2mZ/3HRKFRzuNRRtXoq838N2RfABCtIEs3fA7Eif0lTeziSNlAIcNr5YqOK7PlMs2aTQ7NDyQZ5dNZOxTCfj4e8mbuZy6ah1fbzrKule2UFdTz7uHXqHPw5HyZjZ52OMpVQUvhw1Xkm9f+6GMZx78C95+nnyc/RrBHQPMMb1Oz/Hd58nLLmTAyBj6j4ix+F3JKLHtvf3cumFZL/cP8uWJeaMRRIF9W07RI64zPeI6WbSRJInt7x1g9NRBBIX5W8QKcot5adgb+Ph58cn51/H2s+/LV5ufO2T4Lek6Z/RfyGWbvLUgk23r9vNaxmySptw9JAtyi1nyyDuU/HT3DE9EdAdey5hNTHw3AL7ccJDVczPM8aZsLXgDbz9PHm2fymOzh7P43ZkW8ZzDecwfncbL6dOYPHe0RQxg39bTvD59A4vXzeSx54bLwzaJ95ikuJ7uUJZSZDwnl5rlZNYFAkL9LMwGWDHrA25cq2DJ+lmkZ6Xynx88ja5Wz6Lxa9Dr9NAwyQKs2PIi6Vmp5se6w0sJDQ9ErzMAmH82xaA3mn7WW8cAkp4YiLefF7s2HZWHmkXp58cRw6ulCsVnakqvVhCXaDlOFl+5QV52Ib96ZiiPPDuMAaN6Mf63g/nwzJ959aNn8PD0AMBoNB2I/QZHMWBUL/Ojd0IPi9dTS+ygbly5WCyXm6XEeJlqqUIuN4tqw4ulXLl0X+qqdQTZSMGqb9daPPcP9mHoo/3Nzw36ht4pCHcbNcGGDIDQXLCBwBA/Ksur5PJ9UeqDasOvG+ybKBupulUDgKd3Ows9vHt7+g2NZu9nJ0n7w2Zqq+os4o3UVetM/1A/5TSLt5+nXLILpT6oMrxCKlJ8dl3fMH5qPKz/y2Wbn6NzVAd2/PUQUyNf5a0FmVz7wXJFV1dTD0Dm6iw2rthhfmSu2o0D874ZjYdpHWDrC7dFHXeokIrksk2sP70dlBnVrwwF0frw7hARwkdn/8zL6dPw8fNm27r9zH5oJcd3fWduo6s1Gf7p6iw+XvGV+bFxxQ5uld5pdkxpJmSmsY2a706JH6oMvykVyqX70tiDbOHp3Y7Jc0fzaf5KUtdOx2AwsmzaenNP19WZDJdnKRtO/NEin1dL4xGoZhGmxA/FhuukalU7ovyDfQDQ1ZrSPFsIgsCv54xk2ebnqKupZ//W0wDU15l+r9+QaIsspWsvZXmwLRpfXw1VUjk6qVou3xPFhldSIpfsxsvX8+7k10BleZV5fG5Kl54dAbjTMNk2poe2jvlmM5HmYg3UVNUR2P7eGZQ92OuLcsONN+SS3Wi7hlJadNNC+9PU9cyI/RM5h/PMmtFgZMMftwEQN9iUt/v6e5vjrqC0qILgMPVDk72+KDa8BmWJflOi+3fh3KE8yotvm7WnFiVzu7ya+aPTeHbAX1g4bjWz4l7j0D+yeSi5D0MeeQAAbbcQAD5Nt8xStry9F0mSzNnP5XOFvDH7bywct5p/vH8AwFyJPLHnAsumric1OZ2TWRfM76G06Cb5OUVE9u1s1pRiry+a5cuXL5eLzfGT8ZzilLARb19P9mSeQF9vIHG8qRzatZeWXz09hHqdnuyDlyjKKyU0PIjHZg9nfvqTeHqZ8vaOXUM4sfs8R77KIfvAJfPjxO7zTPpDEv7BvhR+X8LJby6Ql13I9Svl5J0tZNrCcYSGB3Hkn/8m53AeBbnFFF+5wa0bd0ie8TAAaxd9Tl52IfPSptI5qoPFe7YXDZ527WVRXLw6qs+gVrrbQ5Xy3898RFbGcZ5clMyL/zNZHr4vkiRRlFdCXU09kX07I2qsD9IrF67RISIE30DLYUgySlzOKaJHn3DznJC5ajfr/+sLBo7pTdrXCyzaK8FbCGSwxwy5bIViww/pP0QvWU58Sqir1rH012vJPnCJ/sN7kjwzkYioDgiiwIBRveTNqSyv4nJOEdruoXTqYf8WtPPHfjDn7nIkCYp/LOPQ9my+/eocIdpA3j/2KmGdlde3G/EQPBnu8Xu5bIViw/fXv4+EqfqmlrpqHW+nfsY/Pzpsoc9ZOYnpS1LMz0/vvcjSiWvNOXLfwVEkz0wk6YmBVnXtpnyWvod1S7fKZSu8/bwYNz2BOSsnERDi2JUSAiKj2s2Ry1YoNnxf/XtySTWV5VWcO5zH1cul1FbX89hzwwjRBprjzyes5Gp+GVPmj+H7MwUc33Ueo8GIIAoMHB3L2CcTGDkpHr8gU47fSNnVCr7++Aj6xoJXE9p5etArvhsBIb5OqzQ2ktTuRblkhWLDndHD7SXZbx7xo2N5c8fLAFSUVJKVcYysjONcOvsTAKJG5KFxfUiaMoiRjw+wMt9duKyHOzqGK2HJo2+TcyiP7cVpePlYVhnz/13E1x8fYU/mCW5eN03iokYkISWOsU8mMGpyvFVl0pXYO4YrTguvGi+gR1lFzRH2bTlN11gt0f27WOghHQNJSIlj6oKx9EmIxFBvoDCvhIKLxRzcdpbt6w9wu7yKyLjO+Aa4dtEE4Cn40UU0rRmaQ3EPP63fxm1J2ZkRtdTV1PN45yU8MCzaPKw0R9WtGvZ+dpJdm47y3VHTNghBFBg+8UGeX/m40+ou9yJQCGegx+Ny2QrrJPY++Ajql79K8fJpx8hJ8ZzYfZ4b127Jw1b4Bfkw8fkRrD2whE3fLWfGK+NBgoPbz3Jyz92VpSuw1xflhqM+V1VDykzTpvg9fz8uDzVLRM+O3CypRJIk+o+I4dHfD5M3cSr2+qLY8ACxvVxyKQPHxBLcwZ/dm+3fvSpJEv/7wifs3PgtcYmRvPnlPJdPoPb6otxwTGVTdyEIAhOeHkp+TpFdZ9Wbmt1rYDdW7VyAl6+685VKsNcXxYZ7Cr74CaFy2aVM+N0QaNgm1xxNzY56IILVuxaqOoOjFD8h1O5r+hUbDhAiWKZorqZ773BiBnRl1ydHbZ4wbmp2997hrMlKddsiSIkfqgwPE7vLJZeTMmswFSWVnN5rvQ9EkiTSXtpsPgJe/3SOoi3IjqLED1WGBwsReGG7eOQKxk1/GFEjkpVhOXlKksTquRl89eFh83nTZdPep6JUXc1eKV74K7pLhSrDAbQay92tria4gz8JKXH86/NT5rJr4zCy46+H6BQZxt9yljNl/hgKcotZMCZN1U4qpSj1QbXh4UKsXHI5KTMT0dXWc+CLMxZjdqfIMP7vwBJCtIHMXTXVbPrCcekuN12pD4qX9k05b8hSvKHTEXS19UzuupS4xEjCu7fnyw0H6dKzI2u+WUT7TkEWbdcu/pyt7+yl54NdWL071eF6973oKEYTp0mWy82iuocDRIh3N1u6A0/vu0v9LzccpFNkGG//a7GV2QDz0qbymxdGkpddyOIJb5n3NjoTNZ/fIcODBC1aUdkY5ijjZw0GsBhGbLHwnen85oWRXDpTQGrKGmruOK/KqRVjFG/Gx9EhBRXX+DiDnRu/JXFCP0LDbZvdlDXzM9n+3n7iEiNZtXOBUxZDLXaNDyquYmsJ0l7azI4PDtFvaDTv7PsPeVgRjlzF5tCQ0kgPzSACVRxe7mTRuzOY+PwILp8rtHk23x4CBa1qs3FWD6fhSuST+i1y+RfHQx5THLpjkFN6OIC/EOb0e4u0NmI1SQ6ZjTMNp+GGLt008XL5F0E3TbxdW9nuh1MNB4gSE53yxloTncTeTrsdk9MNp+HQc3d+7iq0YoxTh0qnTZr3ou2eV9a41HDa7upmhcsNp+2+hRa4xXDa7sxpxm2GN9JaywCOLNeV4HbDabu7svsNb6Tt/uEtRNsd8luQtr8B0YK0/ZWTNhzGJbWUNmzTZribaTPczfw/UD7BK703S/EAAAAASUVORK5CYII=",yge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAABPCAYAAACNmhluAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAlBSURBVHhe7Z1tUFTXHYefe3ddBEVRkRWxyksAFTGKCrZifdc26jRW08Q4mTbVJrFpnJqOTWISx2qmtbbWic1oTV+ikzE1UWOdaNRBDZiKoKhEq/iKkgF1AQEBUZHd2w+KA0eQvefeZVfc5xu//7k7y8Pdcw/nnntW0TRNw49XUMXAT+vhl+9F/PK9iOKrfX6tVkMVxVS5rnGTCm5qVdRSQx23cGp1aLhQULEoVqy0x0YQgUowgYQQrHYjmDBsSpD4sj6FT8mv0IoodRVQrhVyQysTy7rpoHSli9KLULUPIUqEWPY6Xpdfo1VwVTuDw3mO21SLZdMIoCN2Syw9lHiClBCx7BW8Jv+65qDIdZxi1wWx5HHC1Bgi1IF0VuxiqVVpdfk1WgUFriM4XOfEUqtjV2Ppow7x2iehVeVfch7hkuuwGHudSHUYkZYhYuxxWkV+tVbKWefXVGoOseQzdFLsxFlG0lEJFUsew+Pyr7hOc8aZLsY+S7xlNOFqXzH2CB6Vn+/K5lvnMTH2eXpbBhOtpoix6XhM/hlnOldcp8X4kSFc7Uu8ZbQYm4pH5Oc59/rEaMYodjWWfpZxYmwaps/tnHGmtwnxAA7XOY9er0yVn+/KfqS7mqa44jpNvitbjE3BNPlXXKcfyYurO3zrPOaRk8oU+dVaqUc/nr7AGWc61VqpGBvClAvu0bqthv+Bys04S9GFEgrPF1N0voTSyxVUXqumsryGqrIbBAS2wxZowxZgJSDQRkBgu/uZqiriywFgtVnoGtaJLvZODBnbl2ET+4tNdNFJsZNknSbG0hiWb2TK4NDukxzZd5r0TUcoLixvVIuI6U6Zo5L4IX0a5e6Qm3GWqISeXC24xs3q2/fzyP7hjJqexNQ5I+kW3rnRMe5i5lSEIfk1WgWH6jaKsVssf+ljdq7LBCA6MYLkSQmkTEogsn9PQrp3BGDemBXcqa1jzYE3hKObZ+6IP+Jyulib9RYA5Y5Kii6UsH/rMfZsPEy5o5Ju4Z2ZMieVn707RTzcLZKtz5kyGWdIvux4/umeC7heWs3AkbG88odp9EuOEpsAsOrXn7J1dTq/3/pLvjs5USw/wMEdJ1g4bTWvLPsxz74+QSxTUVzFno2H2f3xQc5/U0jKDwewbNurYrMWMWv8L33Bva45pMSv/NW/uV5azaQXhrNi57xmxQMkjogBYMPyXWKpSerbxST2EksAhIQFM2PeWFamvc6MeWPJ3vk//vbm52KzFnG4znHd4DUOwLJ48eLFYugO+a6D3NAa99Mt8eVHB/jod18wZU4qv/3wBVTLw//2UQk9AUjbcIiqshqSxsRjsT54zJ3bdaxesJn9nx9j6i9GMv21sWKTRtjatyN5YgLXS6vZ8td9fCfOTvQAfbcZXdyhu3r35JBFqtuR7evnT1hJbsZZ1ma9RVxSb7HcLOuWbmf90h30irUz7rmh9BsWRcoPEsjedZK8wxfZuzGHwnMORj49mCWfvSQe/lBmJ71HYHAAH2QsEEstYrTvl5IvM1uZk5bHgsmrmDInld+sniWWWyRnTx6f/iWNnD15YomImO68+udn3LouiHyyfDd/f+c/LNn0MiN/NEgsPxSjs58PfobdwOHU39efOVoAwMRZcm926Ph+/OnLeSzZ9DI/fXcyo6cn8dSLI1i0YTZrMt+UEg8w/KkBAJw4oP9esoyHhug+8yu0InLrvhDjFlky6598tSmHzQXLpMfYnmJm7Dv0S45i0YbZYqlFBlmnSi9L0X3ml7runsF6KTxfTOfQjj4nHqBHZDfKiyvF2C1kfSAjv1wrFCO3KCksIzyq6fujb09bw7ql28XYVNYv3cHb09aIsWFkfaBXfq1WI72SrPZ2HTWVt8QYgMwdx/lmv7H+syVy958lc8dxMQbgRjPvyx1uaGXUajVi7Ba65FdRLEZukzA8mqsF18TYJygpLCMk9O6UhgyyXvTJd8nLi0mMoPbWHXIzzoolr5K+5SgVJdV8b+qTYsltZL3okn+TCjFymzHPDAVg0/t7Kb0s/zpms/n9vQAMTH1CLLmNrBd98rUqMXKbuKTeTJmTSub248wbvYKvt+VSUyXf1xolc/txZie9x8msfOZ/MBN7765iE7eR9aJrnJ9V9wm3NLkhWT1r3tjCZyv33P+5i70T5Y5KBo2KY2Xa/EZtzaR+aqMhRqeW62mvdGK49XkxbhFd8v9b9y/qtFox1s3JrHwO7jjByax8uHfzo7Xkf3/aYLqEBRMSFmzopkpDrIqNVOvPxbhFdMnPuPMhGi4xNswY29xWk/9VrfljfQWVUe30Teiht8/3hPi2gKwXXfIVfc0fG2S96DrKoljFyI8BL7rkW2kvRn4MeNEl34ZvP1rpLWS96JIfqASLkR8DXvTJR/5+ZVtG1osu+cFqNzHyY8CLPvmEiZEfA150ybcpQXRQ5Ceg2iIdlK7Sezzokg/QRWl6NdjjihEfuuWHqvpXDbdljPjQLT9EiSAA+VtubYkAOkovG0FGPoDdEitGjyVGPUjJ76HEi5EhEoZHc+nUZTE2lUunLjNoVJwYG8KoByn5QUoIYQZX6DZk6IR+VJRUcyr7olgyhVPZF6koqWaEgZvkImFqjKFFssjKB4hQB4qRNAkp0QBSa+XdYfWCzQCmnvlm/P7S8jsrduyqsT6vnmET+zPu2WGcOHCetQu3imVDrFu6nZNZ+fxk/nieeFJ+WNgQuxprykZJum4jisiu02+OMba5cO+PMXFWCuNnJotN3Cb/RBE712eyedU+JjyfzMJ1L4pNpDG6Lr8eQ/Ix+DRiU2xYtot/LNoGQHDXDsQk6h/KFZy+SrmjkvDIUKa/NqbFJ1X04DNPI9ZjxnO4DclJy+PCiUIunbqie4lhQJCNqP7hRA2IIHlCf0LC5KZ7m8LnnsPl3hPoOXV3L2ptmaHWGabuRCV9wW1IRyXU43vTeJt4y2hTxWOWfO5tDtTbMliM2wS9LYM9svWXafIBotUUj7xJbxKu9jX00NvDMFU+9z6eZo3/vY1djfVod2rKBbcp/HustYzH5CP5vK4vYPT5WnfxqHz8+2o+FI/Lx7+jbLO0ivx6zJ6KMAszpwz00Kry8e8i3ohWl1+Pf/98L8qvx//NET6C/ztTfAT/twX58Simz+34cR+/fC/il+9F/g8xS9HEt2rEYgAAAABJRU5ErkJggg==",vge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABUCAYAAADtYEtMAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA9fSURBVHhe7Z17VFXVvsc/a21AEXnLU0QFJRRFwsxHlo+iNDErs1OZJxvZVatziqzjqY7lkfLexu1KWVfvOcdK7fYQX8dC66RiPo7pURFMUBFB3u+nvBT2WvePjSRT0LXW3iDe4WcMxtDfd+6Ffsdac/3mnL85t6SqqsotugRZDNyi87hldhdyy+wu5JbZXchNZ7aKgooihm8KpO6WjTRziTqlnDq1gnqqaVRruEgtl9RGmmhExQyAhAl7euIg9aQHvekpudALV5wkD5xkT+xwEC99w+kWZteplVSrBdSoxdSoJdSrVWITXfSS3HCRvHGRfHCV/HGS3MUmN4QbZrZZbaaCHMrN2VSoOVyiQWxiExxwxEMKxNPUHw8CMUl2YpMuo8vNblIbKVOzKFUyqVBzRblT8ZD64WUKog8DsZd6inKn06VmlygZFCnpVKg5otSleEiB+MoheMuDRKlT6RKzL6ilFCmnKVBOdZtMQkLGXx6CrxyKs+Qlyp1Cp5tdpJ4h33ySC2qpKHULnCUv+pqG4SvdJko2p9PMblIbyFN+IV89SbN6SZS7FXaSA32lYQTIw7GXHEXZZnSK2Q1qNTlKMoXKKVHq1vjJQwiUI3CUXEXJJtjc7FrKyW4+RqmaKUo3BV5SEIGmSJylPqJkNTYdrtepFZxvPnrTGg1QqmaSbT5GnVohSlZjM7Pr1WrOm49RpmaJ0k1HmZrFefMx6tVqUbIKm5htppk8JYVS9Zwo3bSUqufIU1Iw0yxKhrGJ2XlKCgVKmhi+6SlQ0shTUsSwYaw2u0TNINdsu39QdyPXnEKJmiGGDWFVNlKvVpJu3k+VWiBKNqG8sJr0pBzOJGVzNimXM0nZ1F9oxN3bBXcfZzy8XXD3sfx5+ry78fTrnJTNTfInxHQ3vaycPbTK7HPmn8m14WMG0NxkJj5uF7u/OULmyfzW+MAwf1z79G79+8WGJgqzSqkqrW2NTZp1B1FP3cnYacNbY7ainzyCYNNYMawLw2aXK9mcMifSzEVRMkxi/FHi43Zx5lg2dg52jH9oBMPvCmbsg8PxG9h+3ltZXEP+uVIObj/B/q3J5GWUEDS8L3c/HMHcJdFic8PY0YMhpsl4yv1FSTOGzU4z76JEsU1flnook/i4XezbehzvAHfGPxzBA0+PISQyUGx6TczNCvv/fpxtf9lH8t50ht81iJc/+g3B4QFiU0N4y4MYarpPDGvGkNklyjnSzDvFsCF2fvUvls/9nAFD/TifVsjbXz7HpFl3iM10szY2gXWx2wFY+P5MHo8xbtKVDDVF4S0Hi2FNGMpGymw0QkxYc4Dlcz9n9NRhLP36eQYM9WPZ7E9JWHNAbKqbuUuiidsZw4ChfqxevJnF0z8RmxjCmv+7aenSpUvF4LWoVPPIMh8BdD8Qbdj40W5WvrKB6OfG88c1v8XTz5WHF0wg80Q+36zYib29HeHjrZvc9x3gyV3TwzmyM43UQxaTIiaEiM10Ua9W4yr74Ci5iNJ10X1nlys5Vi8ArH9vB6te38TcJdEsWj0bh572rdqyjfOZOncca97exoFvrc90vPq683ny24SNCWJd7Hb2bT0uNtGFikK5YmylSVeffYl6TjRvp1YtFyXNHP8pnVfvjyNiQghxO2NEuZVH+y0mYJA3K/csao0lJZ5m75bj5JwpIjg8gDFTh3HHfUPafO5azBrwBmUFVXyUuMiqp6a35Em43TQc6CVK10TXnV2tFlplNED8h5YX6zN/miZKbegf6ktZgaWkobaqgdWLN7Noykd8+9d91FTUsfnjRF5/cCXxcbvEj3bI8q0LAfhgwf9SUVQjypqpVcupVgvF8HXRaXaRGNLFD+t/5tCOkzyzZJqmvrOsoIqYqDh+E/wm8XG7GBcdzsc/vcanx/7E3468hXeAO6sXb+bw9yfFj7bL4NsDefGDWeSmF/P92oOirAsjXugzW9H/Cy5Tf6GR+Lhd+Ad58egLk0T5KmYsmEDTxWaS96YTEhnIH/46h/e2LGTYOEvaNWhEAIvX/BY7BzvNfXv2qUK2f2bJdHasPUh9TaPYRDNGvNBsdq1axgW1TAxrJv7DXWSlFvDICxNx8XQS5auYODOSPZdWs+fSauJ2xjB17jixCZGTQxk2Noj925JF6SqyTxWy9Mm/cT6tkN/FPU5BZinfrzN+d19Qy6jV6Ydmsy0lYZrfpVdx4kAGg28P5JEXJoqS1ZibLfV/HXGl0e98/Txjpg7DvocdO9YeRDEbzaxU3WVyOs02RnlhNcf3nGH0lDBMdpp/pSaqSi/g1sdZDLdyNjm3jdETZ0biH+TFmCnDyPwln38mnBA/ohm9nmhO/U6bEylS0sWwJvZsPMqy2Z8StzNG04tRZG1sghgCoDCzjB+/PEzY2KB2U8Cy/Cq2f/ZPers5smj100ycGdmq7d5whHfnfMYzS6YZnrDylUMINU0Wwx2i2ewU83dUKr9Oeerh/Xnr2bf1ONvL40TpmpTkVrDq9c3s3ZLUJm5nb8LF0wkXDydURSX7dPsvK08/V4aMGsAzS6IZNOLqyajp3q9y+4TbWLZxvihpwl3uywjTdDHcIZrNPtz0NQ0YWwCd4fcagyP68cH3L4tShxz+IZW4l76iOKeCqKfuJHre3bh6OuHh44Kzx68v2PSkHP4Q/THVZbXEfPIkD/3bPW2ucy1en7aSgnNlfHl6mShpwhFXRts/KYY7RHMHapaMVzXVlNfh4vHrxP/1WBubwB8f+gTH3j14b8tC3lz7LOHjB9F/iF8bowFCIgP5IvXPAMS99DX7/659OO7k7EhBZikXKutFSRN6PdFstrUlZC4e2oa2TReb2f3NUZ5ZMo3Pk99mXHS42OQqnN17sfH8vwOw8pV4Mn/R1t31cu4BwLkTeaKkCb2eaDZbadleYRTxjuyIpMTT5J0txj9IX2VpH383lm2cT1lBFVlp2tZEe7lY6vqMrl3q9USz2TLWVexfbGgSQ+1S2jIf4h2gf3HV2c3y9JQXaHu3XL6zPXz0T5diwBPNZpt0XljkQkWdGGqfltd18j79aebFestjLcmSKLVL3tlSejja4+RqrHJVryeazXawopTW2cOJmnJtZt8RZcmXEzccJXmvPsNzz5YA4KXxqchIycXDx1gXggFPNJttj74LX8noB8IoyNJWDO/b35P5yx8hN72YmKg4JjksbP2Jibp2nn74h5P0DfYi4p7rD5yqy2rJTS/Gw89YF4IBTzSb3VPqeEh8PUbdP5TzaYWcTda2YemJ1+7nL4feYMaCCYx/aASP/X4y0fPGk7w3nY9j4sXmAGxd9RNHd51i1iv34eZ1/TTzzLFsAMZONV5jotcT7Waj78JXMrxlWlTPklRIZCCvrHyC2E0LePGDWSxaNZtHX5zElv/ew6l/ta2ULcmrZG1sAiPuGcyM+doGNVmplowl6unRoqQZvZ5oNtuaany/gX0IHTWA/TrMbo+R94YCcPgfqW3iXyzfQU15HU+8en+b+LVIjD/K6KnDDGU9l9HriWaznSQPMaSL4eOCyT5dZFWZQuSk23Dzdubs8V+7o6O7TpGw5gATHxvJmAeHtWnfEQlrDpCelNNmYsoIej3RbHZvyQMX2VsMa+aRFybiHeDOd2v2i5Jmejr1YOSkUDKSc6m/YFllWfX6JgDmvDlVaN0x363Zj29/T+57YpQoacZF9qZ3Z5kNEs4YN9tvYB/mvPUg6Uk5Vt3dt0+6jZK8StKTclgXu52s1AIefWkSQcP6ik3b5fJd/XjMfdg56MuTr8TihbZ8/jKaZ/1oqcZPbbau7GzZ7E/JSs0nduN8Agb7iPJ1KTxfxlMhS9rEEkpXaBqYFOdU8ObDqwga3pe31j0ryroIs4vCS9JXhqbL7EtqAynm76za3HM+rZCX7/0v+gZ78+6mBXj46s9zj/yYxrlf8mmsv8ikx0bSf4if2OQqFLPCGw+vIj+jhBU/voJ3P31dwJU4SR6MME3XPajRZTZAhvkgeYrxpSSAzR8n8smijURODmX5loX06NX5Z4O8P289P6z/mXe+msfEx0aKsi4C5HAGma5egL4eOvpsC55yoO6+SmTm7yYzf/kjJCWeJnbOZ60vu85izZJt/LD+Z559Z7rVRoPU4oF+dN/Z2LA2e9v/7OXD339D6KgBPB87g8jJljzaVmSk5LEuNoED36bwwn8+xqyX7xWb6MaaGm1DZpcq50i1UX32P744xH88tw6AebEzmL14itjEEJtWJrLu3QRqqxpYtHo20c+NF5sYIswUhZfB+mxDZquonDbvptgGdzfAwYQTbFixkxMHMhg9JYw7Hwhj4syRul+e1WW17N+WzIFvUzj8/UlCIgN5YlGUTYrrAXzkQYSa7kUy2I0aMpvWPTW7aUbf0tC12PjRbjas2El5oWXyf/SUMO5/egzB4QH49HOnp5Nlsv8yjXUXKc6tJCu1gL2bjvHTZssqfEhkINPn3U30PNvczQB2ODDEdO+N2VNDJ+0WK8ouZ8OKnRzacZKi7LYVsy6eTvi0pGzFuRVt5shNdjKhowYwZc5Ym5p8mRu6W4yWiqB0ZR9VirY1P73knS3mTFIO6S0/Ik4ujgy/K5jbRvZncEQ/TQMbI7jJ/oTI99BLchMlXVhlNi3nPp1VDtCkdm76dqOwl3oyWB5vk/OkdOfZIt7yIAJk4xPw3Z0AebhNjMYWZtMyovKXh4rhmx5/eSgB8vXrVrRiE7NN2NNPjjC8P7A74i0H00+OwMSvm6usxSZmAzhKLgTKkfSRBorSTUcfaSCBcqSh7XfXwuoXpEitWk62+eY+I6q/aSS9JU9Rshqbm01LSpirJFOonBalbo2fHEo/OcLqFK8jOsVsWs5czVNOkKecsOnRP52BCTsC5HAC5PBOPaO108y+TJFymnwltXufWCmH4SvbdsaxPTrdbFp2mhUoaRQqp1Ct2ARlSyQk/OQh+MtD6d0JZ/i1R5eYfZkSNYNi5SzliqUa6UbhKffHRx6Mt2SbwYpWutRsADOXKFHO3bjzs+UgvOVgTDfgmP4uN/syZpqoUHIoV3OoVPO4qGqrctVLD8kJdykATykQDznQpoMUvdwws6+kXq2iSi2gWi2iRi2mwcqTIh0l15bvO/DFTfLvtFROL93C7Ctp5iJ1agV1aiUNVNOgWL7No4lGmtTG1q0VMibspZ7YY/k2D0fZBUdccZLccZI8sKPtQkN3oNuZ/f8Zm82N3OL63DK7C7lldhdyy+wu5JbZXcgts7uQ/wMh6PwlG36H+AAAAABJRU5ErkJggg==",bge=()=>{const t=[{icon:i.jsx("img",{src:gge,alt:"create"}),title:"Create Store",description:"Quickly set up your store, add your own domain, or use our free sub-domain. Choose your product and design your merch."},{icon:i.jsx("img",{src:xge,alt:"sell"}),title:"Sell Online",description:"Choose your products, set prices, and sell anywhere. Integrate via Shopify, automate with our print API, or use our flexible fulfillment service."},{icon:i.jsx("img",{src:yge,alt:"print"}),title:"Print On Demand",description:"We handle printing, packing, and fulfillment, letting you focus on your business. Products are produced near your customers, wherever they are."},{icon:i.jsx("img",{src:vge,alt:"ship"}),title:"Ship Globally",description:"We deliver your products in white-label packaging directly to customers through our fast, reliable global logistics network."}];return i.jsx("section",{className:"py-16 md:py-20 bg-background",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-12",children:"Start with Zero Investment"}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t.map((e,r)=>i.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:shadow-lg transition-shadow",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-lime-light flex items-center justify-center mb-4",children:e.icon}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]},r))}),i.jsxs(pe,{className:"bg-primary hover:bg-lime-dark text-primary-foreground font-semibold px-6 py-3 rounded-lg flex items-center gap-2",children:["Create Digital Store",i.jsx(Sd,{className:"h-4 w-4"})]})]})})},wge="/assets/product-tshirt-white-BbEgCCZV.png",jge="/assets/product-hoodie-black-jyhPjb0w.png",Sge="/assets/product-sweatshirt-green-BhFQtu0l.png",Nge="/assets/product-mug-YFauUEqv.png",Cge="/assets/product-caps-2FMwp3uL.png",_ge="/assets/product-accessories-Cni_Mybs.png",Age=()=>{const t=[{name:"Round Neck",image:wge},{name:"Hoodie",image:jge},{name:"Sweatshirt",image:Sge},{name:"Mug",image:Nge},{name:"Caps",image:Cge},{name:"Accessories",image:_ge}];return i.jsx("section",{className:"py-16 bg-secondary",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[i.jsx("div",{className:"grid grid-cols-3 gap-4",children:t.map((e,r)=>i.jsxs("div",{className:"bg-card rounded-xl p-4 flex flex-col items-center hover:shadow-lg transition-shadow cursor-pointer border border-border",children:[i.jsx("img",{src:e.image,alt:e.name,className:"w-20 h-20 object-contain mb-2"}),i.jsx("span",{className:"text-sm text-foreground font-medium",children:e.name})]},r))}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground",children:["200+ Products to",i.jsx("br",{}),"create your merch"]}),i.jsx("p",{className:"text-muted-foreground",children:"Choose from a wide range of products in our catalog. Deliver reliable quality and build a brand customers trust. With 99.8% of orders meeting standards, leading brands rely on us for fulfillment."}),i.jsxs("a",{href:"#",className:"text-primary font-semibold flex items-center gap-2 hover:underline",children:["View our full Product range",i.jsx(Sd,{className:"h-4 w-4"})]})]})]}),i.jsx("p",{className:"text-center text-muted-foreground mt-10 text-sm",children:"Customize T-shirts, hoodies, and an array of accessories."})]})})},kge="/assets/dashboard-mockup-Dn_KKe58.png",Pge=()=>i.jsx("section",{className:"py-20 bg-background",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:"Launch Your Digital Store Instantly - No Tech Skills Required"}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Easily create, design, and launch your online store in minutes."}),i.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Quick setup, effortless customization, and a seamless launch processeverything you need, right at your fingertips."}),i.jsx("p",{className:"text-primary font-semibold mt-4",children:"100% yours at zero cost. Full control, no hidden fees."})]}),i.jsx("div",{className:"relative max-w-5xl mx-auto",children:i.jsxs("div",{className:"bg-card border border-border rounded-2xl overflow-hidden shadow-2xl",children:[i.jsxs("div",{className:"bg-foreground p-3 flex items-center gap-2",children:[i.jsxs("div",{className:"flex gap-1.5",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),i.jsx("div",{className:"flex-1 flex justify-center",children:i.jsxs("div",{className:"flex items-center gap-2 px-4 py-1 bg-muted rounded text-sm",children:[i.jsx("span",{className:"text-primary font-semibold",children:"Shelf"}),i.jsx("span",{className:"text-foreground font-semibold",children:"Merch"})]})})]}),i.jsx("img",{src:kge,alt:"Shelf Merch Dashboard",className:"w-full"})]})})]})}),Ege="/assets/product-custom-tshirt-O4Y6sAsw.png",Tge=()=>i.jsx("section",{className:"py-20 bg-secondary",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-24 items-center",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-foreground",children:["Print on demand for your",i.jsx("br",{}),"ecommerce business"]}),i.jsx("p",{className:"text-muted-foreground",children:"Shelf Merch provides a wide range of custom products, a zero inventory business model, and free design tools all in one platform. Our print-on-demand system enables local production and shipping with no minimum order."}),i.jsx("p",{className:"text-muted-foreground",children:"When an order is placed, it's automatically sent to the nearest printing facility, so there's no need for inventory, management, or storage."}),i.jsxs(pe,{className:"bg-primary hover:bg-lime-dark text-primary-foreground font-semibold px-6 py-3 rounded-lg flex items-center gap-2",children:["Start Selling",i.jsx(Sd,{className:"h-4 w-4"})]})]}),i.jsx("div",{className:"relative",children:i.jsx("div",{className:"grid grid-cols-1 gap-10",children:i.jsx("img",{src:Ege,alt:"Custom printed t-shirt",className:"w-full rounded-2xl shadow-lg"})})})]})})}),Ige="/assets/connect-CZ_WPTZF.png",Mge="/assets/shipped--T6cYTwI.png",Oge="/assets/selling-CbRahdV1.png",Lge="/assets/seamless-Bevspir3.png",Rge=()=>{const t=[{icon:i.jsx("img",{src:Ige,alt:"connect"}),title:"Connect to Shelf Merch",description:"Connect your e-commerce business to link existing products or create new ones with our easy-to-use store creator."},{icon:i.jsx("img",{src:Oge,alt:"connect"}),title:"Start Selling",description:"Your customer browses through your online store, selects their desired products, and completes the purchase seamlessly."},{icon:i.jsx("img",{src:Lge,alt:"connect"}),title:"Seamless production",description:"We handle everything, producing your product closer to your customer through our expert production hubs."},{icon:i.jsx("img",{src:Mge,alt:"connect"}),title:"The Order is Shipped",description:"We ship your products directly to customers using our fast and reliable global logistics network."}];return i.jsx("section",{className:"py-20 bg-background",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground text-center mb-12",children:"How print on demand works with Shelf Merch"}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:t.map((e,r)=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-full bg-lime-light flex items-center justify-center mx-auto",children:e.icon}),i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:e.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]},r))}),i.jsx("div",{className:"text-center",children:i.jsx(pe,{className:"bg-primary hover:bg-lime-dark text-primary-foreground font-semibold px-6 py-3 rounded-lg flex items-center gap-2 mx-auto",children:"Start Selling"})})]})})},Dge=()=>{const t=[{icon:i.jsx(Bce,{className:"h-6 w-6 text-primary"}),title:"On-Demand Zero Overhead",description:"No need to invest in inventory. Orders are produced and delivered on demand, saving you time and cost."},{icon:i.jsx(iy,{className:"h-6 w-6 text-primary"}),title:"Customization",description:"Personalize products to perfectly match your brand and create a consistent, memorable customer experience."},{icon:i.jsx(mue,{className:"h-6 w-6 text-primary"}),title:"Fast, Local Fulfillment",description:"We print and ship your products using a network of local printers, ensuring quick delivery to your customers."},{icon:i.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary font-bold text-lg",children:"0"})}),title:"Launch with Zero Cost",description:"Start your online store with no upfront costs. Forget about inventory, storage, and logisticsjust create and sell."},{icon:i.jsx(cue,{className:"h-6 w-6 text-primary"}),title:"Sustainable Merchandise",description:"Meet the demand for sustainable products with on-demand production that minimizes waste and carbon footprint."},{icon:i.jsx(mc,{className:"h-6 w-6 text-primary"}),title:"Boost Brand Visibility",description:"Use customized merchandise in campaigns to enhance brand presence and connect with your audience in fresh, impactful ways"}];return i.jsx("section",{className:"py-20 bg-secondary",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground text-center mb-12",children:"How Shelf Merch Powers Your E-commerce Success"}),i.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:t.map((e,r)=>i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-lime-light flex items-center justify-center",children:e.icon}),i.jsx("h3",{className:"text-xl font-bold text-foreground",children:e.title}),i.jsx("p",{className:"text-base text-foreground",children:e.description})]},r))})]})})},Fge="/assets/store-integration-BIu3FA-L.png",Bge=()=>i.jsx("section",{className:"py-20 bg-background",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Effortless Store Connection"}),i.jsx("p",{className:"text-muted-foreground",children:"Built for creators and entrepreneurs, scalable for enterprises, Shelf Merch's platform lets you produce and deliver custom printed products worldwide. Connect your store seamlessly through Shelf Merch's API or easily integrate with top e-commerce platforms."}),i.jsx("p",{className:"text-muted-foreground",children:"Our Print API connects you to production facilities in India and instantly links you to a global network of on-demand manufacturing partners across the USA, Middle East, UK, and beyond."}),i.jsxs("a",{href:"#",className:"text-primary font-semibold flex items-center gap-2 hover:underline",children:["Coming Soon",i.jsx(Sd,{className:"h-4 w-4"})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("img",{src:Fge,alt:"Store integration platforms",className:"w-full max-w-lg"})})]})})}),$ge="/assets/youtube-phone-C7ck8scK.png",zge="/assets/yt-store-BJEdclQ1.png",Uge="/assets/sync-4_yOXBbi.png",Wge="/assets/link-Be-6bEiR.png",Gge=()=>{const t=[{icon:i.jsx("img",{src:zge,alt:"yt-store"}),text:"Shelf Merch seamlessly integrates with YouTube Store"},{icon:i.jsx("img",{src:Uge,alt:"sync"}),text:"Easily sync your products to automatically appear in your channel"},{icon:i.jsx("img",{src:Wge,alt:"link"}),text:"Link in-video or under content for people to watch, engage and shop"}];return i.jsx("section",{className:"py-20 bg-secondary",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("img",{src:$ge,alt:"YouTube merch store on phone",className:"w-full max-w-lg rounded-xl shadow-2xl"})}),i.jsxs("div",{className:"space-y-6 text-foreground",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"YouTube Official Merch Partner"}),i.jsx("h3",{className:"text-xl font-semibold",children:"Plug Into YouTube Shopping with Your Own Merch Store."}),i.jsx("p",{className:"text-base",children:"Launch your custom online merchandise store effortlessly. Design and sell personalized products such as t-shirts, hoodies, jumpers, art prints, and more. Seamlessly integrate with your existing website or connect directly to YouTube's Shopping store to showcase and sell sustainable, high-quality merchandise to your subscribers, boosting engagement and opening new revenue streams."}),i.jsx("div",{className:"flex flex-wrap gap-4 pt-4",children:t.map((e,r)=>i.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1 min-w-[120px]",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",children:e.icon}),i.jsx("p",{className:"text-xs font-medium text-center",children:e.text})]},r))})]})]})})})},Hge="/assets/testimonial-avatar-Cs-Glg8l.png",Vge="/assets/thakur-sisters-C5szmSJr.png",qge="/assets/chhota-bheem-BOZeY3UN.png",Yge="/assets/siddharth-kannan-CvNpWZQK.png",Xge=()=>{const[t,e]=b.useState(),[r,n]=b.useState(0),s=[{stars:5,quote:"Launching Aha Merch with Shelf Merch Was a Game Changer! They Handled the Entire Digital Store from Concept to Cash!",description:"Introducing merchandise for our audience has been an exciting way to enhance engagement and boost our brand presence. Shelf Merch made the entire process effortless by handling all logistics and production, allowing us to focus on connecting with our viewers. Their support has been invaluable in bringing our vision to life!",name:"aha",title:"Leading Telugu OTT Platform",website:"ahavideo.shop",image:Hge},{stars:5,quote:"Shelf Merch Made Launching Angaar.store a Breeze with Seamless YouTube Integration",description:"Launching Angaar.store with Shelf Merch has been a seamless experience. The platform's integration with YouTube was incredibly easy, and the team's support was exceptional. From building my brand to setting up the store and managing end-to-end fulfillment, they handled everything flawlessly. Shelf Merch made the entire process smooth and efficient, allowing me to focus on connecting with my fans and delivering quality merchandise",name:"Siddharth Kannan",title:"Indian television host and radio announcer",website:"angaar.store",image:Yge},{stars:5,quote:"We're Happy to Launch Chhota Bheem's Official Merch with Shelf Merch! Smooth Setup and Cool Customization option for Fans!",description:"We are thrilled to launch Chhota Bheem's official merchandise with Shelf Merch. As a beloved character for years, it was important for us to provide a seamless experience for our fans. The digital store setup was smooth, and the customization tool is a fantastic feature, allowing fans to create personalized products they love. Shelf Merch made the entire process easy and efficient!",name:"Chhota Bheem",title:"Animated Adventure Cartoon Series",website:"chhotabheem.store",image:qge},{stars:5,quote:"Launching Yumchic.store with Shelf Merch Was Simple! They Helped Us Build a Digital Store with Designs Ours Fans Love!",description:"Launching YumChic.store with Shelf Merch has been an incredible journey. The platform made it super easy to set up our official merchandise and seamlessly integrate it with YouTube. The Shelf Merch team was there every step of the way, from designing eye-catching merch that our fans love, to handling store setup and complete fulfillment. It was a hassle-free experience, allowing us to focus on connecting with our audience and delivering awesomeproducts!",name:"Thakur Sisters",title:"Food Bloggers",website:"yumchic.store",image:Vge}];return b.useEffect(()=>{t&&(n(t.selectedScrollSnap()),t.on("select",()=>{n(t.selectedScrollSnap())}))},[t]),i.jsx("section",{className:"py-20 bg-purple-200",children:i.jsx("div",{className:"container",children:i.jsx(zI,{setApi:e,className:"w-full",opts:{dragFree:!0,loop:!1},children:i.jsx(UI,{children:s.map((a,o)=>i.jsx(WI,{children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex gap-1",children:[...Array(a.stars)].map((l,c)=>i.jsx(mc,{className:"h-5 w-5 fill-foreground text-foreground"},c))}),i.jsxs("blockquote",{className:"text-2xl md:text-3xl font-bold text-foreground leading-relaxed",children:['"',a.quote,'"']}),i.jsx("p",{className:"text-base text-foreground",children:a.description}),i.jsx("div",{className:"flex gap-2 pt-4",children:s.map((l,c)=>i.jsx("div",{className:`h-2 w-2 rounded-full transition-all ${c===r?"bg-foreground":"bg-muted-foreground/30"}`},c))})]}),i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"bg-[#F5F5DC] rounded-2xl p-6 w-full max-w-md shadow-lg",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-foreground",children:a.name}),i.jsx("p",{className:"text-sm text-foreground/70",children:a.title})]}),i.jsx("p",{className:"text-sm font-semibold text-foreground",children:a.website})]}),i.jsx("div",{className:"mt-4",children:i.jsx("img",{src:a.image,alt:`Testimonial from ${a.name}`,className:"w-full rounded-xl object-cover"})})]})})]})},o))})})})})},Kge="/assets/expert-support-qh0FrBdu.png",Zge=()=>i.jsx("section",{className:"py-12 md:py-16 bg-background",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 items-center",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-foreground leading-tight",children:"Connect with a Shelf Merch Expert."}),i.jsx("p",{className:"text-lg text-foreground",children:"Get answers to your questions and explore how Shelf Merch can transform your merchandise workflows."}),i.jsx(_t,{to:"/auth",children:i.jsxs(pe,{className:"bg-foreground hover:bg-foreground/90 text-background font-semibold px-8 py-3 rounded-lg flex items-center gap-2",children:["Get Started",i.jsx(Sd,{className:"h-4 w-4"})]})})]}),i.jsx("div",{className:"flex justify-center lg:justify-end",children:i.jsx("img",{src:Kge,alt:"Shelf Merch Expert Support",className:"w-64 md:w-72 rounded-2xl shadow-xl"})})]})})}),Qge="/assets/logo-white-C40y932E.png",Jge="/assets/amfori-je9rVMud.png",exe="/assets/global-B8ul3K0q.png",txe="/assets/fair-wear-DojhEx2g.png",rxe="/assets/sedex-CKhg1g3X.png",nxe="/assets/bsci-BCdZs_dG.png",sxe="/assets/coalition-8Mn5xUa9.png",ixe="/assets/higg-Gl1SDL8Q.png",axe="/assets/accord-BLSobX4G.png",oxe="/assets/organic-yrB1RT98.png",lxe=()=>{const t={products:{title:"Products",links:["Catalogue","T-shirts","Polos","Oversized","Hoodies","Sweatshirts","Mrchx","Tees Graphy"]},solutions:{title:"Solutions",links:["Creators & Agencies","Fashion & Apparel","Entertainment & Media","Home Decor","Customized Merch","Enterprise Merch","Bulk Orders"]},about:{title:"About",links:["Our Story","Careers","Contact Us"]}};return i.jsx("footer",{className:"bg-foreground text-background py-16",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-20 mb-4",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsx("div",{className:"flex items-center gap-8",children:i.jsx("img",{src:Qge,alt:"logo"})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"A print-on-demand platform enabling businesses and creators to design, sell, and fulfill custom, sustainable merchandise without inventory."}),i.jsx(_t,{to:"/auth",children:i.jsxs(pe,{className:"bg-primary hover:bg-lime-dark text-primary-foreground font-semibold px-6 py-2 rounded-lg flex items-center gap-2",children:["Get started",i.jsx(Sd,{className:"h-4 w-4"})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold text-background",children:t.products.title}),i.jsx("ul",{className:"space-y-2",children:t.products.links.map((e,r)=>i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:e})},r))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold text-background",children:t.solutions.title}),i.jsx("ul",{className:"space-y-2",children:t.solutions.links.map((e,r)=>i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:e})},r))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold text-background",children:t.about.title}),i.jsx("ul",{className:"space-y-2",children:t.about.links.map((e,r)=>i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:e})},r))})]})]}),i.jsxs("div",{className:"border-t border-muted pt-8 mb-8",children:[i.jsx("h3",{className:"text-center text-background mb-6 text-lg font-medium",children:"Our Partner Certifications"}),i.jsxs("div",{className:"flex items-center justify-center gap-16 flex-wrap",children:[i.jsx("img",{src:Jge,alt:"amfori",className:"h-4 w-auto object-contain"}),i.jsx("img",{src:exe,alt:"global",className:"h-4 w-auto object-contain"}),i.jsx("img",{src:txe,alt:"fairwear",className:"h-4 w-auto object-contain"}),i.jsx("img",{src:rxe,alt:"sedex",className:"h-4 w-auto object-contain"}),i.jsx("img",{src:nxe,alt:"bsci",className:"h-4 w-auto object-contain"}),i.jsx("img",{src:sxe,alt:"sustainableapparelcoalition",className:"h-4 w-auto object-contain"}),i.jsx("img",{src:ixe,alt:"higgindex",className:"h-4 w-auto object-contain"}),i.jsx("img",{src:axe,alt:"accord",className:"h-4 w-auto object-contain"}),i.jsx("img",{src:oxe,alt:"organic",className:"h-4 w-auto object-contain"})]})]}),i.jsx("div",{className:"border-t border-muted pt-8",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-muted-foreground",children:[i.jsx("p",{children:" 2024 Chitlu Innovations Pvt Ltd. All rights reserved"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Terms of Service"}),i.jsx("span",{className:"text-muted-foreground",children:"|"}),i.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Privacy Policy"}),i.jsx("span",{className:"text-muted-foreground",children:"|"}),i.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Cookie Policy"}),i.jsx("span",{className:"text-muted-foreground",children:"|"}),i.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Return & Refunds"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-background border border-muted-foreground flex items-center justify-center hover:border-primary transition-colors",children:i.jsx(aue,{className:"h-4 w-4 text-foreground",fill:"currentColor"})}),i.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-background border border-muted-foreground flex items-center justify-center hover:border-primary transition-colors",children:i.jsx(_V,{className:"h-4 w-4 text-foreground"})}),i.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-background border border-muted-foreground flex items-center justify-center hover:border-primary transition-colors",children:i.jsx(Qce,{className:"h-4 w-4 text-foreground"})})]})]})})]})})},cxe=()=>i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Sme,{}),i.jsxs("main",{children:[i.jsx(Cme,{}),i.jsx(mge,{}),i.jsx(bge,{}),i.jsx(Age,{}),i.jsx(Pge,{}),i.jsx(Tge,{}),i.jsx(Rge,{}),i.jsx(Dge,{}),i.jsx(Bge,{}),i.jsx(Gge,{}),i.jsx(Xge,{}),i.jsx(Zge,{})]}),i.jsx(lxe,{})]}),Hp=()=>{const{isAuthenticated:t,user:e}=Ba();return i.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[i.jsx(_t,{to:"/",className:"flex items-center space-x-2",children:i.jsxs("span",{className:"font-heading text-2xl font-bold text-foreground",children:["Shelf",i.jsx("span",{className:"text-primary",children:"Merch"})]})}),i.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[i.jsx(_t,{to:"/products",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Catalog"}),i.jsx(_t,{to:"/how-it-works",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"How it Works"}),i.jsx(_t,{to:"/pricing",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"})]}),i.jsx("div",{className:"flex items-center space-x-4",children:t?i.jsxs(i.Fragment,{children:[i.jsx(_t,{to:"/dashboard",children:i.jsx(pe,{variant:"ghost",size:"sm",className:"hidden md:inline-flex",children:"Dashboard"})}),i.jsx("span",{className:"text-sm font-medium hidden md:inline",children:e==null?void 0:e.name})]}):i.jsxs(i.Fragment,{children:[i.jsx(_t,{to:"/auth",children:i.jsx(pe,{variant:"ghost",size:"sm",className:"hidden md:inline-flex",children:"Log in"})}),i.jsx(_t,{to:"/auth",children:i.jsx(pe,{size:"sm",className:"bg-primary hover:bg-primary-hover text-primary-foreground",children:"Sign up for Free"})})]})})]})})},Vp=()=>i.jsx("footer",{className:"w-full border-t bg-muted/50",children:i.jsxs("div",{className:"container py-12",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-heading text-lg font-bold mb-4",children:["Shelf",i.jsx("span",{className:"text-primary",children:"Merch"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Design sell and scale your brand effortlessly with ShelfMerch's print-on-demand platform."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:i.jsx(_t,{to:"/products",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Catalog"})}),i.jsx("li",{children:i.jsx(_t,{to:"/how-it-works",className:"text-muted-foreground hover:text-foreground transition-colors",children:"How it Works"})}),i.jsx("li",{children:i.jsx(_t,{to:"/pricing",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Support"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:i.jsx(_t,{to:"/help",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Help Center"})}),i.jsx("li",{children:i.jsx(_t,{to:"/contact",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Contact Us"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Contact Us"}),i.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("li",{children:"support@shelfmerch.com"}),i.jsx("li",{children:"1-888-SHELF-MERCH"})]})]})]}),i.jsx("div",{className:"mt-8 pt-8 border-t text-center text-sm text-muted-foreground",children:i.jsxs("p",{children:[" ",new Date().getFullYear()," Shelf Merch. All rights reserved."]})})]})}),Ze=b.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:dt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ze.displayName="Card";const yr=b.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:dt("flex flex-col space-y-1.5 p-6",t),...e}));yr.displayName="CardHeader";const vr=b.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:dt("text-2xl font-semibold leading-none tracking-tight",t),...e}));vr.displayName="CardTitle";const Xr=b.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:dt("text-sm text-muted-foreground",t),...e}));Xr.displayName="CardDescription";const Tt=b.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:dt("p-6 pt-0",t),...e}));Tt.displayName="CardContent";const uxe=b.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:dt("flex items-center p-6 pt-0",t),...e}));uxe.displayName="CardFooter";const dxe=Hy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ot({className:t,variant:e,...r}){return i.jsx("div",{className:dt(dxe({variant:e}),t),...r})}function kn({className:t,...e}){return i.jsx("div",{className:dt("animate-pulse rounded-md bg-muted",t),...e})}const hxe=[{id:"1",name:"Bella Canvas 3001",brand:"Bella + Canvas",price:7.46,image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400",badge:"Best Seller",category:"t-shirts",description:"Premium cotton t-shirt, soft and comfortable",sizes:["S","M","L","XL","2XL"],colors:["White","Black","Navy","Gray"]},{id:"2",name:"Gildan Heavy Cotton",brand:"Gildan",price:5.99,image:"https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=400",category:"t-shirts",description:"Classic heavyweight cotton tee",sizes:["S","M","L","XL","2XL"],colors:["White","Black","Red","Blue"]},{id:"3",name:"Premium Hoodie",brand:"Independent",price:24.99,image:"https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=400",badge:"Hot",category:"hoodies",description:"Cozy fleece hoodie with kangaroo pocket",sizes:["S","M","L","XL","2XL"],colors:["Black","Gray","Navy"]},{id:"4",name:"Canvas Tote Bag",brand:"Liberty Bags",price:8.5,image:"https://images.unsplash.com/photo-1590874103328-eac38a683ce7?w=400",category:"bags",description:"Durable cotton canvas tote bag",sizes:["One Size"],colors:["Natural","Black"]},{id:"5",name:"Coffee Mug 11oz",brand:"ShelfMerch",price:9.99,image:"https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?w=400",category:"drinkware",description:"Ceramic coffee mug, dishwasher safe",sizes:["11oz","15oz"],colors:["White","Black"]},{id:"6",name:"Baseball Cap",brand:"Flexfit",price:12.99,image:"https://images.unsplash.com/photo-1588850561407-ed78c282e89b?w=400",category:"caps",description:"Adjustable baseball cap with structured front",sizes:["One Size"],colors:["Black","Navy","Red","White"]},{id:"7",name:"Crewneck Sweatshirt",brand:"Bella + Canvas",price:18.5,image:"https://images.unsplash.com/photo-1578587018452-892bacefd3f2?w=400",category:"hoodies",description:"Classic crewneck sweatshirt",sizes:["S","M","L","XL","2XL"],colors:["Gray","Black","Navy"]},{id:"8",name:"Spiral Notebook",brand:"ShelfMerch",price:11.99,image:"https://images.unsplash.com/photo-1531346878377-a5be20888e57?w=400",category:"stationery",description:"80 pages, ruled, spiral-bound notebook",sizes:["5x7","8x10"],colors:["White"]}],rg=[{name:"T-Shirts",slug:"t-shirts",image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400"},{name:"Tank Tops",slug:"tank-tops",image:"https://images.unsplash.com/photo-1622445275463-afa2ab738c34?w=400"},{name:"Hoodies",slug:"hoodies",image:"https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=400"},{name:"Sweatshirts",slug:"sweatshirts",image:"https://images.unsplash.com/photo-1578587018452-892bacefd3f2?w=400"},{name:"Jackets",slug:"jackets",image:"https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400"},{name:"Crop Tops",slug:"crop-tops",image:"https://images.unsplash.com/photo-1594633313593-bab3825d0caf?w=400"},{name:"Tote Bags",slug:"bags",image:"https://images.unsplash.com/photo-1590874103328-eac38a683ce7?w=400"},{name:"Caps",slug:"caps",image:"https://images.unsplash.com/photo-1588850561407-ed78c282e89b?w=400"},{name:"Phone Covers",slug:"phone-covers",image:"https://images.unsplash.com/photo-1601784551446-20c9e07cdbdb?w=400"},{name:"Beanies",slug:"beanies",image:"https://images.unsplash.com/photo-1576871337632-b9aef4c17ab9?w=400"},{name:"Mugs",slug:"mugs",image:"https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?w=400"},{name:"Cushions",slug:"cushions",image:"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=400"},{name:"Frames",slug:"frames",image:"https://images.unsplash.com/photo-1513519245088-0e12902e5a38?w=400"},{name:"Coasters",slug:"coasters",image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400"},{name:"Notebooks",slug:"notebooks",image:"https://images.unsplash.com/photo-1531346878377-a5be20888e57?w=400"},{name:"Posters",slug:"posters",image:"https://images.unsplash.com/photo-1499892477393-f675706cbe6e?w=400"},{name:"Stickers",slug:"stickers",image:"https://images.unsplash.com/photo-1611532736597-de2d4265fba3?w=400"},{name:"Business Cards",slug:"business-cards",image:"https://images.unsplash.com/photo-1589939705384-5185137a7f0f?w=400"},{name:"iPhone Cases",slug:"iphone-cases",image:"https://images.unsplash.com/photo-1591337676887-a217a6970a8a?w=400"},{name:"Laptop Skins",slug:"laptop-skins",image:"https://images.unsplash.com/photo-1588872657578-7efd1f1555ed?w=400"},{name:"Boxes",slug:"boxes",image:"https://images.unsplash.com/photo-1607166452427-7e4477079cb9?w=400"},{name:"Bottles",slug:"bottles",image:"https://images.unsplash.com/photo-1602143407151-7111542de6e8?w=400"},{name:"Rings",slug:"rings",image:"https://images.unsplash.com/photo-1605100804763-247f67b3557e?w=400"},{name:"Necklaces",slug:"necklaces",image:"https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?w=400"}],fxe={"t-shirts":"T-Shirt","tank-tops":"Tank Top",hoodies:"Hoodie",sweatshirts:"Sweatshirt",jackets:"Jacket","crop-tops":"Crop Top",aprons:"Apron",scarves:"Scarf",jerseys:"Jersey",bags:"Tote Bag",caps:"Cap","phone-covers":"Phone Cover","gaming-pads":"Gaming Pad",beanies:"Beanie",cans:"Can",mugs:"Mug",drinkware:"Mug",cushions:"Cushion",frames:"Frame",coasters:"Coaster","business-cards":"Business Card",books:"Book","id-cards":"ID Card",stickers:"Sticker",posters:"Poster",flyers:"Flyer","greeting-cards":"Greeting Card",billboards:"Billboard",magazines:"Magazine",brochures:"Brochure",lanyards:"Lanyard",banners:"Banner",canvas:"Canvas",notebooks:"Notebook",stationery:"Notebook",boxes:"Box",tubes:"Tube","dropper-bottles":"Dropper Bottle",pouches:"Pouch",cosmetics:"Cosmetic",bottles:"Bottle","iphone-cases":"IPhone","laptop-skins":"Lap Top","ipad-cases":"IPad","macbook-cases":"Macbook","phone-cases":"Phone",rings:"Ring",necklaces:"Necklace",earrings:"Earring"},ER=[{id:"apparel",name:"Apparel",slug:"apparel",image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400"},{id:"accessories",name:"Accessories",slug:"accessories",image:"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400"},{id:"home",name:"Home & Living",slug:"home",image:"https://images.unsplash.com/photo-1585933646520-2f788bc900a9?w=400"},{id:"print",name:"Print Products",slug:"print",image:"https://images.unsplash.com/photo-1563906267088-b029e7101114?w=400"},{id:"packaging",name:"Packaging",slug:"packaging",image:"https://images.unsplash.com/photo-1607166452427-7e4477079cb9?w=400"},{id:"tech",name:"Tech",slug:"tech",image:"https://images.unsplash.com/photo-1512499617640-c74ae3a79d37?w=400"},{id:"jewelry",name:"Jewelry",slug:"jewelry",image:"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=400"}],pxe=()=>{const[t,e]=b.useState([]),[r,n]=b.useState({}),[s,a]=b.useState({}),[o,l]=b.useState(!0),[c,u]=b.useState(!0),[d,h]=b.useState("");b.useEffect(()=>{(async()=>{l(!0);try{const g=await Di.getCatalogProducts({page:1,limit:20});g&&g.success&&g.data&&e(g.data)}catch(g){console.error("Failed to fetch products:",g),e(hxe)}finally{l(!1)}})()},[]),b.useEffect(()=>{(async()=>{const g={};try{await Promise.all(ER.map(async y=>{try{const x=await Di.getCatalogProducts({page:1,limit:1,category:y.id});x&&x.success&&x.data&&x.data.length>0&&(g[y.id]=x.data[0])}catch(x){console.error(`Failed to fetch products for main category ${y.id}:`,x)}})),a(g)}catch(y){console.error("Failed to fetch main category products:",y)}})()},[]),b.useEffect(()=>{(async()=>{u(!0);const g={};try{await Promise.all(rg.map(async y=>{try{const x=fxe[y.slug]||y.name,w=await Di.getCatalogProducts({page:1,limit:1,subcategory:x});w&&w.success&&w.data&&w.data.length>0&&(g[y.slug]=w.data[0])}catch(x){console.error(`Failed to fetch products for category ${y.slug}:`,x)}})),n(g)}catch(y){console.error("Failed to fetch category products:",y)}finally{u(!1)}})()},[]);const p=async()=>{if(d.trim()){l(!0);try{const m=await Di.getCatalogProducts({page:1,limit:20,search:d});m&&m.success&&m.data&&e(m.data)}catch(m){console.error("Search failed:",m)}finally{l(!1)}}},f=m=>{var y,x,w,S,N,C,A,k,E,T,R,I,L;const g=((x=(y=m.catalogue)==null?void 0:y.attributes)==null?void 0:x.brand)||"ShelfMerch";return{id:m._id||m.id,name:((w=m.catalogue)==null?void 0:w.name)||"Unnamed Product",image:((N=(S=m.galleryImages)==null?void 0:S.find(U=>U.isPrimary))==null?void 0:N.url)||((A=(C=m.galleryImages)==null?void 0:C[0])==null?void 0:A.url)||"/placeholder.png",brand:g,price:((E=(k=m.catalogue)==null?void 0:k.basePrice)==null?void 0:E.toFixed(2))||"0.00",badge:((R=(T=m.catalogue)==null?void 0:T.tags)==null?void 0:R[0])||null,sizesCount:((I=m.availableSizes)==null?void 0:I.length)||0,colorsCount:((L=m.availableColors)==null?void 0:L.length)||0}};return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Hp,{}),i.jsxs("div",{className:"container py-8",children:[i.jsx("div",{className:"mb-8",children:i.jsx("input",{type:"search",placeholder:"Search for products, brands, categories, and print providers",className:"w-full px-4 py-3 border rounded-lg bg-muted/30 focus:outline-none focus:ring-2 focus:ring-primary",value:d,onChange:m=>h(m.target.value),onKeyDown:m=>{m.key==="Enter"&&p()}})}),i.jsxs("section",{className:"mb-12",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-heading text-3xl font-bold mb-2",children:"Shop by Category"}),i.jsx("p",{className:"text-muted-foreground",children:"Browse our main product categories"})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:ER.map(m=>{var x,w,S,N;const g=s[m.id],y=((w=(x=g==null?void 0:g.galleryImages)==null?void 0:x.find(C=>C.isPrimary))==null?void 0:w.url)||((N=(S=g==null?void 0:g.galleryImages)==null?void 0:S[0])==null?void 0:N.url)||m.image;return i.jsx(_t,{to:`/category-subcategories/${m.id}`,className:"group",children:i.jsx(Ze,{className:"overflow-hidden hover:shadow-elevated transition-shadow h-full",children:i.jsx(Tt,{className:"p-0",children:i.jsxs("div",{className:"relative aspect-square bg-muted overflow-hidden",children:[i.jsx("img",{src:y,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:i.jsx("h3",{className:"font-semibold text-white text-center text-sm drop-shadow-lg",children:m.name})})]})})})},m.id)})})]}),i.jsxs("section",{className:"mb-12",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-heading text-3xl font-bold",children:"Explore ShelfMerch's best"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Here are some of the most popular product categories in our catalog."})]}),i.jsx(_t,{to:"/category-subcategories/apparel",children:i.jsx("button",{className:"px-4 py-2 text-sm font-medium text-primary hover:text-primary/80 transition-colors",children:"Show All "})})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:rg.slice(0,6).map(m=>{var x,w,S,N,C,A,k,E,T;const g=r[m.slug],y=((w=(x=g==null?void 0:g.galleryImages)==null?void 0:x.find(R=>R.isPrimary))==null?void 0:w.url)||((N=(S=g==null?void 0:g.galleryImages)==null?void 0:S[0])==null?void 0:N.url)||m.image;return i.jsx(_t,{to:`/products/category/${m.slug}`,className:"group",children:i.jsx(Ze,{className:"overflow-hidden hover:shadow-elevated transition-shadow h-full",children:i.jsxs(Tt,{className:"p-0",children:[i.jsx("div",{className:"relative aspect-square bg-muted overflow-hidden",children:c?i.jsx(kn,{className:"w-full h-full"}):i.jsxs(i.Fragment,{children:[i.jsx("img",{src:y,alt:g&&((C=g.catalogue)==null?void 0:C.name)||m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),g&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),g&&i.jsxs("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[i.jsx("p",{className:"text-white text-xs font-medium line-clamp-1 drop-shadow-lg",children:((A=g.catalogue)==null?void 0:A.name)||"Latest Product"}),i.jsxs("p",{className:"text-white/90 text-xs drop-shadow-lg",children:["$",((E=(k=g.catalogue)==null?void 0:k.basePrice)==null?void 0:E.toFixed(2))||"0.00"]})]})]})}),i.jsxs("div",{className:"p-3 text-center",children:[i.jsx("h3",{className:"font-medium",children:m.name}),g&&!c&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Latest: ",((T=g.catalogue)==null?void 0:T.name)||"New Product"]})]})]})})},m.name)})})]}),i.jsxs("section",{className:"mb-12",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-heading text-3xl font-bold",children:"Hot new products"}),i.jsx("p",{className:"text-muted-foreground",children:"Get ahead of the game with our newest offering of products that just hit our catalog."})]}),i.jsx(_t,{to:"/products/new",className:"text-sm font-medium underline hover:text-primary",children:"See all"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o?Array.from({length:4}).map((m,g)=>i.jsx(Ze,{className:"overflow-hidden",children:i.jsxs(Tt,{className:"p-0",children:[i.jsx(kn,{className:"aspect-square w-full"}),i.jsxs("div",{className:"p-4 space-y-2",children:[i.jsx(kn,{className:"h-5 w-3/4"}),i.jsx(kn,{className:"h-4 w-1/2"}),i.jsx(kn,{className:"h-5 w-1/3"}),i.jsx(kn,{className:"h-3 w-full"})]})]})},g)):t.length===0?i.jsxs("div",{className:"col-span-4 flex flex-col items-center justify-center py-12",children:[i.jsx(Sr,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products available yet"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Check back soon for new products!"})]}):t.slice(0,4).map(m=>{const g=f(m);return i.jsx(_t,{to:`/products/${g.id}`,className:"group",children:i.jsx(Ze,{className:"overflow-hidden hover:shadow-elevated transition-shadow",children:i.jsxs(Tt,{className:"p-0",children:[i.jsxs("div",{className:"relative aspect-square bg-muted overflow-hidden",children:[g.badge&&i.jsx(Ot,{className:"absolute top-3 left-3 bg-primary text-primary-foreground",children:g.badge}),i.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold mb-1 line-clamp-1",children:g.name}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.brand}),i.jsxs("p",{className:"font-semibold",children:["From $",g.price]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[g.sizesCount," sizes  ",g.colorsCount," colors"]})]})]})})},g.id)})})]}),i.jsxs("section",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-heading text-3xl font-bold",children:"Starter essentials"}),i.jsx("p",{className:"text-muted-foreground",children:"Kickstart your business with these handpicked products that are ideal for new sellers."})]}),i.jsx(_t,{to:"/products/starters",className:"text-sm font-medium underline hover:text-primary",children:"See all"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o?Array.from({length:4}).map((m,g)=>i.jsx(Ze,{className:"overflow-hidden",children:i.jsxs(Tt,{className:"p-0",children:[i.jsx(kn,{className:"aspect-square w-full"}),i.jsxs("div",{className:"p-4 space-y-2",children:[i.jsx(kn,{className:"h-5 w-3/4"}),i.jsx(kn,{className:"h-4 w-1/2"}),i.jsx(kn,{className:"h-5 w-1/3"}),i.jsx(kn,{className:"h-3 w-full"})]})]})},g)):t.length===0?i.jsxs("div",{className:"col-span-4 flex flex-col items-center justify-center py-12",children:[i.jsx(Sr,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products available yet"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Check back soon for new products!"})]}):t.slice(2).map(m=>{const g=f(m);return i.jsx(_t,{to:`/products/${g.id}`,className:"group",children:i.jsx(Ze,{className:"overflow-hidden hover:shadow-elevated transition-shadow",children:i.jsxs(Tt,{className:"p-0",children:[i.jsxs("div",{className:"relative aspect-square bg-muted overflow-hidden",children:[g.badge&&i.jsx(Ot,{className:"absolute top-3 left-3 bg-primary text-primary-foreground",children:g.badge}),i.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold mb-1 line-clamp-1",children:g.name}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.brand}),i.jsxs("p",{className:"font-semibold",children:["From $",g.price]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[g.sizesCount," sizes  ",g.colorsCount," colors"]})]})]})})},g.id)})})]})]}),i.jsx(Vp,{})]})},rt=b.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:dt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));rt.displayName="Input";const mxe={"t-shirts":"T-Shirt","tank-tops":"Tank Top",hoodies:"Hoodie",sweatshirts:"Sweatshirt",jackets:"Jacket","crop-tops":"Crop Top",bags:"Tote Bag",caps:"Cap","phone-covers":"Phone Cover",beanies:"Beanie",mugs:"Mug",cushions:"Cushion",frames:"Frame",coasters:"Coaster",notebooks:"Notebook",posters:"Poster",stickers:"Sticker","business-cards":"Business Card","iphone-cases":"IPhone","laptop-skins":"Lap Top",boxes:"Box",bottles:"Bottle",rings:"Ring",necklaces:"Necklace"},gxe=()=>{const[t,e]=b.useState({}),[r,n]=b.useState(!0),[s,a]=b.useState("");b.useEffect(()=>{(async()=>{n(!0);const c={};try{await Promise.all(rg.map(async u=>{try{const d=mxe[u.slug]||u.name,h=await Di.getCatalogProducts({page:1,limit:1,subcategory:d});h&&h.success&&h.data&&h.data.length>0&&(c[u.slug]=h.data[0])}catch(d){console.error(`Failed to fetch products for category ${u.slug}:`,d)}})),e(c)}catch(u){console.error("Failed to fetch category products:",u)}finally{n(!1)}})()},[]);const o=rg.filter(l=>l.name.toLowerCase().includes(s.toLowerCase()));return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Hp,{}),i.jsxs("div",{className:"container py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs(_t,{to:"/products",className:"inline-flex items-center text-sm text-muted-foreground hover:text-primary mb-4",children:[i.jsx(ao,{className:"h-4 w-4 mr-1"}),"Back to Products"]}),i.jsx("h1",{className:"font-heading text-4xl font-bold mb-2",children:"All Categories"}),i.jsxs("p",{className:"text-muted-foreground",children:["Browse through all ",rg.length," product categories available in our catalog"]})]}),i.jsxs("div",{className:"mb-8 relative",children:[i.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(rt,{type:"search",placeholder:"Search categories...",className:"pl-10",value:s,onChange:l=>a(l.target.value)})]}),s&&o.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsxs("p",{className:"text-muted-foreground text-lg",children:['No categories found matching "',s,'"']})}):i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:o.map(l=>{var d,h,p,f,m,g,y,x,w;const c=t[l.slug],u=((h=(d=c==null?void 0:c.galleryImages)==null?void 0:d.find(S=>S.isPrimary))==null?void 0:h.url)||((f=(p=c==null?void 0:c.galleryImages)==null?void 0:p[0])==null?void 0:f.url)||l.image;return i.jsx(_t,{to:`/products/category/${l.slug}`,className:"group",children:i.jsx(Ze,{className:"overflow-hidden hover:shadow-elevated transition-shadow h-full",children:i.jsxs(Tt,{className:"p-0",children:[i.jsx("div",{className:"relative aspect-square bg-muted overflow-hidden",children:r?i.jsx(kn,{className:"w-full h-full"}):i.jsxs(i.Fragment,{children:[i.jsx("img",{src:u,alt:c&&((m=c.catalogue)==null?void 0:m.name)||l.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),c&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),c&&i.jsxs("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[i.jsx("p",{className:"text-white text-xs font-medium line-clamp-1 drop-shadow-lg",children:((g=c.catalogue)==null?void 0:g.name)||"Latest Product"}),i.jsxs("p",{className:"text-white/90 text-xs drop-shadow-lg",children:["$",((x=(y=c.catalogue)==null?void 0:y.basePrice)==null?void 0:x.toFixed(2))||"0.00"]})]})]})}),i.jsxs("div",{className:"p-3 text-center",children:[i.jsx("h3",{className:"font-medium text-sm",children:l.name}),c&&!r&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:((w=c.catalogue)==null?void 0:w.name)||"New Product"})]})]})})},l.name)})}),i.jsxs("div",{className:"mt-8 text-center text-sm text-muted-foreground",children:["Showing ",o.length," of ",rg.length," categories"]})]}),i.jsx(Vp,{})]})};var I3="Collapsible",[xxe,Jq]=ma(I3),[yxe,GI]=xxe(I3),eY=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:o,...l}=t,[c,u]=cl({prop:n,defaultProp:s??!1,onChange:o,caller:I3});return i.jsx(yxe,{scope:r,disabled:a,contentId:vc(),open:c,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:i.jsx(ir.div,{"data-state":VI(c),"data-disabled":a?"":void 0,...l,ref:e})})});eY.displayName=I3;var tY="CollapsibleTrigger",rY=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,s=GI(tY,r);return i.jsx(ir.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":VI(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:e,onClick:Ft(t.onClick,s.onOpenToggle)})});rY.displayName=tY;var HI="CollapsibleContent",nY=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=GI(HI,t.__scopeCollapsible);return i.jsx(Fa,{present:r||s.open,children:({present:a})=>i.jsx(vxe,{...n,ref:e,present:a})})});nY.displayName=HI;var vxe=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=t,o=GI(HI,r),[l,c]=b.useState(n),u=b.useRef(null),d=Lr(e,u),h=b.useRef(0),p=h.current,f=b.useRef(0),m=f.current,g=o.open||l,y=b.useRef(g),x=b.useRef(void 0);return b.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),pa(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();h.current=S.height,f.current=S.width,y.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),c(n)}},[o.open,n]),i.jsx(ir.div,{"data-state":VI(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...t.style},children:g&&s})});function VI(t){return t?"open":"closed"}var bxe=eY,wxe=rY,jxe=nY,Sxe=b.createContext(void 0);function am(t){const e=b.useContext(Sxe);return t||e||"ltr"}var Pd="Accordion",Nxe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[qI,Cxe,_xe]=Wy(Pd),[M3]=ma(Pd,[_xe,Jq]),YI=Jq(),sY=xe.forwardRef((t,e)=>{const{type:r,...n}=t,s=n,a=n;return i.jsx(qI.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?i.jsx(Exe,{...a,ref:e}):i.jsx(Pxe,{...s,ref:e})})});sY.displayName=Pd;var[iY,Axe]=M3(Pd),[aY,kxe]=M3(Pd,{collapsible:!1}),Pxe=xe.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...o}=t,[l,c]=cl({prop:r,defaultProp:n??"",onChange:s,caller:Pd});return i.jsx(iY,{scope:t.__scopeAccordion,value:xe.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:xe.useCallback(()=>a&&c(""),[a,c]),children:i.jsx(aY,{scope:t.__scopeAccordion,collapsible:a,children:i.jsx(oY,{...o,ref:e})})})}),Exe=xe.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=t,[o,l]=cl({prop:r,defaultProp:n??[],onChange:s,caller:Pd}),c=xe.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=xe.useCallback(d=>l((h=[])=>h.filter(p=>p!==d)),[l]);return i.jsx(iY,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx(aY,{scope:t.__scopeAccordion,collapsible:!0,children:i.jsx(oY,{...a,ref:e})})})}),[Txe,O3]=M3(Pd),oY=xe.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...o}=t,l=xe.useRef(null),c=Lr(l,e),u=Cxe(r),h=am(s)==="ltr",p=Ft(t.onKeyDown,f=>{var E;if(!Nxe.includes(f.key))return;const m=f.target,g=u().filter(T=>{var R;return!((R=T.ref.current)!=null&&R.disabled)}),y=g.findIndex(T=>T.ref.current===m),x=g.length;if(y===-1)return;f.preventDefault();let w=y;const S=0,N=x-1,C=()=>{w=y+1,w>N&&(w=S)},A=()=>{w=y-1,w<S&&(w=N)};switch(f.key){case"Home":w=S;break;case"End":w=N;break;case"ArrowRight":a==="horizontal"&&(h?C():A());break;case"ArrowDown":a==="vertical"&&C();break;case"ArrowLeft":a==="horizontal"&&(h?A():C());break;case"ArrowUp":a==="vertical"&&A();break}const k=w%x;(E=g[k].ref.current)==null||E.focus()});return i.jsx(Txe,{scope:r,disabled:n,direction:s,orientation:a,children:i.jsx(qI.Slot,{scope:r,children:i.jsx(ir.div,{...o,"data-orientation":a,ref:c,onKeyDown:n?void 0:p})})})}),gN="AccordionItem",[Ixe,XI]=M3(gN),lY=xe.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...s}=t,a=O3(gN,r),o=Axe(gN,r),l=YI(r),c=vc(),u=n&&o.value.includes(n)||!1,d=a.disabled||t.disabled;return i.jsx(Ixe,{scope:r,open:u,disabled:d,triggerId:c,children:i.jsx(bxe,{"data-orientation":a.orientation,"data-state":pY(u),...l,...s,ref:e,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});lY.displayName=gN;var cY="AccordionHeader",uY=xe.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=O3(Pd,r),a=XI(cY,r);return i.jsx(ir.h3,{"data-orientation":s.orientation,"data-state":pY(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});uY.displayName=cY;var S6="AccordionTrigger",dY=xe.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=O3(Pd,r),a=XI(S6,r),o=kxe(S6,r),l=YI(r);return i.jsx(qI.ItemSlot,{scope:r,children:i.jsx(wxe,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:e})})});dY.displayName=S6;var hY="AccordionContent",fY=xe.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=O3(Pd,r),a=XI(hY,r),o=YI(r);return i.jsx(jxe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});fY.displayName=hY;function pY(t){return t?"open":"closed"}var Mxe=sY,Oxe=lY,Lxe=uY,mY=dY,gY=fY;const xY=Mxe,cd=b.forwardRef(({className:t,...e},r)=>i.jsx(Oxe,{ref:r,className:dt("border-b",t),...e}));cd.displayName="AccordionItem";const ud=b.forwardRef(({className:t,children:e,...r},n)=>i.jsx(Lxe,{className:"flex",children:i.jsxs(mY,{ref:n,className:dt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,i.jsx(gu,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ud.displayName=mY.displayName;const dd=b.forwardRef(({className:t,children:e,...r},n)=>i.jsx(gY,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:dt("pb-4 pt-0",t),children:e})}));dd.displayName=gY.displayName;function l2(t,[e,r]){return Math.min(r,Math.max(e,t))}var sA=0;function KI(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??TR()),document.body.insertAdjacentElement("beforeend",t[1]??TR()),sA++,()=>{sA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sA--}},[])}function TR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var iA="focusScope.autoFocusOnMount",aA="focusScope.autoFocusOnUnmount",IR={bubbles:!1,cancelable:!0},Rxe="FocusScope",L3=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=t,[l,c]=b.useState(null),u=Li(s),d=Li(a),h=b.useRef(null),p=Lr(e,g=>c(g)),f=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let g=function(S){if(f.paused||!l)return;const N=S.target;l.contains(N)?h.current=N:ip(h.current,{select:!0})},y=function(S){if(f.paused||!l)return;const N=S.relatedTarget;N!==null&&(l.contains(N)||ip(h.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&ip(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[n,l,f.paused]),b.useEffect(()=>{if(l){OR.add(f);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(iA,IR);l.addEventListener(iA,u),l.dispatchEvent(x),x.defaultPrevented||(Dxe(Uxe(yY(l)),{select:!0}),document.activeElement===g&&ip(l))}return()=>{l.removeEventListener(iA,u),setTimeout(()=>{const x=new CustomEvent(aA,IR);l.addEventListener(aA,d),l.dispatchEvent(x),x.defaultPrevented||ip(g??document.body,{select:!0}),l.removeEventListener(aA,d),OR.remove(f)},0)}}},[l,u,d,f]);const m=b.useCallback(g=>{if(!r&&!n||f.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(y&&x){const w=g.currentTarget,[S,N]=Fxe(w);S&&N?!g.shiftKey&&x===N?(g.preventDefault(),r&&ip(S,{select:!0})):g.shiftKey&&x===S&&(g.preventDefault(),r&&ip(N,{select:!0})):x===w&&g.preventDefault()}},[r,n,f.paused]);return i.jsx(ir.div,{tabIndex:-1,...o,ref:p,onKeyDown:m})});L3.displayName=Rxe;function Dxe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ip(n,{select:e}),document.activeElement!==r)return}function Fxe(t){const e=yY(t),r=MR(e,t),n=MR(e.reverse(),t);return[r,n]}function yY(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function MR(t,e){for(const r of t)if(!Bxe(r,{upTo:e}))return r}function Bxe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $xe(t){return t instanceof HTMLInputElement&&"select"in t}function ip(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&$xe(t)&&e&&t.select()}}var OR=zxe();function zxe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=LR(t,e),t.unshift(e)},remove(e){var r;t=LR(t,e),(r=t[0])==null||r.resume()}}}function LR(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Uxe(t){return t.filter(e=>e.tagName!=="A")}function Wxe(t){const e=Gxe(t),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(Vxe);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return i.jsx(e,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return i.jsx(e,{...o,ref:s,children:a})});return r.displayName=`${t}.Slot`,r}function Gxe(t){const e=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=Yxe(s),l=qxe(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Af(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Hxe=Symbol("radix.slottable");function Vxe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Hxe}function qxe(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function Yxe(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function jw(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Xxe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ox=new WeakMap,$j=new WeakMap,zj={},oA=0,vY=function(t){return t&&(t.host||vY(t.parentNode))},Kxe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=vY(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Zxe=function(t,e,r,n){var s=Kxe(e,Array.isArray(t)?t:[t]);zj[r]||(zj[r]=new WeakMap);var a=zj[r],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var f=p.getAttribute(n),m=f!==null&&f!=="false",g=(Ox.get(p)||0)+1,y=(a.get(p)||0)+1;Ox.set(p,g),a.set(p,y),o.push(p),g===1&&m&&$j.set(p,!0),y===1&&p.setAttribute(r,"true"),m||p.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),l.clear(),oA++,function(){o.forEach(function(h){var p=Ox.get(h)-1,f=a.get(h)-1;Ox.set(h,p),a.set(h,f),p||($j.has(h)||h.removeAttribute(n),$j.delete(h)),f||h.removeAttribute(r)}),oA--,oA||(Ox=new WeakMap,Ox=new WeakMap,$j=new WeakMap,zj={})}},ZI=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Xxe(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),Zxe(n,s,r,"aria-hidden")):function(){return null}},nh=function(){return nh=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nh.apply(this,arguments)};function bY(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Qxe(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var dS="right-scroll-bar-position",hS="width-before-scroll-bar",Jxe="with-scroll-bars-hidden",e0e="--removed-body-scroll-bar-size";function lA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function t0e(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var r0e=typeof window<"u"?b.useLayoutEffect:b.useEffect,RR=new WeakMap;function n0e(t,e){var r=t0e(null,function(n){return t.forEach(function(s){return lA(s,n)})});return r0e(function(){var n=RR.get(r);if(n){var s=new Set(n),a=new Set(t),o=r.current;s.forEach(function(l){a.has(l)||lA(l,null)}),a.forEach(function(l){s.has(l)||lA(l,o)})}RR.set(r,t)},[t]),r}function s0e(t){return t}function i0e(t,e){e===void 0&&(e=s0e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function a0e(t){t===void 0&&(t={});var e=i0e(null);return e.options=nh({async:!0,ssr:!1},t),e}var wY=function(t){var e=t.sideCar,r=bY(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,nh({},r))};wY.isSideCarExport=!0;function o0e(t,e){return t.useMedium(e),wY}var jY=a0e(),cA=function(){},R3=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:cA,onWheelCapture:cA,onTouchMoveCapture:cA}),s=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,f=t.noRelative,m=t.noIsolation,g=t.inert,y=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,S=t.gapMode,N=bY(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,A=n0e([r,e]),k=nh(nh({},N),s);return b.createElement(b.Fragment,null,d&&b.createElement(C,{sideCar:jY,removeScrollBar:u,shards:h,noRelative:f,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:S}),o?b.cloneElement(b.Children.only(l),nh(nh({},k),{ref:A})):b.createElement(w,nh({},k,{className:c,ref:A}),l))});R3.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};R3.classNames={fullWidth:hS,zeroRight:dS};var l0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=l0e();return e&&t.setAttribute("nonce",e),t}function u0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function d0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var h0e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=c0e())&&(u0e(e,r),d0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},f0e=function(){var t=h0e();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},SY=function(){var t=f0e(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},p0e={left:0,top:0,right:0,gap:0},uA=function(t){return parseInt(t||"",10)||0},m0e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[uA(r),uA(n),uA(s)]},g0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return p0e;var e=m0e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},x0e=SY(),P0="data-scroll-locked",y0e=function(t,e,r,n){var s=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Jxe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(P0,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dS,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(hS,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(dS," .").concat(dS,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(hS," .").concat(hS,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(P0,`] {
    `).concat(e0e,": ").concat(l,`px;
  }
`)},DR=function(){var t=parseInt(document.body.getAttribute(P0)||"0",10);return isFinite(t)?t:0},v0e=function(){b.useEffect(function(){return document.body.setAttribute(P0,(DR()+1).toString()),function(){var t=DR()-1;t<=0?document.body.removeAttribute(P0):document.body.setAttribute(P0,t.toString())}},[])},b0e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;v0e();var a=b.useMemo(function(){return g0e(s)},[s]);return b.createElement(x0e,{styles:y0e(a,!e,s,r?"":"!important")})},N6=!1;if(typeof window<"u")try{var Uj=Object.defineProperty({},"passive",{get:function(){return N6=!0,!0}});window.addEventListener("test",Uj,Uj),window.removeEventListener("test",Uj,Uj)}catch{N6=!1}var Lx=N6?{passive:!1}:!1,w0e=function(t){return t.tagName==="TEXTAREA"},NY=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!w0e(t)&&r[e]==="visible")},j0e=function(t){return NY(t,"overflowY")},S0e=function(t){return NY(t,"overflowX")},FR=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=CY(t,n);if(s){var a=_Y(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},N0e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},C0e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},CY=function(t,e){return t==="v"?j0e(e):S0e(e)},_Y=function(t,e){return t==="v"?N0e(e):C0e(e)},_0e=function(t,e){return t==="h"&&e==="rtl"?-1:1},A0e=function(t,e,r,n,s){var a=_0e(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),u=!1,d=o>0,h=0,p=0;do{if(!l)break;var f=_Y(t,l),m=f[0],g=f[1],y=f[2],x=g-y-a*m;(m||x)&&CY(t,l)&&(h+=x,p+=m);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},Wj=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},BR=function(t){return[t.deltaX,t.deltaY]},$R=function(t){return t&&"current"in t?t.current:t},k0e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},P0e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},E0e=0,Rx=[];function T0e(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),s=b.useState(E0e++)[0],a=b.useState(SY)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Qxe([t.lockRef.current],(t.shards||[]).map($R),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=b.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Wj(g),w=r.current,S="deltaX"in g?g.deltaX:w[0]-x[0],N="deltaY"in g?g.deltaY:w[1]-x[1],C,A=g.target,k=Math.abs(S)>Math.abs(N)?"h":"v";if("touches"in g&&k==="h"&&A.type==="range")return!1;var E=window.getSelection(),T=E&&E.anchorNode,R=T?T===A||T.contains(A):!1;if(R)return!1;var I=FR(k,A);if(!I)return!0;if(I?C=k:(C=k==="v"?"h":"v",I=FR(k,A)),!I)return!1;if(!n.current&&"changedTouches"in g&&(S||N)&&(n.current=C),!C)return!0;var L=n.current||C;return A0e(L,y,g,L==="h"?S:N)},[]),c=b.useCallback(function(g){var y=g;if(!(!Rx.length||Rx[Rx.length-1]!==a)){var x="deltaY"in y?BR(y):Wj(y),w=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&k0e(C.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var S=(o.current.shards||[]).map($R).filter(Boolean).filter(function(C){return C.contains(y.target)}),N=S.length>0?l(y,S[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),u=b.useCallback(function(g,y,x,w){var S={name:g,delta:y,target:x,should:w,shadowParent:I0e(x)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(N){return N!==S})},1)},[]),d=b.useCallback(function(g){r.current=Wj(g),n.current=void 0},[]),h=b.useCallback(function(g){u(g.type,BR(g),g.target,l(g,t.lockRef.current))},[]),p=b.useCallback(function(g){u(g.type,Wj(g),g.target,l(g,t.lockRef.current))},[]);b.useEffect(function(){return Rx.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Lx),document.addEventListener("touchmove",c,Lx),document.addEventListener("touchstart",d,Lx),function(){Rx=Rx.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Lx),document.removeEventListener("touchmove",c,Lx),document.removeEventListener("touchstart",d,Lx)}},[]);var f=t.removeScrollBar,m=t.inert;return b.createElement(b.Fragment,null,m?b.createElement(a,{styles:P0e(s)}):null,f?b.createElement(b0e,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function I0e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const M0e=o0e(jY,T0e);var D3=b.forwardRef(function(t,e){return b.createElement(R3,nh({},t,{ref:e,sideCar:M0e}))});D3.classNames=R3.classNames;var O0e=[" ","Enter","ArrowUp","ArrowDown"],L0e=[" ","Enter"],Eg="Select",[F3,B3,R0e]=Wy(Eg),[rv]=ma(Eg,[R0e,Zy]),$3=Zy(),[D0e,om]=rv(Eg),[F0e,B0e]=rv(Eg),AY=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:m}=t,g=$3(e),[y,x]=b.useState(null),[w,S]=b.useState(null),[N,C]=b.useState(!1),A=am(u),[k,E]=cl({prop:n,defaultProp:s??!1,onChange:a,caller:Eg}),[T,R]=cl({prop:o,defaultProp:l,onChange:c,caller:Eg}),I=b.useRef(null),L=y?m||!!y.closest("form"):!0,[U,$]=b.useState(new Set),q=Array.from(U).map(G=>G.props.value).join(";");return i.jsx(jI,{...g,children:i.jsxs(D0e,{required:f,scope:e,trigger:y,onTriggerChange:x,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:N,onValueNodeHasChildrenChange:C,contentId:vc(),value:T,onValueChange:R,open:k,onOpenChange:E,dir:A,triggerPointerDownPosRef:I,disabled:p,children:[i.jsx(F3.Provider,{scope:e,children:i.jsx(F0e,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(G=>{$(W=>new Set(W).add(G))},[]),onNativeOptionRemove:b.useCallback(G=>{$(W=>{const B=new Set(W);return B.delete(G),B})},[]),children:r})}),L?i.jsxs(ZY,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:T,onChange:G=>R(G.target.value),disabled:p,form:m,children:[T===void 0?i.jsx("option",{value:""}):null,Array.from(U)]},q):null]})})};AY.displayName=Eg;var kY="SelectTrigger",PY=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,a=$3(r),o=om(kY,r),l=o.disabled||n,c=Lr(e,o.onTriggerChange),u=B3(r),d=b.useRef("touch"),[h,p,f]=JY(g=>{const y=u().filter(S=>!S.disabled),x=y.find(S=>S.value===o.value),w=eX(y,g,x);w!==void 0&&o.onValueChange(w.value)}),m=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(SI,{asChild:!0,...a,children:i.jsx(ir.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":QY(o.value)?"":void 0,...s,ref:c,onClick:Ft(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:Ft(s.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:Ft(s.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(y&&g.key===" ")&&O0e.includes(g.key)&&(m(),g.preventDefault())})})})});PY.displayName=kY;var EY="SelectValue",TY=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=t,c=om(EY,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=Lr(e,c.onValueNodeChange);return pa(()=>{u(d)},[u,d]),i.jsx(ir.span,{...l,ref:h,style:{pointerEvents:"none"},children:QY(c.value)?i.jsx(i.Fragment,{children:o}):a})});TY.displayName=EY;var $0e="SelectIcon",IY=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return i.jsx(ir.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});IY.displayName=$0e;var z0e="SelectPortal",MY=t=>i.jsx(pw,{asChild:!0,...t});MY.displayName=z0e;var Tg="SelectContent",OY=b.forwardRef((t,e)=>{const r=om(Tg,t.__scopeSelect),[n,s]=b.useState();if(pa(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?hu.createPortal(i.jsx(LY,{scope:t.__scopeSelect,children:i.jsx(F3.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(RY,{...t,ref:e})});OY.displayName=Tg;var nd=10,[LY,lm]=rv(Tg),U0e="SelectContentImpl",W0e=Wxe("SelectContent.RemoveScroll"),RY=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:m,hideWhenDetached:g,avoidCollisions:y,...x}=t,w=om(Tg,r),[S,N]=b.useState(null),[C,A]=b.useState(null),k=Lr(e,ae=>N(ae)),[E,T]=b.useState(null),[R,I]=b.useState(null),L=B3(r),[U,$]=b.useState(!1),q=b.useRef(!1);b.useEffect(()=>{if(S)return ZI(S)},[S]),KI();const G=b.useCallback(ae=>{const[ne,...se]=L().map(le=>le.ref.current),[Q]=se.slice(-1),re=document.activeElement;for(const le of ae)if(le===re||(le==null||le.scrollIntoView({block:"nearest"}),le===ne&&C&&(C.scrollTop=0),le===Q&&C&&(C.scrollTop=C.scrollHeight),le==null||le.focus(),document.activeElement!==re))return},[L,C]),W=b.useCallback(()=>G([E,S]),[G,E,S]);b.useEffect(()=>{U&&W()},[U,W]);const{onOpenChange:B,triggerPointerDownPosRef:O}=w;b.useEffect(()=>{if(S){let ae={x:0,y:0};const ne=Q=>{var re,le;ae={x:Math.abs(Math.round(Q.pageX)-(((re=O.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((le=O.current)==null?void 0:le.y)??0))}},se=Q=>{ae.x<=10&&ae.y<=10?Q.preventDefault():S.contains(Q.target)||B(!1),document.removeEventListener("pointermove",ne),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",se,{capture:!0})}}},[S,B,O]),b.useEffect(()=>{const ae=()=>B(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[B]);const[K,Y]=JY(ae=>{const ne=L().filter(re=>!re.disabled),se=ne.find(re=>re.ref.current===document.activeElement),Q=eX(ne,ae,se);Q&&setTimeout(()=>Q.ref.current.focus())}),D=b.useCallback((ae,ne,se)=>{const Q=!q.current&&!se;(w.value!==void 0&&w.value===ne||Q)&&(T(ae),Q&&(q.current=!0))},[w.value]),Z=b.useCallback(()=>S==null?void 0:S.focus(),[S]),ie=b.useCallback((ae,ne,se)=>{const Q=!q.current&&!se;(w.value!==void 0&&w.value===ne||Q)&&I(ae)},[w.value]),he=n==="popper"?C6:DY,J=he===C6?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:m,hideWhenDetached:g,avoidCollisions:y}:{};return i.jsx(LY,{scope:r,content:S,viewport:C,onViewportChange:A,itemRefCallback:D,selectedItem:E,onItemLeave:Z,itemTextRefCallback:ie,focusSelectedItem:W,selectedItemText:R,position:n,isPositioned:U,searchRef:K,children:i.jsx(D3,{as:W0e,allowPinchZoom:!0,children:i.jsx(L3,{asChild:!0,trapped:w.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ft(s,ae=>{var ne;(ne=w.trigger)==null||ne.focus({preventScroll:!0}),ae.preventDefault()}),children:i.jsx(Gy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:i.jsx(he,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ae=>ae.preventDefault(),...x,...J,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ft(x.onKeyDown,ae=>{const ne=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ne&&ae.key.length===1&&Y(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Q=L().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const re=ae.target,le=Q.indexOf(re);Q=Q.slice(le+1)}setTimeout(()=>G(Q)),ae.preventDefault()}})})})})})})});RY.displayName=U0e;var G0e="SelectItemAlignedPosition",DY=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,a=om(Tg,r),o=lm(Tg,r),[l,c]=b.useState(null),[u,d]=b.useState(null),h=Lr(e,k=>d(k)),p=B3(r),f=b.useRef(!1),m=b.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:x,focusSelectedItem:w}=o,S=b.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&y&&x){const k=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(a.dir!=="rtl"){const re=R.left-E.left,le=T.left-re,ve=k.left-le,fe=k.width+ve,X=Math.max(fe,E.width),ce=window.innerWidth-nd,Pe=l2(le,[nd,Math.max(nd,ce-X)]);l.style.minWidth=fe+"px",l.style.left=Pe+"px"}else{const re=E.right-R.right,le=window.innerWidth-T.right-re,ve=window.innerWidth-k.right-le,fe=k.width+ve,X=Math.max(fe,E.width),ce=window.innerWidth-nd,Pe=l2(le,[nd,Math.max(nd,ce-X)]);l.style.minWidth=fe+"px",l.style.right=Pe+"px"}const I=p(),L=window.innerHeight-nd*2,U=g.scrollHeight,$=window.getComputedStyle(u),q=parseInt($.borderTopWidth,10),G=parseInt($.paddingTop,10),W=parseInt($.borderBottomWidth,10),B=parseInt($.paddingBottom,10),O=q+G+U+B+W,K=Math.min(y.offsetHeight*5,O),Y=window.getComputedStyle(g),D=parseInt(Y.paddingTop,10),Z=parseInt(Y.paddingBottom,10),ie=k.top+k.height/2-nd,he=L-ie,J=y.offsetHeight/2,ae=y.offsetTop+J,ne=q+G+ae,se=O-ne;if(ne<=ie){const re=I.length>0&&y===I[I.length-1].ref.current;l.style.bottom="0px";const le=u.clientHeight-g.offsetTop-g.offsetHeight,ve=Math.max(he,J+(re?Z:0)+le+W),fe=ne+ve;l.style.height=fe+"px"}else{const re=I.length>0&&y===I[0].ref.current;l.style.top="0px";const ve=Math.max(ie,q+g.offsetTop+(re?D:0)+J)+se;l.style.height=ve+"px",g.scrollTop=ne-ie+g.offsetTop}l.style.margin=`${nd}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,a.trigger,a.valueNode,l,u,g,y,x,a.dir,n]);pa(()=>S(),[S]);const[N,C]=b.useState();pa(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const A=b.useCallback(k=>{k&&m.current===!0&&(S(),w==null||w(),m.current=!1)},[S,w]);return i.jsx(V0e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:A,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:i.jsx(ir.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});DY.displayName=G0e;var H0e="SelectPopperPosition",C6=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=nd,...a}=t,o=$3(r);return i.jsx(NI,{...o,...a,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});C6.displayName=H0e;var[V0e,QI]=rv(Tg,{}),_6="SelectViewport",FY=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,a=lm(_6,r),o=QI(_6,r),l=Lr(e,a.onViewportChange),c=b.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(F3.Slot,{scope:r,children:i.jsx(ir.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ft(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const m=window.innerHeight-nd*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),x=Math.max(g,y);if(x<m){const w=x+f,S=Math.min(m,w),N=w-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});FY.displayName=_6;var BY="SelectGroup",[q0e,Y0e]=rv(BY),X0e=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=vc();return i.jsx(q0e,{scope:r,id:s,children:i.jsx(ir.div,{role:"group","aria-labelledby":s,...n,ref:e})})});X0e.displayName=BY;var $Y="SelectLabel",zY=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Y0e($Y,r);return i.jsx(ir.div,{id:s.id,...n,ref:e})});zY.displayName=$Y;var xN="SelectItem",[K0e,UY]=rv(xN),WY=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=t,l=om(xN,r),c=lm(xN,r),u=l.value===n,[d,h]=b.useState(a??""),[p,f]=b.useState(!1),m=Lr(e,w=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,w,n,s)}),g=vc(),y=b.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(K0e,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:b.useCallback(w=>{h(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:i.jsx(F3.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(ir.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:m,onFocus:Ft(o.onFocus,()=>f(!0)),onBlur:Ft(o.onBlur,()=>f(!1)),onClick:Ft(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:Ft(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:Ft(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:Ft(o.onPointerMove,w=>{var S;y.current=w.pointerType,s?(S=c.onItemLeave)==null||S.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ft(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:Ft(o.onKeyDown,w=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&w.key===" "||(L0e.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});WY.displayName=xN;var L1="SelectItemText",GY=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...a}=t,o=om(L1,r),l=lm(L1,r),c=UY(L1,r),u=B0e(L1,r),[d,h]=b.useState(null),p=Lr(e,x=>h(x),c.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,c.value,c.disabled)}),f=d==null?void 0:d.textContent,m=b.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return pa(()=>(g(m),()=>y(m)),[g,y,m]),i.jsxs(i.Fragment,{children:[i.jsx(ir.span,{id:c.textId,...a,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?hu.createPortal(a.children,o.valueNode):null]})});GY.displayName=L1;var HY="SelectItemIndicator",VY=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return UY(HY,r).isSelected?i.jsx(ir.span,{"aria-hidden":!0,...n,ref:e}):null});VY.displayName=HY;var A6="SelectScrollUpButton",qY=b.forwardRef((t,e)=>{const r=lm(A6,t.__scopeSelect),n=QI(A6,t.__scopeSelect),[s,a]=b.useState(!1),o=Lr(e,n.onScrollButtonChange);return pa(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(XY,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});qY.displayName=A6;var k6="SelectScrollDownButton",YY=b.forwardRef((t,e)=>{const r=lm(k6,t.__scopeSelect),n=QI(k6,t.__scopeSelect),[s,a]=b.useState(!1),o=Lr(e,n.onScrollButtonChange);return pa(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(XY,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});YY.displayName=k6;var XY=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,a=lm("SelectScrollButton",r),o=b.useRef(null),l=B3(r),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),pa(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(ir.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ft(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ft(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ft(s.onPointerLeave,()=>{c()})})}),Z0e="SelectSeparator",KY=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(ir.div,{"aria-hidden":!0,...n,ref:e})});KY.displayName=Z0e;var P6="SelectArrow",Q0e=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=$3(r),a=om(P6,r),o=lm(P6,r);return a.open&&o.position==="popper"?i.jsx(CI,{...s,...n,ref:e}):null});Q0e.displayName=P6;var J0e="SelectBubbleInput",ZY=b.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=b.useRef(null),a=Lr(n,s),o=jw(e);return b.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[o,e]),i.jsx(ir.select,{...r,style:{...ZH,...r.style},ref:a,defaultValue:e})});ZY.displayName=J0e;function QY(t){return t===""||t===void 0}function JY(t){const e=Li(t),r=b.useRef(""),n=b.useRef(0),s=b.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function eX(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=eye(t,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function eye(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var tye=AY,tX=PY,rye=TY,nye=IY,sye=MY,rX=OY,iye=FY,nX=zY,sX=WY,aye=GY,oye=VY,iX=qY,aX=YY,oX=KY;const Er=tye,Tr=rye,Ar=b.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(tX,{ref:n,className:dt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(nye,{asChild:!0,children:i.jsx(gu,{className:"h-4 w-4 opacity-50"})})]}));Ar.displayName=tX.displayName;const lX=b.forwardRef(({className:t,...e},r)=>i.jsx(iX,{ref:r,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(bV,{className:"h-4 w-4"})}));lX.displayName=iX.displayName;const cX=b.forwardRef(({className:t,...e},r)=>i.jsx(aX,{ref:r,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(gu,{className:"h-4 w-4"})}));cX.displayName=aX.displayName;const kr=b.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>i.jsx(sye,{children:i.jsxs(rX,{ref:s,className:dt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(lX,{}),i.jsx(iye,{className:dt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(cX,{})]})}));kr.displayName=rX.displayName;const lye=b.forwardRef(({className:t,...e},r)=>i.jsx(nX,{ref:r,className:dt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));lye.displayName=nX.displayName;const at=b.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(sX,{ref:n,className:dt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(oye,{children:i.jsx(Gi,{className:"h-4 w-4"})})}),i.jsx(aye,{children:e})]}));at.displayName=sX.displayName;const cye=b.forwardRef(({className:t,...e},r)=>i.jsx(oX,{ref:r,className:dt("-mx-1 my-1 h-px bg-muted",t),...e}));cye.displayName=oX.displayName;const Gj={white:"#FFFFFF",black:"#000000",gray:"#808080",grey:"#808080","light gray":"#D3D3D3",lightgrey:"#D3D3D3","light grey":"#D3D3D3",red:"#FF0000",blue:"#0000FF",green:"#008000",yellow:"#FFFF00",orange:"#FFA500",pink:"#FFC0CB",purple:"#800080",navy:"#000080","royal blue":"#4169E1",royalblue:"#4169E1","sky blue":"#87CEEB",skyblue:"#87CEEB","forest green":"#228B22",forestgreen:"#228B22","mint green":"#98FF98",mintgreen:"#98FF98",olive:"#808000","olive drab":"#6B8E23",olivedrab:"#6B8E23",brown:"#A52A2A",tan:"#D2B48C",beige:"#F5F5DC","beige-gray":"#9F9F9F",beigegray:"#9F9F9F",khaki:"#C3B091",maroon:"#800000",burgundy:"#800020",crimson:"#DC143C",charcoal:"#36454F",silver:"#C0C0C0",gold:"#FFD700","rose gold":"#E8B4B8",rosegold:"#E8B4B8",cream:"#FFFDD0",ivory:"#FFFFF0",coral:"#FF7F50",salmon:"#FA8072",lavender:"#E6E6FA",peach:"#FFE5B4",teal:"#008080",cyan:"#00FFFF",lime:"#00FF00",magenta:"#FF00FF",mint:"#98FF98",natural:"#F5F5DC",clear:"#FFFFFF",kraft:"#D4A574",camo:"#78866B",wood:"#8B4513",cork:"#D4A574",slate:"#708090","white gold":"#F5F5DC",whitegold:"#F5F5DC",bronze:"#CD7F32",copper:"#B87333",brass:"#B5A642",platinum:"#E5E4E2",frosted:"#F0F0F0",amber:"#FFBF00","cobalt blue":"#0047AB",cobaltblue:"#0047AB"},pp=t=>{if(!t)return"#CCCCCC";const e=t.toLowerCase().trim();if(Gj[e])return Gj[e];const r=[e.replace(/\s+/g,""),e.replace(/-/g,""),e.replace(/\s+/g,"-")];for(const n of r)if(Gj[n])return Gj[n];return"#CCCCCC"},uye={apparel:{default:{sizes:["XS","S","M","L","XL","XXL","3XL","4XL"],colors:["White","Black","Navy","Red","Maroon","Gray","Charcoal","Silver","Olive","Olive Drab","Forest Green","Royal Blue","Sky Blue","Burgundy","Pink","Yellow","Gold","Orange","Purple","Mint Green","Coral","Beige-Gray","Tan","Burgundy","Crimson","Lavender","Teal"],allowCustomSizes:!0,allowCustomColors:!0,sizeHint:"Standard clothing sizes available. Add custom size if needed.",colorHint:"Add custom PMS colors or special requests."},bySubcategory:{"T-Shirt":{sizes:["XS","S","M","L","XL","XXL","3XL","4XL"],colors:["White","Black","Navy","Red","Gray","Charcoal","Light Gray","Royal Blue","Sky Blue","Forest Green","Maroon","Pink","Yellow","Orange","Purple","Olive","Beige-Gray","Tan"],allowCustomSizes:!0,allowCustomColors:!0,sizeHint:"Add youth sizes or custom measurements if needed."},Hoodie:{sizes:["XS","S","M","L","XL","XXL","3XL"],colors:["Black","Gray","Charcoal","Navy","Maroon","Forest Green","Olive","Burgundy","Beige-Gray"],allowCustomSizes:!0,allowCustomColors:!0},"Tank Top":{sizes:["XS","S","M","L","XL","XXL"],colors:["White","Black","Gray","Light Gray","Navy","Red","Pink","Sky Blue","Coral","Mint Green","Yellow"],allowCustomSizes:!0,allowCustomColors:!0}}},accessories:{default:{sizes:["One Size"],colors:["Black","Brown","Tan","Navy","Gray","Beige","Beige-Gray","Charcoal"],allowCustomSizes:!0,allowCustomColors:!0,sizeHint:"Add specific dimensions or fit types."},bySubcategory:{"Tote Bag":{sizes:["Small","Medium","Large"],colors:["Natural","Black","Navy","Gray","Olive","Burgundy","Beige-Gray","Tan","Cream","Charcoal"],allowCustomColors:!0,sizeLabel:"Size"},Cap:{sizes:["One Size","Youth"],colors:["Black","Navy","Gray","Charcoal","White","Red","Olive","Camo","Tan","Beige-Gray"],allowCustomColors:!0},"Phone Cover":{sizes:["iPhone 14","iPhone 14 Pro","iPhone 14 Pro Max","iPhone 15","iPhone 15 Pro","iPhone 15 Pro Max","Samsung Galaxy S23","Samsung Galaxy S24"],colors:["Clear","Black","White","Blue","Royal Blue","Red","Pink","Purple","Green","Gold","Silver","Rose Gold"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Model"},"Gaming Pad":{sizes:["Small (9x7)","Medium (12x10)","Large (16x12)","XL (18x16)"],colors:["Black","Gray","Charcoal","White","Blue","Red","Purple","Green"],allowCustomColors:!0,sizeLabel:"Size (inches)"},Beanie:{sizes:["One Size"],colors:["Black","Gray","Charcoal","Navy","Burgundy","Olive","Maroon","Beige-Gray","Forest Green"],allowCustomColors:!0}}},home:{default:{sizes:["Standard"],colors:["White","Black","Gray","Beige","Beige-Gray","Navy","Cream","Ivory"],allowCustomSizes:!0,allowCustomColors:!0,sizeHint:"Add custom dimensions for home products."},bySubcategory:{Mug:{sizes:["11oz","15oz","20oz"],colors:["White","Black","Red","Blue","Royal Blue","Green","Yellow","Pink","Purple","Orange","Gray","Beige-Gray"],allowCustomColors:!0,sizeLabel:"Capacity"},Can:{sizes:["12oz","16oz","20oz"],colors:["White","Black","Silver","Blue","Red","Green","Pink","Purple","Gold","Teal"],allowCustomColors:!0,sizeLabel:"Capacity"},Cushion:{sizes:["14x14","16x16","18x18","20x20"],colors:["White","Black","Gray","Light Gray","Beige","Beige-Gray","Navy","Red","Yellow","Green","Blue","Pink","Cream","Tan"],allowCustomColors:!0,sizeLabel:"Size (inches)"},Frame:{sizes:["5x7","8x10","11x14","16x20","18x24"],colors:["Black","White","Wood","Silver","Gold","Rose Gold","Bronze","Copper","Charcoal","Beige-Gray"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Frame Size"},Coaster:{sizes:["4x4","4.5x4.5"],colors:["White","Black","Cork","Wood","Gray","Beige-Gray","Tan","Natural","Slate"],allowCustomColors:!0,sizeLabel:"Size (inches)"}}},print:{default:{sizes:["Standard"],colors:["Full Color"],allowCustomSizes:!0,allowCustomColors:!1},bySubcategory:{"Business Card":{sizes:["3.5x2","3.5x2 (Rounded)","2x3.5"],colors:["Full Color","Black & White"],allowCustomSizes:!0,allowCustomColors:!1,sizeLabel:"Size (inches)"},Poster:{sizes:["A4","A3","A2","A1","11x17","18x24","24x36"],colors:["Full Color","Black & White","Sepia"],allowCustomSizes:!0,sizeLabel:"Size"},Sticker:{sizes:["2x2","3x3","4x4","6x6","Custom"],colors:["Full Color","Single Color","Clear Background"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Size (inches)"},Flyer:{sizes:["A4","A5","Letter (8.5x11)","Half Letter (5.5x8.5)"],colors:["Full Color","Black & White"],allowCustomSizes:!0,allowCustomColors:!1,sizeLabel:"Size",sizeHint:"Add custom flyer dimensions."},Notebook:{sizes:["A4","A5","A6","B5","Letter"],colors:["White Pages","Cream Pages","Black Pages","Ivory","Beige-Gray"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Size",sizeHint:"Add custom notebook sizes.",colorHint:"Add custom page colors (e.g., Grid, Dotted)."},Banner:{sizes:["2x4 ft","3x6 ft","4x8 ft","5x10 ft"],colors:["Full Color"],allowCustomSizes:!0,sizeLabel:"Size"},Canvas:{sizes:["8x10","11x14","16x20","18x24","24x36"],colors:["Standard Canvas","Gallery Wrap"],allowCustomSizes:!0,sizeLabel:"Size (inches)"}}},packaging:{default:{sizes:["Small","Medium","Large"],colors:["White","Kraft","Black","Natural","Beige-Gray"],allowCustomSizes:!0,allowCustomColors:!0},bySubcategory:{Box:{sizes:["4x4x4","6x6x6","8x8x8","10x10x10","12x12x12"],colors:["White","Kraft","Natural","Black","Brown","Beige-Gray","Tan","Custom Printed"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Dimensions (inches)"},Bottle:{sizes:["50ml","100ml","250ml","500ml","1000ml"],colors:["Clear","Amber","Blue","Cobalt Blue","Green","White","Black","Frosted"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Capacity"},Pouch:{sizes:["Small (4x6)","Medium (6x9)","Large (8x12)"],colors:["Clear","White","Black","Kraft","Silver","Gold","Rose Gold","Beige-Gray"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Size"},Tube:{sizes:["2x12","3x18","4x24"],colors:["White","Kraft","Natural","Black","Beige-Gray","Brown"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Diameter x Length (inches)",sizeHint:"Add custom tube dimensions."}}},tech:{default:{sizes:["Standard"],colors:["Black","White","Clear","Blue","Red","Gray","Silver"],allowCustomSizes:!0,allowCustomColors:!0},bySubcategory:{IPhone:{sizes:["iPhone 13","iPhone 13 Pro","iPhone 13 Pro Max","iPhone 14","iPhone 14 Pro","iPhone 14 Pro Max","iPhone 15","iPhone 15 Pro","iPhone 15 Pro Max"],colors:["Clear","Black","White","Blue","Royal Blue","Navy","Red","Pink","Purple","Green","Yellow","Orange","Gray","Silver","Gold","Rose Gold","Beige-Gray"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Model"},IPad:{sizes:['iPad 10.2"','iPad Air 10.9"','iPad Pro 11"','iPad Pro 12.9"'],colors:["Clear","Black","White","Blue","Royal Blue","Navy","Red","Gray","Silver","Gold","Rose Gold"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Model"},Macbook:{sizes:['MacBook Air 13"','MacBook Pro 14"','MacBook Pro 16"'],colors:["Clear","Black","White","Blue","Gray","Silver","Charcoal","Beige-Gray","Rose Gold"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Model"},Phone:{sizes:['Small (5-6")','Medium (6-6.5")','Large (6.5"+)'],colors:["Clear","Black","White","Blue","Red","Pink","Purple","Green","Gray","Silver"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Size"}}},jewelry:{default:{sizes:["One Size","Adjustable"],colors:["Silver","Gold","Rose Gold","White Gold","Black","Bronze","Copper"],allowCustomSizes:!0,allowCustomColors:!0},bySubcategory:{Ring:{sizes:["5","6","7","8","9","10","11","Adjustable"],colors:["Silver","Gold","Rose Gold","White Gold","Black","Bronze","Copper","Brass","Platinum"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Ring Size"},Necklace:{sizes:['14"','16"','18"','20"','22"','24"',"Adjustable"],colors:["Silver","Gold","Rose Gold","White Gold","Black","Bronze","Copper","Brass"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Chain Length"},Earring:{sizes:["Small","Medium","Large"],colors:["Silver","Gold","Rose Gold","White Gold","Black","Bronze","Copper"],allowCustomColors:!0,sizeLabel:"Size"}}}},dye=(t,e)=>{var n;const r=uye[t];return r?e&&((n=r.bySubcategory)!=null&&n[e])?r.bySubcategory[e]:r.default:{sizes:["One Size"],colors:["Default"],allowCustomSizes:!0,allowCustomColors:!0}},E6={apparel:{common:[{key:"gender",label:"Target Audience",type:"select",options:["Men","Women","Kids","Unisex"],required:!0},{key:"material",label:"Material",type:"text",placeholder:"e.g., 100% Cotton"},{key:"gsm",label:"GSM",type:"text",placeholder:"e.g., 180",unit:"g/m"},{key:"fit",label:"Fit",type:"select",options:["Regular","Oversized","Slim"]},{key:"brand",label:"Brand",type:"text",placeholder:"Enter brand name"},{key:"fabricComposition",label:"Fabric Composition",type:"text",placeholder:"e.g., 60% Cotton, 40% Polyester"}],bySubcategory:{"T-Shirt":[{key:"collarType",label:"Collar Type",type:"select",options:["Crew Neck","V-Neck","Polo","Henley"]},{key:"sleeveLength",label:"Sleeve Length",type:"select",options:["Short Sleeve","Long Sleeve","3/4 Sleeve"]}],Hoodie:[{key:"hoodType",label:"Hood Type",type:"select",options:["Pullover","Zip-up","Half-Zip"]},{key:"pocketStyle",label:"Pocket Style",type:"select",options:["Kangaroo","Side Pockets","No Pockets"]}],Jersey:[{key:"neckline",label:"Neckline",type:"text",placeholder:"e.g., V-Neck, Round Neck"},{key:"sleeveLength",label:"Sleeve Length",type:"select",options:["Short Sleeve","Long Sleeve","Sleeveless"]}]}},accessories:{common:[{key:"material",label:"Material",type:"text",placeholder:"e.g., Canvas, Leather"},{key:"brand",label:"Brand",type:"text",placeholder:"Enter brand name"}],bySubcategory:{"Tote Bag":[{key:"capacity",label:"Capacity",type:"text",placeholder:"e.g., 15L",unit:"L"},{key:"handleType",label:"Handle Type",type:"select",options:["Short","Long","Adjustable"]}],Cap:[{key:"capStyle",label:"Cap Style",type:"select",options:["Snapback","Dad Hat","Trucker","Fitted"]},{key:"visorType",label:"Visor Type",type:"select",options:["Curved","Flat"]}],"Phone Cover":[{key:"compatibility",label:"Compatibility",type:"text",placeholder:"e.g., iPhone 14 Pro",required:!0},{key:"caseType",label:"Case Type",type:"select",options:["Soft","Hard","Hybrid"]}]}},home:{common:[{key:"material",label:"Material",type:"text",placeholder:"e.g., Ceramic, Glass"},{key:"brand",label:"Brand",type:"text",placeholder:"Enter brand name"}],bySubcategory:{Mug:[{key:"capacity",label:"Capacity",type:"text",placeholder:"e.g., 11oz, 15oz",unit:"oz"},{key:"dishwasherSafe",label:"Dishwasher Safe",type:"select",options:["Yes","No"]},{key:"microwaveSafe",label:"Microwave Safe",type:"select",options:["Yes","No"]}],Cushion:[{key:"dimensions",label:"Dimensions",type:"text",placeholder:"e.g., 18x18 inches"},{key:"fillMaterial",label:"Fill Material",type:"text",placeholder:"e.g., Polyester fiber"}],Frame:[{key:"frameSize",label:"Frame Size",type:"text",placeholder:"e.g., 8x10, 11x14",required:!0},{key:"frameMaterial",label:"Frame Material",type:"select",options:["Wood","Metal","Plastic"]}]}},print:{common:[{key:"paperType",label:"Paper Type",type:"text",placeholder:"e.g., Matte, Glossy"},{key:"paperWeight",label:"Paper Weight",type:"text",placeholder:"e.g., 300gsm",unit:"gsm"}],bySubcategory:{"Business Card":[{key:"dimensions",label:"Dimensions",type:"text",placeholder:"e.g., 3.5x2 inches",required:!0},{key:"finish",label:"Finish",type:"select",options:["Matte","Glossy","Textured","Spot UV"]},{key:"corners",label:"Corners",type:"select",options:["Square","Rounded"]}],Poster:[{key:"size",label:"Size",type:"select",options:["A4","A3","A2","A1","18x24","24x36"],required:!0},{key:"finish",label:"Finish",type:"select",options:["Matte","Glossy","Satin"]}],Sticker:[{key:"stickerType",label:"Sticker Type",type:"select",options:["Die Cut","Kiss Cut","Sheet"],required:!0},{key:"finish",label:"Finish",type:"select",options:["Matte","Glossy","Clear"]},{key:"waterproof",label:"Waterproof",type:"select",options:["Yes","No"]}],Notebook:[{key:"pageCount",label:"Page Count",type:"number",placeholder:"e.g., 100"},{key:"binding",label:"Binding",type:"select",options:["Spiral","Perfect Bound","Saddle Stitch"]},{key:"ruling",label:"Ruling",type:"select",options:["Lined","Blank","Grid","Dotted"]}]}},packaging:{common:[{key:"material",label:"Material",type:"text",placeholder:"e.g., Cardboard, Plastic"},{key:"recyclable",label:"Recyclable",type:"select",options:["Yes","No","Partially"]}],bySubcategory:{Box:[{key:"boxType",label:"Box Type",type:"select",options:["Mailer","Gift","Shipping","Display"]},{key:"dimensions",label:"Dimensions",type:"text",placeholder:"e.g., 10x8x4 inches",required:!0}],Bottle:[{key:"capacity",label:"Capacity",type:"text",placeholder:"e.g., 500ml",unit:"ml",required:!0},{key:"capType",label:"Cap Type",type:"select",options:["Screw Cap","Flip Top","Pump","Spray"]}],Pouch:[{key:"pouchType",label:"Pouch Type",type:"select",options:["Stand-up","Flat","Gusseted","Zipper"]},{key:"capacity",label:"Capacity",type:"text",placeholder:"e.g., 250g"}]}},tech:{common:[{key:"brand",label:"Brand",type:"text",placeholder:"Enter brand name"},{key:"material",label:"Material",type:"text",placeholder:"e.g., Silicone, Polycarbonate"}],bySubcategory:{IPhone:[{key:"model",label:"Model",type:"text",placeholder:"e.g., iPhone 14 Pro Max",required:!0},{key:"caseType",label:"Case Type",type:"select",options:["Slim","Rugged","Wallet","Clear"]},{key:"protection",label:"Protection Level",type:"select",options:["Basic","Military Grade","Shockproof"]}],Macbook:[{key:"model",label:"Model",type:"text",placeholder:'e.g., MacBook Pro 14"',required:!0},{key:"accessoryType",label:"Accessory Type",type:"select",options:["Case","Sleeve","Skin","Cover"]}],IPad:[{key:"model",label:"Model",type:"text",placeholder:'e.g., iPad Pro 11"',required:!0},{key:"caseType",label:"Case Type",type:"select",options:["Folio","Back Cover","Keyboard Case","Rugged"]}]}},jewelry:{common:[{key:"material",label:"Material",type:"text",placeholder:"e.g., Sterling Silver, Gold Plated",required:!0},{key:"finish",label:"Finish",type:"select",options:["Polished","Brushed","Matte","Oxidized"]},{key:"hypoallergenic",label:"Hypoallergenic",type:"select",options:["Yes","No"]}],bySubcategory:{Ring:[{key:"ringSize",label:"Ring Size",type:"text",placeholder:"e.g., Adjustable, Size 7"},{key:"bandWidth",label:"Band Width",type:"text",placeholder:"e.g., 3mm",unit:"mm"}],Necklace:[{key:"chainLength",label:"Chain Length",type:"text",placeholder:"e.g., 18 inches",unit:"inches"},{key:"chainType",label:"Chain Type",type:"select",options:["Cable","Box","Rope","Snake","Curb"]},{key:"claspType",label:"Clasp Type",type:"select",options:["Lobster","Spring Ring","Magnetic","Toggle"]}],Earring:[{key:"earringType",label:"Earring Type",type:"select",options:["Stud","Hoop","Drop","Dangle","Huggie"]},{key:"backingType",label:"Backing Type",type:"select",options:["Push Back","Screw Back","Leverback","Fish Hook"]}]}}},uX=(t,e)=>{const r=E6[t];if(!r)return[];const n=[...r.common];return r.bySubcategory&&e.forEach(s=>{var o;const a=(o=r.bySubcategory)==null?void 0:o[s];a&&n.push(...a)}),n};function hye(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var JI="ScrollArea",[dX]=ma(JI),[fye,Cu]=dX(JI),hX=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=t,[l,c]=b.useState(null),[u,d]=b.useState(null),[h,p]=b.useState(null),[f,m]=b.useState(null),[g,y]=b.useState(null),[x,w]=b.useState(0),[S,N]=b.useState(0),[C,A]=b.useState(!1),[k,E]=b.useState(!1),T=Lr(e,I=>c(I)),R=am(s);return i.jsx(fye,{scope:r,type:n,dir:R,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:m,scrollbarXEnabled:C,onScrollbarXEnabledChange:A,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:N,children:i.jsx(ir.div,{dir:R,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});hX.displayName=JI;var fX="ScrollAreaViewport",pX=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=t,o=Cu(fX,r),l=b.useRef(null),c=Lr(e,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(ir.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});pX.displayName=fX;var Nh="ScrollAreaScrollbar",eM=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Cu(Nh,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return b.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(pye,{...n,ref:e,forceMount:r}):s.type==="scroll"?i.jsx(mye,{...n,ref:e,forceMount:r}):s.type==="auto"?i.jsx(mX,{...n,ref:e,forceMount:r}):s.type==="always"?i.jsx(tM,{...n,ref:e}):null});eM.displayName=Nh;var pye=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Cu(Nh,t.__scopeScrollArea),[a,o]=b.useState(!1);return b.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Fa,{present:r||a,children:i.jsx(mX,{"data-state":a?"visible":"hidden",...n,ref:e})})}),mye=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Cu(Nh,t.__scopeScrollArea),a=t.orientation==="horizontal",o=U3(()=>c("SCROLL_END"),100),[l,c]=hye("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),b.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const f=u[d];h!==f&&(c("SCROLL"),o()),h=f};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,a,c,o]),i.jsx(Fa,{present:r||l!=="hidden",children:i.jsx(tM,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Ft(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ft(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),mX=b.forwardRef((t,e)=>{const r=Cu(Nh,t.__scopeScrollArea),{forceMount:n,...s}=t,[a,o]=b.useState(!1),l=t.orientation==="horizontal",c=U3(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return cy(r.viewport,c),cy(r.content,c),i.jsx(Fa,{present:n||a,children:i.jsx(tM,{"data-state":a?"visible":"hidden",...s,ref:e})})}),tM=b.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Cu(Nh,t.__scopeScrollArea),a=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=bX(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,f){return wye(p,o.current,l,f)}return r==="horizontal"?i.jsx(gye,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollLeft,f=zR(p,l,s.dir);a.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):r==="vertical"?i.jsx(xye,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollTop,f=zR(p,l);a.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),gye=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=Cu(Nh,t.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=Lr(e,c,a.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(xX,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":z3(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const p=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),jX(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vN(o.paddingLeft),paddingEnd:vN(o.paddingRight)}})}})}),xye=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=Cu(Nh,t.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=Lr(e,c,a.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(xX,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":z3(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const p=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),jX(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vN(o.paddingTop),paddingEnd:vN(o.paddingBottom)}})}})}),[yye,gX]=dX(Nh),xX=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=t,f=Cu(Nh,r),[m,g]=b.useState(null),y=Lr(e,T=>g(T)),x=b.useRef(null),w=b.useRef(""),S=f.viewport,N=n.content-n.viewport,C=Li(d),A=Li(c),k=U3(h,10);function E(T){if(x.current){const R=T.clientX-x.current.left,I=T.clientY-x.current.top;u({x:R,y:I})}}return b.useEffect(()=>{const T=R=>{const I=R.target;(m==null?void 0:m.contains(I))&&C(R,N)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[S,m,N,C]),b.useEffect(A,[n,A]),cy(m,k),cy(f.content,k),i.jsx(yye,{scope:r,scrollbar:m,hasThumb:s,onThumbChange:Li(a),onThumbPointerUp:Li(o),onThumbPositionChange:A,onThumbPointerDown:Li(l),children:i.jsx(ir.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:Ft(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),x.current=m.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),E(T))}),onPointerMove:Ft(t.onPointerMove,E),onPointerUp:Ft(t.onPointerUp,T=>{const R=T.target;R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=w.current,f.viewport&&(f.viewport.style.scrollBehavior=""),x.current=null})})})}),yN="ScrollAreaThumb",yX=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=gX(yN,t.__scopeScrollArea);return i.jsx(Fa,{present:r||s.hasThumb,children:i.jsx(vye,{ref:e,...n})})}),vye=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,a=Cu(yN,r),o=gX(yN,r),{onThumbPositionChange:l}=o,c=Lr(e,h=>o.onThumbChange(h)),u=b.useRef(void 0),d=U3(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const h=a.viewport;if(h){const p=()=>{if(d(),!u.current){const f=jye(h,l);u.current=f,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[a.viewport,d,l]),i.jsx(ir.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ft(t.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),m=h.clientX-f.left,g=h.clientY-f.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:Ft(t.onPointerUp,o.onThumbPointerUp)})});yX.displayName=yN;var rM="ScrollAreaCorner",vX=b.forwardRef((t,e)=>{const r=Cu(rM,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(bye,{...t,ref:e}):null});vX.displayName=rM;var bye=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Cu(rM,r),[a,o]=b.useState(0),[l,c]=b.useState(0),u=!!(a&&l);return cy(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),cy(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(ir.div,{...n,ref:e,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function vN(t){return t?parseInt(t,10):0}function bX(t,e){const r=t/e;return isNaN(r)?0:r}function z3(t){const e=bX(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function wye(t,e,r,n="ltr"){const s=z3(r),a=s/2,o=e||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return wX([c,u],h)(t)}function zR(t,e,r="ltr"){const n=z3(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,o=e.content-e.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=l2(t,c);return wX([0,o],[0,l])(u)}function wX(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function jX(t,e){return t>0&&t<e}var jye=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&e(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function U3(t,e){const r=Li(t),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function cy(t,e){const r=Li(e);pa(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var SX=hX,Sye=pX,Nye=vX;const ul=b.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(SX,{ref:n,className:dt("relative overflow-hidden",t),...r,children:[i.jsx(Sye,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(NX,{}),i.jsx(Nye,{})]}));ul.displayName=SX.displayName;const NX=b.forwardRef(({className:t,orientation:e="vertical",...r},n)=>i.jsx(eM,{ref:n,orientation:e,className:dt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:i.jsx(yX,{className:"relative flex-1 rounded-full bg-border"})}));NX.displayName=eM.displayName;var W3="Checkbox",[Cye]=ma(W3),[_ye,nM]=Cye(W3);function Aye(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[p,f]=cl({prop:r,defaultProp:s??!1,onChange:c,caller:W3}),[m,g]=b.useState(null),[y,x]=b.useState(null),w=b.useRef(!1),S=m?!!o||!!m.closest("form"):!0,N={checked:p,disabled:a,setChecked:f,control:m,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:qp(s)?!1:s,isFormControl:S,bubbleInput:y,setBubbleInput:x};return i.jsx(_ye,{scope:e,...N,children:kye(h)?h(N):n})}var CX="CheckboxTrigger",_X=b.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},s)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:f,bubbleInput:m}=nM(CX,t),g=Lr(s,d),y=b.useRef(c);return b.useEffect(()=>{const x=a==null?void 0:a.form;if(x){const w=()=>h(y.current);return x.addEventListener("reset",w),()=>x.removeEventListener("reset",w)}},[a,h]),i.jsx(ir.button,{type:"button",role:"checkbox","aria-checked":qp(c)?"mixed":c,"aria-required":u,"data-state":TX(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:Ft(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Ft(r,x=>{h(w=>qp(w)?!0:!w),m&&f&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});_X.displayName=CX;var sM=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=t;return i.jsx(Aye,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>i.jsxs(i.Fragment,{children:[i.jsx(_X,{...h,ref:e,__scopeCheckbox:r}),p&&i.jsx(EX,{__scopeCheckbox:r})]})})});sM.displayName=W3;var AX="CheckboxIndicator",kX=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,a=nM(AX,r);return i.jsx(Fa,{present:n||qp(a.checked)||a.checked===!0,children:i.jsx(ir.span,{"data-state":TX(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});kX.displayName=AX;var PX="CheckboxBubbleInput",EX=b.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:p,setBubbleInput:f}=nM(PX,t),m=Lr(r,f),g=jw(a),y=yw(n);b.useEffect(()=>{const w=p;if(!w)return;const S=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(S,"checked").set,A=!s.current;if(g!==a&&C){const k=new Event("click",{bubbles:A});w.indeterminate=qp(a),C.call(w,qp(a)?!1:a),w.dispatchEvent(k)}},[p,g,a,s]);const x=b.useRef(qp(a)?!1:a);return i.jsx(ir.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:m,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});EX.displayName=PX;function kye(t){return typeof t=="function"}function qp(t){return t==="indeterminate"}function TX(t){return qp(t)?"indeterminate":t?"checked":"unchecked"}const Un=b.forwardRef(({className:t,...e},r)=>i.jsx(sM,{ref:r,className:dt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(kX,{className:dt("flex items-center justify-center text-current"),children:i.jsx(Gi,{className:"h-4 w-4"})})}));Un.displayName=sM.displayName;var Pye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Eye=Pye.reduce((t,e)=>{const r=LI(`Primitive.${e}`),n=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Tye="Label",IX=b.forwardRef((t,e)=>i.jsx(Eye.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));IX.displayName=Tye;var MX=IX;const Iye=Hy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),je=b.forwardRef(({className:t,...e},r)=>i.jsx(MX,{ref:r,className:dt(Iye(),t),...e}));je.displayName=MX.displayName;const Mye=["apparel","accessories","home","print","packaging","tech","jewelry"],dA={"t-shirts":"T-Shirt","tank-tops":"Tank Top",hoodies:"Hoodie",sweatshirts:"Sweatshirt",jackets:"Jacket","crop-tops":"Crop Top",aprons:"Apron",scarves:"Scarf",jerseys:"Jersey","tote-bag":"Tote Bag",caps:"Cap","phone-covers":"Phone Cover","gaming-pads":"Gaming Pad",beanies:"Beanie",cans:"Can",mugs:"Mug",drinkware:"Mug",cushions:"Cushion",frames:"Frame",coasters:"Coaster","business-cards":"Business Card",books:"Book","id-cards":"ID Card",stickers:"Sticker",posters:"Poster",flyers:"Flyer","greeting-cards":"Greeting Card",billboards:"Billboard",magazines:"Magazine",brochures:"Brochure",lanyards:"Lanyard",banners:"Banner",canvas:"Canvas",notebooks:"Notebook",stationery:"Notebook",boxes:"Box",tubes:"Tube","dropper-bottles":"Dropper Bottle",pouches:"Pouch",cosmetics:"Cosmetic",bottles:"Bottle","iphone-cases":"IPhone","laptop-skins":"Lap Top","ipad-cases":"IPad","macbook-cases":"Macbook","phone-cases":"Phone",rings:"Ring",necklaces:"Necklace",earrings:"Earring"},Dx={"t-shirts":"apparel","tank-tops":"apparel",hoodies:"apparel",sweatshirts:"apparel",jackets:"apparel","crop-tops":"apparel",aprons:"apparel",scarves:"apparel",jerseys:"apparel","tote-bag":"accessories",caps:"accessories","phone-covers":"accessories","gaming-pads":"accessories",beanies:"accessories",cans:"home",mugs:"home",drinkware:"home",cushions:"home",frames:"home",coasters:"home","business-cards":"print",books:"print","id-cards":"print",stickers:"print",posters:"print",flyers:"print","greeting-cards":"print",billboards:"print",magazines:"print",brochures:"print",lanyards:"print",banners:"print",canvas:"print",notebooks:"print",stationery:"print",boxes:"packaging",tubes:"packaging","dropper-bottles":"packaging",pouches:"packaging",cosmetics:"packaging",bottles:"packaging","iphone-cases":"tech","laptop-skins":"tech","ipad-cases":"tech","macbook-cases":"tech","phone-cases":"tech",rings:"jewelry",necklaces:"jewelry",earrings:"jewelry"},Oye=()=>{const{slug:t}=Do(),e=b.useMemo(()=>rg.find(oe=>oe.slug===t),[t]),[r,n]=b.useState([]),[s,a]=b.useState(!1),[o,l]=b.useState(null),{categoryId:c}=Do(),[u,d]=b.useState({}),[h,p]=b.useState(!0),[f,m]=b.useState(""),[g,y]=b.useState("popularity"),[x,w]=b.useState([]),[S,N]=b.useState([]),[C,A]=b.useState([]),[k,E]=b.useState({}),[T,R]=b.useState([]),[I,L]=b.useState({}),[U,$]=b.useState([]),[q,G]=b.useState({}),[W,B]=b.useState([]),[O,K]=b.useState([]),[Y,D]=b.useState([]),[Z,ie]=b.useState({}),he=b.useMemo(()=>W.length===0&&O.length===0&&Y.length===0&&Object.keys(Z).length===0?r:r.filter(oe=>{var ft;const Oe=W.length===0||oe.availableColors&&oe.availableColors.some(Fe=>W.includes(Fe)),Ie=O.length===0||oe.availableSizes&&oe.availableSizes.some(Fe=>O.includes(Fe)),He=Y.length===0||((ft=oe.catalogue)==null?void 0:ft.tags)&&oe.catalogue.tags.some(Fe=>Y.includes(Fe)),nt=Object.entries(Z).every(([Fe,Ae])=>{var Ee,Re;if(Ae.length===0)return!0;const it=(Re=(Ee=oe.catalogue)==null?void 0:Ee.attributes)==null?void 0:Re[Fe];return Array.isArray(it)?it.some(We=>Ae.includes(We)):Ae.includes(it)});return Oe&&Ie&&He&&nt}),[r,W,O,Y,Z]),J=oe=>{B(Oe=>Oe.includes(oe)?Oe.filter(Ie=>Ie!==oe):[...Oe,oe])},ae=oe=>{K(Oe=>Oe.includes(oe)?Oe.filter(Ie=>Ie!==oe):[...Oe,oe])},ne=(oe,Oe)=>{ie(Ie=>{const He=Ie[oe]||[],nt=He.includes(Oe)?He.filter(ft=>ft!==Oe):[...He,Oe];if(nt.length===0){const{[oe]:ft,...Fe}=Ie;return Fe}return{...Ie,[oe]:nt}})},se=()=>{B([]),K([]),D([]),ie({})},Q=b.useMemo(()=>Mye.includes(t||""),[t]),re=b.useMemo(()=>!t||Q?null:t&&dA[t]||(e==null?void 0:e.name)||t,[t,e,Q]);b.useEffect(()=>{if(!t){console.log("No slug provided, skipping");return}(async()=>{a(!0),l(null);try{if(Q){console.log("Fetching products for main category:",t);const Oe=await Di.getCatalogProducts({page:1,limit:100,category:t});console.log("API response for category:",t,Oe),Oe&&Oe.success&&Array.isArray(Oe.data)?n(Oe.data):n([])}else if(re){console.log("Fetching products for subcategory:",re);const Oe=await Di.getCatalogProducts({page:1,limit:100,subcategory:re});console.log("API response for subcategory:",re,Oe);const Ie=Array.isArray(Oe.data.variants)?Oe.data.variants:[],He={};Ie.forEach(ft=>{if(ft&&typeof ft.color=="string"){const Fe=ft.color;He[Fe]===void 0&&(He[Fe]=ft.colorHex||void 0)}});const nt=Object.entries(He).map(([ft,Fe])=>({value:ft,colorHex:Fe||pp(ft)}));$(nt),Oe&&Oe.success&&Array.isArray(Oe.data)?n(Oe.data):n([])}}catch(Oe){console.error("Failed to fetch products:",Oe),l("Failed to load products"),n([])}finally{a(!1)}})()},[t,re,Q]);const[le,ve]=b.useState(void 0);b.useEffect(()=>{(async()=>{if(le)try{const Oe=await Gp.getAll({categoryId:le,subcategoryId:re||void 0,optionType:"color"});if(Oe&&Oe.success!==!1&&Array.isArray(Oe.data)){const Ie=Oe.data.filter(nt=>nt.optionType==="color").map(nt=>({value:nt.value,colorHex:nt.colorHex})),He={};Ie.forEach(nt=>{nt.colorHex&&(He[nt.value]=nt.colorHex)}),R(Ie),L(He)}else R([]),L({})}catch(Oe){console.warn("Failed to fetch color options for filters:",Oe),R([]),L({})}})()},[le,re]),b.useEffect(()=>{let oe;if(Q)oe=t||void 0;else{if(oe=Dx[t||""],!oe&&t){const ze=t+"s";if(oe=Dx[ze],!oe&&t.endsWith("s")){const ot=t.slice(0,-1);oe=Dx[ot]}}if(!oe&&re){for(const[ze,ot]of Object.entries(dA))if(ot===re&&(oe=Dx[ze],oe))break}}ve(oe);const Oe=oe?uX(oe,re?[re]:[]):[];let Ie=[];if(oe&&re&&E6[oe]){const ze=E6[oe];ze.bySubcategory&&ze.bySubcategory[re]&&(Ie=ze.bySubcategory[re])}Oe.length===0&&console.warn("No field definitions found",{categoryId:oe,slug:t,subcategory:re,isMainCategory:Q});const He=new Map,nt=new Set,ft=new Set,Fe={};Oe.forEach(ze=>{Fe[ze.key]=new Set}),Ie.forEach(ze=>{Fe[ze.key]||(Fe[ze.key]=new Set)}),T.length>0&&T.forEach(ze=>{He.has(ze.value)||He.set(ze.value,{id:ze.value,value:ze.value,colorHex:ze.colorHex||pp(ze.value)})});const Ae={};r&&r.length>0&&r.forEach(ze=>{var Pt;const ot=ze._id||ze.id,lt={};ze.variants&&Array.isArray(ze.variants)?ze.variants.forEach(ct=>{if(ct.color){const zt=ct.colorHex||pp(ct.color);lt[ct.color]=zt,He.has(ct.color)||He.set(ct.color,{id:ct.color,value:ct.color,colorHex:zt})}}):Array.isArray(ze.availableColors)&&ze.availableColors.forEach(ct=>{const zt=pp(ct);lt[ct]=zt,He.has(ct)||He.set(ct,{id:ct,value:ct,colorHex:zt})}),ot&&Object.keys(lt).length>0&&(Ae[ot]=lt),Array.isArray(ze.availableSizes)&&ze.availableSizes.forEach(ct=>{nt.add(ct)}),(Pt=ze.catalogue)!=null&&Pt.tags&&Array.isArray(ze.catalogue.tags)&&ze.catalogue.tags.forEach(ct=>{ft.add(ct)}),[...Oe,...Ie].forEach(ct=>{var jt,At;const zt=(At=(jt=ze.catalogue)==null?void 0:jt.attributes)==null?void 0:At[ct.key];zt!=null&&zt!==""&&(Array.isArray(zt)?zt.forEach(Ht=>{Ht&&Fe[ct.key].add(String(Ht))}):Fe[ct.key].add(String(zt)))})}),G(Ae);const it=Array.from(He.values()).sort((ze,ot)=>ze.value.localeCompare(ot.value)),Ee=["XS","S","M","L","XL","2XL","3XL","4XL","5XL"],Re=Array.from(nt).map(ze=>({id:ze,value:ze})).sort((ze,ot)=>{const lt=Ee.indexOf(ze.value),yt=Ee.indexOf(ot.value);return lt!==-1&&yt!==-1?lt-yt:lt!==-1?-1:yt!==-1?1:ze.value.localeCompare(ot.value)}),We=Array.from(ft).sort(),Ge={};Ie.forEach(ze=>{let ot=[];ze.type==="select"&&ze.options&&ze.options.length>0?ot=[...ze.options]:ot=Array.from(Fe[ze.key]||[]).sort();const lt=new Set(Fe[ze.key]||[]),yt=ze.type==="select"&&ze.options&&ze.options.length>0,Pt=ot.length>0;(yt||Pt)&&(Ge[ze.key]={label:ze.label,options:ot,type:ze.type,fieldDef:ze,hasProducts:lt})}),Oe.forEach(ze=>{if(Ge[ze.key])return;let ot=[];ze.type==="select"&&ze.options&&ze.options.length>0?ot=[...ze.options]:ot=Array.from(Fe[ze.key]||[]).sort();const lt=new Set(Fe[ze.key]||[]),yt=ze.type==="select"&&ze.options&&ze.options.length>0,Pt=ot.length>0;(yt||Pt)&&(Ge[ze.key]={label:ze.label,options:ot,type:ze.type,fieldDef:ze,hasProducts:lt})}),console.log("Final processed attributes:",Object.keys(Ge)),w(it),N(Re),A(We),E(Ge)},[r,t,re,Q]);const fe=oe=>{var Ie,He,nt,ft,Fe,Ae,it,Ee,Re,We,Ge,ze,ot,lt;const Oe=((He=(Ie=oe.catalogue)==null?void 0:Ie.attributes)==null?void 0:He.brand)||"ShelfMerch";return{id:oe._id||oe.id,name:((nt=oe.catalogue)==null?void 0:nt.name)||"Unnamed Product",image:((Fe=(ft=oe.galleryImages)==null?void 0:ft.find(yt=>yt.isPrimary))==null?void 0:Fe.url)||((it=(Ae=oe.galleryImages)==null?void 0:Ae[0])==null?void 0:it.url)||"/placeholder.png",brand:Oe,price:((Re=(Ee=oe.catalogue)==null?void 0:Ee.basePrice)==null?void 0:Re.toFixed(2))||"0.00",badge:((Ge=(We=oe.catalogue)==null?void 0:We.tags)==null?void 0:Ge[0])||null,sizesCount:((ze=oe.availableSizes)==null?void 0:ze.length)||0,gendersCount:((ot=oe.catalogue.attributes.gender)==null?void 0:ot.length)||0,colorsCount:((lt=oe.availableColors)==null?void 0:lt.length)||0}},X=he.length;r.length;const ce=b.useMemo(()=>Q?t:Dx[t||""]||void 0,[t,Q]),Pe=b.useMemo(()=>{if(!ce)return[];const oe=[];return Object.entries(dA).forEach(([Oe,Ie])=>{Dx[Oe]===ce&&(oe.includes(Ie)||oe.push(Ie))}),oe},[ce]),ke=b.useMemo(()=>e!=null&&e.name?e.name:Q&&t?t.split("-").map(oe=>oe.charAt(0).toUpperCase()+oe.slice(1)).join(" "):re&&le?{apparel:"Apparel",accessories:"Accessories",home:"Home & Living",print:"Print",packaging:"Packaging",tech:"Tech",jewelry:"Jewelry"}[le]||le:t?t.split("-").map(oe=>oe.charAt(0).toUpperCase()+oe.slice(1)).join(" "):"Category",[e,t,Q,re,le]);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Hp,{}),i.jsxs("main",{className:"w-full",children:[i.jsx("div",{className:"border-b bg-white",children:i.jsxs("div",{className:"container mx-auto px-4 py-3 flex flex-col sm:flex-row items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(_t,{to:"/products",className:"hover:text-foreground",children:"Catalogue"}),i.jsx("span",{className:"mx-2",children:"/"}),i.jsx("span",{className:"text-foreground",children:ke}),re&&!Q&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"mx-2",children:"/"}),i.jsx("span",{className:"text-foreground",children:re})]})]}),i.jsxs("div",{className:"relative flex-1 max-w-3xl mx-auto sm:mx-4",children:[i.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full h-10 bg-[#ECECE9] pl-14 pr-4 text-base sm:text-md border border-input/40 rounded-2xl  shadow-sm hover:shadow-md hover:border-primary/30 focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary/10 focus:border-primary transition-all duration-300 placeholder:text-muted-foreground/60"})]}),i.jsxs(Er,{value:g,onValueChange:y,children:[i.jsx(Ar,{className:"w-[120px] border-0 shadow-none text-sm",children:i.jsx(Tr,{placeholder:"Sorted by Featured"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"featured",children:"Featured"}),i.jsx(at,{value:"price-low",children:"Price: Low to High"}),i.jsx(at,{value:"price-high",children:"Price: High to Low"}),i.jsx(at,{value:"newest",children:"Newest"}),i.jsx(at,{value:"popularity",children:"Popularity"})]})]})]})}),i.jsx("div",{className:"border-b bg-white",children:i.jsxs("div",{className:"container mx-auto px-4 py-6",children:[i.jsx("h1",{className:"text-3xl font-semibold",children:ke}),o&&i.jsx("p",{className:"text-sm text-red-500 mt-2",children:o})]})}),i.jsxs("div",{className:"flex",children:[i.jsx("aside",{className:"w-64 border-r bg-white min-h-[calc(100vh-200px)] sticky top-0 self-start",children:i.jsxs("div",{className:"p-4",children:[Pe.length>0&&i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[i.jsx("button",{onClick:()=>{},className:"px-4 py-2 text-sm border rounded-md hover:bg-muted transition-colors bg-primary text-primary-foreground",children:"All"}),Pe.map(oe=>i.jsx("button",{className:"px-4 py-2 text-sm border rounded-md hover:bg-muted transition-colors",children:oe},oe))]})}),i.jsx(ul,{className:"h-[calc(100vh-300px)] pr-4",children:i.jsxs(xY,{type:"multiple",className:"w-full",children:[Object.entries(k).map(([oe,{label:Oe,options:Ie,type:He,fieldDef:nt,hasProducts:ft}])=>i.jsxs(cd,{value:oe,className:"border-b",children:[i.jsx(ud,{className:"py-3 text-sm font-medium hover:no-underline",children:i.jsx("div",{className:"flex items-center justify-between w-full",children:i.jsx("span",{children:Oe})})}),i.jsx(dd,{className:"pt-2 pb-4",children:He==="select"&&Ie.length>0?i.jsx("div",{className:"space-y-2",children:Ie.map(Fe=>{var Ee;const Ae=((Ee=Z[oe])==null?void 0:Ee.includes(Fe))||!1,it=ft.has(Fe);return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:`${oe}-${Fe}`,checked:Ae,onCheckedChange:()=>ne(oe,Fe),disabled:!it&&r.length>0}),i.jsxs(je,{htmlFor:`${oe}-${Fe}`,className:`cursor-pointer flex-1 text-sm ${!it&&r.length>0?"text-muted-foreground opacity-60":""}`,children:[Fe,!it&&r.length>0&&i.jsx("span",{className:"text-xs ml-1",children:"(0)"})]})]},Fe)})}):He==="text"||He==="textarea"?i.jsx("div",{className:"space-y-2",children:Ie.length>0?Ie.map(Fe=>{var Ae;return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:`${oe}-${Fe}`,checked:((Ae=Z[oe])==null?void 0:Ae.includes(Fe))||!1,onCheckedChange:()=>ne(oe,Fe)}),i.jsx(je,{htmlFor:`${oe}-${Fe}`,className:"cursor-pointer flex-1 text-sm",children:Fe})]},Fe)}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No values available"})}):He==="number"?i.jsx("div",{className:"space-y-2",children:Ie.length>0?Ie.map(Fe=>{var Ae;return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:`${oe}-${Fe}`,checked:((Ae=Z[oe])==null?void 0:Ae.includes(Fe))||!1,onCheckedChange:()=>ne(oe,Fe)}),i.jsxs(je,{htmlFor:`${oe}-${Fe}`,className:"cursor-pointer flex-1 text-sm",children:[Fe," ",nt.unit||""]})]},Fe)}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No values available"})}):null})]},oe)),i.jsxs(cd,{value:"colors",className:"border-b",children:[i.jsx(ud,{className:"py-3 text-sm font-medium hover:no-underline",children:i.jsx("div",{className:"flex items-center justify-between w-full",children:i.jsx("span",{children:"Colors"})})}),i.jsx(dd,{className:"pt-2 pb-4",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:x.length>0?x.map(oe=>{const Oe=W.includes(oe.value);return i.jsx("div",{onClick:()=>J(oe.value),className:`w-8 h-8 rounded-full border-2 cursor-pointer transition-all ${Oe?"ring-2 ring-offset-2 ring-primary scale-110":"hover:ring-2 hover:ring-offset-2 hover:ring-primary/50"}`,style:{backgroundColor:oe.colorHex||oe.value},title:oe.value},oe.id)}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No colors available"})})})]}),i.jsxs(cd,{value:"sizes",className:"border-b",children:[i.jsx(ud,{className:"py-3 text-sm font-medium hover:no-underline",children:i.jsx("div",{className:"flex items-center justify-between w-full",children:i.jsx("span",{children:"Sizes"})})}),i.jsx(dd,{className:"pt-2 pb-4",children:i.jsx("div",{className:"grid grid-cols-3 gap-2",children:S.length>0?S.map(oe=>{const Oe=O.includes(oe.value);return i.jsx("div",{onClick:()=>ae(oe.value),className:`border rounded-md py-1.5 text-center text-xs cursor-pointer transition-colors ${Oe?"bg-primary text-primary-foreground border-primary":"hover:bg-muted"}`,children:oe.value},oe.id)}):i.jsx("p",{className:"text-sm text-muted-foreground col-span-3",children:"No sizes available"})})})]})]})}),i.jsx("div",{className:"mt-4 pt-4 border-t",children:i.jsx(pe,{variant:"outline",className:"w-full",onClick:se,size:"sm",children:"Clear all filters"})})]})}),i.jsx("div",{className:"flex-1 bg-white",children:i.jsxs("div",{className:"container mx-auto px-4 py-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsx("div",{className:"flex items-center gap-4",children:i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Object.entries(k).map(([oe,{label:Oe,options:Ie}])=>Ie.map(He=>{var ft;const nt=((ft=Z[oe])==null?void 0:ft.includes(He))||!1;return i.jsxs(Ot,{variant:nt?"default":"outline",className:`cursor-pointer transition-colors whitespace-nowrap ${nt?"bg-primary text-primary-foreground hover:bg-primary/90":"hover:bg-muted"}`,onClick:()=>ne(oe,He),children:[Oe,": ",He]},`${oe}-${He}`)}))})})}),s&&X===0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:Array.from({length:8}).map((oe,Oe)=>i.jsxs("div",{className:"bg-card rounded-lg overflow-hidden border animate-pulse h-full",children:[i.jsx("div",{className:"aspect-square bg-muted"}),i.jsxs("div",{className:"p-4 space-y-2",children:[i.jsx("div",{className:"h-3 bg-muted rounded"}),i.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),i.jsx("div",{className:"h-4 bg-muted rounded w-1/3"})]})]},Oe))}):he.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:he.map(oe=>{var ft;const Oe=fe(oe),Ie=oe.availableColors||[],He=Ie.slice(0,5),nt=Ie.length-5;return i.jsx(_t,{to:`/products/${Oe.id}`,className:"group",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"aspect-square bg-muted relative overflow-hidden mb-3",children:[i.jsx("img",{src:Oe.image,alt:Oe.name,className:"w-full h-full object-cover group-hover:opacity-90 transition-opacity duration-300"}),Oe.badge&&i.jsx(Ot,{className:"absolute top-2 right-2 bg-black/80 text-white border-0",children:Oe.badge})]}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx("h3",{className:"font-medium text-base mb-1 group-hover:underline transition-colors line-clamp-2",children:Oe.name}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:((ft=oe.catalogue)==null?void 0:ft.description)||Oe.brand}),He.length>0&&i.jsxs("div",{className:"flex items-center gap-1.5 mb-3",children:[He.map((Fe,Ae)=>{const it=Oe.id,Re=(q[it]||{})[Fe]||pp(Fe);return i.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:Re||Fe},title:Fe},Ae)}),nt>0&&i.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["+ ",nt," more"]})]}),i.jsxs("p",{className:"text-base font-semibold mt-auto",children:["$",Oe.price]})]})]})},Oe.id)})}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"No products found matching your filters."}),i.jsx(pe,{variant:"outline",onClick:se,children:"Clear Filters"})]})]})})]})]}),i.jsx(Vp,{})]})},el={apparel:{id:"apparel",name:"Apparel",subcategories:["T-Shirt","Tank Top","Hoodie","Sweatshirt","Jacket","Crop Top","Apron","Scarf","Jersey"]},accessories:{id:"accessories",name:"Accessories",subcategories:["Tote Bag","Cap","Phone Cover","Gaming Pad","Beanie"]},home:{id:"home",name:"Home & Living",subcategories:["Can","Mug","Cushion","Frame","Coaster"]},print:{id:"print",name:"Print",subcategories:["Business Card","Book","ID Card","Sticker","Poster","Flyer","Greeting Card","Billboard","Magazine","Brochure","Lanyard","Banner","Canvas","Notebook"]},packaging:{id:"packaging",name:"Packaging",subcategories:["Box","Tube","Dropper Bottle","Pouch","Cosmetic","Bottle"]},tech:{id:"tech",name:"Tech",subcategories:["IPhone","Lap Top","IPad","Macbook","Phone"]},jewelry:{id:"jewelry",name:"Jewelry",subcategories:["Ring","Necklace","Earring"]}},Yp=t=>{const e=el[t];return e?[...e.subcategories]:[]},Lye=t=>t.toUpperCase().replace(/\s+/g,"_").replace(/[^A-Z0-9_]/g,"");function Rye(t){const e=Dye(t),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(Bye);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return i.jsx(e,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return i.jsx(e,{...o,ref:s,children:a})});return r.displayName=`${t}.Slot`,r}function Dye(t){const e=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=zye(s),l=$ye(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Af(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Fye=Symbol("radix.slottable");function Bye(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Fye}function $ye(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function zye(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var G3="Dialog",[OX,LX]=ma(G3),[Uye,Ed]=OX(G3),RX=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=b.useRef(null),c=b.useRef(null),[u,d]=cl({prop:n,defaultProp:s??!1,onChange:a,caller:G3});return i.jsx(Uye,{scope:e,triggerRef:l,contentRef:c,contentId:vc(),titleId:vc(),descriptionId:vc(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};RX.displayName=G3;var DX="DialogTrigger",FX=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ed(DX,r),a=Lr(e,s.triggerRef);return i.jsx(ir.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":oM(s.open),...n,ref:a,onClick:Ft(t.onClick,s.onOpenToggle)})});FX.displayName=DX;var iM="DialogPortal",[Wye,BX]=OX(iM,{forceMount:void 0}),$X=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,a=Ed(iM,e);return i.jsx(Wye,{scope:e,forceMount:r,children:b.Children.map(n,o=>i.jsx(Fa,{present:r||a.open,children:i.jsx(pw,{asChild:!0,container:s,children:o})}))})};$X.displayName=iM;var bN="DialogOverlay",zX=b.forwardRef((t,e)=>{const r=BX(bN,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=Ed(bN,t.__scopeDialog);return a.modal?i.jsx(Fa,{present:n||a.open,children:i.jsx(Hye,{...s,ref:e})}):null});zX.displayName=bN;var Gye=Rye("DialogOverlay.RemoveScroll"),Hye=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ed(bN,r);return i.jsx(D3,{as:Gye,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(ir.div,{"data-state":oM(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ig="DialogContent",UX=b.forwardRef((t,e)=>{const r=BX(Ig,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=Ed(Ig,t.__scopeDialog);return i.jsx(Fa,{present:n||a.open,children:a.modal?i.jsx(Vye,{...s,ref:e}):i.jsx(qye,{...s,ref:e})})});UX.displayName=Ig;var Vye=b.forwardRef((t,e)=>{const r=Ed(Ig,t.__scopeDialog),n=b.useRef(null),s=Lr(e,r.contentRef,n);return b.useEffect(()=>{const a=n.current;if(a)return ZI(a)},[]),i.jsx(WX,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ft(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ft(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ft(t.onFocusOutside,a=>a.preventDefault())})}),qye=b.forwardRef((t,e)=>{const r=Ed(Ig,t.__scopeDialog),n=b.useRef(!1),s=b.useRef(!1);return i.jsx(WX,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),WX=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=t,l=Ed(Ig,r),c=b.useRef(null),u=Lr(e,c);return KI(),i.jsxs(i.Fragment,{children:[i.jsx(L3,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Gy,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":oM(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Xye,{titleId:l.titleId}),i.jsx(Zye,{contentRef:c,descriptionId:l.descriptionId})]})]})}),aM="DialogTitle",GX=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ed(aM,r);return i.jsx(ir.h2,{id:s.titleId,...n,ref:e})});GX.displayName=aM;var HX="DialogDescription",VX=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ed(HX,r);return i.jsx(ir.p,{id:s.descriptionId,...n,ref:e})});VX.displayName=HX;var qX="DialogClose",YX=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Ed(qX,r);return i.jsx(ir.button,{type:"button",...n,ref:e,onClick:Ft(t.onClick,()=>s.onOpenChange(!1))})});YX.displayName=qX;function oM(t){return t?"open":"closed"}var XX="DialogTitleWarning",[Yye,KX]=Lle(XX,{contentName:Ig,titleName:aM,docsSlug:"dialog"}),Xye=({titleId:t})=>{const e=KX(XX),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Kye="DialogDescriptionWarning",Zye=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KX(Kye).contentName}}.`;return b.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},lM=RX,cM=FX,uM=$X,Sw=zX,Nw=UX,Cw=GX,_w=VX,Aw=YX;const dM=lM,ZX=cM,UR=Aw,Qye=uM,QX=b.forwardRef(({className:t,...e},r)=>i.jsx(Sw,{className:dt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));QX.displayName=Sw.displayName;const Jye=Hy("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),H3=b.forwardRef(({side:t="right",className:e,children:r,...n},s)=>i.jsxs(Qye,{children:[i.jsx(QX,{}),i.jsxs(Nw,{ref:s,className:dt(Jye({side:t}),e),...n,children:[r,i.jsxs(Aw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Ri,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));H3.displayName=Nw.displayName;const V3=({className:t,...e})=>i.jsx("div",{className:dt("flex flex-col space-y-2 text-center sm:text-left",t),...e});V3.displayName="SheetHeader";const JX=({className:t,...e})=>i.jsx("div",{className:dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});JX.displayName="SheetFooter";const q3=b.forwardRef(({className:t,...e},r)=>i.jsx(Cw,{ref:r,className:dt("text-lg font-semibold text-foreground",t),...e}));q3.displayName=Cw.displayName;const eve=b.forwardRef(({className:t,...e},r)=>i.jsx(_w,{ref:r,className:dt("text-sm text-muted-foreground",t),...e}));eve.displayName=_w.displayName;const tve=t=>t.toLowerCase().replace(/\s+/g,"-").replace(/&/g,"and"),rve=()=>{const{categoryId:t}=Do(),[e,r]=b.useState({}),[n,s]=b.useState(!0),[a,o]=b.useState(""),[l,c]=b.useState("popularity"),[u,d]=b.useState([]),[h,p]=b.useState([]),f=b.useMemo(()=>t?el[t]:null,[t]),m=b.useMemo(()=>t?Yp(t).map(x=>({name:x,slug:tve(x)})):[],[t]);b.useEffect(()=>{if(!t||m.length===0)return;(async()=>{s(!0);const x={};try{await Promise.all(m.map(async w=>{try{const S=await Di.getCatalogProducts({page:1,limit:1,category:t,subcategory:w.name});S&&S.success&&S.data&&S.data.length>0&&(x[w.slug]=S.data[0])}catch(S){console.error(`Failed to fetch products for subcategory ${w.slug}:`,S)}})),r(x)}catch(w){console.error(`Failed to fetch ${t} products:`,w)}finally{s(!1)}})()},[t,m]);const g=b.useMemo(()=>m.filter(x=>x.name.toLowerCase().includes(a.toLowerCase())).sort((x,w)=>{var C,A,k,E;const S=e[x.slug],N=e[w.slug];if(!S&&!N)return 0;if(!S)return 1;if(!N)return-1;switch(l){case"price-low":return(((C=S.catalogue)==null?void 0:C.basePrice)||0)-(((A=N.catalogue)==null?void 0:A.basePrice)||0);case"price-high":return(((k=N.catalogue)==null?void 0:k.basePrice)||0)-(((E=S.catalogue)==null?void 0:E.basePrice)||0);case"newest":return(N.createdAt||"").localeCompare(S.createdAt||"");case"popularity":default:return 0}}),[m,a,e,l]);return f?i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Hp,{}),i.jsxs("div",{className:"container py-8",children:[i.jsxs("div",{className:"mb-8 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx("h1",{className:"font-heading text-4xl font-semibold",children:f.name}),i.jsxs("div",{className:"relative flex-1 max-w-4xl mx-auto sm:mx-4",children:[i.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(rt,{type:"search",placeholder:`Search ${f.name.toLowerCase()}...`,className:"w-full pl-14 pr-4 py-4 text-base sm:text-lg border border-input/40 rounded-lg bg-[#ECECE9] shadow-sm hover:shadow-md hover:border-primary/30 focus:shadow-lg focus:outline-none transition-all duration-300 placeholder:text-muted-foreground/60",value:a,onChange:y=>o(y.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Sort by"}),i.jsxs(Er,{value:l,onValueChange:c,children:[i.jsx(Ar,{className:"w-[180px]",children:i.jsx(Tr,{placeholder:"Sort by"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"popularity",children:"Popularity"}),i.jsx(at,{value:"newest",children:"Newest"}),i.jsx(at,{value:"price-low",children:"Price: Low to High"}),i.jsx(at,{value:"price-high",children:"Price: High to Low"})]})]})]})]}),i.jsx("div",{className:"relative w-full h-[300px] rounded-xl overflow-hidden group",children:i.jsx("img",{src:"/embroidary.png",alt:"Embroidery Banner",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 pt-2",children:[i.jsxs(dM,{children:[i.jsx(ZX,{asChild:!0,children:i.jsxs(pe,{variant:"outline",className:"gap-2",children:[i.jsx(m3,{className:"h-4 w-4"}),"Filters"]})}),i.jsxs(H3,{side:"left",className:"w-[300px] sm:w-[400px] p-0",children:[i.jsx(V3,{className:"px-6 py-4 border-b",children:i.jsx(q3,{children:"Filters"})}),i.jsx(ul,{className:"h-[calc(100vh-8rem)] px-6",children:i.jsxs(xY,{type:"multiple",className:"w-full",children:[i.jsxs(cd,{value:"category",children:[i.jsx(ud,{children:"Category"}),i.jsx(dd,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:"cat-1"}),i.jsx(je,{htmlFor:"cat-1",children:"Men's Clothing"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:"cat-2"}),i.jsx(je,{htmlFor:"cat-2",children:"Women's Clothing"})]})]})})]}),i.jsxs(cd,{value:"colors",children:[i.jsx(ud,{children:"Colors"}),i.jsx(dd,{children:i.jsx("div",{className:"flex flex-wrap gap-2",children:u.length>0?u.map(y=>i.jsx("div",{className:"w-8 h-8 rounded-full border cursor-pointer hover:ring-2 ring-offset-2 ring-primary",style:{backgroundColor:y.colorHex||y.value},title:y.value},y.id)):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No colors available"})})})]}),i.jsxs(cd,{value:"branding",children:[i.jsx(ud,{children:"Branding"}),i.jsx(dd,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:"brand-1"}),i.jsx(je,{htmlFor:"brand-1",children:"Neck labels"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:"brand-2"}),i.jsx(je,{htmlFor:"brand-2",children:"Sleeve printing"})]})]})})]}),i.jsxs(cd,{value:"print-area",children:[i.jsx(ud,{children:"Print area"}),i.jsx(dd,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:"print-1"}),i.jsx(je,{htmlFor:"print-1",children:"Front"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:"print-2"}),i.jsx(je,{htmlFor:"print-2",children:"Back"})]})]})})]}),i.jsxs(cd,{value:"large-embroidery",children:[i.jsx(ud,{className:"hover:no-underline",children:i.jsxs("span",{className:"flex items-center gap-2",children:["Large embroidery",i.jsx(Ot,{variant:"secondary",className:"text-[10px] h-5 px-1.5 text-blue-600 bg-blue-50",children:"New"})]})}),i.jsx(dd,{children:i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:"le-1"}),i.jsx(je,{htmlFor:"le-1",children:"Available"})]})})})]}),i.jsxs(cd,{value:"providers",children:[i.jsx(ud,{children:"Providers"}),i.jsx(dd,{children:i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:"prov-1"}),i.jsx(je,{htmlFor:"prov-1",children:"Printify"})]})})})]}),i.jsxs(cd,{value:"sizes",children:[i.jsx(ud,{children:"Sizes"}),i.jsx(dd,{children:i.jsx("div",{className:"grid grid-cols-4 gap-2",children:h.length>0?h.map(y=>i.jsx("div",{className:"border rounded-md py-1 text-center text-sm cursor-pointer hover:bg-muted",children:y.value},y.id)):i.jsx("p",{className:"text-sm text-muted-foreground col-span-4",children:"No sizes available"})})})]})]})}),i.jsx(JX,{className:"absolute bottom-0 left-0 right-0 p-4 border-t bg-background",children:i.jsxs("div",{className:"flex w-full gap-2",children:[i.jsx(UR,{asChild:!0,children:i.jsx(pe,{variant:"outline",className:"flex-1",children:"Clear all"})}),i.jsx(UR,{asChild:!0,children:i.jsx(pe,{className:"flex-1",children:"Show results"})})]})})]})]}),i.jsx("div",{className:"flex-1 overflow-x-auto pb-2 sm:pb-0 scrollbar-hide",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ot,{variant:"secondary",className:"rounded-full px-4 py-1.5 text-sm font-normal whitespace-nowrap cursor-pointer hover:bg-secondary/80",children:["Large embroidery ",i.jsx("span",{className:"ml-1 text-xs font-bold text-blue-600",children:"New"})]}),i.jsx(Ot,{variant:"outline",className:"rounded-full px-4 py-1.5 text-sm font-normal whitespace-nowrap cursor-pointer hover:bg-muted",children:"Lowest price"}),i.jsx(Ot,{variant:"outline",className:"rounded-full px-4 py-1.5 text-sm font-normal whitespace-nowrap cursor-pointer hover:bg-muted",children:"Lowest shipping"}),i.jsx(Ot,{variant:"outline",className:"rounded-full px-4 py-1.5 text-sm font-normal whitespace-nowrap cursor-pointer hover:bg-muted",children:"Gift messages"}),i.jsx(Ot,{variant:"outline",className:"rounded-full px-4 py-1.5 text-sm font-normal whitespace-nowrap cursor-pointer hover:bg-muted",children:"Easy mockups"}),i.jsx(Ot,{variant:"outline",className:"rounded-full px-4 py-1.5 text-sm font-normal whitespace-nowrap cursor-pointer hover:bg-muted",children:"Packing inserts"})]})})]})]}),a&&g.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsxs("p",{className:"text-muted-foreground text-lg",children:['No subcategories found matching "',a,'"']})}):i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-4 bg-green",children:g.map(y=>{var S,N,C,A,k,E,T,R,I;const x=e[y.slug],w=((N=(S=x==null?void 0:x.galleryImages)==null?void 0:S.find(L=>L.isPrimary))==null?void 0:N.url)||((A=(C=x==null?void 0:x.galleryImages)==null?void 0:C[0])==null?void 0:A.url)||"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400";return i.jsx(_t,{to:`/products/category/${y.slug}`,className:"group",children:i.jsx(Ze,{className:"overflow-hidden hover:shadow-elevated transition-shadow h-full",children:i.jsxs(Tt,{className:"p-0",children:[i.jsx("div",{className:"relative aspect-square bg-muted overflow-hidden",children:n?i.jsx(kn,{className:"w-full h-full"}):i.jsxs(i.Fragment,{children:[i.jsx("img",{src:w,alt:x&&((k=x.catalogue)==null?void 0:k.name)||y.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),x&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),x&&i.jsxs("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[i.jsx("p",{className:"text-white text-xs font-medium line-clamp-1 drop-shadow-lg",children:((E=x.catalogue)==null?void 0:E.name)||"Latest Product"}),i.jsxs("p",{className:"text-white/90 text-xs drop-shadow-lg",children:["$",((R=(T=x.catalogue)==null?void 0:T.basePrice)==null?void 0:R.toFixed(2))||"0.00"]})]})]})}),i.jsxs("div",{className:"p-3 text-center",children:[i.jsx("h3",{className:"font-medium text-sm",children:y.name}),x&&!n&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:((I=x.catalogue)==null?void 0:I.name)||"New Product"})]})]})})},y.name)})}),i.jsxs("div",{className:"mt-8 text-center text-sm text-muted-foreground",children:["Showing ",g.length," of ",m.length," ",f.name.toLowerCase()," subcategories"]})]}),i.jsx(Vp,{})]}):i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Hp,{}),i.jsx("div",{className:"container py-8",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Category Not Found"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"The requested category does not exist."}),i.jsx(_t,{to:"/products",className:"text-primary hover:underline",children:"Back to Products"})]})}),i.jsx(Vp,{})]})},dl=lM,eK=cM,nve=uM,tK=b.forwardRef(({className:t,...e},r)=>i.jsx(Sw,{ref:r,className:dt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));tK.displayName=Sw.displayName;const Fo=b.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(nve,{children:[i.jsx(tK,{}),i.jsxs(Nw,{ref:n,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,i.jsxs(Aw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Ri,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fo.displayName=Nw.displayName;const Bo=({className:t,...e})=>i.jsx("div",{className:dt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Bo.displayName="DialogHeader";const Xg=({className:t,...e})=>i.jsx("div",{className:dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Xg.displayName="DialogFooter";const $o=b.forwardRef(({className:t,...e},r)=>i.jsx(Cw,{ref:r,className:dt("text-lg font-semibold leading-none tracking-tight",t),...e}));$o.displayName=Cw.displayName;const vh=b.forwardRef(({className:t,...e},r)=>i.jsx(_w,{ref:r,className:dt("text-sm text-muted-foreground",t),...e}));vh.displayName=_w.displayName;const rK=b.forwardRef(({...t},e)=>i.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));rK.displayName="Breadcrumb";const nK=b.forwardRef(({className:t,...e},r)=>i.jsx("ol",{ref:r,className:dt("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));nK.displayName="BreadcrumbList";const R1=b.forwardRef(({className:t,...e},r)=>i.jsx("li",{ref:r,className:dt("inline-flex items-center gap-1.5",t),...e}));R1.displayName="BreadcrumbItem";const T6=b.forwardRef(({asChild:t,className:e,...r},n)=>{const s=t?Yq:"a";return i.jsx(s,{ref:n,className:dt("transition-colors hover:text-foreground",e),...r})});T6.displayName="BreadcrumbLink";const I6=b.forwardRef(({className:t,...e},r)=>i.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:dt("font-normal text-foreground",t),...e}));I6.displayName="BreadcrumbPage";const fS=({children:t,className:e,...r})=>i.jsx("li",{role:"presentation","aria-hidden":"true",className:dt("[&>svg]:size-3.5",e),...r,children:t??i.jsx(gs,{})});fS.displayName="BreadcrumbSeparator";const sve={white:"#FFFFFF",black:"#000000",gray:"#808080",grey:"#808080",maroon:"#800000",red:"#FF0000",blue:"#0000FF",navy:"#000080",green:"#008000",yellow:"#FFFF00",orange:"#FFA500",pink:"#FFC0CB",purple:"#800080",brown:"#A52A2A",beige:"#F5F5DC",cream:"#FFFDD0",khaki:"#C3B091",olive:"#808000",teal:"#008080",cyan:"#00FFFF",lime:"#00FF00",magenta:"#FF00FF",coral:"#FF7F50",salmon:"#FA8072",tan:"#D2B48C",burgundy:"#800020",charcoal:"#36454F",ivory:"#FFFFF0",mint:"#98FF98",lavender:"#E6E6FA",peach:"#FFE5B4"},WR=t=>{const e=t.toLowerCase().trim();return sve[e]||"#CCCCCC"},ive={S:{chest:'36-38"',length:'28"',sleeve:'8.5"'},M:{chest:'40-42"',length:'29"',sleeve:'9"'},L:{chest:'44-46"',length:'30"',sleeve:'9.5"'},XL:{chest:'48-50"',length:'31"',sleeve:'10"'},"2XL":{chest:'52-54"',length:'32"',sleeve:'10.5"'},"3XL":{chest:'56-58"',length:'33"',sleeve:'11"'}},ave=()=>{var W,B,O,K,Y,D,Z,ie,he,J,ae,ne,se,Q,re,le,ve;const{id:t}=Do(),e=rs(),[r,n]=b.useState(null),[s,a]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(!1),[d,h]=b.useState(0),[p,f]=b.useState(null),[m,g]=b.useState([]),[y,x]=b.useState(null),[w,S]=b.useState(1),[N,C]=b.useState(!1),[A,k]=b.useState(!1),[E,T]=b.useState({x:0,y:0}),R=b.useRef(null),[I,L]=b.useState(!1);b.useEffect(()=>{(async()=>{var X;if(t){l(!0);try{const ce=await Di.getById(t);if(ce&&ce.success&&ce.data){n(ce.data);const Pe=Array.isArray(ce.data.variants)?ce.data.variants:[],ke={};Pe.forEach(Ie=>{if(Ie&&typeof Ie.color=="string"){const He=Ie.color;ke[He]===void 0&&(ke[He]=Ie.colorHex||void 0)}});const oe=Object.entries(ke).map(([Ie,He])=>({value:Ie,colorHex:He||WR(Ie)}));g(oe),!p&&oe.length>0&&f(oe[0].value);const Oe=((X=ce.data.galleryImages)==null?void 0:X.findIndex(Ie=>Ie.isPrimary))??0;h(Oe>=0?Oe:0)}else $e.error("Product not found"),e("/products")}catch(ce){console.error("Failed to fetch product:",ce),$e.error(ce.message||"Failed to load product"),e("/products")}finally{l(!1)}}})()},[t,e]),b.useEffect(()=>{r&&(async()=>{var X;if(r){u(!0);try{const ce=await Di.getCatalogProducts({page:1,limit:4,category:(X=r.catalogue)==null?void 0:X.categoryId});if(ce&&ce.success&&ce.data){const Pe=ce.data.filter(ke=>ke._id!==r._id).slice(0,4);a(Pe)}}catch(ce){console.error("Failed to fetch related products:",ce)}finally{u(!1)}}})()},[r]),b.useEffect(()=>{const fe=()=>{const X=window.scrollY;L(X>400)};return window.addEventListener("scroll",fe),()=>window.removeEventListener("scroll",fe)},[]);const U=fe=>{if(!R.current)return;const X=R.current.getBoundingClientRect(),ce=(fe.clientX-X.left)/X.width*100,Pe=(fe.clientY-X.top)/X.height*100;T({x:ce,y:Pe})},$=async()=>{var fe,X;if(navigator.share)try{await navigator.share({title:(fe=r.catalogue)==null?void 0:fe.name,text:`Check out ${(X=r.catalogue)==null?void 0:X.name} on ShelfMerch`,url:window.location.href})}catch(ce){console.error("Error sharing:",ce)}else navigator.clipboard.writeText(window.location.href),$e.success("Link copied to clipboard!")};if(o)return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Hp,{}),i.jsxs("div",{className:"container py-6 lg:py-8",children:[i.jsx(kn,{className:"h-6 w-64 mb-6"}),i.jsxs("div",{className:"grid lg:grid-cols-[1.1fr_0.9fr] gap-8 lg:gap-12",children:[i.jsxs("div",{children:[i.jsx(kn,{className:"aspect-square w-full rounded-xl mb-4"}),i.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(fe=>i.jsx(kn,{className:"aspect-square w-full rounded-lg"},fe))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(kn,{className:"h-12 w-3/4"}),i.jsx(kn,{className:"h-6 w-1/2"}),i.jsx(kn,{className:"h-32 w-full"})]})]})]}),i.jsx(Vp,{})]});if(!r)return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Hp,{}),i.jsx("div",{className:"container py-8",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[i.jsx(Sr,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Product not found"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"The product you're looking for doesn't exist or is no longer available."}),i.jsx(pe,{asChild:!0,children:i.jsx(_t,{to:"/products",children:"Back to Products"})})]})}),i.jsx(Vp,{})]});const q=r.galleryImages||[],G=q[d];return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Hp,{}),i.jsxs("div",{className:"container py-6 lg:py-8",children:[i.jsx(rK,{className:"mb-6",children:i.jsxs(nK,{children:[i.jsx(R1,{children:i.jsx(T6,{asChild:!0,children:i.jsxs(_t,{to:"/",className:"flex items-center gap-1",children:[i.jsx(sy,{className:"h-4 w-4"}),"Home"]})})}),i.jsx(fS,{children:i.jsx(gs,{className:"h-4 w-4"})}),i.jsx(R1,{children:i.jsx(T6,{asChild:!0,children:i.jsx(_t,{to:"/products",children:"Products"})})}),((W=r.catalogue)==null?void 0:W.categoryId)&&i.jsxs(i.Fragment,{children:[i.jsx(fS,{children:i.jsx(gs,{className:"h-4 w-4"})}),i.jsx(R1,{children:i.jsx(I6,{className:"capitalize",children:r.catalogue.categoryId})})]}),i.jsx(fS,{children:i.jsx(gs,{className:"h-4 w-4"})}),i.jsx(R1,{children:i.jsx(I6,{className:"line-clamp-1",children:((B=r.catalogue)==null?void 0:B.name)||"Product"})})]})}),i.jsxs("div",{className:"grid lg:grid-cols-[1.1fr_0.9fr] gap-8 lg:gap-12",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{ref:R,className:"relative aspect-square bg-muted rounded-xl overflow-hidden group cursor-zoom-in",onMouseMove:U,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),onClick:()=>C(!0),children:G?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:G.url,alt:G.altText||((O=r.catalogue)==null?void 0:O.name)||"Product",className:"w-full h-full object-cover transition-transform duration-300",style:{transform:A?"scale(1.5)":"scale(1)",transformOrigin:`${E.x}% ${E.y}%`}}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors"}),i.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-full p-2",children:i.jsx(eue,{className:"h-5 w-5 text-white"})})})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Sr,{className:"h-16 w-16 text-muted-foreground"})})}),q.length>0&&i.jsx("div",{className:"grid grid-cols-5 gap-2",children:q.map((fe,X)=>i.jsx("div",{className:`aspect-square bg-muted rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${d===X?"border-primary ring-2 ring-primary ring-offset-2":"border-transparent hover:border-primary/50"}`,onClick:()=>h(X),children:i.jsx("img",{src:fe.url,alt:fe.altText||`Thumbnail ${X+1}`,className:"w-full h-full object-cover"})},fe.id||X))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[((K=r.catalogue)==null?void 0:K.brand)&&i.jsx("p",{className:"text-lg font-medium text-muted-foreground mb-2",children:r.catalogue.brand}),i.jsx("h1",{className:"text-4xl lg:text-5xl font-bold tracking-tight mb-3",children:((Y=r.catalogue)==null?void 0:Y.name)||"Unnamed Product"}),((D=r.catalogue)==null?void 0:D.tags)&&r.catalogue.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:r.catalogue.tags.map(fe=>i.jsx(Ot,{variant:"secondary",className:"text-xs px-2.5 py-1",children:fe},fe))})]}),i.jsxs("div",{className:"flex items-baseline gap-3 pb-4 border-b",children:[i.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"From"}),i.jsxs("span",{className:"text-4xl lg:text-5xl font-bold",children:["$",((ie=(Z=r.catalogue)==null?void 0:Z.basePrice)==null?void 0:ie.toFixed(2))||"0.00"]})]}),i.jsx("div",{className:"space-y-2.5",children:((he=r.catalogue)==null?void 0:he.attributes)&&(()=>{const fe=Object.entries(r.catalogue.attributes).filter(([ce,Pe])=>Pe&&Pe!=="").slice(0,7),X=(ce,Pe)=>{const ke={gender:oe=>`For ${oe}`,material:oe=>oe,gsm:oe=>`${oe} GSM`,fit:oe=>`${oe} fit`,brand:oe=>`Brand: ${oe}`,collarType:oe=>`${oe} collar`,fabricComposition:oe=>oe,sleeveLength:oe=>oe,hoodType:oe=>`${oe} hood`,pocketStyle:oe=>`${oe} pockets`,neckline:oe=>`${oe} neckline`,handleType:oe=>`${oe} handles`,capStyle:oe=>`${oe} style`,visorType:oe=>`${oe} visor`,compatibility:oe=>`Fits ${oe}`,caseType:oe=>`${oe} case`,capacity:oe=>`Capacity: ${oe}`,dishwasherSafe:oe=>`Dishwasher ${oe==="Yes"?"":""}`,microwaveSafe:oe=>`Microwave ${oe==="Yes"?"":""}`,dimensions:oe=>`Size: ${oe}`,fillMaterial:oe=>`Filled with ${oe}`,frameSize:oe=>`${oe} frame`,frameMaterial:oe=>`${oe} frame`,paperType:oe=>`${oe} paper`,paperWeight:oe=>`${oe} paper`,finish:oe=>`${oe} finish`,corners:oe=>`${oe} corners`,size:oe=>`Size: ${oe}`,stickerType:oe=>`${oe} sticker`,waterproof:oe=>oe==="Yes"?"Waterproof":"Not waterproof",pageCount:oe=>`${oe} pages`,binding:oe=>`${oe} binding`,ruling:oe=>`${oe} pages`,recyclable:oe=>oe==="Yes"?"Recyclable":oe==="Partially"?"Partially recyclable":"Not recyclable",boxType:oe=>`${oe} box`,capType:oe=>`${oe} cap`,pouchType:oe=>`${oe} pouch`,model:oe=>`Model: ${oe}`,protection:oe=>`${oe} protection`,accessoryType:oe=>oe,hypoallergenic:oe=>oe==="Yes"?"Hypoallergenic":"Contains allergens",ringSize:oe=>`Size: ${oe}`,bandWidth:oe=>`${oe} band`,chainLength:oe=>`${oe} chain`,chainType:oe=>`${oe} chain`,claspType:oe=>`${oe} clasp`,earringType:oe=>`${oe} style`,backingType:oe=>`${oe} backing`};return ke[ce]?ke[ce](Pe):`${ce.replace(/([A-Z])/g," $1").replace(/^./,oe=>oe.toUpperCase())}: ${Pe}`};return fe.map(([ce,Pe])=>i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx(Gi,{className:"w-5 h-5 text-primary flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:X(ce,Pe)})]},ce))})()}),r.availableSizes&&r.availableSizes.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("p",{className:"text-sm font-semibold",children:"Available Sizes"})}),i.jsx("div",{className:"flex flex-wrap gap-2.5",children:r.availableSizes.map(fe=>i.jsx("button",{onClick:()=>x(fe),className:`px-4 py-2.5 rounded-lg border-2 font-medium text-sm transition-all ${y===fe?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50 bg-background"}`,children:fe},fe))})]}),m&&m.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(hI,{className:"w-4 h-4 text-primary"}),i.jsx("p",{className:"text-sm font-semibold",children:"Available Colors"})]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:m.map(fe=>{const X=fe.value,ce=fe.colorHex||WR(X),Pe=p===fe.value;return i.jsx("div",{className:"flex flex-col items-center gap-2 cursor-pointer group",onClick:()=>f(X),children:i.jsx("div",{className:`w-14 h-14 lg:w-16 lg:h-16 rounded-full border-2 transition-all relative ${Pe?"ring-2 ring-offset-2 ring-primary scale-105":""}`,style:{backgroundColor:ce},title:X})},X)})})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx(pe,{size:"lg",className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground text-base font-semibold h-12",asChild:!0,children:i.jsxs(_t,{to:`/designer/${t}`,children:[i.jsx(_p,{className:"w-5 h-5 mr-2"}),"Start Designing"]})}),i.jsx(pe,{variant:"outline",size:"lg",className:"h-12 w-12 p-0",children:i.jsx(gw,{className:"w-5 h-5"})}),i.jsx(pe,{variant:"outline",size:"lg",className:"h-12 w-12 p-0",onClick:$,children:i.jsx(IV,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-4",children:[i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-accent/50 rounded-lg border",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(Up,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold mb-0.5",children:"Free Shipping"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"On orders $50+"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-accent/50 rounded-lg border",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(Km,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold mb-0.5",children:"Secure Payment"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"100% Protected"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-accent/50 rounded-lg border",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(Mm,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold mb-0.5",children:"Quality"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Guaranteed"})]})]})]})]})]}),i.jsxs("div",{className:"mt-10 lg:mt-12 space-y-8",children:[i.jsx(Ze,{children:i.jsxs(Tt,{className:"p-6 lg:p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[i.jsx(Sr,{className:"w-6 h-6 text-primary"}),"Product Description"]}),i.jsx("p",{className:"text-muted-foreground leading-relaxed text-base",children:((J=r.catalogue)==null?void 0:J.description)||"No description available."}),((ae=r.catalogue)==null?void 0:ae.categoryId)&&i.jsx("div",{className:"mt-8 pt-6 border-t",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-muted-foreground",children:"Category: "}),i.jsx("span",{className:"text-foreground capitalize",children:r.catalogue.categoryId})]}),((ne=r.catalogue)==null?void 0:ne.subcategoryIds)&&r.catalogue.subcategoryIds.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-muted-foreground",children:"Subcategories: "}),i.jsx("span",{className:"text-foreground",children:r.catalogue.subcategoryIds.join(", ")})]})]})})]})}),i.jsx(Ze,{children:i.jsxs(Tt,{className:"p-6 lg:p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[i.jsx(tu,{className:"w-6 h-6 text-primary"}),"Size Chart"]}),r.availableSizes&&r.availableSizes.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b-2 border-border",children:[i.jsx("th",{className:"text-left p-4 font-semibold",children:"Size"}),i.jsx("th",{className:"text-center p-4 font-semibold",children:"Chest"}),i.jsx("th",{className:"text-center p-4 font-semibold",children:"Length"}),i.jsx("th",{className:"text-center p-4 font-semibold",children:"Sleeve"})]})}),i.jsx("tbody",{children:r.availableSizes.map(fe=>{const X=ive[fe]||{chest:"N/A",length:"N/A",sleeve:"N/A"};return i.jsxs("tr",{className:"border-b border-border hover:bg-accent/50 transition-colors",children:[i.jsx("td",{className:"p-4 font-semibold",children:fe}),i.jsx("td",{className:"p-4 text-center text-muted-foreground",children:X.chest}),i.jsx("td",{className:"p-4 text-center text-muted-foreground",children:X.length}),i.jsx("td",{className:"p-4 text-center text-muted-foreground",children:X.sleeve})]},fe)})})]})}):i.jsx("p",{className:"text-muted-foreground",children:"Size information not available."})]})}),i.jsx(Ze,{children:i.jsxs(Tt,{className:"p-6 lg:p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[i.jsx(J_,{className:"w-6 h-6 text-primary"}),"Care Instructions"]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-primary/10 rounded-lg flex-shrink-0",children:i.jsx(J_,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Washing"}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Machine wash cold with like colors. Use mild detergent. Do not bleach."})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-primary/10 rounded-lg flex-shrink-0",children:i.jsx(gue,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Drying"}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Tumble dry low or hang dry. Do not iron on print area."})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-primary/10 rounded-lg flex-shrink-0",children:i.jsx(HL,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Ironing"}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Iron on low heat. Avoid ironing directly on printed areas."})]})]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-primary/10 rounded-lg flex-shrink-0",children:i.jsx(Ri,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Do Not"}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Do not dry clean. Do not use fabric softener. Do not bleach."})]})]})]})]})]})}),((se=r.catalogue)==null?void 0:se.attributes)&&Object.keys(r.catalogue.attributes).length>0&&i.jsx(Ze,{children:i.jsxs(Tt,{className:"p-6 lg:p-8",children:[i.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[i.jsx(Mm,{className:"w-6 h-6 text-primary"}),"Product Specifications"]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[(()=>{const fe=Pe=>({gender:Mm,material:Sr,gsm:tu,fit:Gi,brand:mc,collarType:Mm,fabricComposition:_p,sleeveLength:tu,hoodType:Sr,pocketStyle:Sr,neckline:Mm,handleType:Sr,capStyle:Mm,visorType:tu,compatibility:Gi,caseType:Km,capacity:Sr,dishwasherSafe:J_,microwaveSafe:HL,dimensions:tu,fillMaterial:Sr,frameSize:tu,frameMaterial:Sr,paperType:Sr,paperWeight:tu,finish:_p,corners:Gi,size:tu,stickerType:Sr,waterproof:Km,pageCount:Sr,binding:Sr,ruling:Gi,recyclable:Mm,boxType:Sr,capType:Sr,pouchType:Sr,model:mc,protection:Km,accessoryType:Sr,hypoallergenic:Km,ringSize:tu,bandWidth:tu,chainLength:tu,chainType:Sr,claspType:Sr,earringType:mc,backingType:Sr})[Pe]||Sr,X=Pe=>({gender:"Target Audience",material:"Material",gsm:"GSM (Grams per Square Meter)",fit:"Fit Style",brand:"Brand",collarType:"Collar Type",fabricComposition:"Fabric Composition",sleeveLength:"Sleeve Length",hoodType:"Hood Type",pocketStyle:"Pocket Style",neckline:"Neckline",handleType:"Handle Type",capStyle:"Cap Style",visorType:"Visor Type",compatibility:"Device Compatibility",caseType:"Case Type",capacity:"Capacity",dishwasherSafe:"Dishwasher Safe",microwaveSafe:"Microwave Safe",dimensions:"Dimensions",fillMaterial:"Fill Material",frameSize:"Frame Size",frameMaterial:"Frame Material",paperType:"Paper Type",paperWeight:"Paper Weight",finish:"Finish",corners:"Corner Style",size:"Size",stickerType:"Sticker Type",waterproof:"Waterproof",pageCount:"Page Count",binding:"Binding Type",ruling:"Page Ruling",recyclable:"Recyclable",boxType:"Box Type",capType:"Cap Type",pouchType:"Pouch Type",model:"Device Model",protection:"Protection Level",accessoryType:"Accessory Type",hypoallergenic:"Hypoallergenic",ringSize:"Ring Size",bandWidth:"Band Width",chainLength:"Chain Length",chainType:"Chain Type",claspType:"Clasp Type",earringType:"Earring Type",backingType:"Backing Type"})[Pe]||Pe.replace(/([A-Z])/g," $1").replace(/^./,oe=>oe.toUpperCase());return Object.entries(r.catalogue.attributes).filter(([Pe,ke])=>ke&&ke!=="").map(([Pe,ke])=>{const oe=fe(Pe);return i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-primary/10 rounded-lg flex-shrink-0",children:i.jsx(oe,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-1",children:X(Pe)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:String(ke)})]})]},Pe)})})(),((Q=r.design)==null?void 0:Q.dpi)&&i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-primary/10 rounded-lg flex-shrink-0",children:i.jsx(mc,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-1",children:"Print Resolution"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.design.dpi," DPI"]})]})]})]})]})})]}),s.length>0&&i.jsxs("div",{className:"mt-10 lg:mt-12",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl lg:text-3xl font-bold flex items-center gap-2",children:[i.jsx(kf,{className:"w-6 h-6 text-primary"}),"You May Also Like"]}),i.jsx(_t,{to:"/products",className:"text-sm font-medium text-primary hover:underline hidden sm:inline",children:"View all"})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:c?Array.from({length:4}).map((fe,X)=>i.jsx(Ze,{className:"overflow-hidden",children:i.jsxs(Tt,{className:"p-0",children:[i.jsx(kn,{className:"aspect-square w-full"}),i.jsxs("div",{className:"p-4 space-y-2",children:[i.jsx(kn,{className:"h-5 w-3/4"}),i.jsx(kn,{className:"h-4 w-1/2"}),i.jsx(kn,{className:"h-5 w-1/3"})]})]})},X)):s.map(fe=>{var ce,Pe,ke,oe,Oe,Ie,He,nt,ft,Fe,Ae;const X=((Pe=(ce=fe.galleryImages)==null?void 0:ce.find(it=>it.isPrimary))==null?void 0:Pe.url)||((oe=(ke=fe.galleryImages)==null?void 0:ke[0])==null?void 0:oe.url)||"";return i.jsx(_t,{to:`/products/${fe._id}`,className:"group",children:i.jsx(Ze,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 h-full",children:i.jsxs(Tt,{className:"p-0",children:[i.jsxs("div",{className:"relative aspect-square bg-muted overflow-hidden",children:[i.jsx("img",{src:X,alt:((Oe=fe.catalogue)==null?void 0:Oe.name)||"Product",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),((He=(Ie=fe.catalogue)==null?void 0:Ie.tags)==null?void 0:He[0])&&i.jsx(Ot,{className:"absolute top-3 left-3 bg-primary text-primary-foreground",children:fe.catalogue.tags[0]})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold mb-1 line-clamp-1 group-hover:text-primary transition-colors",children:((nt=fe.catalogue)==null?void 0:nt.name)||"Unnamed Product"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:((ft=fe.catalogue)==null?void 0:ft.brand)||"ShelfMerch"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"font-semibold text-lg",children:["$",((Ae=(Fe=fe.catalogue)==null?void 0:Fe.basePrice)==null?void 0:Ae.toFixed(2))||"0.00"]}),fe.availableSizes&&fe.availableColors&&i.jsxs("p",{className:"text-xs text-muted-foreground hidden sm:inline",children:[fe.availableSizes.length," sizes  ",fe.availableColors.length," colors"]})]})]})]})})},fe._id)})})]})]}),i.jsx(dl,{open:N,onOpenChange:C,children:i.jsxs(Fo,{className:"max-w-6xl w-full p-0",children:[i.jsx(Bo,{className:"sr-only",children:i.jsx($o,{children:"Product Image"})}),i.jsxs("div",{className:"relative",children:[G&&i.jsx("img",{src:G.url,alt:G.altText||((re=r.catalogue)==null?void 0:re.name)||"Product",className:"w-full h-auto max-h-[80vh] object-contain"}),q.length>1&&i.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 bg-black/50 backdrop-blur-sm rounded-full p-2",children:q.map((fe,X)=>i.jsx("button",{onClick:()=>h(X),className:`w-12 h-12 rounded-lg overflow-hidden border-2 transition-all ${d===X?"border-primary ring-2 ring-primary":"border-transparent hover:border-primary/50"}`,children:i.jsx("img",{src:fe.url,alt:`Thumbnail ${X+1}`,className:"w-full h-full object-cover"})},fe.id||X))})]})]})}),I&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t shadow-lg lg:hidden",children:i.jsx("div",{className:"container py-3 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"From"}),i.jsxs("p",{className:"text-xl font-bold",children:["$",((ve=(le=r.catalogue)==null?void 0:le.basePrice)==null?void 0:ve.toFixed(2))||"0.00"]})]}),i.jsx(pe,{size:"lg",className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground font-semibold",asChild:!0,children:i.jsxs(_t,{to:`/designer/${t}`,children:[i.jsx(_p,{className:"w-4 h-4 mr-2"}),"Design Now"]})})]})})}),i.jsx(Vp,{})]})},ove=Math.PI/180;function lve(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const ng=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Kt={_global:ng,version:"10.0.12",isBrowser:lve(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Kt.angleDeg?t*ove:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Kt.DD.isDragging},isTransforming(){var t,e;return(e=(t=Kt.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Kt.DD.node},releaseCanvasOnDestroy:!0,document:ng.document,_injectGlobal(t){typeof ng.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),ng.Konva=t}},li=t=>{Kt[t.prototype.getClassName()]=t};Kt._injectGlobal(Kt);const cve=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,GR=()=>{if(typeof document>"u")throw new Error(cve)};class uc{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new uc(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const r=this.m;return{x:r[0]*e.x+r[2]*e.y+r[4],y:r[1]*e.x+r[3]*e.y+r[5]}}translate(e,r){return this.m[4]+=this.m[0]*e+this.m[2]*r,this.m[5]+=this.m[1]*e+this.m[3]*r,this}scale(e,r){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=r,this.m[3]*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),s=this.m[0]*r+this.m[2]*n,a=this.m[1]*r+this.m[3]*n,o=this.m[0]*-n+this.m[2]*r,l=this.m[1]*-n+this.m[3]*r;return this.m[0]=s,this.m[1]=a,this.m[2]=o,this.m[3]=l,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,r){const n=this.m[0]+this.m[2]*r,s=this.m[1]+this.m[3]*r,a=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=s,this.m[2]=a,this.m[3]=o,this}multiply(e){const r=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],s=this.m[0]*e.m[2]+this.m[2]*e.m[3],a=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],l=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=r,this.m[1]=n,this.m[2]=s,this.m[3]=a,this.m[4]=o,this.m[5]=l,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),r=this.m[3]*e,n=-this.m[1]*e,s=-this.m[2]*e,a=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),l=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=r,this.m[1]=n,this.m[2]=s,this.m[3]=a,this.m[4]=o,this.m[5]=l,this}getMatrix(){return this.m}decompose(){const e=this.m[0],r=this.m[1],n=this.m[2],s=this.m[3],a=this.m[4],o=this.m[5],l=e*s-r*n,c={x:a,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||r!=0){const u=Math.sqrt(e*e+r*r);c.rotation=r>0?Math.acos(e/u):-Math.acos(e/u),c.scaleX=u,c.scaleY=l/u,c.skewX=(e*n+r*s)/l,c.skewY=0}else if(n!=0||s!=0){const u=Math.sqrt(n*n+s*s);c.rotation=Math.PI/2-(s>0?Math.acos(-n/u):-Math.acos(n/u)),c.scaleX=l/u,c.scaleY=u,c.skewX=0,c.skewY=(e*n+r*s)/l}return c.rotation=Je._getRotation(c.rotation),c}}const uve="[object Array]",dve="[object Number]",hve="[object String]",fve="[object Boolean]",pve=Math.PI/180,mve=180/Math.PI,n1="#",gve="",xve="0",yve="Konva warning: ",HR="Konva error: ",vve="rgb(",hA={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},bve=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Hj=[],s1=null;const wve=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},Je={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===uve},_isNumber(t){return Object.prototype.toString.call(t)===dve&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===hve},_isBoolean(t){return Object.prototype.toString.call(t)===fve},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){Hj.push(t),Hj.length===1&&wve(function(){const e=Hj;Hj=[],e.forEach(function(r){r()})})},createCanvasElement(){GR();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return GR(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const r=Je.createImageElement();r.onload=function(){e(r)},r.src=t},_rgbToHex(t,e,r){return((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1)},_hexToRgb(t){t=t.replace(n1,gve);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=xve+t;return n1+t},isCanvasFarblingActive(){if(s1!==null)return s1;if(typeof document>"u")return s1=!1,!1;const t=this.createCanvasElement();t.width=10,t.height=10;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const r=e.getImageData(0,0,10,10).data;let n=!1;for(let s=0;s<100;s++)if(r[s*4]!==40||r[s*4+1]!==40||r[s*4+2]!==40||r[s*4+3]!==255){n=!0;break}return s1=n,this.releaseCanvas(t),s1},getHitColor(){const t=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(t):t},getHitColorKey(t,e,r){return this.isCanvasFarblingActive()&&(t=Math.round(t/5)*5,e=Math.round(e/5)*5,r=Math.round(r/5)*5),n1+this._rgbToHex(t,e,r)},getSnappedHexColor(t){const e=this._hexToRgb(t);return n1+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(t){let e;return t in hA?(e=hA[t],{r:e[0],g:e[1],b:e[2]}):t[0]===n1?this._hexToRgb(t.substring(1)):t.substr(0,4)===vve?(e=bve.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",Je._namedColorToRBA(t)||Je._hex3ColorToRGBA(t)||Je._hex4ColorToRGBA(t)||Je._hex6ColorToRGBA(t)||Je._hex8ColorToRGBA(t)||Je._rgbColorToRGBA(t)||Je._rgbaColorToRGBA(t)||Je._hslColorToRGBA(t)},_namedColorToRBA(t){const e=hA[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((r,n)=>r.slice(-1)==="%"?n===3?parseInt(r)/100:parseInt(r)/100*255:Number(r));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...r]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=Number(r[0])/360,s=Number(r[1])/100,a=Number(r[2])/100;let o,l,c;if(s===0)return c=a*255,{r:Math.round(c),g:Math.round(c),b:Math.round(c),a:1};a<.5?o=a*(1+s):o=a+s-a*s;const u=2*a-o,d=[0,0,0];for(let h=0;h<3;h++)l=n+1/3*-(h-1),l<0&&l++,l>1&&l--,6*l<1?c=u+(o-u)*6*l:2*l<1?c=o:3*l<2?c=u+(o-u)*(2/3-l)*6:c=u,d[h]=c*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const r in t)this._isPlainObject(t[r])?e[r]=this.cloneObject(t[r]):this._isArray(t[r])?e[r]=this.cloneArray(t[r]):e[r]=t[r];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*pve},radToDeg(t){return t*mve},_degToRad(t){return Je.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Je.degToRad(t)},_radToDeg(t){return Je.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Je.radToDeg(t)},_getRotation(t){return Kt.angleDeg?Je.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(HR+t)},error(t){console.error(HR+t)},warn(t){Kt.showWarnings&&console.warn(yve+t)},each(t,e){for(const r in t)e(r,t[r])},_inRange(t,e,r){return e<=t&&t<r},_getProjectionToSegment(t,e,r,n,s,a){let o,l,c;const u=(t-r)*(t-r)+(e-n)*(e-n);if(u==0)o=t,l=e,c=(s-r)*(s-r)+(a-n)*(a-n);else{const d=((s-t)*(r-t)+(a-e)*(n-e))/u;d<0?(o=t,l=e,c=(t-s)*(t-s)+(e-a)*(e-a)):d>1?(o=r,l=n,c=(r-s)*(r-s)+(n-a)*(n-a)):(o=t+d*(r-t),l=e+d*(n-e),c=(o-s)*(o-s)+(l-a)*(l-a))}return[o,l,c]},_getProjectionToLine(t,e,r){const n=Je.cloneObject(t);let s=Number.MAX_VALUE;return e.forEach(function(a,o){if(!r&&o===e.length-1)return;const l=e[(o+1)%e.length],c=Je._getProjectionToSegment(a.x,a.y,l.x,l.y,t.x,t.y),u=c[0],d=c[1],h=c[2];h<s&&(n.x=u,n.y=d,s=h)}),n},_prepareArrayForTween(t,e,r){const n=[],s=[];if(t.length>e.length){const o=e;e=t,t=o}for(let o=0;o<t.length;o+=2)n.push({x:t[o],y:t[o+1]});for(let o=0;o<e.length;o+=2)s.push({x:e[o],y:e[o+1]});const a=[];return s.forEach(function(o){const l=Je._getProjectionToLine(o,n,r);a.push(l.x),a.push(l.y)}),a},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const r in t)if(t.hasOwnProperty(r)&&t[r]&&typeof t[r]=="object"){if(e=Object.getOwnPropertyDescriptor(t,r),t[r].visitedByCircularReferenceRemoval||Je._isElement(t[r]))if(e.configurable)delete t[r];else return null;else if(Je._prepareToStringify(t[r])===null)if(e.configurable)delete t[r];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const r in e)t[r]=e[r];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Kt.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,r,n){let s=e<0?e:0,a=r<0?r:0;e=Math.abs(e),r=Math.abs(r);let o=0,l=0,c=0,u=0;typeof n=="number"?o=l=c=u=Math.min(n,e/2,r/2):(o=Math.min(n[0]||0,e/2,r/2),l=Math.min(n[1]||0,e/2,r/2),u=Math.min(n[2]||0,e/2,r/2),c=Math.min(n[3]||0,e/2,r/2)),t.moveTo(s+o,a),t.lineTo(s+e-l,a),t.arc(s+e-l,a+l,l,Math.PI*3/2,0,!1),t.lineTo(s+e,a+r-u),t.arc(s+e-u,a+r-u,u,0,Math.PI/2,!1),t.lineTo(s+c,a+r),t.arc(s+c,a+r-c,c,Math.PI/2,Math.PI,!1),t.lineTo(s,a+o),t.arc(s+o,a+o,o,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,r,n,s){n=Math.abs(n);for(let a=0;a<r;a++){const o=e[(a-1+r)%r],l=e[a],c=e[(a+1)%r],u={x:l.x-o.x,y:l.y-o.y},d={x:c.x-l.x,y:c.y-l.y},h=Math.hypot(u.x,u.y),p=Math.hypot(d.x,d.y);let f;typeof s=="number"?f=s:f=a<s.length?s[a]:0,f=n*Math.cos(Math.PI/r)*Math.min(1,f/n*2);const g={x:u.x/h,y:u.y/h},y={x:d.x/p,y:d.y/p},x={x:l.x-g.x*f,y:l.y-g.y*f},w={x:l.x+y.x*f,y:l.y+y.y*f};a===0?t.moveTo(x.x,x.y):t.lineTo(x.x,x.y),t.arcTo(l.x,l.y,w.x,w.y,f)}}};function jve(t){const e=[],r=t.length,n=Je;for(let s=0;s<r;s++){let a=t[s];n._isNumber(a)?a=Math.round(a*1e3)/1e3:n._isString(a)||(a=a+""),e.push(a)}return e}const VR=",",Sve="(",Nve=")",Cve="([",_ve="])",Ave=";",kve="()",Pve="=",qR=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Eve=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],Tve=100;let Vj=null;function YR(){if(Vj!==null)return Vj;try{const e=Je.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(Vj=!1,!1)}catch{return Vj=!1,!1}}let Y3=class{constructor(e){this.canvas=e,Kt.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,r){let n=this.traceArr,s=n.length,a="",o,l,c,u;for(o=0;o<s;o++)l=n[o],c=l.method,c?(u=l.args,a+=c,e?a+=kve:Je._isArray(u[0])?a+=Cve+u.join(VR)+_ve:(r&&(u=u.map(d=>typeof d=="number"?Math.floor(d):d)),a+=Sve+u.join(VR)+Nve)):(a+=l.property,e||(a+=Pve+l.val)),a+=Ave;return a}clearTrace(){this.traceArr=[]}_trace(e){let r=this.traceArr,n;r.push(e),n=r.length,n>=Tve&&r.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const r=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,r.getWidth()/r.pixelRatio,r.getHeight()/r.pixelRatio)}_applyLineCap(e){const r=e.attrs.lineCap;r&&this.setAttr("lineCap",r)}_applyOpacity(e){const r=e.getAbsoluteOpacity();r!==1&&this.setAttr("globalAlpha",r)}_applyLineJoin(e){const r=e.attrs.lineJoin;r&&this.setAttr("lineJoin",r)}_applyMiterLimit(e){const r=e.attrs.miterLimit;r!=null&&this.setAttr("miterLimit",r)}setAttr(e,r){this._context[e]=r}arc(e,r,n,s,a,o){this._context.arc(e,r,n,s,a,o)}arcTo(e,r,n,s,a){this._context.arcTo(e,r,n,s,a)}beginPath(){this._context.beginPath()}bezierCurveTo(e,r,n,s,a,o){this._context.bezierCurveTo(e,r,n,s,a,o)}clearRect(e,r,n,s){this._context.clearRect(e,r,n,s)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,r){const n=arguments;if(n.length===2)return this._context.createImageData(e,r);if(n.length===1)return this._context.createImageData(e)}createLinearGradient(e,r,n,s){return this._context.createLinearGradient(e,r,n,s)}createPattern(e,r){return this._context.createPattern(e,r)}createRadialGradient(e,r,n,s,a,o){return this._context.createRadialGradient(e,r,n,s,a,o)}drawImage(e,r,n,s,a,o,l,c,u){const d=arguments,h=this._context;d.length===3?h.drawImage(e,r,n):d.length===5?h.drawImage(e,r,n,s,a):d.length===9&&h.drawImage(e,r,n,s,a,o,l,c,u)}ellipse(e,r,n,s,a,o,l,c){this._context.ellipse(e,r,n,s,a,o,l,c)}isPointInPath(e,r,n,s){return n?this._context.isPointInPath(n,e,r,s):this._context.isPointInPath(e,r,s)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,r,n,s){this._context.fillRect(e,r,n,s)}strokeRect(e,r,n,s){this._context.strokeRect(e,r,n,s)}fillText(e,r,n,s){s?this._context.fillText(e,r,n,s):this._context.fillText(e,r,n)}measureText(e){return this._context.measureText(e)}getImageData(e,r,n,s){return this._context.getImageData(e,r,n,s)}lineTo(e,r){this._context.lineTo(e,r)}moveTo(e,r){this._context.moveTo(e,r)}rect(e,r,n,s){this._context.rect(e,r,n,s)}roundRect(e,r,n,s,a){this._context.roundRect(e,r,n,s,a)}putImageData(e,r,n){this._context.putImageData(e,r,n)}quadraticCurveTo(e,r,n,s){this._context.quadraticCurveTo(e,r,n,s)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,r){this._context.scale(e,r)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,r,n,s,a,o){this._context.setTransform(e,r,n,s,a,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,r,n,s){this._context.strokeText(e,r,n,s)}transform(e,r,n,s,a,o){this._context.transform(e,r,n,s,a,o)}translate(e,r){this._context.translate(e,r)}_enableTrace(){let e=this,r=qR.length,n=this.setAttr,s,a;const o=function(l){let c=e[l],u;e[l]=function(){return a=jve(Array.prototype.slice.call(arguments,0)),u=c.apply(e,arguments),e._trace({method:l,args:a}),u}};for(s=0;s<r;s++)o(qR[s]);e.setAttr=function(){n.apply(e,arguments);const l=arguments[0];let c=arguments[1];(l==="shadowOffsetX"||l==="shadowOffsetY"||l==="shadowBlur")&&(c=c/this.canvas.getPixelRatio()),e._trace({property:l,val:c})}}_applyGlobalCompositeOperation(e){const r=e.attrs.globalCompositeOperation;!r||r==="source-over"||this.setAttr("globalCompositeOperation",r)}};Eve.forEach(function(t){Object.defineProperty(Y3.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class Ive extends Y3{constructor(e,{willReadFrequently:r=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:r})}_fillColor(e){const r=e.fill();this.setAttr("fillStyle",r),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const r=e._getLinearGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fillRadialGradient(e){const r=e._getRadialGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fill(e){const r=e.fill(),n=e.getFillPriority();if(r&&n==="color"){this._fillColor(e);return}const s=e.getFillPatternImage();if(s&&n==="pattern"){this._fillPattern(e);return}const a=e.getFillLinearGradientColorStops();if(a&&n==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&n==="radial-gradient"){this._fillRadialGradient(e);return}r?this._fillColor(e):s?this._fillPattern(e):a?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const r=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),s=e.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(r.x,r.y,n.x,n.y);if(s){for(let o=0;o<s.length;o+=2)a.addColorStop(s[o],s[o+1]);this.setAttr("strokeStyle",a)}}_stroke(e){const r=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();const a=this.getCanvas().getPixelRatio();this.setTransform(a,0,0,a,0,0)}this._applyLineCap(e),r&&e.dashEnabled()&&(this.setLineDash(r),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var r,n,s;const a=(r=e.getShadowRGBA())!==null&&r!==void 0?r:"black",o=(n=e.getShadowBlur())!==null&&n!==void 0?n:5,l=(s=e.getShadowOffset())!==null&&s!==void 0?s:{x:0,y:0},c=e.getAbsoluteScale(),u=this.canvas.getPixelRatio(),d=c.x*u,h=c.y*u;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",o*Math.min(Math.abs(d),Math.abs(h))),this.setAttr("shadowOffsetX",l.x*d),this.setAttr("shadowOffsetY",l.y*h)}}class Mve extends Y3{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const r=e.getStrokeScaleEnabled();if(!r){this.save();const a=this.getCanvas().getPixelRatio();this.setTransform(a,0,0,a,0,0)}this._applyLineCap(e);const n=e.hitStrokeWidth(),s=n==="auto"?e.strokeWidth():n;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),r||this.restore()}}}let qj;function Ove(){if(qj)return qj;const t=Je.createCanvasElement(),e=t.getContext("2d");return qj=function(){const r=Kt._global.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}(),Je.releaseCanvas(t),qj}class hM{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const n=(e||{}).pixelRatio||Kt.pixelRatio||Ove();this.pixelRatio=n,this._canvas=Je.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const r=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/r,this.getHeight()/r)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const r=this.pixelRatio;this.getContext()._context.scale(r,r)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const r=this.pixelRatio;this.getContext()._context.scale(r,r)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,r){this.setWidth(e||0),this.setHeight(r||0)}toDataURL(e,r){try{return this._canvas.toDataURL(e,r)}catch{try{return this._canvas.toDataURL()}catch(s){return Je.error("Unable to get data URL. "+s.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class mp extends hM{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new Ive(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class fM extends hM{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new Mve(this),this.setSize(e.width,e.height)}}const Kn={get isDragging(){let t=!1;return Kn._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return Kn._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];Kn._dragElements.forEach((r,n)=>{const{node:s}=r,a=s.getStage();a.setPointersPositions(t),r.pointerId===void 0&&(r.pointerId=Je._getFirstPointerId(t));const o=a._changedPointerPositions.find(l=>l.id===r.pointerId);if(o){if(r.dragStatus!=="dragging"){const l=s.dragDistance();if(Math.max(Math.abs(o.x-r.startPointerPos.x),Math.abs(o.y-r.startPointerPos.y))<l||(s.startDrag({evt:t}),!s.isDragging()))return}s._setDragPosition(t,r),e.push(s)}}),e.forEach(r=>{r.fire("dragmove",{type:"dragmove",target:r,evt:t},!0)})},_endDragBefore(t){const e=[];Kn._dragElements.forEach(r=>{const{node:n}=r,s=n.getStage();if(t&&s.setPointersPositions(t),!s._changedPointerPositions.find(l=>l.id===r.pointerId))return;(r.dragStatus==="dragging"||r.dragStatus==="stopped")&&(Kn.justDragged=!0,Kt._mouseListenClick=!1,Kt._touchListenClick=!1,Kt._pointerListenClick=!1,r.dragStatus="stopped");const o=r.node.getLayer()||r.node instanceof Kt.Stage&&r.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(r=>{r.draw()})},_endDragAfter(t){Kn._dragElements.forEach((e,r)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Kn._dragElements.delete(r)})}};Kt.isBrowser&&(window.addEventListener("mouseup",Kn._endDragBefore,!0),window.addEventListener("touchend",Kn._endDragBefore,!0),window.addEventListener("touchcancel",Kn._endDragBefore,!0),window.addEventListener("mousemove",Kn._drag),window.addEventListener("touchmove",Kn._drag),window.addEventListener("mouseup",Kn._endDragAfter,!1),window.addEventListener("touchend",Kn._endDragAfter,!1),window.addEventListener("touchcancel",Kn._endDragAfter,!1));function cm(t){return Je._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||Je._isBoolean(t)?t:Object.prototype.toString.call(t)}function sK(t){return t>255?255:t<0?0:Math.round(t)}function Gt(){if(Kt.isUnminified)return function(t,e){return Je._isNumber(t)||Je.warn(cm(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function X3(t){if(Kt.isUnminified)return function(e,r){let n=Je._isNumber(e),s=Je._isArray(e)&&e.length==t;return!n&&!s&&Je.warn(cm(e)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function pM(){if(Kt.isUnminified)return function(t,e){return Je._isNumber(t)||t==="auto"||Je.warn(cm(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Kg(){if(Kt.isUnminified)return function(t,e){return Je._isString(t)||Je.warn(cm(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function iK(){if(Kt.isUnminified)return function(t,e){const r=Je._isString(t),n=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return r||n||Je.warn(cm(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function Lve(){if(Kt.isUnminified)return function(t,e){const r=Int8Array?Object.getPrototypeOf(Int8Array):null;return r&&t instanceof r||(Je._isArray(t)?t.forEach(function(n){Je._isNumber(n)||Je.warn('"'+e+'" attribute has non numeric element '+n+". Make sure that all elements are numbers.")}):Je.warn(cm(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Td(){if(Kt.isUnminified)return function(t,e){return t===!0||t===!1||Je.warn(cm(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function Rve(t){if(Kt.isUnminified)return function(e,r){return e==null||Je.isObject(e)||Je.warn(cm(e)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+t),e}}const i1="get",a1="set",Me={addGetterSetter(t,e,r,n,s){Me.addGetter(t,e,r),Me.addSetter(t,e,n,s),Me.addOverloadedGetterSetter(t,e)},addGetter(t,e,r){const n=i1+Je._capitalize(e);t.prototype[n]=t.prototype[n]||function(){const s=this.attrs[e];return s===void 0?r:s}},addSetter(t,e,r,n){const s=a1+Je._capitalize(e);t.prototype[s]||Me.overWriteSetter(t,e,r,n)},overWriteSetter(t,e,r,n){const s=a1+Je._capitalize(e);t.prototype[s]=function(a){return r&&a!==void 0&&a!==null&&(a=r.call(this,a,e)),this._setAttr(e,a),n&&n.call(this),this}},addComponentsGetterSetter(t,e,r,n,s){const a=r.length,o=Je._capitalize,l=i1+o(e),c=a1+o(e);t.prototype[l]=function(){const d={};for(let h=0;h<a;h++){const p=r[h];d[p]=this.getAttr(e+o(p))}return d};const u=Rve(r);t.prototype[c]=function(d){const h=this.attrs[e];n&&(d=n.call(this,d,e)),u&&u.call(this,d,e);for(const p in d)d.hasOwnProperty(p)&&this._setAttr(e+o(p),d[p]);return d||r.forEach(p=>{this._setAttr(e+o(p),void 0)}),this._fireChangeEvent(e,h,d),s&&s.call(this),this},Me.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const r=Je._capitalize(e),n=a1+r,s=i1+r;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(t,e,r,n){Je.error("Adding deprecated "+e);const s=i1+Je._capitalize(e),a=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[s]=function(){Je.error(a);const o=this.attrs[e];return o===void 0?r:o},Me.addSetter(t,e,n,function(){Je.error(a)}),Me.addOverloadedGetterSetter(t,e)},backCompat(t,e){Je.each(e,function(r,n){const s=t.prototype[n],a=i1+Je._capitalize(r),o=a1+Je._capitalize(r);function l(){s.apply(this,arguments),Je.error('"'+r+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[r]=l,t.prototype[a]=l,t.prototype[o]=l})},afterSetFilter(){this._filterUpToDate=!1}};function Dve(t){const e=/(\w+)\(([^)]+)\)/g;let r;for(;(r=e.exec(t))!==null;){const[,n,s]=r;switch(n){case"blur":{const a=parseFloat(s.replace("px",""));return function(o){this.blurRadius(a*.5);const l=Kt.Filters;l&&l.Blur&&l.Blur.call(this,o)}}case"brightness":{const a=s.includes("%")?parseFloat(s)/100:parseFloat(s);return function(o){this.brightness(a);const l=Kt.Filters;l&&l.Brightness&&l.Brightness.call(this,o)}}case"contrast":{const a=parseFloat(s);return function(o){const l=100*(Math.sqrt(a)-1);this.contrast(l);const c=Kt.Filters;c&&c.Contrast&&c.Contrast.call(this,o)}}case"grayscale":return function(a){const o=Kt.Filters;o&&o.Grayscale&&o.Grayscale.call(this,a)};case"sepia":return function(a){const o=Kt.Filters;o&&o.Sepia&&o.Sepia.call(this,a)};case"invert":return function(a){const o=Kt.Filters;o&&o.Invert&&o.Invert.call(this,a)};default:Je.warn(`CSS filter "${n}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const pS="absoluteOpacity",Yj="allEventListeners",Xh="absoluteTransform",XR="absoluteScale",Om="canvas",Fve="Change",Bve="children",$ve="konva",M6="listening",zve="mouseenter",Uve="mouseleave",Wve="pointerenter",Gve="pointerleave",Hve="touchenter",Vve="touchleave",KR="set",ZR="Shape",mS=" ",QR="stage",ap="transform",qve="Stage",O6="visible",Yve=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(mS);let Xve=1,Yt=class L6{constructor(e){this._id=Xve++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===ap||e===Xh)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,r){let n=this._cache.get(e);return(n===void 0||(e===ap||e===Xh)&&n.dirty===!0)&&(n=r.call(this),this._cache.set(e,n)),n}_calculate(e,r,n){if(!this._attachedDepsListeners.get(e)){const s=r.map(a=>a+"Change.konva").join(mS);this.on(s,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(Om)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Xh&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Om)){const{scene:e,filter:r,hit:n,buffer:s}=this._cache.get(Om);Je.releaseCanvas(e,r,n,s),this._cache.delete(Om)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const r=e||{};let n={};(r.x===void 0||r.y===void 0||r.width===void 0||r.height===void 0)&&(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let s=Math.ceil(r.width||n.width),a=Math.ceil(r.height||n.height),o=r.pixelRatio,l=r.x===void 0?Math.floor(n.x):r.x,c=r.y===void 0?Math.floor(n.y):r.y,u=r.offset||0,d=r.drawBorder||!1,h=r.hitCanvasPixelRatio||1;if(!s||!a){Je.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const p=Math.abs(Math.round(n.x)-l)>.5?1:0,f=Math.abs(Math.round(n.y)-c)>.5?1:0;s+=u*2+p,a+=u*2+f,l-=u,c-=u;const m=new mp({pixelRatio:o,width:s,height:a}),g=new mp({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),y=new fM({pixelRatio:h,width:s,height:a}),x=m.getContext(),w=y.getContext(),S=new mp({width:m.width/m.pixelRatio+Math.abs(l),height:m.height/m.pixelRatio+Math.abs(c),pixelRatio:m.pixelRatio}),N=S.getContext();return y.isCache=!0,m.isCache=!0,this._cache.delete(Om),this._filterUpToDate=!1,r.imageSmoothingEnabled===!1&&(m.getContext()._context.imageSmoothingEnabled=!1,g.getContext()._context.imageSmoothingEnabled=!1),x.save(),w.save(),N.save(),x.translate(-l,-c),w.translate(-l,-c),N.translate(-l,-c),S.x=l,S.y=c,this._isUnderCache=!0,this._clearSelfAndDescendantCache(pS),this._clearSelfAndDescendantCache(XR),this.drawScene(m,this,S),this.drawHit(y,this),this._isUnderCache=!1,x.restore(),w.restore(),d&&(x.save(),x.beginPath(),x.rect(0,0,s,a),x.closePath(),x.setAttr("strokeStyle","red"),x.setAttr("lineWidth",5),x.stroke(),x.restore()),this._cache.set(Om,{scene:m,filter:g,hit:y,buffer:S,x:l,y:c}),this._requestDraw(),this}isCached(){return this._cache.has(Om)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,r){const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let s=1/0,a=1/0,o=-1/0,l=-1/0;const c=this.getAbsoluteTransform(r);return n.forEach(function(u){const d=c.point(u);s===void 0&&(s=o=d.x,a=l=d.y),s=Math.min(s,d.x),a=Math.min(a,d.y),o=Math.max(o,d.x),l=Math.max(l,d.y)}),{x:s,y:a,width:o-s,height:l-a}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const r=this._getCanvasCache();e.translate(r.x,r.y);const n=this._getCachedSceneCanvas(),s=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/s,n.height/s),e.restore()}_drawCachedHitCanvas(e){const r=this._getCanvasCache(),n=r.hit;e.save(),e.translate(r.x,r.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),r=this._getCanvasCache(),n=r.scene,s=r.filter,a=s.getContext(),o,l,c,u;if(!e||e.length===0)return n;if(this._filterUpToDate)return s;let d=!0;for(let p=0;p<e.length;p++)if(typeof e[p]=="string"&&YR(),typeof e[p]!="string"||!YR()){d=!1;break}const h=n.pixelRatio;if(s.setSize(n.width/n.pixelRatio,n.height/n.pixelRatio),d){const p=e.join(" ");return a.save(),a.setAttr("filter",p),a.drawImage(n._canvas,0,0,n.getWidth()/h,n.getHeight()/h),a.restore(),this._filterUpToDate=!0,s}try{for(o=e.length,a.clear(),a.drawImage(n._canvas,0,0,n.getWidth()/h,n.getHeight()/h),l=a.getImageData(0,0,s.getWidth(),s.getHeight()),c=0;c<o;c++)u=e[c],typeof u=="string"&&(u=Dve(u)),u.call(this,l),a.putImageData(l,0,0)}catch(p){Je.error("Unable to apply filter. "+p.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,s}on(e,r){if(this._cache&&this._cache.delete(Yj),arguments.length===3)return this._delegate.apply(this,arguments);const n=e.split(mS);for(let s=0;s<n.length;s++){const o=n[s].split("."),l=o[0],c=o[1]||"";this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:c,handler:r})}return this}off(e,r){let n=(e||"").split(mS),s=n.length,a,o,l,c,u,d;if(this._cache&&this._cache.delete(Yj),!e)for(o in this.eventListeners)this._off(o);for(a=0;a<s;a++)if(l=n[a],c=l.split("."),u=c[0],d=c[1],u)this.eventListeners[u]&&this._off(u,d,r);else for(o in this.eventListeners)this._off(o,d,r);return this}dispatchEvent(e){const r={target:this,type:e.type,evt:e};return this.fire(e.type,r),this}addEventListener(e,r){return this.on(e,function(n){r.call(this,n.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,r,n){const s=this;this.on(e,function(a){const o=a.target.findAncestors(r,!0,s);for(let l=0;l<o.length;l++)a=Je.cloneObject(a),a.currentTarget=o[l],n.call(o[l],a)})}remove(){return this.isDragging()&&this.stopDrag(),Kn._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Xh),this._clearSelfAndDescendantCache(pS),this._clearSelfAndDescendantCache(XR),this._clearSelfAndDescendantCache(QR),this._clearSelfAndDescendantCache(O6),this._clearSelfAndDescendantCache(M6)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const r="get"+Je._capitalize(e);return Je._isFunction(this[r])?this[r]():this.attrs[e]}getAncestors(){let e=this.getParent(),r=[];for(;e;)r.push(e),e=e.getParent();return r}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let r,n;if(!e)return this;for(r in e)r!==Bve&&(n=KR+Je._capitalize(r),Je._isFunction(this[n])?this[n](e[r]):this._setAttr(r,e[r]))}),this}isListening(){return this._getCache(M6,this._isListening)}_isListening(e){if(!this.listening())return!1;const n=this.getParent();return n&&n!==e&&this!==e?n._isListening(e):!0}isVisible(){return this._getCache(O6,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const n=this.getParent();return n&&n!==e&&this!==e?n._isVisible(e):!0}shouldDrawHit(e,r=!1){if(e)return this._isVisible(e)&&this._isListening(e);const n=this.getLayer();let s=!1;Kn._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===n)&&(s=!0)});const a=!r&&!Kt.hitOnDragEnabled&&(s||Kt.isTransforming());return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),r=this,n=0,s,a,o,l;function c(d){for(s=[],a=d.length,o=0;o<a;o++)l=d[o],n++,l.nodeType!==ZR&&(s=s.concat(l.getChildren().slice())),l._id===r._id&&(o=a);s.length>0&&s[0].getDepth()<=e&&c(s)}const u=this.getStage();return r.nodeType!==qve&&u&&c(u.getChildren()),n}getDepth(){let e=0,r=this.parent;for(;r;)e++,r=r.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(ap),this._clearSelfAndDescendantCache(Xh)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const r=e.getPointerPosition();if(!r)return null;const n=this.getAbsoluteTransform().copy();return n.invert(),n.point(r)}getAbsolutePosition(e){let r=!1,n=this.parent;for(;n;){if(n.isCached()){r=!0;break}n=n.parent}r&&!e&&(e=!0);const s=this.getAbsoluteTransform(e).getMatrix(),a=new uc,o=this.offset();return a.m=s.slice(),a.translate(o.x,o.y),a.getTranslation()}setAbsolutePosition(e){const{x:r,y:n,...s}=this._clearTransform();this.attrs.x=r,this.attrs.y=n,this._clearCache(ap);const a=this._getAbsoluteTransform().copy();return a.invert(),a.translate(e.x,e.y),e={x:this.attrs.x+a.getTranslation().x,y:this.attrs.y+a.getTranslation().y},this._setTransform(s),this.setPosition({x:e.x,y:e.y}),this._clearCache(ap),this._clearSelfAndDescendantCache(Xh),this}_setTransform(e){let r;for(r in e)this.attrs[r]=e[r]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let r=e.x,n=e.y,s=this.x(),a=this.y();return r!==void 0&&(s+=r),n!==void 0&&(a+=n),this.setPosition({x:s,y:a}),this}_eachAncestorReverse(e,r){let n=[],s=this.getParent(),a,o;if(!(r&&r._id===this._id)){for(n.unshift(this);s&&(!r||s._id!==r._id);)n.unshift(s),s=s.parent;for(a=n.length,o=0;o<a;o++)e(n[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Je.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Je.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Je.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Je.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Je.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Je.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const r=this.index;return this.parent.children.splice(r,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(pS,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const r=this.getParent();return r&&!r._isUnderCache&&(e*=r.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),r,n,s,a,o;const l={attrs:{},className:this.getClassName()};for(r in e)n=e[r],o=Je.isObject(n)&&!Je._isPlainObject(n)&&!Je._isArray(n),!o&&(s=typeof this[r]=="function"&&this[r],delete e[r],a=s?s.call(this):null,e[r]=n,a!==n&&(l.attrs[r]=n));return Je._prepareToStringify(l)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,r,n){const s=[];r&&this._isMatch(e)&&s.push(this);let a=this.parent;for(;a;){if(a===n)return s;a._isMatch(e)&&s.push(a),a=a.parent}return s}isAncestorOf(e){return!1}findAncestor(e,r,n){return this.findAncestors(e,r,n)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let r=e.replace(/ /g,"").split(","),n=r.length,s,a;for(s=0;s<n;s++)if(a=r[s],Je.isValidSelector(a)||(Je.warn('Selector "'+a+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Je.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Je.warn("Konva is awesome, right?")),a.charAt(0)==="#"){if(this.id()===a.slice(1))return!0}else if(a.charAt(0)==="."){if(this.hasName(a.slice(1)))return!0}else if(this.className===a||this.nodeType===a)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(QR,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,r={},n){return r.target=r.target||this,n?this._fireAndBubble(e,r):this._fire(e,r),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Xh,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let r;if(e)return r=new uc,this._eachAncestorReverse(function(n){const s=n.transformsEnabled();s==="all"?r.multiply(n.getTransform()):s==="position"&&r.translate(n.x()-n.offsetX(),n.y()-n.offsetY())},e),r;{r=this._cache.get(Xh)||new uc,this.parent?this.parent.getAbsoluteTransform().copyInto(r):r.reset();const n=this.transformsEnabled();if(n==="all")r.multiply(this.getTransform());else if(n==="position"){const s=this.attrs.x||0,a=this.attrs.y||0,o=this.attrs.offsetX||0,l=this.attrs.offsetY||0;r.translate(s-o,a-l)}return r.dirty=!1,r}}getAbsoluteScale(e){let r=this;for(;r;)r._isUnderCache&&(e=r),r=r.getParent();const s=this.getAbsoluteTransform(e).decompose();return{x:s.scaleX,y:s.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(ap,this._getTransform)}_getTransform(){var e,r;const n=this._cache.get(ap)||new uc;n.reset();const s=this.x(),a=this.y(),o=Kt.getAngle(this.rotation()),l=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,c=(r=this.attrs.scaleY)!==null&&r!==void 0?r:1,u=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,p=this.attrs.offsetY||0;return(s!==0||a!==0)&&n.translate(s,a),o!==0&&n.rotate(o),(u!==0||d!==0)&&n.skew(u,d),(l!==1||c!==1)&&n.scale(l,c),(h!==0||p!==0)&&n.translate(-1*h,-1*p),n.dirty=!1,n}clone(e){let r=Je.cloneObject(this.attrs),n,s,a,o,l;for(n in e)r[n]=e[n];const c=new this.constructor(r);for(n in this.eventListeners)for(s=this.eventListeners[n],a=s.length,o=0;o<a;o++)l=s[o],l.name.indexOf($ve)<0&&(c.eventListeners[n]||(c.eventListeners[n]=[]),c.eventListeners[n].push(l));return c}_toKonvaCanvas(e){e=e||{};const r=this.getClientRect(),n=this.getStage(),s=e.x!==void 0?e.x:Math.floor(r.x),a=e.y!==void 0?e.y:Math.floor(r.y),o=e.pixelRatio||1,l=new mp({width:e.width||Math.ceil(r.width)||(n?n.width():0),height:e.height||Math.ceil(r.height)||(n?n.height():0),pixelRatio:o}),c=l.getContext(),u=new mp({width:l.width/l.pixelRatio+Math.abs(s),height:l.height/l.pixelRatio+Math.abs(a),pixelRatio:l.pixelRatio});return e.imageSmoothingEnabled===!1&&(c._context.imageSmoothingEnabled=!1),c.save(),(s||a)&&c.translate(-1*s,-1*a),this.drawScene(l,void 0,u),c.restore(),l}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const r=e.mimeType||null,n=e.quality||null,s=this._toKonvaCanvas(e).toDataURL(r,n);return e.callback&&e.callback(s),s}toImage(e){return new Promise((r,n)=>{try{const s=e==null?void 0:e.callback;s&&delete e.callback,Je._urlToImage(this.toDataURL(e),function(a){r(a),s==null||s(a)})}catch(s){n(s)}})}toBlob(e){return new Promise((r,n)=>{try{const s=e==null?void 0:e.callback;s&&delete e.callback,this.toCanvas(e).toBlob(a=>{r(a),s==null||s(a)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(s){n(s)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Kt.dragDistance}_off(e,r,n){let s=this.eventListeners[e],a,o,l;for(a=0;a<s.length;a++)if(o=s[a].name,l=s[a].handler,(o!=="konva"||r==="konva")&&(!r||o===r)&&(!n||n===l)){if(s.splice(a,1),s.length===0){delete this.eventListeners[e];break}a--}}_fireChangeEvent(e,r,n){this._fire(e+Fve,{oldVal:r,newVal:n})}addName(e){if(!this.hasName(e)){const r=this.name(),n=r?r+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const r=this.name();return r?(r||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const r=(this.name()||"").split(/\s/g),n=r.indexOf(e);return n!==-1&&(r.splice(n,1),this.name(r.join(" "))),this}setAttr(e,r){const n=this[KR+Je._capitalize(e)];return Je._isFunction(n)?n.call(this,r):this._setAttr(e,r),this}_requestDraw(){if(Kt.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,r){const n=this.attrs[e];n===r&&!Je.isObject(r)||(r==null?delete this.attrs[e]:this.attrs[e]=r,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,r),this._requestDraw())}_setComponentAttr(e,r,n){let s;n!==void 0&&(s=this.attrs[e],s||(this.attrs[e]=this.getAttr(e)),this.attrs[e][r]=n,this._fireChangeEvent(e,s,n))}_fireAndBubble(e,r,n){r&&this.nodeType===ZR&&(r.target=this);const s=[zve,Uve,Wve,Gve,Hve,Vve];if(!(s.indexOf(e)!==-1&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||this.nodeType==="Stage"&&!n))){this._fire(e,r);const o=s.indexOf(e)!==-1&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(r&&!r.cancelBubble||!r)&&this.parent&&this.parent.isListening()&&!o&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,r,n):this._fireAndBubble.call(this.parent,e,r))}}_getProtoListeners(e){var r,n,s;const a=(r=this._cache.get(Yj))!==null&&r!==void 0?r:{};let o=a==null?void 0:a[e];if(o===void 0){o=[];let l=Object.getPrototypeOf(this);for(;l;){const c=(s=(n=l.eventListeners)===null||n===void 0?void 0:n[e])!==null&&s!==void 0?s:[];o.push(...c),l=Object.getPrototypeOf(l)}a[e]=o,this._cache.set(Yj,a)}return o}_fire(e,r){r=r||{},r.currentTarget=this,r.type=e;const n=this._getProtoListeners(e);if(n)for(let a=0;a<n.length;a++)n[a].handler.call(this,r);const s=this.eventListeners[e];if(s)for(let a=0;a<s.length;a++)s[a].handler.call(this,r)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const r=e?e.pointerId:void 0,n=this.getStage(),s=this.getAbsolutePosition();if(!n)return;const a=n._getPointerById(r)||n._changedPointerPositions[0]||s;Kn._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-s.x,y:a.y-s.y},dragStatus:"ready",pointerId:r})}startDrag(e,r=!0){Kn._dragElements.has(this._id)||this._createDragElement(e);const n=Kn._dragElements.get(this._id);n.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},r)}_setDragPosition(e,r){const n=this.getStage()._getPointerById(r.pointerId);if(!n)return;let s={x:n.x-r.offset.x,y:n.y-r.offset.y};const a=this.dragBoundFunc();if(a!==void 0){const o=a.call(this,s,e);o?s=o:Je.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==s.x||this._lastPos.y!==s.y)&&(this.setAbsolutePosition(s),this._requestDraw()),this._lastPos=s}stopDrag(e){const r=Kn._dragElements.get(this._id);r&&(r.dragStatus="stopped"),Kn._endDragBefore(e),Kn._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Kn._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Kt.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let s=!1;Kn._dragElements.forEach(a=>{this.isAncestorOf(a.node)&&(s=!0)}),s||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const r=Kn._dragElements.get(this._id),n=r&&r.dragStatus==="dragging",s=r&&r.dragStatus==="ready";n?this.stopDrag():s&&Kn._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const r=this.getStage();if(!r)return!1;const n={x:-e.x,y:-e.y,width:r.width()+2*e.x,height:r.height()+2*e.y};return Je.haveIntersection(n,this.getClientRect())}static create(e,r){return Je._isString(e)&&(e=JSON.parse(e)),this._createNode(e,r)}static _createNode(e,r){let n=L6.prototype.getClassName.call(e),s=e.children,a,o,l;r&&(e.attrs.container=r),Kt[n]||(Je.warn('Can not find a node with class name "'+n+'". Fallback to "Shape".'),n="Shape");const c=Kt[n];if(a=new c(e.attrs),s)for(o=s.length,l=0;l<o;l++)a.add(L6._createNode(s[l]));return a}};Yt.prototype.nodeType="Node";Yt.prototype._attrsAffectingSize=[];Yt.prototype.eventListeners={};Yt.prototype.on.call(Yt.prototype,Yve,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(ap),this._clearSelfAndDescendantCache(Xh)});Yt.prototype.on.call(Yt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(O6)});Yt.prototype.on.call(Yt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(M6)});Yt.prototype.on.call(Yt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(pS)});const ys=Me.addGetterSetter;ys(Yt,"zIndex");ys(Yt,"absolutePosition");ys(Yt,"position");ys(Yt,"x",0,Gt());ys(Yt,"y",0,Gt());ys(Yt,"globalCompositeOperation","source-over",Kg());ys(Yt,"opacity",1,Gt());ys(Yt,"name","",Kg());ys(Yt,"id","",Kg());ys(Yt,"rotation",0,Gt());Me.addComponentsGetterSetter(Yt,"scale",["x","y"]);ys(Yt,"scaleX",1,Gt());ys(Yt,"scaleY",1,Gt());Me.addComponentsGetterSetter(Yt,"skew",["x","y"]);ys(Yt,"skewX",0,Gt());ys(Yt,"skewY",0,Gt());Me.addComponentsGetterSetter(Yt,"offset",["x","y"]);ys(Yt,"offsetX",0,Gt());ys(Yt,"offsetY",0,Gt());ys(Yt,"dragDistance",void 0,Gt());ys(Yt,"width",0,Gt());ys(Yt,"height",0,Gt());ys(Yt,"listening",!0,Td());ys(Yt,"preventDefault",!0,Td());ys(Yt,"filters",void 0,function(t){return this._filterUpToDate=!1,t});ys(Yt,"visible",!0,Td());ys(Yt,"transformsEnabled","all",Kg());ys(Yt,"size");ys(Yt,"dragBoundFunc");ys(Yt,"draggable",!1,Td());Me.backCompat(Yt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});let wc=class extends Yt{constructor(){super(...arguments),this.children=[]}getChildren(e){const r=this.children||[];return e?r.filter(e):r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let n=0;n<e.length;n++)this.add(e[n]);return this}const r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const r=this._generalFind(e,!0);return r.length>0?r[0]:void 0}_generalFind(e,r){const n=[];return this._descendants(s=>{const a=s._isMatch(e);return a&&n.push(s),!!(a&&r)}),n}_descendants(e){let r=!1;const n=this.getChildren();for(const s of n){if(r=e(s),r)return!0;if(s.hasChildren()&&(r=s._descendants(e),r))return!0}return!1}toObject(){const e=Yt.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(r=>{e.children.push(r.toObject())}),e}isAncestorOf(e){let r=e.getParent();for(;r;){if(r._id===this._id)return!0;r=r.getParent()}return!1}clone(e){const r=Yt.prototype.clone.call(this,e);return this.getChildren().forEach(function(n){r.add(n.clone())}),r}getAllIntersections(e){const r=[];return this.find("Shape").forEach(n=>{n.isVisible()&&n.intersects(e)&&r.push(n)}),r}_clearSelfAndDescendantCache(e){var r;super._clearSelfAndDescendantCache(e),!this.isCached()&&((r=this.children)===null||r===void 0||r.forEach(function(n){n._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(r,n){r.index=n}),this._requestDraw()}drawScene(e,r,n){const s=this.getLayer(),a=e||s&&s.getCanvas(),o=a&&a.getContext(),l=this._getCanvasCache(),c=l&&l.scene,u=a&&a.isCache;if(!this.isVisible()&&!u)return this;if(c){o.save();const d=this.getAbsoluteTransform(r).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",a,r,n);return this}drawHit(e,r){if(!this.shouldDrawHit(r))return this;const n=this.getLayer(),s=e||n&&n.hitCanvas,a=s&&s.getContext(),o=this._getCanvasCache();if(o&&o.hit){a.save();const c=this.getAbsoluteTransform(r).getMatrix();a.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",s,r);return this}_drawChildren(e,r,n,s){var a;const o=r&&r.getContext(),l=this.clipWidth(),c=this.clipHeight(),u=this.clipFunc(),d=typeof l=="number"&&typeof c=="number"||u,h=n===this;if(d){o.save();const f=this.getAbsoluteTransform(n);let m=f.getMatrix();o.transform(m[0],m[1],m[2],m[3],m[4],m[5]),o.beginPath();let g;if(u)g=u.call(this,o,this);else{const y=this.clipX(),x=this.clipY();o.rect(y||0,x||0,l,c)}o.clip.apply(o,g),m=f.copy().invert().getMatrix(),o.transform(m[0],m[1],m[2],m[3],m[4],m[5])}const p=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";p&&(o.save(),o._applyGlobalCompositeOperation(this)),(a=this.children)===null||a===void 0||a.forEach(function(f){f[e](r,n,s)}),p&&o.restore(),d&&o.restore()}getClientRect(e={}){var r;const n=e.skipTransform,s=e.relativeTo;let a,o,l,c,u={x:1/0,y:1/0,width:0,height:0};const d=this;(r=this.children)===null||r===void 0||r.forEach(function(f){if(!f.visible())return;const m=f.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});m.width===0&&m.height===0||(a===void 0?(a=m.x,o=m.y,l=m.x+m.width,c=m.y+m.height):(a=Math.min(a,m.x),o=Math.min(o,m.y),l=Math.max(l,m.x+m.width),c=Math.max(c,m.y+m.height)))});const h=this.find("Shape");let p=!1;for(let f=0;f<h.length;f++)if(h[f]._isVisible(this)){p=!0;break}return p&&a!==void 0?u={x:a,y:o,width:l-a,height:c-o}:u={x:0,y:0,width:0,height:0},n?u:this._transformedRect(u,s)}};Me.addComponentsGetterSetter(wc,"clip",["x","y","width","height"]);Me.addGetterSetter(wc,"clipX",void 0,Gt());Me.addGetterSetter(wc,"clipY",void 0,Gt());Me.addGetterSetter(wc,"clipWidth",void 0,Gt());Me.addGetterSetter(wc,"clipHeight",void 0,Gt());Me.addGetterSetter(wc,"clipFunc");const c2=new Map,aK=Kt._global.PointerEvent!==void 0;function fA(t){return c2.get(t)}function mM(t){return{evt:t,pointerId:t.pointerId}}function oK(t,e){return c2.get(t)===e}function lK(t,e){cb(t),e.getStage()&&(c2.set(t,e),aK&&e._fire("gotpointercapture",mM(new PointerEvent("gotpointercapture"))))}function cb(t,e){const r=c2.get(t);if(!r)return;const n=r.getStage();n&&n.content,c2.delete(t),aK&&r._fire("lostpointercapture",mM(new PointerEvent("lostpointercapture")))}const Kve="Stage",Zve="string",JR="px",Qve="mouseout",cK="mouseleave",uK="mouseover",dK="mouseenter",hK="mousemove",fK="mousedown",pK="mouseup",D1="pointermove",F1="pointerdown",h0="pointerup",B1="pointercancel",Jve="lostpointercapture",Xj="pointerout",$1="pointerleave",Kj="pointerover",Zj="pointerenter",R6="contextmenu",mK="touchstart",gK="touchend",xK="touchmove",yK="touchcancel",D6="wheel",e1e=5,t1e=[[dK,"_pointerenter"],[fK,"_pointerdown"],[hK,"_pointermove"],[pK,"_pointerup"],[cK,"_pointerleave"],[mK,"_pointerdown"],[xK,"_pointermove"],[gK,"_pointerup"],[yK,"_pointercancel"],[uK,"_pointerover"],[D6,"_wheel"],[R6,"_contextmenu"],[F1,"_pointerdown"],[D1,"_pointermove"],[h0,"_pointerup"],[B1,"_pointercancel"],[$1,"_pointerleave"],[Jve,"_lostpointercapture"]],pA={mouse:{[Xj]:Qve,[$1]:cK,[Kj]:uK,[Zj]:dK,[D1]:hK,[F1]:fK,[h0]:pK,[B1]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Xj]:"touchout",[$1]:"touchleave",[Kj]:"touchover",[Zj]:"touchenter",[D1]:xK,[F1]:mK,[h0]:gK,[B1]:yK,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Xj]:Xj,[$1]:$1,[Kj]:Kj,[Zj]:Zj,[D1]:D1,[F1]:F1,[h0]:h0,[B1]:B1,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},z1=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",Fx=t=>{const e=z1(t);if(e==="pointer")return Kt.pointerEventsEnabled&&pA.pointer;if(e==="touch")return pA.touch;if(e==="mouse")return pA.mouse};function e9(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&Je.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const r1e="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",ub=[];let K3=class extends wc{constructor(e){super(e9(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),ub.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{e9(this.attrs)}),this._checkVisibility()}_validateAdd(e){const r=e.getType()==="Layer",n=e.getType()==="FastLayer";r||n||Je.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===Zve){let r;if(e.charAt(0)==="."){const n=e.slice(1);e=document.getElementsByClassName(n)[0]}else e.charAt(0)!=="#"?r=e:r=e.slice(1),e=document.getElementById(r);if(!e)throw"Can not find container in document with id "+r}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,r=e.length;for(let n=0;n<r;n++)e[n].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),wc.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&Je._isInDocument(e)&&this.container().removeChild(e);const r=ub.indexOf(this);return r>-1&&ub.splice(r,1),Je.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(Je.warn(r1e),null)}_getPointerById(e){return this._pointerPositions.find(r=>r.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const r=new mp({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=r.getContext()._context,s=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),s.forEach(function(a){if(!a.isVisible())return;const o=a._toKonvaCanvas(e);n.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}),r}getIntersection(e){if(!e)return null;const r=this.children,n=r.length,s=n-1;for(let a=s;a>=0;a--){const o=r[a].getIntersection(e);if(o)return o}return null}_resizeDOM(){const e=this.width(),r=this.height();this.content&&(this.content.style.width=e+JR,this.content.style.height=r+JR),this.bufferCanvas.setSize(e,r),this.bufferHitCanvas.setSize(e,r),this.children.forEach(n=>{n.setSize({width:e,height:r}),n.draw()})}add(e,...r){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}super.add(e);const n=this.children.length;return n>e1e&&Je.warn("The stage has "+n+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Kt.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return oK(e,this)}setPointerCapture(e){lK(e,this)}releaseCapture(e){cb(e)}getLayers(){return this.children}_bindContentEvents(){Kt.isBrowser&&t1e.forEach(([e,r])=>{this.content.addEventListener(e,n=>{this[r](n)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const r=Fx(e.type);r&&this._fire(r.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const r=Fx(e.type);r&&this._fire(r.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let r=this[e+"targetShape"];return r&&!r.getStage()&&(r=null),r}_pointerleave(e){const r=Fx(e.type),n=z1(e.type);if(!r)return;this.setPointersPositions(e);const s=this._getTargetShape(n),a=!(Kt.isDragging()||Kt.isTransforming())||Kt.hitOnDragEnabled;s&&a?(s._fireAndBubble(r.pointerout,{evt:e}),s._fireAndBubble(r.pointerleave,{evt:e}),this._fire(r.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):a&&(this._fire(r.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(r.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const r=Fx(e.type),n=z1(e.type);if(!r)return;this.setPointersPositions(e);let s=!1;this._changedPointerPositions.forEach(a=>{const o=this.getIntersection(a);if(Kn.justDragged=!1,Kt["_"+n+"ListenClick"]=!0,!o||!o.isListening()){this[n+"ClickStartShape"]=void 0;return}Kt.capturePointerEventsEnabled&&o.setPointerCapture(a.id),this[n+"ClickStartShape"]=o,o._fireAndBubble(r.pointerdown,{evt:e,pointerId:a.id}),s=!0;const l=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&l&&e.preventDefault()}),s||this._fire(r.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const r=Fx(e.type),n=z1(e.type);if(!r)return;const s=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Kt.isDragging()&&Kn.node.preventDefault()&&e.cancelable&&s&&e.preventDefault(),this.setPointersPositions(e),!(!(Kt.isDragging()||Kt.isTransforming())||Kt.hitOnDragEnabled))return;const o={};let l=!1;const c=this._getTargetShape(n);this._changedPointerPositions.forEach(u=>{const d=fA(u.id)||this.getIntersection(u),h=u.id,p={evt:e,pointerId:h},f=c!==d;if(f&&c&&(c._fireAndBubble(r.pointerout,{...p},d),c._fireAndBubble(r.pointerleave,{...p},d)),d){if(o[d._id])return;o[d._id]=!0}d&&d.isListening()?(l=!0,f&&(d._fireAndBubble(r.pointerover,{...p},c),d._fireAndBubble(r.pointerenter,{...p},c),this[n+"targetShape"]=d),d._fireAndBubble(r.pointermove,{...p})):c&&(this._fire(r.pointerover,{evt:e,target:this,currentTarget:this,pointerId:h}),this[n+"targetShape"]=null)}),l||this._fire(r.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const r=Fx(e.type),n=z1(e.type);if(!r)return;this.setPointersPositions(e);const s=this[n+"ClickStartShape"],a=this[n+"ClickEndShape"],o={};let l=!1;this._changedPointerPositions.forEach(c=>{const u=fA(c.id)||this.getIntersection(c);if(u){if(u.releaseCapture(c.id),o[u._id])return;o[u._id]=!0}const d=c.id,h={evt:e,pointerId:d};let p=!1;Kt["_"+n+"InDblClickWindow"]?(p=!0,clearTimeout(this[n+"DblTimeout"])):Kn.justDragged||(Kt["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout(function(){Kt["_"+n+"InDblClickWindow"]=!1},Kt.dblClickWindow),u&&u.isListening()?(l=!0,this[n+"ClickEndShape"]=u,u._fireAndBubble(r.pointerup,{...h}),Kt["_"+n+"ListenClick"]&&s&&s===u&&(u._fireAndBubble(r.pointerclick,{...h}),p&&a&&a===u&&u._fireAndBubble(r.pointerdblclick,{...h}))):(this[n+"ClickEndShape"]=null,l||(this._fire(r.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l=!0),Kt["_"+n+"ListenClick"]&&this._fire(r.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:d}),p&&this._fire(r.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:d}))}),l||this._fire(r.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Kt["_"+n+"ListenClick"]=!1,e.cancelable&&n!=="touch"&&n!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const r=this.getIntersection(this.getPointerPosition());r&&r.isListening()?r._fireAndBubble(R6,{evt:e}):this._fire(R6,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const r=this.getIntersection(this.getPointerPosition());r&&r.isListening()?r._fireAndBubble(D6,{evt:e}):this._fire(D6,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const r=fA(e.pointerId)||this.getIntersection(this.getPointerPosition());r&&r._fireAndBubble(h0,mM(e)),cb(e.pointerId)}_lostpointercapture(e){cb(e.pointerId)}setPointersPositions(e){const r=this._getContentPosition();let n=null,s=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,a=>{this._pointerPositions.push({id:a.identifier,x:(a.clientX-r.left)/r.scaleX,y:(a.clientY-r.top)/r.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,a=>{this._changedPointerPositions.push({id:a.identifier,x:(a.clientX-r.left)/r.scaleX,y:(a.clientY-r.top)/r.scaleY})})):(n=(e.clientX-r.left)/r.scaleX,s=(e.clientY-r.top)/r.scaleY,this.pointerPos={x:n,y:s},this._pointerPositions=[{x:n,y:s,id:Je._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:s,id:Je._getFirstPointerId(e)}])}_setPointerPosition(e){Je.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new mp({width:this.width(),height:this.height()}),this.bufferHitCanvas=new fM({pixelRatio:1,width:this.width(),height:this.height()}),!Kt.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return Je.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};K3.prototype.nodeType=Kve;li(K3);Me.addGetterSetter(K3,"container");Kt.isBrowser&&document.addEventListener("visibilitychange",()=>{ub.forEach(t=>{t.batchDraw()})});const vK="hasShadow",bK="shadowRGBA",wK="patternImage",jK="linearGradient",SK="radialGradient";let Qj;function mA(){return Qj||(Qj=Je.createCanvasElement().getContext("2d"),Qj)}const db={};function n1e(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function s1e(t){t.stroke()}function i1e(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function a1e(t){t.stroke()}function o1e(){this._clearCache(vK)}function l1e(){this._clearCache(bK)}function c1e(){this._clearCache(wK)}function u1e(){this._clearCache(jK)}function d1e(){this._clearCache(SK)}let Dt=class extends Yt{constructor(e){super(e);let r,n=0;for(;r=Je.getHitColor(),!(r&&!(r in db));)if(n++,n>=1e4){Je.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),r=Je.getRandomColor();break}this.colorKey=r,db[r]=this}getContext(){return Je.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Je.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(vK,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(wK,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const r=mA().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(r&&r.setTransform){const n=new uc;n.translate(this.fillPatternX(),this.fillPatternY()),n.rotate(Kt.getAngle(this.fillPatternRotation())),n.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),n.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const s=n.getMatrix(),a=typeof DOMMatrix>"u"?{a:s[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]}:new DOMMatrix(s);r.setTransform(a)}return r}}_getLinearGradient(){return this._getCache(jK,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const r=mA(),n=this.fillLinearGradientStartPoint(),s=this.fillLinearGradientEndPoint(),a=r.createLinearGradient(n.x,n.y,s.x,s.y);for(let o=0;o<e.length;o+=2)a.addColorStop(e[o],e[o+1]);return a}}_getRadialGradient(){return this._getCache(SK,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const r=mA(),n=this.fillRadialGradientStartPoint(),s=this.fillRadialGradientEndPoint(),a=r.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),s.x,s.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)a.addColorStop(e[o],e[o+1]);return a}}getShadowRGBA(){return this._getCache(bK,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=Je.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const r=this.getStage();if(!r)return!1;const n=r.bufferHitCanvas;return n.getContext().clear(),this.drawHit(n,void 0,!0),n.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Yt.prototype.destroy.call(this),delete db[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var r;if(!((r=this.attrs.perfectDrawEnabled)!==null&&r!==void 0?r:!0))return!1;const s=e||this.hasFill(),a=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(s&&a&&o)return!0;const l=this.hasShadow(),c=this.shadowForStrokeEnabled();return!!(s&&a&&l&&c)}setStrokeHitEnabled(e){Je.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let r=!1,n=this.getParent();for(;n;){if(n.isCached()){r=!0;break}n=n.getParent()}const s=e.skipTransform,a=e.relativeTo||r&&this.getStage()||void 0,o=this.getSelfRect(),c=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,u=o.width+c,d=o.height+c,h=!e.skipShadow&&this.hasShadow(),p=h?this.shadowOffsetX():0,f=h?this.shadowOffsetY():0,m=u+Math.abs(p),g=d+Math.abs(f),y=h&&this.shadowBlur()||0,x=m+y*2,w=g+y*2,S={width:x,height:w,x:-(c/2+y)+Math.min(p,0)+o.x,y:-(c/2+y)+Math.min(f,0)+o.y};return s?S:this._transformedRect(S,a)}drawScene(e,r,n){const s=this.getLayer(),a=e||s.getCanvas(),o=a.getContext(),l=this._getCanvasCache(),c=this.getSceneFunc(),u=this.hasShadow();let d;const h=r===this;if(!this.isVisible()&&!h)return this;if(l){o.save();const p=this.getAbsoluteTransform(r).getMatrix();return o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!c)return this;if(o.save(),this._useBufferCanvas()){d=this.getStage();const p=n||d.bufferCanvas,f=p.getContext();f.clear(),f.save(),f._applyLineJoin(this),f._applyMiterLimit(this);const m=this.getAbsoluteTransform(r).getMatrix();f.transform(m[0],m[1],m[2],m[3],m[4],m[5]),c.call(this,f,this),f.restore();const g=p.pixelRatio;u&&o._applyShadow(this),h||(o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),o.drawImage(p._canvas,p.x||0,p.y||0,p.width/g,p.height/g)}else{if(o._applyLineJoin(this),o._applyMiterLimit(this),!h){const p=this.getAbsoluteTransform(r).getMatrix();o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}u&&o._applyShadow(this),c.call(this,o,this)}return o.restore(),this}drawHit(e,r,n=!1){if(!this.shouldDrawHit(r,n))return this;const s=this.getLayer(),a=e||s.hitCanvas,o=a&&a.getContext(),l=this.hitFunc()||this.sceneFunc(),c=this._getCanvasCache(),u=c&&c.hit;if(this.colorKey||Je.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),u){o.save();const h=this.getAbsoluteTransform(r).getMatrix();return o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),o._applyLineJoin(this),o._applyMiterLimit(this),!(this===r)){const h=this.getAbsoluteTransform(r).getMatrix();o.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return l.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){const r=this._getCanvasCache(),n=this._getCachedSceneCanvas(),s=r.hit,a=s.getContext(),o=s.getWidth(),l=s.getHeight();a.clear(),a.drawImage(n._canvas,0,0,o,l);try{const c=a.getImageData(0,0,o,l),u=c.data,d=u.length,h=Je._hexToRgb(this.colorKey);for(let p=0;p<d;p+=4)u[p+3]>e?(u[p]=h.r,u[p+1]=h.g,u[p+2]=h.b,u[p+3]=255):u[p+3]=0;a.putImageData(c,0,0)}catch(c){Je.error("Unable to draw hit graph from cached scene canvas. "+c.message)}return this}hasPointerCapture(e){return oK(e,this)}setPointerCapture(e){lK(e,this)}releaseCapture(e){cb(e)}};Dt.prototype._fillFunc=n1e;Dt.prototype._strokeFunc=s1e;Dt.prototype._fillFuncHit=i1e;Dt.prototype._strokeFuncHit=a1e;Dt.prototype._centroid=!1;Dt.prototype.nodeType="Shape";li(Dt);Dt.prototype.eventListeners={};Dt.prototype.on.call(Dt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",o1e);Dt.prototype.on.call(Dt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",l1e);Dt.prototype.on.call(Dt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",c1e);Dt.prototype.on.call(Dt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",u1e);Dt.prototype.on.call(Dt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",d1e);Me.addGetterSetter(Dt,"stroke",void 0,iK());Me.addGetterSetter(Dt,"strokeWidth",2,Gt());Me.addGetterSetter(Dt,"fillAfterStrokeEnabled",!1);Me.addGetterSetter(Dt,"hitStrokeWidth","auto",pM());Me.addGetterSetter(Dt,"strokeHitEnabled",!0,Td());Me.addGetterSetter(Dt,"perfectDrawEnabled",!0,Td());Me.addGetterSetter(Dt,"shadowForStrokeEnabled",!0,Td());Me.addGetterSetter(Dt,"lineJoin");Me.addGetterSetter(Dt,"lineCap");Me.addGetterSetter(Dt,"miterLimit");Me.addGetterSetter(Dt,"sceneFunc");Me.addGetterSetter(Dt,"hitFunc");Me.addGetterSetter(Dt,"dash");Me.addGetterSetter(Dt,"dashOffset",0,Gt());Me.addGetterSetter(Dt,"shadowColor",void 0,Kg());Me.addGetterSetter(Dt,"shadowBlur",0,Gt());Me.addGetterSetter(Dt,"shadowOpacity",1,Gt());Me.addComponentsGetterSetter(Dt,"shadowOffset",["x","y"]);Me.addGetterSetter(Dt,"shadowOffsetX",0,Gt());Me.addGetterSetter(Dt,"shadowOffsetY",0,Gt());Me.addGetterSetter(Dt,"fillPatternImage");Me.addGetterSetter(Dt,"fill",void 0,iK());Me.addGetterSetter(Dt,"fillPatternX",0,Gt());Me.addGetterSetter(Dt,"fillPatternY",0,Gt());Me.addGetterSetter(Dt,"fillLinearGradientColorStops");Me.addGetterSetter(Dt,"strokeLinearGradientColorStops");Me.addGetterSetter(Dt,"fillRadialGradientStartRadius",0);Me.addGetterSetter(Dt,"fillRadialGradientEndRadius",0);Me.addGetterSetter(Dt,"fillRadialGradientColorStops");Me.addGetterSetter(Dt,"fillPatternRepeat","repeat");Me.addGetterSetter(Dt,"fillEnabled",!0);Me.addGetterSetter(Dt,"strokeEnabled",!0);Me.addGetterSetter(Dt,"shadowEnabled",!0);Me.addGetterSetter(Dt,"dashEnabled",!0);Me.addGetterSetter(Dt,"strokeScaleEnabled",!0);Me.addGetterSetter(Dt,"fillPriority","color");Me.addComponentsGetterSetter(Dt,"fillPatternOffset",["x","y"]);Me.addGetterSetter(Dt,"fillPatternOffsetX",0,Gt());Me.addGetterSetter(Dt,"fillPatternOffsetY",0,Gt());Me.addComponentsGetterSetter(Dt,"fillPatternScale",["x","y"]);Me.addGetterSetter(Dt,"fillPatternScaleX",1,Gt());Me.addGetterSetter(Dt,"fillPatternScaleY",1,Gt());Me.addComponentsGetterSetter(Dt,"fillLinearGradientStartPoint",["x","y"]);Me.addComponentsGetterSetter(Dt,"strokeLinearGradientStartPoint",["x","y"]);Me.addGetterSetter(Dt,"fillLinearGradientStartPointX",0);Me.addGetterSetter(Dt,"strokeLinearGradientStartPointX",0);Me.addGetterSetter(Dt,"fillLinearGradientStartPointY",0);Me.addGetterSetter(Dt,"strokeLinearGradientStartPointY",0);Me.addComponentsGetterSetter(Dt,"fillLinearGradientEndPoint",["x","y"]);Me.addComponentsGetterSetter(Dt,"strokeLinearGradientEndPoint",["x","y"]);Me.addGetterSetter(Dt,"fillLinearGradientEndPointX",0);Me.addGetterSetter(Dt,"strokeLinearGradientEndPointX",0);Me.addGetterSetter(Dt,"fillLinearGradientEndPointY",0);Me.addGetterSetter(Dt,"strokeLinearGradientEndPointY",0);Me.addComponentsGetterSetter(Dt,"fillRadialGradientStartPoint",["x","y"]);Me.addGetterSetter(Dt,"fillRadialGradientStartPointX",0);Me.addGetterSetter(Dt,"fillRadialGradientStartPointY",0);Me.addComponentsGetterSetter(Dt,"fillRadialGradientEndPoint",["x","y"]);Me.addGetterSetter(Dt,"fillRadialGradientEndPointX",0);Me.addGetterSetter(Dt,"fillRadialGradientEndPointY",0);Me.addGetterSetter(Dt,"fillPatternRotation",0);Me.addGetterSetter(Dt,"fillRule",void 0,Kg());Me.backCompat(Dt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const h1e="beforeDraw",f1e="draw",NK=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p1e=NK.length;let Zg=class extends wc{constructor(e){super(e),this.canvas=new mp,this.hitCanvas=new fM({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const r=this.getStage();return r&&r.content&&(r.content.removeChild(this.getNativeCanvasElement()),e<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[e+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Yt.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Yt.prototype.moveUp.call(this))return!1;const r=this.getStage();return!r||!r.content?!1:(r.content.removeChild(this.getNativeCanvasElement()),this.index<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[this.index+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Yt.prototype.moveDown.call(this)){const e=this.getStage();if(e){const r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Yt.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Yt.prototype.remove.call(this),e&&e.parentNode&&Je._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:r}){return this.canvas.setSize(e,r),this.hitCanvas.setSize(e,r),this._setSmoothEnabled(),this}_validateAdd(e){const r=e.getType();r!=="Group"&&r!=="Shape"&&Je.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Yt.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Je.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Je.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Je.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let r=1,n=!1;for(;;){for(let s=0;s<p1e;s++){const a=NK[s],o=this._getIntersection({x:e.x+a.x*r,y:e.y+a.y*r}),l=o.shape;if(l)return l;if(n=!!o.antialiased,!o.antialiased)break}if(n)r+=1;else return null}}_getIntersection(e){const r=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*r),Math.round(e.y*r),1,1).data,s=n[3];if(s===255){const a=Je.getHitColorKey(n[0],n[1],n[2]),o=db[a];return o?{shape:o}:{antialiased:!0}}else if(s>0)return{antialiased:!0};return{}}drawScene(e,r,n){const s=this.getLayer(),a=e||s&&s.getCanvas();return this._fire(h1e,{node:this}),this.clearBeforeDraw()&&a.getContext().clear(),wc.prototype.drawScene.call(this,a,r,n),this._fire(f1e,{node:this}),this}drawHit(e,r){const n=this.getLayer(),s=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),wc.prototype.drawHit.call(this,s,r),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Je.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Je.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Je.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Zg.prototype.nodeType="Layer";li(Zg);Me.addGetterSetter(Zg,"imageSmoothingEnabled",!0);Me.addGetterSetter(Zg,"clearBeforeDraw",!0);Me.addGetterSetter(Zg,"hitGraphEnabled",!0,Td());class gM extends Zg{constructor(e){super(e),this.listening(!1),Je.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}gM.prototype.nodeType="FastLayer";li(gM);let uy=class extends wc{_validateAdd(e){const r=e.getType();r!=="Group"&&r!=="Shape"&&Je.throw("You may only add groups and shapes to groups.")}};uy.prototype.nodeType="Group";li(uy);const gA=function(){return ng.performance&&ng.performance.now?function(){return ng.performance.now()}:function(){return new Date().getTime()}}();class ou{constructor(e,r){this.id=ou.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:gA(),frameRate:0},this.func=e,this.setLayers(r)}setLayers(e){let r=[];return e&&(r=Array.isArray(e)?e:[e]),this.layers=r,this}getLayers(){return this.layers}addLayer(e){const r=this.layers,n=r.length;for(let s=0;s<n;s++)if(r[s]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const r=ou.animations,n=r.length;for(let s=0;s<n;s++)if(r[s].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=gA(),ou._addAnimation(this),this}stop(){return ou._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const r=e.id,n=this.animations,s=n.length;for(let a=0;a<s;a++)if(n[a].id===r){this.animations.splice(a,1);break}}static _runFrames(){const e={},r=this.animations;for(let n=0;n<r.length;n++){const s=r[n],a=s.layers,o=s.func;s._updateFrameObject(gA());const l=a.length;let c;if(o?c=o.call(s,s.frame)!==!1:c=!0,!!c)for(let u=0;u<l;u++){const d=a[u];d._id!==void 0&&(e[d._id]=d)}}for(const n in e)e.hasOwnProperty(n)&&e[n].batchDraw()}static _animationLoop(){const e=ou;e.animations.length?(e._runFrames(),Je.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Je.requestAnimFrame(this._animationLoop))}}ou.animations=[];ou.animIdCounter=0;ou.animRunning=!1;const m1e={node:1,duration:1,easing:1,onFinish:1,yoyo:1},g1e=1,t9=2,r9=3,n9=["fill","stroke","shadowColor"];let x1e=0;class y1e{constructor(e,r,n,s,a,o,l){this.prop=e,this.propFunc=r,this.begin=s,this._pos=s,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=l,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=a-this.begin,this.pause()}fire(e){const r=this[e];r&&r()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=t9,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=r9,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===t9?this.setTime(e):this.state===r9&&this.setTime(this.duration-e)}pause(){this.state=g1e,this.fire("onPause")}getTimer(){return new Date().getTime()}}class js{constructor(e){const r=this,n=e.node,s=n._id,a=e.easing||hb.Linear,o=!!e.yoyo;let l,c;typeof e.duration>"u"?l=.3:e.duration===0?l=.001:l=e.duration,this.node=n,this._id=x1e++;const u=n.getLayer()||(n instanceof Kt.Stage?n.getLayers():null);u||Je.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new ou(function(){r.tween.onEnterFrame()},u),this.tween=new y1e(c,function(d){r._tweenFunc(d)},a,0,1,l*1e3,o),this._addListeners(),js.attrs[s]||(js.attrs[s]={}),js.attrs[s][this._id]||(js.attrs[s][this._id]={}),js.tweens[s]||(js.tweens[s]={});for(c in e)m1e[c]===void 0&&this._addAttr(c,e[c]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,r){const n=this.node,s=n._id;let a,o,l,c,u;const d=js.tweens[s][e];d&&delete js.attrs[s][d][e];let h=n.getAttr(e);if(Je._isArray(r))if(a=[],o=Math.max(r.length,h.length),e==="points"&&r.length!==h.length&&(r.length>h.length?(c=h,h=Je._prepareArrayForTween(h,r,n.closed())):(l=r,r=Je._prepareArrayForTween(r,h,n.closed()))),e.indexOf("fill")===0)for(let p=0;p<o;p++)if(p%2===0)a.push(r[p]-h[p]);else{const f=Je.colorToRGBA(h[p]);u=Je.colorToRGBA(r[p]),h[p]=f,a.push({r:u.r-f.r,g:u.g-f.g,b:u.b-f.b,a:u.a-f.a})}else for(let p=0;p<o;p++)a.push(r[p]-h[p]);else n9.indexOf(e)!==-1?(h=Je.colorToRGBA(h),u=Je.colorToRGBA(r),a={r:u.r-h.r,g:u.g-h.g,b:u.b-h.b,a:u.a-h.a}):a=r-h;js.attrs[s][this._id][e]={start:h,diff:a,end:r,trueEnd:l,trueStart:c},js.tweens[s][e]=this._id}_tweenFunc(e){const r=this.node,n=js.attrs[r._id][this._id];let s,a,o,l,c,u,d,h;for(s in n){if(a=n[s],o=a.start,l=a.diff,h=a.end,Je._isArray(o))if(c=[],d=Math.max(o.length,h.length),s.indexOf("fill")===0)for(u=0;u<d;u++)u%2===0?c.push((o[u]||0)+l[u]*e):c.push("rgba("+Math.round(o[u].r+l[u].r*e)+","+Math.round(o[u].g+l[u].g*e)+","+Math.round(o[u].b+l[u].b*e)+","+(o[u].a+l[u].a*e)+")");else for(u=0;u<d;u++)c.push((o[u]||0)+l[u]*e);else n9.indexOf(s)!==-1?c="rgba("+Math.round(o.r+l.r*e)+","+Math.round(o.g+l.g*e)+","+Math.round(o.b+l.b*e)+","+(o.a+l.a*e)+")":c=o+l*e;r.setAttr(s,c)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,r=js.attrs[e._id][this._id];r.points&&r.points.trueEnd&&e.setAttr("points",r.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,r=js.attrs[e._id][this._id];r.points&&r.points.trueStart&&e.points(r.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,r=this._id,n=js.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const s in n)delete js.tweens[e][s];delete js.attrs[e][r],js.tweens[e]&&(Object.keys(js.tweens[e]).length===0&&delete js.tweens[e],Object.keys(js.attrs[e]).length===0&&delete js.attrs[e])}}js.attrs={};js.tweens={};Yt.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new js(t).play()};const hb={BackEaseIn(t,e,r,n){return r*(t/=n)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,r,n){return r*((t=t/n-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,r,n){let s=1.70158;return(t/=n/2)<1?r/2*(t*t*(((s*=1.525)+1)*t-s))+e:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e},ElasticEaseIn(t,e,r,n,s,a){let o=0;return t===0?e:(t/=n)===1?e+r:(a||(a=n*.3),!s||s<Math.abs(r)?(s=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/a))+e)},ElasticEaseOut(t,e,r,n,s,a){let o=0;return t===0?e:(t/=n)===1?e+r:(a||(a=n*.3),!s||s<Math.abs(r)?(s=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/s),s*Math.pow(2,-10*t)*Math.sin((t*n-o)*(2*Math.PI)/a)+r+e)},ElasticEaseInOut(t,e,r,n,s,a){let o=0;return t===0?e:(t/=n/2)===2?e+r:(a||(a=n*(.3*1.5)),!s||s<Math.abs(r)?(s=r,o=a/4):o=a/(2*Math.PI)*Math.asin(r/s),t<1?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/a))+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/a)*.5+r+e)},BounceEaseOut(t,e,r,n){return(t/=n)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,r,n){return r-hb.BounceEaseOut(n-t,0,r,n)+e},BounceEaseInOut(t,e,r,n){return t<n/2?hb.BounceEaseIn(t*2,0,r,n)*.5+e:hb.BounceEaseOut(t*2-n,0,r,n)*.5+r*.5+e},EaseIn(t,e,r,n){return r*(t/=n)*t+e},EaseOut(t,e,r,n){return-r*(t/=n)*(t-2)+e},EaseInOut(t,e,r,n){return(t/=n/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,r,n){return r*(t/=n)*t*t*t*t+e},StrongEaseOut(t,e,r,n){return r*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,r,n){return(t/=n/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,r,n){return r*t/n+e}},Mg=Je._assign(Kt,{Util:Je,Transform:uc,Node:Yt,Container:wc,Stage:K3,stages:ub,Layer:Zg,FastLayer:gM,Group:uy,DD:Kn,Shape:Dt,shapes:db,Animation:ou,Tween:js,Easings:hb,Context:Y3,Canvas:hM});class Tf extends Dt{_sceneFunc(e){const r=Kt.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,r,n),e.arc(0,0,this.innerRadius(),r,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),r=this.outerRadius(),n=this.clockwise(),s=Kt.getAngle(n?360-this.angle():this.angle()),a=Math.cos(Math.min(s,Math.PI)),o=1,l=Math.sin(Math.min(Math.max(Math.PI,s),3*Math.PI/2)),c=Math.sin(Math.min(s,Math.PI/2)),u=a*(a>0?e:r),d=o*r,h=l*(l>0?e:r),p=c*(c>0?r:e);return{x:u,y:n?-1*p:h,width:d-u,height:p-h}}}Tf.prototype._centroid=!0;Tf.prototype.className="Arc";Tf.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];li(Tf);Me.addGetterSetter(Tf,"innerRadius",0,Gt());Me.addGetterSetter(Tf,"outerRadius",0,Gt());Me.addGetterSetter(Tf,"angle",0,Gt());Me.addGetterSetter(Tf,"clockwise",!1,Td());function F6(t,e,r,n,s,a,o){const l=Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2)),c=Math.sqrt(Math.pow(s-r,2)+Math.pow(a-n,2)),u=o*l/(l+c),d=o*c/(l+c),h=r-u*(s-t),p=n-u*(a-e),f=r+d*(s-t),m=n+d*(a-e);return[h,p,f,m]}function s9(t,e){const r=t.length,n=[];for(let s=2;s<r-2;s+=2){const a=F6(t[s-2],t[s-1],t[s],t[s+1],t[s+2],t[s+3],e);isNaN(a[0])||(n.push(a[0]),n.push(a[1]),n.push(t[s]),n.push(t[s+1]),n.push(a[2]),n.push(a[3]))}return n}let If=class extends Dt{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const r=this.points(),n=r.length,s=this.tension(),a=this.closed(),o=this.bezier();if(!n)return;let l=0;if(e.beginPath(),e.moveTo(r[0],r[1]),s!==0&&n>4){const c=this.getTensionPoints(),u=c.length;for(l=a?0:4,a||e.quadraticCurveTo(c[0],c[1],c[2],c[3]);l<u-2;)e.bezierCurveTo(c[l++],c[l++],c[l++],c[l++],c[l++],c[l++]);a||e.quadraticCurveTo(c[u-2],c[u-1],r[n-2],r[n-1])}else if(o)for(l=2;l<n;)e.bezierCurveTo(r[l++],r[l++],r[l++],r[l++],r[l++],r[l++]);else for(l=2;l<n;l+=2)e.lineTo(r[l],r[l+1]);a?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():s9(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),r=e.length,n=this.tension(),s=F6(e[r-2],e[r-1],e[0],e[1],e[2],e[3],n),a=F6(e[r-4],e[r-3],e[r-2],e[r-1],e[0],e[1],n),o=s9(e,n);return[s[2],s[3]].concat(o).concat([a[0],a[1],e[r-2],e[r-1],a[2],a[3],s[0],s[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let r=e[0],n=e[0],s=e[1],a=e[1],o,l;for(let c=0;c<e.length/2;c++)o=e[c*2],l=e[c*2+1],r=Math.min(r,o),n=Math.max(n,o),s=Math.min(s,l),a=Math.max(a,l);return{x:r,y:s,width:n-r,height:a-s}}};If.prototype.className="Line";If.prototype._attrsAffectingSize=["points","bezier","tension"];li(If);Me.addGetterSetter(If,"closed",!1);Me.addGetterSetter(If,"bezier",!1);Me.addGetterSetter(If,"tension",0,Gt());Me.addGetterSetter(If,"points",[],Lve());const v1e=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],b1e=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],w1e=[[1],[1,1],[1,2,1],[1,3,3,1]],i9=(t,e,r)=>{let n,s;const o=r/2;n=0;for(let l=0;l<20;l++)s=o*v1e[20][l]+o,n+=b1e[20][l]*j1e(t,e,s);return o*n},a9=(t,e,r)=>{r===void 0&&(r=1);const n=t[0]-2*t[1]+t[2],s=e[0]-2*e[1]+e[2],a=2*t[1]-2*t[0],o=2*e[1]-2*e[0],l=4*(n*n+s*s),c=4*(n*a+s*o),u=a*a+o*o;if(l===0)return r*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const d=c/(2*l),h=u/l,p=r+d,f=h-d*d,m=p*p+f>0?Math.sqrt(p*p+f):0,g=d*d+f>0?Math.sqrt(d*d+f):0,y=d+Math.sqrt(d*d+f)!==0?f*Math.log(Math.abs((p+m)/(d+g))):0;return Math.sqrt(l)/2*(p*m-d*g+y)};function j1e(t,e,r){const n=B6(1,r,t),s=B6(1,r,e),a=n*n+s*s;return Math.sqrt(a)}const B6=(t,e,r)=>{const n=r.length-1;let s,a;if(n===0)return 0;if(t===0){a=0;for(let o=0;o<=n;o++)a+=w1e[n][o]*Math.pow(1-e,n-o)*Math.pow(e,o)*r[o];return a}else{s=new Array(n);for(let o=0;o<n;o++)s[o]=n*(r[o+1]-r[o]);return B6(t-1,e,s)}},o9=(t,e,r)=>{let n=1,s=t/e,a=(t-r(s))/e,o=0;for(;n>.001;){const l=r(s+a),c=Math.abs(t-l)/e;if(c<n)n=c,s+=a;else{const u=r(s-a),d=Math.abs(t-u)/e;d<n?(n=d,s-=a):a/=2}if(o++,o>500)break}return s};let lu=class Pl extends Dt{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Pl.parsePathData(this.data()),this.pathLength=Pl.getPathLength(this.dataArray)}_sceneFunc(e){const r=this.dataArray;e.beginPath();let n=!1;for(let s=0;s<r.length;s++){const a=r[s].command,o=r[s].points;switch(a){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":const l=o[0],c=o[1],u=o[2],d=o[3],h=o[4],p=o[5],f=o[6],m=o[7],g=u>d?u:d,y=u>d?1:u/d,x=u>d?d/u:1;e.translate(l,c),e.rotate(f),e.scale(y,x),e.arc(0,0,g,h,h+p,1-m),e.scale(1/y,1/x),e.rotate(-f),e.translate(-l,-c);break;case"z":n=!0,e.closePath();break}}!n&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(c){if(c.command==="A"){const u=c.points[4],d=c.points[5],h=c.points[4]+d;let p=Math.PI/180;if(Math.abs(u-h)<p&&(p=Math.abs(u-h)),d<0)for(let f=u-p;f>h;f-=p){const m=Pl.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],f,0);e.push(m.x,m.y)}else for(let f=u+p;f<h;f+=p){const m=Pl.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],f,0);e.push(m.x,m.y)}}else if(c.command==="C")for(let u=0;u<=1;u+=.01){const d=Pl.getPointOnCubicBezier(u,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(d.x,d.y)}else e=e.concat(c.points)});let r=e[0],n=e[0],s=e[1],a=e[1],o,l;for(let c=0;c<e.length/2;c++)o=e[c*2],l=e[c*2+1],isNaN(o)||(r=Math.min(r,o),n=Math.max(n,o)),isNaN(l)||(s=Math.min(s,l),a=Math.max(a,l));return{x:r,y:s,width:n-r,height:a-s}}getLength(){return this.pathLength}getPointAtLength(e){return Pl.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,r,n,s){return Math.sqrt((n-e)*(n-e)+(s-r)*(s-r))}static getPathLength(e){let r=0;for(let n=0;n<e.length;++n)r+=e[n].pathLength;return r}static getPointAtLengthOfDataArray(e,r){let n,s=0,a=r.length;if(!a)return null;for(;s<a&&e>r[s].pathLength;)e-=r[s].pathLength,++s;if(s===a)return n=r[s-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return r[s].command==="M"?(n=r[s].points.slice(0,2),{x:n[0],y:n[1]}):{x:r[s].start.x,y:r[s].start.y};const o=r[s],l=o.points;switch(o.command){case"L":return Pl.getPointOnLine(e,o.start.x,o.start.y,l[0],l[1]);case"C":return Pl.getPointOnCubicBezier(o9(e,Pl.getPathLength(r),g=>i9([o.start.x,l[0],l[2],l[4]],[o.start.y,l[1],l[3],l[5]],g)),o.start.x,o.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return Pl.getPointOnQuadraticBezier(o9(e,Pl.getPathLength(r),g=>a9([o.start.x,l[0],l[2]],[o.start.y,l[1],l[3]],g)),o.start.x,o.start.y,l[0],l[1],l[2],l[3]);case"A":const c=l[0],u=l[1],d=l[2],h=l[3],p=l[5],f=l[6];let m=l[4];return m+=p*e/o.pathLength,Pl.getPointOnEllipticalArc(c,u,d,h,m,f)}return null}static getPointOnLine(e,r,n,s,a,o,l){o=o??r,l=l??n;const c=this.getLineLength(r,n,s,a);if(c<1e-10)return{x:r,y:n};if(s===r)return{x:o,y:l+(a>n?e:-e)};const u=(a-n)/(s-r),d=Math.sqrt(e*e/(1+u*u))*(s<r?-1:1),h=u*d;if(Math.abs(l-n-u*(o-r))<1e-10)return{x:o+d,y:l+h};const p=((o-r)*(s-r)+(l-n)*(a-n))/(c*c),f=r+p*(s-r),m=n+p*(a-n),g=this.getLineLength(o,l,f,m),y=Math.sqrt(e*e-g*g),x=Math.sqrt(y*y/(1+u*u))*(s<r?-1:1),w=u*x;return{x:f+x,y:m+w}}static getPointOnCubicBezier(e,r,n,s,a,o,l,c,u){function d(y){return y*y*y}function h(y){return 3*y*y*(1-y)}function p(y){return 3*y*(1-y)*(1-y)}function f(y){return(1-y)*(1-y)*(1-y)}const m=c*d(e)+o*h(e)+s*p(e)+r*f(e),g=u*d(e)+l*h(e)+a*p(e)+n*f(e);return{x:m,y:g}}static getPointOnQuadraticBezier(e,r,n,s,a,o,l){function c(f){return f*f}function u(f){return 2*f*(1-f)}function d(f){return(1-f)*(1-f)}const h=o*c(e)+s*u(e)+r*d(e),p=l*c(e)+a*u(e)+n*d(e);return{x:h,y:p}}static getPointOnEllipticalArc(e,r,n,s,a,o){const l=Math.cos(o),c=Math.sin(o),u={x:n*Math.cos(a),y:s*Math.sin(a)};return{x:e+(u.x*l-u.y*c),y:r+(u.x*c+u.y*l)}}static parsePathData(e){if(!e)return[];let r=e;const n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];r=r.replace(new RegExp(" ","g"),",");for(let h=0;h<n.length;h++)r=r.replace(new RegExp(n[h],"g"),"|"+n[h]);const s=r.split("|"),a=[],o=[];let l=0,c=0;const u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let d;for(let h=1;h<s.length;h++){let p=s[h],f=p.charAt(0);for(p=p.slice(1),o.length=0;d=u.exec(p);)o.push(d[0]);let m=[],g=f==="A"||f==="a"?0:-1;for(let y=0,x=o.length;y<x;y++){const w=o[y];if(w==="00"){m.push(0,0),g>=0&&(g+=2,g>=7&&(g-=7));continue}if(g>=0){if(g===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(w)){m.push(parseInt(w[0],10)),m.push(parseInt(w[1],10)),m.push(parseFloat(w.slice(2))),g+=3,g>=7&&(g-=7);continue}if(w==="11"||w==="10"||w==="01"){m.push(parseInt(w[0],10)),m.push(parseInt(w[1],10)),g+=2,g>=7&&(g-=7);continue}if(w==="0"||w==="1"){m.push(parseInt(w,10)),g+=1,g>=7&&(g-=7);continue}}else if(g===4){if(/^[01]\d+(?:\.\d+)?$/.test(w)){m.push(parseInt(w[0],10)),m.push(parseFloat(w.slice(1))),g+=2,g>=7&&(g-=7);continue}if(w==="0"||w==="1"){m.push(parseInt(w,10)),g+=1,g>=7&&(g-=7);continue}}const S=parseFloat(w);isNaN(S)?m.push(0):m.push(S),g+=1,g>=7&&(g-=7)}else{const S=parseFloat(w);isNaN(S)?m.push(0):m.push(S)}}for(;m.length>0&&!isNaN(m[0]);){let y="",x=[];const w=l,S=c;let N,C,A,k,E,T,R,I,L,U;switch(f){case"l":l+=m.shift(),c+=m.shift(),y="L",x.push(l,c);break;case"L":l=m.shift(),c=m.shift(),x.push(l,c);break;case"m":const $=m.shift(),q=m.shift();if(l+=$,c+=q,y="M",a.length>2&&a[a.length-1].command==="z"){for(let G=a.length-2;G>=0;G--)if(a[G].command==="M"){l=a[G].points[0]+$,c=a[G].points[1]+q;break}}x.push(l,c),f="l";break;case"M":l=m.shift(),c=m.shift(),y="M",x.push(l,c),f="L";break;case"h":l+=m.shift(),y="L",x.push(l,c);break;case"H":l=m.shift(),y="L",x.push(l,c);break;case"v":c+=m.shift(),y="L",x.push(l,c);break;case"V":c=m.shift(),y="L",x.push(l,c);break;case"C":x.push(m.shift(),m.shift(),m.shift(),m.shift()),l=m.shift(),c=m.shift(),x.push(l,c);break;case"c":x.push(l+m.shift(),c+m.shift(),l+m.shift(),c+m.shift()),l+=m.shift(),c+=m.shift(),y="C",x.push(l,c);break;case"S":C=l,A=c,N=a[a.length-1],N.command==="C"&&(C=l+(l-N.points[2]),A=c+(c-N.points[3])),x.push(C,A,m.shift(),m.shift()),l=m.shift(),c=m.shift(),y="C",x.push(l,c);break;case"s":C=l,A=c,N=a[a.length-1],N.command==="C"&&(C=l+(l-N.points[2]),A=c+(c-N.points[3])),x.push(C,A,l+m.shift(),c+m.shift()),l+=m.shift(),c+=m.shift(),y="C",x.push(l,c);break;case"Q":x.push(m.shift(),m.shift()),l=m.shift(),c=m.shift(),x.push(l,c);break;case"q":x.push(l+m.shift(),c+m.shift()),l+=m.shift(),c+=m.shift(),y="Q",x.push(l,c);break;case"T":C=l,A=c,N=a[a.length-1],N.command==="Q"&&(C=l+(l-N.points[0]),A=c+(c-N.points[1])),l=m.shift(),c=m.shift(),y="Q",x.push(C,A,l,c);break;case"t":C=l,A=c,N=a[a.length-1],N.command==="Q"&&(C=l+(l-N.points[0]),A=c+(c-N.points[1])),l+=m.shift(),c+=m.shift(),y="Q",x.push(C,A,l,c);break;case"A":k=m.shift(),E=m.shift(),T=m.shift(),R=m.shift(),I=m.shift(),L=l,U=c,l=m.shift(),c=m.shift(),y="A",x=this.convertEndpointToCenterParameterization(L,U,l,c,R,I,k,E,T);break;case"a":k=m.shift(),E=m.shift(),T=m.shift(),R=m.shift(),I=m.shift(),L=l,U=c,l+=m.shift(),c+=m.shift(),y="A",x=this.convertEndpointToCenterParameterization(L,U,l,c,R,I,k,E,T);break}a.push({command:y||f,points:x,start:{x:w,y:S},pathLength:this.calcLength(w,S,y||f,x)})}(f==="z"||f==="Z")&&a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}static calcLength(e,r,n,s){let a,o,l,c;const u=Pl;switch(n){case"L":return u.getLineLength(e,r,s[0],s[1]);case"C":return i9([e,s[0],s[2],s[4]],[r,s[1],s[3],s[5]],1);case"Q":return a9([e,s[0],s[2]],[r,s[1],s[3]],1);case"A":a=0;const d=s[4],h=s[5],p=s[4]+h;let f=Math.PI/180;if(Math.abs(d-p)<f&&(f=Math.abs(d-p)),o=u.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],d,0),h<0)for(c=d-f;c>p;c-=f)l=u.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],c,0),a+=u.getLineLength(o.x,o.y,l.x,l.y),o=l;else for(c=d+f;c<p;c+=f)l=u.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],c,0),a+=u.getLineLength(o.x,o.y,l.x,l.y),o=l;return l=u.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],p,0),a+=u.getLineLength(o.x,o.y,l.x,l.y),a}return 0}static convertEndpointToCenterParameterization(e,r,n,s,a,o,l,c,u){const d=u*(Math.PI/180),h=Math.cos(d)*(e-n)/2+Math.sin(d)*(r-s)/2,p=-1*Math.sin(d)*(e-n)/2+Math.cos(d)*(r-s)/2,f=h*h/(l*l)+p*p/(c*c);f>1&&(l*=Math.sqrt(f),c*=Math.sqrt(f));let m=Math.sqrt((l*l*(c*c)-l*l*(p*p)-c*c*(h*h))/(l*l*(p*p)+c*c*(h*h)));a===o&&(m*=-1),isNaN(m)&&(m=0);const g=m*l*p/c,y=m*-c*h/l,x=(e+n)/2+Math.cos(d)*g-Math.sin(d)*y,w=(r+s)/2+Math.sin(d)*g+Math.cos(d)*y,S=function(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])},N=function(R,I){return(R[0]*I[0]+R[1]*I[1])/(S(R)*S(I))},C=function(R,I){return(R[0]*I[1]<R[1]*I[0]?-1:1)*Math.acos(N(R,I))},A=C([1,0],[(h-g)/l,(p-y)/c]),k=[(h-g)/l,(p-y)/c],E=[(-1*h-g)/l,(-1*p-y)/c];let T=C(k,E);return N(k,E)<=-1&&(T=Math.PI),N(k,E)>=1&&(T=0),o===0&&T>0&&(T=T-2*Math.PI),o===1&&T<0&&(T=T+2*Math.PI),[x,w,l,c,A,T,d,o]}};lu.prototype.className="Path";lu.prototype._attrsAffectingSize=["data"];li(lu);Me.addGetterSetter(lu,"data");class Qg extends If{_sceneFunc(e){super._sceneFunc(e);const r=Math.PI*2,n=this.points();let s=n;const a=this.tension()!==0&&n.length>4;a&&(s=this.getTensionPoints());const o=this.pointerLength(),l=n.length;let c,u;if(a){const p=[s[s.length-4],s[s.length-3],s[s.length-2],s[s.length-1],n[l-2],n[l-1]],f=lu.calcLength(s[s.length-4],s[s.length-3],"C",p),m=lu.getPointOnQuadraticBezier(Math.min(1,1-o/f),p[0],p[1],p[2],p[3],p[4],p[5]);c=n[l-2]-m.x,u=n[l-1]-m.y}else c=n[l-2]-n[l-4],u=n[l-1]-n[l-3];const d=(Math.atan2(u,c)+r)%r,h=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[l-2],n[l-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-o,h/2),e.lineTo(-o,-h/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),a?(c=(s[0]+s[2])/2-n[0],u=(s[1]+s[3])/2-n[1]):(c=n[2]-n[0],u=n[3]-n[1]),e.rotate((Math.atan2(-u,-c)+r)%r),e.moveTo(0,0),e.lineTo(-o,h/2),e.lineTo(-o,-h/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const r=this.dashEnabled();r&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),r&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),r=this.pointerWidth()/2;return{x:e.x,y:e.y-r,width:e.width,height:e.height+r*2}}}Qg.prototype.className="Arrow";li(Qg);Me.addGetterSetter(Qg,"pointerLength",10,Gt());Me.addGetterSetter(Qg,"pointerWidth",10,Gt());Me.addGetterSetter(Qg,"pointerAtBeginning",!1);Me.addGetterSetter(Qg,"pointerAtEnding",!0);let nv=class extends Dt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};nv.prototype._centroid=!0;nv.prototype.className="Circle";nv.prototype._attrsAffectingSize=["radius"];li(nv);Me.addGetterSetter(nv,"radius",0,Gt());let um=class extends Dt{_sceneFunc(e){const r=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),r!==n&&e.scale(1,n/r),e.arc(0,0,r,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}};um.prototype.className="Ellipse";um.prototype._centroid=!0;um.prototype._attrsAffectingSize=["radiusX","radiusY"];li(um);Me.addComponentsGetterSetter(um,"radius",["x","y"]);Me.addGetterSetter(um,"radiusX",0,Gt());Me.addGetterSetter(um,"radiusY",0,Gt());let Id=class CK extends Dt{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",r=>{this._removeImageLoad(r.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),r=this.hasShadow();return e&&r?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const r=this.getWidth(),n=this.getHeight(),s=this.cornerRadius(),a=this.attrs.image;let o;if(a){const l=this.attrs.cropWidth,c=this.attrs.cropHeight;l&&c?o=[a,this.cropX(),this.cropY(),l,c,0,0,r,n]:o=[a,0,0,r,n]}(this.hasFill()||this.hasStroke()||s)&&(e.beginPath(),s?Je.drawRoundedRectPath(e,r,n,s):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)),a&&(s&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){const r=this.width(),n=this.height(),s=this.cornerRadius();e.beginPath(),s?Je.drawRoundedRectPath(e,r,n,s):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,r,n;return(n=(e=this.attrs.width)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.width)!==null&&n!==void 0?n:0}getHeight(){var e,r,n;return(n=(e=this.attrs.height)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.height)!==null&&n!==void 0?n:0}static fromURL(e,r,n=null){const s=Je.createImageElement();s.onload=function(){const a=new CK({image:s});r(a)},s.onerror=n,s.crossOrigin="Anonymous",s.src=e}};Id.prototype.className="Image";Id.prototype._attrsAffectingSize=["image"];li(Id);Me.addGetterSetter(Id,"cornerRadius",0,X3(4));Me.addGetterSetter(Id,"image");Me.addComponentsGetterSetter(Id,"crop",["x","y","width","height"]);Me.addGetterSetter(Id,"cropX",0,Gt());Me.addGetterSetter(Id,"cropY",0,Gt());Me.addGetterSetter(Id,"cropWidth",0,Gt());Me.addGetterSetter(Id,"cropHeight",0,Gt());const _K=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],S1e="Change.konva",N1e="none",$6="up",z6="right",U6="down",W6="left",C1e=_K.length;let xM=class extends uy{constructor(e){super(e),this.on("add.konva",function(r){this._addListeners(r.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let r=this,n;const s=function(){r._sync()};for(n=0;n<C1e;n++)e.on(_K[n]+S1e,s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),r=this.getTag(),n,s,a,o,l,c,u;if(e&&r){switch(n=e.width(),s=e.height(),a=r.pointerDirection(),o=r.pointerWidth(),u=r.pointerHeight(),l=0,c=0,a){case $6:l=n/2,c=-1*u;break;case z6:l=n+o,c=s/2;break;case U6:l=n/2,c=s+u;break;case W6:l=-1*o,c=s/2;break}r.setAttrs({x:-1*l,y:-1*c,width:n,height:s}),e.setAttrs({x:-1*l,y:-1*c})}}};xM.prototype.className="Label";li(xM);class Jg extends Dt{_sceneFunc(e){const r=this.width(),n=this.height(),s=this.pointerDirection(),a=this.pointerWidth(),o=this.pointerHeight(),l=this.cornerRadius();let c=0,u=0,d=0,h=0;typeof l=="number"?c=u=d=h=Math.min(l,r/2,n/2):(c=Math.min(l[0]||0,r/2,n/2),u=Math.min(l[1]||0,r/2,n/2),h=Math.min(l[2]||0,r/2,n/2),d=Math.min(l[3]||0,r/2,n/2)),e.beginPath(),e.moveTo(c,0),s===$6&&(e.lineTo((r-a)/2,0),e.lineTo(r/2,-1*o),e.lineTo((r+a)/2,0)),e.lineTo(r-u,0),e.arc(r-u,u,u,Math.PI*3/2,0,!1),s===z6&&(e.lineTo(r,(n-o)/2),e.lineTo(r+a,n/2),e.lineTo(r,(n+o)/2)),e.lineTo(r,n-h),e.arc(r-h,n-h,h,0,Math.PI/2,!1),s===U6&&(e.lineTo((r+a)/2,n),e.lineTo(r/2,n+o),e.lineTo((r-a)/2,n)),e.lineTo(d,n),e.arc(d,n-d,d,Math.PI/2,Math.PI,!1),s===W6&&(e.lineTo(0,(n+o)/2),e.lineTo(-1*a,n/2),e.lineTo(0,(n-o)/2)),e.lineTo(0,c),e.arc(c,c,c,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,r=0,n=this.pointerWidth(),s=this.pointerHeight(),a=this.pointerDirection(),o=this.width(),l=this.height();return a===$6?(r-=s,l+=s):a===U6?l+=s:a===W6?(e-=n*1.5,o+=n):a===z6&&(o+=n*1.5),{x:e,y:r,width:o,height:l}}}Jg.prototype.className="Tag";li(Jg);Me.addGetterSetter(Jg,"pointerDirection",N1e);Me.addGetterSetter(Jg,"pointerWidth",0,Gt());Me.addGetterSetter(Jg,"pointerHeight",0,Gt());Me.addGetterSetter(Jg,"cornerRadius",0,X3(4));let kw=class extends Dt{_sceneFunc(e){const r=this.cornerRadius(),n=this.width(),s=this.height();e.beginPath(),r?Je.drawRoundedRectPath(e,n,s,r):e.rect(0,0,n,s),e.closePath(),e.fillStrokeShape(this)}};kw.prototype.className="Rect";li(kw);Me.addGetterSetter(kw,"cornerRadius",0,X3(4));class dm extends Dt{_sceneFunc(e){const r=this._getPoints(),n=this.radius(),s=this.sides(),a=this.cornerRadius();if(e.beginPath(),a)Je.drawRoundedPolygonPath(e,r,s,n,a);else{e.moveTo(r[0].x,r[0].y);for(let o=1;o<r.length;o++)e.lineTo(r[o].x,r[o].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,r=this.attrs.radius||0,n=[];for(let s=0;s<e;s++)n.push({x:r*Math.sin(s*2*Math.PI/e),y:-1*r*Math.cos(s*2*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();let r=e[0].x,n=e[0].x,s=e[0].y,a=e[0].y;return e.forEach(o=>{r=Math.min(r,o.x),n=Math.max(n,o.x),s=Math.min(s,o.y),a=Math.max(a,o.y)}),{x:r,y:s,width:n-r,height:a-s}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}dm.prototype.className="RegularPolygon";dm.prototype._centroid=!0;dm.prototype._attrsAffectingSize=["radius"];li(dm);Me.addGetterSetter(dm,"radius",0,Gt());Me.addGetterSetter(dm,"sides",0,Gt());Me.addGetterSetter(dm,"cornerRadius",0,X3(4));const l9=Math.PI*2;class ex extends Dt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,l9,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),l9,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}ex.prototype.className="Ring";ex.prototype._centroid=!0;ex.prototype._attrsAffectingSize=["innerRadius","outerRadius"];li(ex);Me.addGetterSetter(ex,"innerRadius",0,Gt());Me.addGetterSetter(ex,"outerRadius",0,Gt());let Ch=class extends Dt{constructor(e){super(e),this._updated=!0,this.anim=new ou(()=>{const r=this._updated;return this._updated=!1,r}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const r=this.animation(),n=this.frameIndex(),s=n*4,a=this.animations()[r],o=this.frameOffsets(),l=a[s+0],c=a[s+1],u=a[s+2],d=a[s+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,u,d),e.closePath(),e.fillStrokeShape(this)),h)if(o){const p=o[r],f=n*2;e.drawImage(h,l,c,u,d,p[f+0],p[f+1],u,d)}else e.drawImage(h,l,c,u,d,0,0,u,d)}_hitFunc(e){const r=this.animation(),n=this.frameIndex(),s=n*4,a=this.animations()[r],o=this.frameOffsets(),l=a[s+2],c=a[s+3];if(e.beginPath(),o){const u=o[r],d=n*2;e.rect(u[d+0],u[d+1],l,c)}else e.rect(0,0,l,c);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),r=this.animation(),n=this.animations(),s=n[r],a=s.length/4;e<a-1?this.frameIndex(e+1):this.frameIndex(0)}};Ch.prototype.className="Sprite";li(Ch);Me.addGetterSetter(Ch,"animation");Me.addGetterSetter(Ch,"animations");Me.addGetterSetter(Ch,"frameOffsets");Me.addGetterSetter(Ch,"image");Me.addGetterSetter(Ch,"frameIndex",0,Gt());Me.addGetterSetter(Ch,"frameRate",17,Gt());Me.backCompat(Ch,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class hm extends Dt{_sceneFunc(e){const r=this.innerRadius(),n=this.outerRadius(),s=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(let a=1;a<s*2;a++){const o=a%2===0?n:r,l=o*Math.sin(a*Math.PI/s),c=-1*o*Math.cos(a*Math.PI/s);e.lineTo(l,c)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}hm.prototype.className="Star";hm.prototype._centroid=!0;hm.prototype._attrsAffectingSize=["innerRadius","outerRadius"];li(hm);Me.addGetterSetter(hm,"numPoints",5,Gt());Me.addGetterSetter(hm,"innerRadius",0,Gt());Me.addGetterSetter(hm,"outerRadius",0,Gt());function op(t){return[...t].reduce((e,r,n,s)=>{if(new RegExp("\\p{Emoji}","u").test(r)){const a=s[n+1];a&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(a)?(e.push(r+a),s[n+1]=""):e.push(r)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(r+(s[n+1]||""))?e.push(r+s[n+1]):n>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(r)?e[e.length-1]+=r:r&&e.push(r);return e},[])}const Bx="auto",_1e="center",AK="inherit",o1="justify",A1e="Change.konva",k1e="2d",c9="-",kK="left",P1e="text",E1e="Text",T1e="top",I1e="bottom",u9="middle",PK="normal",M1e="px ",Jj=" ",O1e="right",d9="rtl",L1e="word",R1e="char",h9="none",xA="",EK=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],D1e=EK.length;function F1e(t){return t.split(",").map(e=>{e=e.trim();const r=e.indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return r&&!n&&(e=`"${e}"`),e}).join(", ")}let e5;function yA(){return e5||(e5=Je.createCanvasElement().getContext(k1e),e5)}function B1e(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function $1e(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function z1e(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let Ws=class extends Dt{constructor(e){super(z1e(e)),this._partialTextX=0,this._partialTextY=0;for(let r=0;r<D1e;r++)this.on(EK[r]+A1e,this._setTextData);this._setTextData()}_sceneFunc(e){var r,n;const s=this.textArr,a=s.length;if(!this.text())return;let o=this.padding(),l=this.fontSize(),c=this.lineHeight()*l,u=this.verticalAlign(),d=this.direction(),h=0,p=this.align(),f=this.getWidth(),m=this.letterSpacing(),g=this.charRenderFunc(),y=this.fill(),x=this.textDecoration(),w=x.indexOf("underline")!==-1,S=x.indexOf("line-through")!==-1,N;d=d===AK?e.direction:d;let C=c/2,A=u9;if(!Kt.legacyTextRendering){const k=this.measureSize("M");A="alphabetic";const E=(r=k.fontBoundingBoxAscent)!==null&&r!==void 0?r:k.actualBoundingBoxAscent,T=(n=k.fontBoundingBoxDescent)!==null&&n!==void 0?n:k.actualBoundingBoxDescent;C=(E-T)/2+c/2}for(d===d9&&e.setAttr("direction",d),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",A),e.setAttr("textAlign",kK),u===u9?h=(this.getHeight()-a*c-o*2)/2:u===I1e&&(h=this.getHeight()-a*c-o*2),e.translate(o,h+o),N=0;N<a;N++){let k=0,E=0;const T=s[N],R=T.text,I=T.width,L=T.lastInParagraph;if(e.save(),p===O1e?k+=f-I-o*2:p===_1e&&(k+=(f-I-o*2)/2),w){e.save(),e.beginPath();const $=Kt.legacyTextRendering?Math.round(l/2):Math.round(l/4),q=k,G=C+E+$;e.moveTo(q,G);const W=p===o1&&!L?f-o*2:I;e.lineTo(q+Math.round(W),G),e.lineWidth=l/15;const B=this._getLinearGradient();e.strokeStyle=B||y,e.stroke(),e.restore()}const U=k;if(d!==d9&&(m!==0||p===o1||g)){const $=R.split(" ").length-1,q=op(R);for(let G=0;G<q.length;G++){const W=q[G];if(W===" "&&!L&&p===o1&&(k+=(f-o*2-I)/$),this._partialTextX=k,this._partialTextY=C+E,this._partialText=W,g){e.save();const O=s.slice(0,N).reduce((Y,D)=>Y+op(D.text).length,0),K=G+O;g({char:W,index:K,x:k,y:C+E,lineIndex:N,column:G,isLastInLine:L,width:this.measureSize(W).width,context:e})}e.fillStrokeShape(this),g&&e.restore(),k+=this.measureSize(W).width+m}}else m!==0&&e.setAttr("letterSpacing",`${m}px`),this._partialTextX=k,this._partialTextY=C+E,this._partialText=R,e.fillStrokeShape(this);if(S){e.save(),e.beginPath();const $=Kt.legacyTextRendering?0:-Math.round(l/4),q=U;e.moveTo(q,C+E+$);const G=p===o1&&!L?f-o*2:I;e.lineTo(q+Math.round(G),C+E+$),e.lineWidth=l/15;const W=this._getLinearGradient();e.strokeStyle=W||y,e.stroke(),e.restore()}e.restore(),a>1&&(C+=c)}}_hitFunc(e){const r=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}setText(e){const r=Je._isString(e)?e:e==null?"":e+"";return this._setAttr(P1e,r),this}getWidth(){return this.attrs.width===Bx||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Bx||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Je.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var r,n,s,a,o,l,c,u,d,h,p;let f=yA(),m=this.fontSize(),g;f.save(),f.font=this._getContextFont(),g=f.measureText(e),f.restore();const y=m/100;return{actualBoundingBoxAscent:(r=g.actualBoundingBoxAscent)!==null&&r!==void 0?r:71.58203125*y,actualBoundingBoxDescent:(n=g.actualBoundingBoxDescent)!==null&&n!==void 0?n:0,actualBoundingBoxLeft:(s=g.actualBoundingBoxLeft)!==null&&s!==void 0?s:-7.421875*y,actualBoundingBoxRight:(a=g.actualBoundingBoxRight)!==null&&a!==void 0?a:75.732421875*y,alphabeticBaseline:(o=g.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(l=g.emHeightAscent)!==null&&l!==void 0?l:100*y,emHeightDescent:(c=g.emHeightDescent)!==null&&c!==void 0?c:-20*y,fontBoundingBoxAscent:(u=g.fontBoundingBoxAscent)!==null&&u!==void 0?u:91*y,fontBoundingBoxDescent:(d=g.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*y,hangingBaseline:(h=g.hangingBaseline)!==null&&h!==void 0?h:72.80000305175781*y,ideographicBaseline:(p=g.ideographicBaseline)!==null&&p!==void 0?p:-21*y,width:g.width,height:m}}_getContextFont(){return this.fontStyle()+Jj+this.fontVariant()+Jj+(this.fontSize()+M1e)+F1e(this.fontFamily())}_addTextLine(e){this.align()===o1&&(e=e.trim());const n=this._getTextWidth(e);return this.textArr.push({text:e,width:n,lastInParagraph:!1})}_getTextWidth(e){const r=this.letterSpacing(),n=e.length;return yA().measureText(e).width+r*n}_setTextData(){let e=this.text().split(`
`),r=+this.fontSize(),n=0,s=this.lineHeight()*r,a=this.attrs.width,o=this.attrs.height,l=a!==Bx&&a!==void 0,c=o!==Bx&&o!==void 0,u=this.padding(),d=a-u*2,h=o-u*2,p=0,f=this.wrap(),m=f!==h9,g=f!==R1e&&m,y=this.ellipsis();this.textArr=[],yA().font=this._getContextFont();const x=y?this._getTextWidth(xA):0;for(let w=0,S=e.length;w<S;++w){let N=e[w],C=this._getTextWidth(N);if(l&&C>d)for(;N.length>0;){let A=0,k=op(N).length,E="",T=0;for(;A<k;){const R=A+k>>>1,I=op(N),L=I.slice(0,R+1).join(""),U=this._getTextWidth(L);(y&&c&&p+s>h?U+x:U)<=d?(A=R+1,E=L,T=U):k=R}if(E){if(g){const L=op(N),U=op(E),$=L[U.length],q=$===Jj||$===c9;let G;if(q&&T<=d)G=U.length;else{const W=U.lastIndexOf(Jj),B=U.lastIndexOf(c9);G=Math.max(W,B)+1}G>0&&(A=G,E=L.slice(0,A).join(""),T=this._getTextWidth(E))}if(E=E.trimRight(),this._addTextLine(E),n=Math.max(n,T),p+=s,this._shouldHandleEllipsis(p)){this._tryToAddEllipsisToLastLine();break}if(N=op(N).slice(A).join("").trimLeft(),N.length>0&&(C=this._getTextWidth(N),C<=d)){this._addTextLine(N),p+=s,n=Math.max(n,C);break}}else break}else this._addTextLine(N),p+=s,n=Math.max(n,C),this._shouldHandleEllipsis(p)&&w<S-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),c&&p+s>h)break}this.textHeight=r,this.textWidth=n}_shouldHandleEllipsis(e){const r=+this.fontSize(),n=this.lineHeight()*r,s=this.attrs.height,a=s!==Bx&&s!==void 0,o=this.padding(),l=s-o*2;return!(this.wrap()!==h9)||a&&e+n>l}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,r=e!==Bx&&e!==void 0,n=this.padding(),s=e-n*2,a=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!a||(r&&(this._getTextWidth(o.text+xA)<s||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+xA))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,r=this.hasShadow();return e&&r?!0:super._useBufferCanvas()}};Ws.prototype._fillFunc=B1e;Ws.prototype._strokeFunc=$1e;Ws.prototype.className=E1e;Ws.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];li(Ws);Me.overWriteSetter(Ws,"width",pM());Me.overWriteSetter(Ws,"height",pM());Me.addGetterSetter(Ws,"direction",AK);Me.addGetterSetter(Ws,"fontFamily","Arial");Me.addGetterSetter(Ws,"fontSize",12,Gt());Me.addGetterSetter(Ws,"fontStyle",PK);Me.addGetterSetter(Ws,"fontVariant",PK);Me.addGetterSetter(Ws,"padding",0,Gt());Me.addGetterSetter(Ws,"align",kK);Me.addGetterSetter(Ws,"verticalAlign",T1e);Me.addGetterSetter(Ws,"lineHeight",1,Gt());Me.addGetterSetter(Ws,"wrap",L1e);Me.addGetterSetter(Ws,"ellipsis",!1,Td());Me.addGetterSetter(Ws,"letterSpacing",0,Gt());Me.addGetterSetter(Ws,"text","",Kg());Me.addGetterSetter(Ws,"textDecoration","");Me.addGetterSetter(Ws,"charRenderFunc",void 0);const U1e="",TK="normal";function IK(t){t.fillText(this.partialText,0,0)}function MK(t){t.strokeText(this.partialText,0,0)}let ga=class extends Dt{constructor(e){super(e),this.dummyCanvas=Je.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return lu.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const r=this.pathLength;return e>r?null:lu.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=lu.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const r=this.textDecoration(),n=this.fill(),s=this.fontSize(),a=this.glyphInfo,o=r.indexOf("underline")!==-1,l=r.indexOf("line-through")!==-1;o&&e.beginPath();for(let c=0;c<a.length;c++){e.save();const u=a[c].p0;e.translate(u.x,u.y),e.rotate(a[c].rotation),this.partialText=a[c].text,e.fillStrokeShape(this),o&&(c===0&&e.moveTo(0,s/2+1),e.lineTo(a[c].width,s/2+1)),e.restore()}if(o&&(e.strokeStyle=n,e.lineWidth=s/20,e.stroke()),l){e.beginPath();for(let c=0;c<a.length;c++){e.save();const u=a[c].p0;e.translate(u.x,u.y),e.rotate(a[c].rotation),c===0&&e.moveTo(0,0),e.lineTo(a[c].width,0),e.restore()}e.strokeStyle=n,e.lineWidth=s/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const r=this.glyphInfo;if(r.length>=1){const n=r[0].p0;e.moveTo(n.x,n.y)}for(let n=0;n<r.length;n++){const s=r[n].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Je.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Ws.prototype.setText.call(this,e)}_getContextFont(){return Ws.prototype._getContextFont.call(this)}_getTextSize(e){const n=this.dummyCanvas.getContext("2d");n.save(),n.font=this._getContextFont();const s=n.measureText(e);return n.restore(),{width:s.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=op(this.text()),r=[];let n=0;for(let h=0;h<e.length;h++)r.push({char:e[h],width:this._getTextSize(e[h]).width}),n+=r[h].width;const{height:s}=this._getTextSize(this.attrs.text);if(this.textWidth=n,this.textHeight=s,this.glyphInfo=[],!this.attrs.data)return null;const a=this.letterSpacing(),o=this.align(),l=this.kerningFunc(),c=Math.max(this.textWidth+((this.attrs.text||"").length-1)*a,0);let u=0;o==="center"&&(u=Math.max(0,this.pathLength/2-c/2)),o==="right"&&(u=Math.max(0,this.pathLength-c));let d=u;for(let h=0;h<r.length;h++){const p=this._getPointAtLength(d);if(!p)return;const f=r[h].char;let m=r[h].width+a;if(f===" "&&o==="justify"){const N=this.text().split(" ").length-1;m+=(this.pathLength-c)/N}const g=this._getPointAtLength(d+m);if(!g)return;const y=lu.getLineLength(p.x,p.y,g.x,g.y);let x=0;if(l)try{x=l(r[h-1].char,f)*this.fontSize()}catch{x=0}p.x+=x,g.x+=x,this.textWidth+=x;const w=lu.getPointOnLine(x+y/2,p.x,p.y,g.x,g.y),S=Math.atan2(g.y-p.y,g.x-p.x);this.glyphInfo.push({transposeX:w.x,transposeY:w.y,text:e[h],rotation:S,p0:p,p1:g,width:y}),d+=m}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(u){e.push(u.p0.x),e.push(u.p0.y),e.push(u.p1.x),e.push(u.p1.y)});let r=e[0]||0,n=e[0]||0,s=e[1]||0,a=e[1]||0,o,l;for(let u=0;u<e.length/2;u++)o=e[u*2],l=e[u*2+1],r=Math.min(r,o),n=Math.max(n,o),s=Math.min(s,l),a=Math.max(a,l);const c=this.fontSize();return{x:r-c/2,y:s-c/2,width:n-r+c,height:a-s+c}}destroy(){return Je.releaseCanvas(this.dummyCanvas),super.destroy()}};ga.prototype._fillFunc=IK;ga.prototype._strokeFunc=MK;ga.prototype._fillFuncHit=IK;ga.prototype._strokeFuncHit=MK;ga.prototype.className="TextPath";ga.prototype._attrsAffectingSize=["text","fontSize","data"];li(ga);Me.addGetterSetter(ga,"data");Me.addGetterSetter(ga,"fontFamily","Arial");Me.addGetterSetter(ga,"fontSize",12,Gt());Me.addGetterSetter(ga,"fontStyle",TK);Me.addGetterSetter(ga,"align","left");Me.addGetterSetter(ga,"letterSpacing",0,Gt());Me.addGetterSetter(ga,"textBaseline","middle");Me.addGetterSetter(ga,"fontVariant",TK);Me.addGetterSetter(ga,"text",U1e);Me.addGetterSetter(ga,"textDecoration","");Me.addGetterSetter(ga,"kerningFunc",void 0);const OK="tr-konva",W1e=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${OK}`).join(" "),f9="nodesRect",G1e=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],H1e={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},V1e="ontouchstart"in Kt._global;function q1e(t,e,r){if(t==="rotater")return r;e+=Je.degToRad(H1e[t]||0);const n=(Je.radToDeg(e)%360+360)%360;return Je._inRange(n,315+22.5,360)||Je._inRange(n,0,22.5)?"ns-resize":Je._inRange(n,45-22.5,45+22.5)?"nesw-resize":Je._inRange(n,90-22.5,90+22.5)?"ew-resize":Je._inRange(n,135-22.5,135+22.5)?"nwse-resize":Je._inRange(n,180-22.5,180+22.5)?"ns-resize":Je._inRange(n,225-22.5,225+22.5)?"nesw-resize":Je._inRange(n,270-22.5,270+22.5)?"ew-resize":Je._inRange(n,315-22.5,315+22.5)?"nwse-resize":(Je.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}const wN=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function Y1e(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function LK(t,e,r){const n=r.x+(t.x-r.x)*Math.cos(e)-(t.y-r.y)*Math.sin(e),s=r.y+(t.x-r.x)*Math.sin(e)+(t.y-r.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:n,y:s}}function X1e(t,e){const r=Y1e(t);return LK(t,e,r)}function K1e(t,e,r){let n=e;for(let s=0;s<t.length;s++){const a=Kt.getAngle(t[s]),o=Math.abs(a-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<r&&(n=a)}return n}let G6=0,Pn=class extends uy{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(W1e,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Je.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return OK+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const r=e.filter(s=>s.isAncestorOf(this)?(Je.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=r,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(s=>{const a=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(s._attrsAffectingSize.length){const o=s._attrsAffectingSize.map(l=>l+"Change."+this._getEventNamespace()).join(" ");s.on(o,a)}s.on(G1e.map(o=>o+`.${this._getEventNamespace()}`).join(" "),a),s.on(`absoluteTransformChange.${this._getEventNamespace()}`,a),this._proxyDrag(s)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let r;e.on(`dragstart.${this._getEventNamespace()}`,n=>{r=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(n,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,n=>{if(!r)return;const s=e.getAbsolutePosition(),a=s.x-r.x,o=s.y-r.y;this.nodes().forEach(l=>{if(l===e||l.isDragging())return;const c=l.getAbsolutePosition();l.setAbsolutePosition({x:c.x+a,y:c.y+o}),l.startDrag(n)}),r=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(f9),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(f9,this.__getNodeRect)}__getNodeShape(e,r=this.rotation(),n){const s=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=e.getAbsoluteScale(n),o=e.getAbsolutePosition(n),l=s.x*a.x-e.offsetX()*a.x,c=s.y*a.y-e.offsetY()*a.y,u=(Kt.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:o.x+l*Math.cos(u)+c*Math.sin(-u),y:o.y+c*Math.cos(u)+l*Math.sin(u),width:s.width*a.x,height:s.height*a.y,rotation:u};return LK(d,-Kt.getAngle(r),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const r=[];this.nodes().map(u=>{const d=u.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],p=u.getAbsoluteTransform();h.forEach(function(f){const m=p.point(f);r.push(m)})});const n=new uc;n.rotate(-Kt.getAngle(this.rotation()));let s=1/0,a=1/0,o=-1/0,l=-1/0;r.forEach(function(u){const d=n.point(u);s===void 0&&(s=o=d.x,a=l=d.y),s=Math.min(s,d.x),a=Math.min(a,d.y),o=Math.max(o,d.x),l=Math.max(l,d.y)}),n.invert();const c=n.point({x:s,y:a});return{x:c.x,y:c.y,width:o-s,height:l-a,rotation:Kt.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),wN.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const r=new kw({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:V1e?10:"auto"}),n=this;r.on("mousedown touchstart",function(s){n._handleMouseDown(s)}),r.on("dragstart",s=>{r.stopDrag(),s.cancelBubble=!0}),r.on("dragend",s=>{s.cancelBubble=!0}),r.on("mouseenter",()=>{const s=Kt.getAngle(this.rotation()),a=this.rotateAnchorCursor(),o=q1e(e,s,a);r.getStage().content&&(r.getStage().content.style.cursor=o),this._cursorChange=!0}),r.on("mouseout",()=>{r.getStage().content&&(r.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(r)}_createBack(){const e=new Dt({name:"back",width:0,height:0,sceneFunc(r,n){const s=n.getParent(),a=s.padding();r.beginPath(),r.rect(-a,-a,n.width()+a*2,n.height()+a*2),r.moveTo(n.width()/2,-a),s.rotateEnabled()&&s.rotateLineVisible()&&r.lineTo(n.width()/2,-s.rotateAnchorOffset()*Je._sign(n.height())-a),r.fillStrokeShape(n)},hitFunc:(r,n)=>{if(!this.shouldOverdrawWholeArea())return;const s=this.padding();r.beginPath(),r.rect(-s,-s,n.width()+s*2,n.height()+s*2),r.fillStrokeShape(n)}});this.add(e),this._proxyDrag(e),e.on("dragstart",r=>{r.cancelBubble=!0}),e.on("dragmove",r=>{r.cancelBubble=!0}),e.on("dragend",r=>{r.cancelBubble=!0}),this.on("dragmove",r=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const r=this._getNodeRect(),n=r.width,s=r.height,a=Math.sqrt(Math.pow(n,2)+Math.pow(s,2));this.sin=Math.abs(s/a),this.cos=Math.abs(n/a),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),l=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:l.x-o.x,y:l.y-o.y},G6++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(c=>{c._fire("transformstart",{evt:e.evt,target:c})})}_handleMouseMove(e){let r,n,s;const a=this.findOne("."+this._movingAnchorName),o=a.getStage();o.setPointersPositions(e);const l=o.getPointerPosition();let c={x:l.x-this._anchorDragOffset.x,y:l.y-this._anchorDragOffset.y};const u=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(c=this.anchorDragBoundFunc()(u,c,e)),a.setAbsolutePosition(c);const d=a.getAbsolutePosition();if(u.x===d.x&&u.y===d.y)return;if(this._movingAnchorName==="rotater"){const w=this._getNodeRect();r=a.x()-w.width/2,n=-a.y()+w.height/2;let S=Math.atan2(-n,r)+Math.PI/2;w.height<0&&(S-=Math.PI);const C=Kt.getAngle(this.rotation())+S,A=Kt.getAngle(this.rotationSnapTolerance()),E=K1e(this.rotationSnaps(),C,A)-w.rotation,T=X1e(w,E);this._fitNodesInto(T,e);return}const h=this.shiftBehavior();let p;h==="inverted"?p=this.keepRatio()&&!e.shiftKey:h==="none"?p=this.keepRatio():p=this.keepRatio()||e.shiftKey;let f=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(p){const w=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};s=Math.sqrt(Math.pow(w.x-a.x(),2)+Math.pow(w.y-a.y(),2));const S=this.findOne(".top-left").x()>w.x?-1:1,N=this.findOne(".top-left").y()>w.y?-1:1;r=s*this.cos*S,n=s*this.sin*N,this.findOne(".top-left").x(w.x-r),this.findOne(".top-left").y(w.y-n)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(a.y());else if(this._movingAnchorName==="top-right"){if(p){const w=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};s=Math.sqrt(Math.pow(a.x()-w.x,2)+Math.pow(w.y-a.y(),2));const S=this.findOne(".top-right").x()<w.x?-1:1,N=this.findOne(".top-right").y()>w.y?-1:1;r=s*this.cos*S,n=s*this.sin*N,this.findOne(".top-right").x(w.x+r),this.findOne(".top-right").y(w.y-n)}var m=a.position();this.findOne(".top-left").y(m.y),this.findOne(".bottom-right").x(m.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(a.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(a.x());else if(this._movingAnchorName==="bottom-left"){if(p){const w=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};s=Math.sqrt(Math.pow(w.x-a.x(),2)+Math.pow(a.y()-w.y,2));const S=w.x<a.x()?-1:1,N=a.y()<w.y?-1:1;r=s*this.cos*S,n=s*this.sin*N,a.x(w.x-r),a.y(w.y+n)}m=a.position(),this.findOne(".top-left").x(m.x),this.findOne(".bottom-right").y(m.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(a.y());else if(this._movingAnchorName==="bottom-right"){if(p){const w=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};s=Math.sqrt(Math.pow(a.x()-w.x,2)+Math.pow(a.y()-w.y,2));const S=this.findOne(".bottom-right").x()<w.x?-1:1,N=this.findOne(".bottom-right").y()<w.y?-1:1;r=s*this.cos*S,n=s*this.sin*N,this.findOne(".bottom-right").x(w.x+r),this.findOne(".bottom-right").y(w.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(f=this.centeredScaling()||e.altKey,f){const w=this.findOne(".top-left"),S=this.findOne(".bottom-right"),N=w.x(),C=w.y(),A=this.getWidth()-S.x(),k=this.getHeight()-S.y();S.move({x:-N,y:-C}),w.move({x:A,y:k})}const g=this.findOne(".top-left").getAbsolutePosition();r=g.x,n=g.y;const y=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),x=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:r,y:n,width:y,height:x,rotation:Kt.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var r;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const n=this.getNode();G6--,this._fire("transformend",{evt:e,target:n}),(r=this.getLayer())===null||r===void 0||r.batchDraw(),n&&this._nodes.forEach(s=>{var a;s._fire("transformend",{evt:e,target:s}),(a=s.getLayer())===null||a===void 0||a.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,r){const n=this._getNodeRect(),s=1;if(Je._inRange(e.width,-this.padding()*2-s,s)){this.update();return}if(Je._inRange(e.height,-this.padding()*2-s,s)){this.update();return}const a=new uc;if(a.rotate(Kt.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const p=a.point({x:-this.padding()*2,y:0});e.x+=p.x,e.y+=p.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const p=a.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const p=a.point({x:0,y:-this.padding()*2});e.x+=p.x,e.y+=p.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const p=a.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const p=this.boundBoxFunc()(n,e);p?e=p:Je.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,l=new uc;l.translate(n.x,n.y),l.rotate(n.rotation),l.scale(n.width/o,n.height/o);const c=new uc,u=e.width/o,d=e.height/o;this.flipEnabled()===!1?(c.translate(e.x,e.y),c.rotate(e.rotation),c.translate(e.width<0?e.width:0,e.height<0?e.height:0),c.scale(Math.abs(u),Math.abs(d))):(c.translate(e.x,e.y),c.rotate(e.rotation),c.scale(u,d));const h=c.multiply(l.invert());this._nodes.forEach(p=>{var f;if(!p.getStage())return;const m=p.getParent().getAbsoluteTransform(),g=p.getTransform().copy();g.translate(p.offsetX(),p.offsetY());const y=new uc;y.multiply(m.copy().invert()).multiply(h).multiply(m).multiply(g);const x=y.decompose();p.setAttrs(x),(f=p.getLayer())===null||f===void 0||f.batchDraw()}),this.rotation(Je._getRotation(e.rotation)),this._nodes.forEach(p=>{this._fire("transform",{evt:r,target:p}),p._fire("transform",{evt:r,target:p})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,r){this.findOne(e).setAttrs(r)}update(){var e;const r=this._getNodeRect();this.rotation(Je._getRotation(r.rotation));const n=r.width,s=r.height,a=this.enabledAnchors(),o=this.resizeEnabled(),l=this.padding(),c=this.anchorSize(),u=this.find("._anchor");u.forEach(h=>{h.setAttrs({width:c,height:c,offsetX:c/2,offsetY:c/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:c/2+l,offsetY:c/2+l,visible:o&&a.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:c/2+l,visible:o&&a.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:c/2-l,offsetY:c/2+l,visible:o&&a.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:s/2,offsetX:c/2+l,visible:o&&a.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:s/2,offsetX:c/2-l,visible:o&&a.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:s,offsetX:c/2+l,offsetY:c/2-l,visible:o&&a.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:s,offsetY:c/2-l,visible:o&&a.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:s,offsetX:c/2-l,offsetY:c/2-l,visible:o&&a.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*Je._sign(s)-l,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:s,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(h=>h.draggable()),x:0,y:0});const d=this.anchorStyleFunc();d&&u.forEach(h=>{d(h)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),uy.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Yt.prototype.toObject.call(this)}clone(e){return Yt.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Pn.isTransforming=()=>G6>0;function Z1e(t){return t instanceof Array||Je.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){wN.indexOf(e)===-1&&Je.warn("Unknown anchor name: "+e+". Available names are: "+wN.join(", "))}),t||[]}Pn.prototype.className="Transformer";li(Pn);Me.addGetterSetter(Pn,"enabledAnchors",wN,Z1e);Me.addGetterSetter(Pn,"flipEnabled",!0,Td());Me.addGetterSetter(Pn,"resizeEnabled",!0);Me.addGetterSetter(Pn,"anchorSize",10,Gt());Me.addGetterSetter(Pn,"rotateEnabled",!0);Me.addGetterSetter(Pn,"rotateLineVisible",!0);Me.addGetterSetter(Pn,"rotationSnaps",[]);Me.addGetterSetter(Pn,"rotateAnchorOffset",50,Gt());Me.addGetterSetter(Pn,"rotateAnchorCursor","crosshair");Me.addGetterSetter(Pn,"rotationSnapTolerance",5,Gt());Me.addGetterSetter(Pn,"borderEnabled",!0);Me.addGetterSetter(Pn,"anchorStroke","rgb(0, 161, 255)");Me.addGetterSetter(Pn,"anchorStrokeWidth",1,Gt());Me.addGetterSetter(Pn,"anchorFill","white");Me.addGetterSetter(Pn,"anchorCornerRadius",0,Gt());Me.addGetterSetter(Pn,"borderStroke","rgb(0, 161, 255)");Me.addGetterSetter(Pn,"borderStrokeWidth",1,Gt());Me.addGetterSetter(Pn,"borderDash");Me.addGetterSetter(Pn,"keepRatio",!0);Me.addGetterSetter(Pn,"shiftBehavior","default");Me.addGetterSetter(Pn,"centeredScaling",!1);Me.addGetterSetter(Pn,"ignoreStroke",!1);Me.addGetterSetter(Pn,"padding",0,Gt());Me.addGetterSetter(Pn,"nodes");Me.addGetterSetter(Pn,"node");Me.addGetterSetter(Pn,"boundBoxFunc");Me.addGetterSetter(Pn,"anchorDragBoundFunc");Me.addGetterSetter(Pn,"anchorStyleFunc");Me.addGetterSetter(Pn,"shouldOverdrawWholeArea",!1);Me.addGetterSetter(Pn,"useSingleNodeRotation",!0);Me.backCompat(Pn,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Mf extends Dt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Kt.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Mf.prototype.className="Wedge";Mf.prototype._centroid=!0;Mf.prototype._attrsAffectingSize=["radius"];li(Mf);Me.addGetterSetter(Mf,"radius",0,Gt());Me.addGetterSetter(Mf,"angle",0,Gt());Me.addGetterSetter(Mf,"clockwise",!1);Me.backCompat(Mf,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function p9(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const Q1e=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],J1e=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function ebe(t,e){const r=t.data,n=t.width,s=t.height;let a,o,l,c,u,d,h,p,f,m,g,y,x,w,S,N,C,A,k,E;const T=e+e+1,R=n-1,I=s-1,L=e+1,U=L*(L+1)/2,$=new p9,q=Q1e[e],G=J1e[e];let W=null,B=$,O=null,K=null;for(let Y=1;Y<T;Y++)B=B.next=new p9,Y===L&&(W=B);B.next=$,l=o=0;for(let Y=0;Y<s;Y++){y=x=w=S=c=u=d=h=0,p=L*(N=r[o]),f=L*(C=r[o+1]),m=L*(A=r[o+2]),g=L*(k=r[o+3]),c+=U*N,u+=U*C,d+=U*A,h+=U*k,B=$;for(let D=0;D<L;D++)B.r=N,B.g=C,B.b=A,B.a=k,B=B.next;for(let D=1;D<L;D++)a=o+((R<D?R:D)<<2),c+=(B.r=N=r[a])*(E=L-D),u+=(B.g=C=r[a+1])*E,d+=(B.b=A=r[a+2])*E,h+=(B.a=k=r[a+3])*E,y+=N,x+=C,w+=A,S+=k,B=B.next;O=$,K=W;for(let D=0;D<n;D++)r[o+3]=k=h*q>>G,k!==0?(k=255/k,r[o]=(c*q>>G)*k,r[o+1]=(u*q>>G)*k,r[o+2]=(d*q>>G)*k):r[o]=r[o+1]=r[o+2]=0,c-=p,u-=f,d-=m,h-=g,p-=O.r,f-=O.g,m-=O.b,g-=O.a,a=l+((a=D+e+1)<R?a:R)<<2,y+=O.r=r[a],x+=O.g=r[a+1],w+=O.b=r[a+2],S+=O.a=r[a+3],c+=y,u+=x,d+=w,h+=S,O=O.next,p+=N=K.r,f+=C=K.g,m+=A=K.b,g+=k=K.a,y-=N,x-=C,w-=A,S-=k,K=K.next,o+=4;l+=n}for(let Y=0;Y<n;Y++){x=w=S=y=u=d=h=c=0,o=Y<<2,p=L*(N=r[o]),f=L*(C=r[o+1]),m=L*(A=r[o+2]),g=L*(k=r[o+3]),c+=U*N,u+=U*C,d+=U*A,h+=U*k,B=$;for(let Z=0;Z<L;Z++)B.r=N,B.g=C,B.b=A,B.a=k,B=B.next;let D=n;for(let Z=1;Z<=e;Z++)o=D+Y<<2,c+=(B.r=N=r[o])*(E=L-Z),u+=(B.g=C=r[o+1])*E,d+=(B.b=A=r[o+2])*E,h+=(B.a=k=r[o+3])*E,y+=N,x+=C,w+=A,S+=k,B=B.next,Z<I&&(D+=n);o=Y,O=$,K=W;for(let Z=0;Z<s;Z++)a=o<<2,r[a+3]=k=h*q>>G,k>0?(k=255/k,r[a]=(c*q>>G)*k,r[a+1]=(u*q>>G)*k,r[a+2]=(d*q>>G)*k):r[a]=r[a+1]=r[a+2]=0,c-=p,u-=f,d-=m,h-=g,p-=O.r,f-=O.g,m-=O.b,g-=O.a,a=Y+((a=Z+L)<I?a:I)*n<<2,c+=y+=O.r=r[a],u+=x+=O.g=r[a+1],d+=w+=O.b=r[a+2],h+=S+=O.a=r[a+3],O=O.next,p+=N=K.r,f+=C=K.g,m+=A=K.b,g+=k=K.a,y-=N,x-=C,w-=A,S-=k,K=K.next,o+=n}}const tbe=function(e){const r=Math.round(this.blurRadius());r>0&&ebe(e,r)};Me.addGetterSetter(Yt,"blurRadius",0,Gt(),Me.afterSetFilter);const rbe=function(t){const e=this.brightness()*255,r=t.data,n=r.length;for(let s=0;s<n;s+=4)r[s]+=e,r[s+1]+=e,r[s+2]+=e};Me.addGetterSetter(Yt,"brightness",0,Gt(),Me.afterSetFilter);const nbe=function(t){const e=this.brightness(),r=t.data,n=r.length;for(let s=0;s<n;s+=4)r[s]=Math.min(255,r[s]*e),r[s+1]=Math.min(255,r[s+1]*e),r[s+2]=Math.min(255,r[s+2]*e)},sbe=function(t){const e=Math.pow((this.contrast()+100)/100,2),r=t.data,n=r.length;let s=150,a=150,o=150;for(let l=0;l<n;l+=4)s=r[l],a=r[l+1],o=r[l+2],s/=255,s-=.5,s*=e,s+=.5,s*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,o=o<0?0:o>255?255:o,r[l]=s,r[l+1]=a,r[l+2]=o};Me.addGetterSetter(Yt,"contrast",0,Gt(),Me.afterSetFilter);const ibe=function(t){var e,r,n,s,a,o,l,c,u;const d=t.data,h=t.width,p=t.height,f=Math.min(1,Math.max(0,(r=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&r!==void 0?r:.5)),m=Math.min(1,Math.max(0,(s=(n=this.embossWhiteLevel)===null||n===void 0?void 0:n.call(this))!==null&&s!==void 0?s:.5)),y=(l={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(o=(a=this.embossDirection)===null||a===void 0?void 0:a.call(this))!==null&&o!==void 0?o:"top-left"])!==null&&l!==void 0?l:315,x=!!((u=(c=this.embossBlend)===null||c===void 0?void 0:c.call(this))!==null&&u!==void 0&&u),w=f*10,S=m*255,N=y*Math.PI/180,C=Math.cos(N),A=Math.sin(N),k=128/1020*w,E=new Uint8ClampedArray(d),T=new Float32Array(h*p);for(let $=0,q=0;q<d.length;q+=4,$++)T[$]=.2126*E[q]+.7152*E[q+1]+.0722*E[q+2];const R=[-1,0,1,-2,0,2,-1,0,1],I=[-1,-2,-1,0,0,0,1,2,1],L=[-h-1,-h,-h+1,-1,0,1,h-1,h,h+1],U=$=>$<0?0:$>255?255:$;for(let $=1;$<p-1;$++)for(let q=1;q<h-1;q++){const G=$*h+q;let W=0,B=0;W+=T[G+L[0]]*R[0],B+=T[G+L[0]]*I[0],W+=T[G+L[1]]*R[1],B+=T[G+L[1]]*I[1],W+=T[G+L[2]]*R[2],B+=T[G+L[2]]*I[2],W+=T[G+L[3]]*R[3],B+=T[G+L[3]]*I[3],W+=T[G+L[5]]*R[5],B+=T[G+L[5]]*I[5],W+=T[G+L[6]]*R[6],B+=T[G+L[6]]*I[6],W+=T[G+L[7]]*R[7],B+=T[G+L[7]]*I[7],W+=T[G+L[8]]*R[8],B+=T[G+L[8]]*I[8];const O=C*W+A*B,K=U(S+O*k),Y=G*4;if(x){const D=K-S;d[Y]=U(E[Y]+D),d[Y+1]=U(E[Y+1]+D),d[Y+2]=U(E[Y+2]+D),d[Y+3]=E[Y+3]}else d[Y]=d[Y+1]=d[Y+2]=K,d[Y+3]=E[Y+3]}for(let $=0;$<h;$++){let q=$*4,G=((p-1)*h+$)*4;d[q]=E[q],d[q+1]=E[q+1],d[q+2]=E[q+2],d[q+3]=E[q+3],d[G]=E[G],d[G+1]=E[G+1],d[G+2]=E[G+2],d[G+3]=E[G+3]}for(let $=1;$<p-1;$++){let q=$*h*4,G=($*h+(h-1))*4;d[q]=E[q],d[q+1]=E[q+1],d[q+2]=E[q+2],d[q+3]=E[q+3],d[G]=E[G],d[G+1]=E[G+1],d[G+2]=E[G+2],d[G+3]=E[G+3]}return t};Me.addGetterSetter(Yt,"embossStrength",.5,Gt(),Me.afterSetFilter);Me.addGetterSetter(Yt,"embossWhiteLevel",.5,Gt(),Me.afterSetFilter);Me.addGetterSetter(Yt,"embossDirection","top-left",void 0,Me.afterSetFilter);Me.addGetterSetter(Yt,"embossBlend",!1,void 0,Me.afterSetFilter);function vA(t,e,r,n,s){const a=r-e,o=s-n;if(a===0)return n+o/2;if(o===0)return n;let l=(t-e)/a;return l=o*l+n,l}const abe=function(t){const e=t.data,r=e.length;let n=e[0],s=n,a,o=e[1],l=o,c,u=e[2],d=u,h;const p=this.enhance();if(p===0)return;for(let S=0;S<r;S+=4)a=e[S+0],a<n?n=a:a>s&&(s=a),c=e[S+1],c<o?o=c:c>l&&(l=c),h=e[S+2],h<u?u=h:h>d&&(d=h);s===n&&(s=255,n=0),l===o&&(l=255,o=0),d===u&&(d=255,u=0);let f,m,g,y,x,w;if(p>0)f=s+p*(255-s),m=n-p*(n-0),g=l+p*(255-l),y=o-p*(o-0),x=d+p*(255-d),w=u-p*(u-0);else{const S=(s+n)*.5;f=s+p*(s-S),m=n+p*(n-S);const N=(l+o)*.5;g=l+p*(l-N),y=o+p*(o-N);const C=(d+u)*.5;x=d+p*(d-C),w=u+p*(u-C)}for(let S=0;S<r;S+=4)e[S+0]=vA(e[S+0],n,s,m,f),e[S+1]=vA(e[S+1],o,l,y,g),e[S+2]=vA(e[S+2],u,d,w,x)};Me.addGetterSetter(Yt,"enhance",0,Gt(),Me.afterSetFilter);const obe=function(t){const e=t.data,r=e.length;for(let n=0;n<r;n+=4){const s=.34*e[n]+.5*e[n+1]+.16*e[n+2];e[n]=s,e[n+1]=s,e[n+2]=s}};Me.addGetterSetter(Yt,"hue",0,Gt(),Me.afterSetFilter);Me.addGetterSetter(Yt,"saturation",0,Gt(),Me.afterSetFilter);Me.addGetterSetter(Yt,"luminance",0,Gt(),Me.afterSetFilter);const lbe=function(t){const e=t.data,r=e.length,n=1,s=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,o=this.luminance()*127,l=n*s*Math.cos(a*Math.PI/180),c=n*s*Math.sin(a*Math.PI/180),u=.299*n+.701*l+.167*c,d=.587*n-.587*l+.33*c,h=.114*n-.114*l-.497*c,p=.299*n-.299*l-.328*c,f=.587*n+.413*l+.035*c,m=.114*n-.114*l+.293*c,g=.299*n-.3*l+1.25*c,y=.587*n-.586*l-1.05*c,x=.114*n+.886*l-.2*c;let w,S,N,C;for(let A=0;A<r;A+=4)w=e[A+0],S=e[A+1],N=e[A+2],C=e[A+3],e[A+0]=u*w+d*S+h*N+o,e[A+1]=p*w+f*S+m*N+o,e[A+2]=g*w+y*S+x*N+o,e[A+3]=C},cbe=function(t){const e=t.data,r=e.length,n=Math.pow(2,this.value()),s=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,o=n*s*Math.cos(a*Math.PI/180),l=n*s*Math.sin(a*Math.PI/180),c=.299*n+.701*o+.167*l,u=.587*n-.587*o+.33*l,d=.114*n-.114*o-.497*l,h=.299*n-.299*o-.328*l,p=.587*n+.413*o+.035*l,f=.114*n-.114*o+.293*l,m=.299*n-.3*o+1.25*l,g=.587*n-.586*o-1.05*l,y=.114*n+.886*o-.2*l;for(let x=0;x<r;x+=4){const w=e[x+0],S=e[x+1],N=e[x+2],C=e[x+3];e[x+0]=c*w+u*S+d*N,e[x+1]=h*w+p*S+f*N,e[x+2]=m*w+g*S+y*N,e[x+3]=C}};Me.addGetterSetter(Yt,"hue",0,Gt(),Me.afterSetFilter);Me.addGetterSetter(Yt,"saturation",0,Gt(),Me.afterSetFilter);Me.addGetterSetter(Yt,"value",0,Gt(),Me.afterSetFilter);const ube=function(t){const e=t.data,r=e.length;for(let n=0;n<r;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2]},dbe=function(t,e,r){const n=t.data,s=e.data,a=t.width,o=t.height,l=r.polarCenterX||a/2,c=r.polarCenterY||o/2;let u=Math.sqrt(l*l+c*c),d=a-l,h=o-c;const p=Math.sqrt(d*d+h*h);u=p>u?p:u;const f=o,m=a,g=360/m*Math.PI/180;for(let y=0;y<m;y+=1){const x=Math.sin(y*g),w=Math.cos(y*g);for(let S=0;S<f;S+=1){d=Math.floor(l+u*S/f*w),h=Math.floor(c+u*S/f*x);let N=(h*a+d)*4;const C=n[N+0],A=n[N+1],k=n[N+2],E=n[N+3];N=(y+S*a)*4,s[N+0]=C,s[N+1]=A,s[N+2]=k,s[N+3]=E}}},hbe=function(t,e,r){const n=t.data,s=e.data,a=t.width,o=t.height,l=r.polarCenterX||a/2,c=r.polarCenterY||o/2;let u=Math.sqrt(l*l+c*c),d=a-l,h=o-c;const p=Math.sqrt(d*d+h*h);u=p>u?p:u;const f=o,m=a,g=0;let y,x;for(d=0;d<a;d+=1)for(h=0;h<o;h+=1){const w=d-l,S=h-c,N=Math.sqrt(w*w+S*S)*f/u;let C=(Math.atan2(S,w)*180/Math.PI+360+g)%360;C=C*m/360,y=Math.floor(C),x=Math.floor(N);let A=(x*a+y)*4;const k=n[A+0],E=n[A+1],T=n[A+2],R=n[A+3];A=(h*a+d)*4,s[A+0]=k,s[A+1]=E,s[A+2]=T,s[A+3]=R}},fbe=function(t){const e=t.width,r=t.height;let n,s,a,o,l,c,u,d,h,p,f=Math.round(this.kaleidoscopePower());const m=Math.round(this.kaleidoscopeAngle()),g=Math.floor(e*(m%360)/360);if(f<1)return;const y=Je.createCanvasElement();y.width=e,y.height=r;const x=y.getContext("2d").getImageData(0,0,e,r);Je.releaseCanvas(y),dbe(t,x,{polarCenterX:e/2,polarCenterY:r/2});let w=e/Math.pow(2,f);for(;w<=8;)w=w*2,f-=1;w=Math.ceil(w);let S=w,N=0,C=S,A=1;for(g+w>e&&(N=S,C=0,A=-1),s=0;s<r;s+=1)for(n=N;n!==C;n+=A)a=Math.round(n+g)%e,h=(e*s+a)*4,l=x.data[h+0],c=x.data[h+1],u=x.data[h+2],d=x.data[h+3],p=(e*s+n)*4,x.data[p+0]=l,x.data[p+1]=c,x.data[p+2]=u,x.data[p+3]=d;for(s=0;s<r;s+=1)for(S=Math.floor(w),o=0;o<f;o+=1){for(n=0;n<S+1;n+=1)h=(e*s+n)*4,l=x.data[h+0],c=x.data[h+1],u=x.data[h+2],d=x.data[h+3],p=(e*s+S*2-n-1)*4,x.data[p+0]=l,x.data[p+1]=c,x.data[p+2]=u,x.data[p+3]=d;S*=2}hbe(x,t,{})};Me.addGetterSetter(Yt,"kaleidoscopePower",2,Gt(),Me.afterSetFilter);Me.addGetterSetter(Yt,"kaleidoscopeAngle",0,Gt(),Me.afterSetFilter);function t5(t,e,r){let n=(r*t.width+e)*4;const s=[];return s.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),s}function l1(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function pbe(t){const e=[0,0,0];for(let r=0;r<t.length;r++)e[0]+=t[r][0],e[1]+=t[r][1],e[2]+=t[r][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function mbe(t,e){const r=t5(t,0,0),n=t5(t,t.width-1,0),s=t5(t,0,t.height-1),a=t5(t,t.width-1,t.height-1),o=e||10;if(l1(r,n)<o&&l1(n,a)<o&&l1(a,s)<o&&l1(s,r)<o){const l=pbe([n,r,a,s]),c=[];for(let u=0;u<t.width*t.height;u++){const d=l1(l,[t.data[u*4],t.data[u*4+1],t.data[u*4+2]]);c[u]=d<o?0:255}return c}}function gbe(t,e){for(let r=0;r<t.width*t.height;r++)t.data[4*r+3]=e[r]}function xbe(t,e,r){const n=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(n.length)),a=Math.floor(s/2),o=[];for(let l=0;l<r;l++)for(let c=0;c<e;c++){const u=l*e+c;let d=0;for(let h=0;h<s;h++)for(let p=0;p<s;p++){const f=l+h-a,m=c+p-a;if(f>=0&&f<r&&m>=0&&m<e){const g=f*e+m,y=n[h*s+p];d+=t[g]*y}}o[u]=d===255*8?255:0}return o}function ybe(t,e,r){const n=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(n.length)),a=Math.floor(s/2),o=[];for(let l=0;l<r;l++)for(let c=0;c<e;c++){const u=l*e+c;let d=0;for(let h=0;h<s;h++)for(let p=0;p<s;p++){const f=l+h-a,m=c+p-a;if(f>=0&&f<r&&m>=0&&m<e){const g=f*e+m,y=n[h*s+p];d+=t[g]*y}}o[u]=d>=255*4?255:0}return o}function vbe(t,e,r){const n=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],s=Math.round(Math.sqrt(n.length)),a=Math.floor(s/2),o=[];for(let l=0;l<r;l++)for(let c=0;c<e;c++){const u=l*e+c;let d=0;for(let h=0;h<s;h++)for(let p=0;p<s;p++){const f=l+h-a,m=c+p-a;if(f>=0&&f<r&&m>=0&&m<e){const g=f*e+m,y=n[h*s+p];d+=t[g]*y}}o[u]=d}return o}const bbe=function(t){const e=this.threshold();let r=mbe(t,e);return r&&(r=xbe(r,t.width,t.height),r=ybe(r,t.width,t.height),r=vbe(r,t.width,t.height),gbe(t,r)),t};Me.addGetterSetter(Yt,"threshold",0,Gt(),Me.afterSetFilter);const wbe=function(t){const e=this.noise()*255,r=t.data,n=r.length,s=e/2;for(let a=0;a<n;a+=4)r[a+0]+=s-2*s*Math.random(),r[a+1]+=s-2*s*Math.random(),r[a+2]+=s-2*s*Math.random()};Me.addGetterSetter(Yt,"noise",.2,Gt(),Me.afterSetFilter);const jbe=function(t){let e=Math.ceil(this.pixelSize()),r=t.width,n=t.height,s=Math.ceil(r/e),a=Math.ceil(n/e),o=t.data;if(e<=0){Je.error("pixelSize value can not be <= 0");return}for(let l=0;l<s;l+=1)for(let c=0;c<a;c+=1){let u=0,d=0,h=0,p=0;const f=l*e,m=f+e,g=c*e,y=g+e;let x=0;for(let w=f;w<m;w+=1)if(!(w>=r))for(let S=g;S<y;S+=1){if(S>=n)continue;const N=(r*S+w)*4;u+=o[N+0],d+=o[N+1],h+=o[N+2],p+=o[N+3],x+=1}u=u/x,d=d/x,h=h/x,p=p/x;for(let w=f;w<m;w+=1)if(!(w>=r))for(let S=g;S<y;S+=1){if(S>=n)continue;const N=(r*S+w)*4;o[N+0]=u,o[N+1]=d,o[N+2]=h,o[N+3]=p}}};Me.addGetterSetter(Yt,"pixelSize",8,Gt(),Me.afterSetFilter);const Sbe=function(t){const e=Math.round(this.levels()*254)+1,r=t.data,n=r.length,s=255/e;for(let a=0;a<n;a+=1)r[a]=Math.floor(r[a]/s)*s};Me.addGetterSetter(Yt,"levels",.5,Gt(),Me.afterSetFilter);const Nbe=function(t){const e=t.data,r=e.length,n=this.red(),s=this.green(),a=this.blue();for(let o=0;o<r;o+=4){const l=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255;e[o]=l*n,e[o+1]=l*s,e[o+2]=l*a,e[o+3]=e[o+3]}};Me.addGetterSetter(Yt,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Me.addGetterSetter(Yt,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Me.addGetterSetter(Yt,"blue",0,sK,Me.afterSetFilter);const Cbe=function(t){const e=t.data,r=e.length,n=this.red(),s=this.green(),a=this.blue(),o=this.alpha();for(let l=0;l<r;l+=4){const c=1-o;e[l]=n*o+e[l]*c,e[l+1]=s*o+e[l+1]*c,e[l+2]=a*o+e[l+2]*c}};Me.addGetterSetter(Yt,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Me.addGetterSetter(Yt,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Me.addGetterSetter(Yt,"blue",0,sK,Me.afterSetFilter);Me.addGetterSetter(Yt,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const _be=function(t){const e=t.data,r=e.length;for(let n=0;n<r;n+=4){const s=e[n+0],a=e[n+1],o=e[n+2];e[n+0]=Math.min(255,s*.393+a*.769+o*.189),e[n+1]=Math.min(255,s*.349+a*.686+o*.168),e[n+2]=Math.min(255,s*.272+a*.534+o*.131)}},Abe=function(t){const r=t.data;for(let n=0;n<r.length;n+=4){const s=r[n],a=r[n+1],o=r[n+2];.2126*s+.7152*a+.0722*o>=128&&(r[n]=255-s,r[n+1]=255-a,r[n+2]=255-o)}return t},kbe=function(t){const e=this.threshold()*255,r=t.data,n=r.length;for(let s=0;s<n;s+=1)r[s]=r[s]<e?0:255};Me.addGetterSetter(Yt,"threshold",.5,Gt(),Me.afterSetFilter);Mg.Util._assign(Mg,{Arc:Tf,Arrow:Qg,Circle:nv,Ellipse:um,Image:Id,Label:xM,Tag:Jg,Line:If,Path:lu,Rect:kw,RegularPolygon:dm,Ring:ex,Sprite:Ch,Star:hm,Text:Ws,TextPath:ga,Transformer:Pn,Wedge:Mf,Filters:{Blur:tbe,Brightness:nbe,Brighten:rbe,Contrast:sbe,Emboss:ibe,Enhance:abe,Grayscale:obe,HSL:lbe,HSV:cbe,Invert:ube,Kaleidoscope:fbe,Mask:bbe,Noise:wbe,Pixelate:jbe,Posterize:Sbe,RGB:Nbe,RGBA:Cbe,Sepia:_be,Solarize:Abe,Threshold:kbe}});var RK={exports:{}},bA={exports:{}},wA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m9;function Pbe(){return m9||(m9=1,function(t){function e(B,O){var K=B.length;B.push(O);e:for(;0<K;){var Y=K-1>>>1,D=B[Y];if(0<s(D,O))B[Y]=O,B[K]=D,K=Y;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var O=B[0],K=B.pop();if(K!==O){B[0]=K;e:for(var Y=0,D=B.length,Z=D>>>1;Y<Z;){var ie=2*(Y+1)-1,he=B[ie],J=ie+1,ae=B[J];if(0>s(he,K))J<D&&0>s(ae,he)?(B[Y]=ae,B[J]=K,Y=J):(B[Y]=he,B[ie]=K,Y=ie);else if(J<D&&0>s(ae,K))B[Y]=ae,B[J]=K,Y=J;else break e}}return O}function s(B,O){var K=B.sortIndex-O.sortIndex;return K!==0?K:B.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=B)n(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=r(u)}}function N(B){if(g=!1,S(B),!m)if(r(c)!==null)m=!0,G(C);else{var O=r(u);O!==null&&W(N,O.startTime-B)}}function C(B,O){m=!1,g&&(g=!1,x(E),E=-1),f=!0;var K=p;try{for(S(O),h=r(c);h!==null&&(!(h.expirationTime>O)||B&&!I());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var D=Y(h.expirationTime<=O);O=t.unstable_now(),typeof D=="function"?h.callback=D:h===r(c)&&n(c),S(O)}else n(c);h=r(c)}if(h!==null)var Z=!0;else{var ie=r(u);ie!==null&&W(N,ie.startTime-O),Z=!1}return Z}finally{h=null,p=K,f=!1}}var A=!1,k=null,E=-1,T=5,R=-1;function I(){return!(t.unstable_now()-R<T)}function L(){if(k!==null){var B=t.unstable_now();R=B;var O=!0;try{O=k(!0,B)}finally{O?U():(A=!1,k=null)}}else A=!1}var U;if(typeof w=="function")U=function(){w(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,q=$.port2;$.port1.onmessage=L,U=function(){q.postMessage(null)}}else U=function(){y(L,0)};function G(B){k=B,A||(A=!0,U())}function W(B,O){E=y(function(){B(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,G(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var K=p;p=O;try{return B()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,O){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=p;p=B;try{return O()}finally{p=K}},t.unstable_scheduleCallback=function(B,O,K){var Y=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Y+K:Y):K=Y,B){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=K+D,B={id:d++,callback:O,priorityLevel:B,startTime:K,expirationTime:D,sortIndex:-1},K>Y?(B.sortIndex=K,e(u,B),r(c)===null&&B===r(u)&&(g?(x(E),E=-1):g=!0,W(N,K-Y))):(B.sortIndex=D,e(c,B),m||f||(m=!0,G(C))),B},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(B){var O=p;return function(){var K=p;p=O;try{return B.apply(this,arguments)}finally{p=K}}}}(wA)),wA}var g9;function DK(){return g9||(g9=1,bA.exports=Pbe()),bA.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ebe=function(e){var r={},n=b,s=DK(),a=Object.assign;function o(v){for(var j="https://reactjs.org/docs/error-decoder.html?invariant="+v,P=1;P<arguments.length;P++)j+="&args[]="+encodeURIComponent(arguments[P]);return"Minified React error #"+v+"; visit "+j+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),C=Symbol.iterator;function A(v){return v===null||typeof v!="object"?null:(v=C&&v[C]||v["@@iterator"],typeof v=="function"?v:null)}function k(v){if(v==null)return null;if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case m:return(v.displayName||"Context")+".Consumer";case f:return(v._context.displayName||"Context")+".Provider";case g:var j=v.render;return v=v.displayName,v||(v=j.displayName||j.name||"",v=v!==""?"ForwardRef("+v+")":"ForwardRef"),v;case w:return j=v.displayName||null,j!==null?j:k(v.type)||"Memo";case S:j=v._payload,v=v._init;try{return k(v(j))}catch{}}return null}function E(v){var j=v.type;switch(v.tag){case 24:return"Cache";case 9:return(j.displayName||"Context")+".Consumer";case 10:return(j._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return v=j.render,v=v.displayName||v.name||"",j.displayName||(v!==""?"ForwardRef("+v+")":"ForwardRef");case 7:return"Fragment";case 5:return j;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k(j);case 8:return j===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof j=="function")return j.displayName||j.name||null;if(typeof j=="string")return j}return null}function T(v){var j=v,P=v;if(v.alternate)for(;j.return;)j=j.return;else{v=j;do j=v,j.flags&4098&&(P=j.return),v=j.return;while(v)}return j.tag===3?P:null}function R(v){if(T(v)!==v)throw Error(o(188))}function I(v){var j=v.alternate;if(!j){if(j=T(v),j===null)throw Error(o(188));return j!==v?null:v}for(var P=v,F=j;;){var H=P.return;if(H===null)break;var te=H.alternate;if(te===null){if(F=H.return,F!==null){P=F;continue}break}if(H.child===te.child){for(te=H.child;te;){if(te===P)return R(H),v;if(te===F)return R(H),j;te=te.sibling}throw Error(o(188))}if(P.return!==F.return)P=H,F=te;else{for(var we=!1,Ke=H.child;Ke;){if(Ke===P){we=!0,P=H,F=te;break}if(Ke===F){we=!0,F=H,P=te;break}Ke=Ke.sibling}if(!we){for(Ke=te.child;Ke;){if(Ke===P){we=!0,P=te,F=H;break}if(Ke===F){we=!0,F=te,P=H;break}Ke=Ke.sibling}if(!we)throw Error(o(189))}}if(P.alternate!==F)throw Error(o(190))}if(P.tag!==3)throw Error(o(188));return P.stateNode.current===P?v:j}function L(v){return v=I(v),v!==null?U(v):null}function U(v){if(v.tag===5||v.tag===6)return v;for(v=v.child;v!==null;){var j=U(v);if(j!==null)return j;v=v.sibling}return null}function $(v){if(v.tag===5||v.tag===6)return v;for(v=v.child;v!==null;){if(v.tag!==4){var j=$(v);if(j!==null)return j}v=v.sibling}return null}var q=Array.isArray,G=e.getPublicInstance,W=e.getRootHostContext,B=e.getChildHostContext,O=e.prepareForCommit,K=e.resetAfterCommit,Y=e.createInstance,D=e.appendInitialChild,Z=e.finalizeInitialChildren,ie=e.prepareUpdate,he=e.shouldSetTextContent,J=e.createTextInstance,ae=e.scheduleTimeout,ne=e.cancelTimeout,se=e.noTimeout,Q=e.isPrimaryRenderer,re=e.supportsMutation,le=e.supportsPersistence,ve=e.supportsHydration,fe=e.getInstanceFromNode,X=e.preparePortalMount,ce=e.getCurrentEventPriority,Pe=e.detachDeletedInstance,ke=e.supportsMicrotasks,oe=e.scheduleMicrotask,Oe=e.supportsTestSelectors,Ie=e.findFiberRoot,He=e.getBoundingRect,nt=e.getTextContent,ft=e.isHiddenSubtree,Fe=e.matchAccessibilityRole,Ae=e.setFocusIfFocusable,it=e.setupIntersectionObserver,Ee=e.appendChild,Re=e.appendChildToContainer,We=e.commitTextUpdate,Ge=e.commitMount,ze=e.commitUpdate,ot=e.insertBefore,lt=e.insertInContainerBefore,yt=e.removeChild,Pt=e.removeChildFromContainer,ct=e.resetTextContent,zt=e.hideInstance,jt=e.hideTextInstance,At=e.unhideInstance,Ht=e.unhideTextInstance,Vt=e.clearContainer,It=e.cloneInstance,Qt=e.createContainerChildSet,Ut=e.appendChildToContainerChildSet,Zt=e.finalizeContainerChildren,Te=e.replaceContainerChildren,vt=e.cloneHiddenInstance,Ct=e.cloneHiddenTextInstance,qt=e.canHydrateInstance,Nr=e.canHydrateTextInstance,Or=e.canHydrateSuspenseInstance,fr=e.isSuspenseInstancePending,lr=e.isSuspenseInstanceFallback,br=e.getSuspenseInstanceFallbackErrorDetails,er=e.registerSuspenseInstanceRetry,bn=e.getNextHydratableSibling,ls=e.getFirstHydratableChild,Qs=e.getFirstHydratableChildWithinContainer,ya=e.getFirstHydratableChildWithinSuspenseInstance,qi=e.hydrateInstance,za=e.hydrateTextInstance,zo=e.hydrateSuspenseInstance,Hn=e.getNextHydratableInstanceAfterSuspenseInstance,Uo=e.commitHydratedContainer,Ec=e.commitHydratedSuspenseInstance,Ni=e.clearSuspenseBoundary,oo=e.clearSuspenseBoundaryFromContainer,Nn=e.shouldDeleteUnhydratedTailInstances,Tc=e.didNotMatchHydratedContainerTextInstance,Bd=e.didNotMatchHydratedTextInstance,lo;function Ul(v){if(lo===void 0)try{throw Error()}catch(P){var j=P.stack.trim().match(/\n( *(at )?)/);lo=j&&j[1]||""}return`
`+lo+v}var Bi=!1;function gl(v,j){if(!v||Bi)return"";Bi=!0;var P=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(j)if(j=function(){throw Error()},Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch($t){var F=$t}Reflect.construct(v,[],j)}else{try{j.call()}catch($t){F=$t}v.call(j.prototype)}else{try{throw Error()}catch($t){F=$t}v()}}catch($t){if($t&&F&&typeof $t.stack=="string"){for(var H=$t.stack.split(`
`),te=F.stack.split(`
`),we=H.length-1,Ke=te.length-1;1<=we&&0<=Ke&&H[we]!==te[Ke];)Ke--;for(;1<=we&&0<=Ke;we--,Ke--)if(H[we]!==te[Ke]){if(we!==1||Ke!==1)do if(we--,Ke--,0>Ke||H[we]!==te[Ke]){var ht=`
`+H[we].replace(" at new "," at ");return v.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",v.displayName)),ht}while(1<=we&&0<=Ke);break}}}finally{Bi=!1,Error.prepareStackTrace=P}return(v=v?v.displayName||v.name:"")?Ul(v):""}var xl=Object.prototype.hasOwnProperty,ku=[],Wl=-1;function Wo(v){return{current:v}}function Ln(v){0>Wl||(v.current=ku[Wl],ku[Wl]=null,Wl--)}function un(v,j){Wl++,ku[Wl]=v.current,v.current=j}var Ua={},ci=Wo(Ua),gn=Wo(!1),Go=Ua;function Gs(v,j){var P=v.type.contextTypes;if(!P)return Ua;var F=v.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===j)return F.__reactInternalMemoizedMaskedChildContext;var H={},te;for(te in P)H[te]=j[te];return F&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=j,v.__reactInternalMemoizedMaskedChildContext=H),H}function Js(v){return v=v.childContextTypes,v!=null}function Pu(){Ln(gn),Ln(ci)}function Wa(v,j,P){if(ci.current!==Ua)throw Error(o(168));un(ci,j),un(gn,P)}function Hs(v,j,P){var F=v.stateNode;if(j=j.childContextTypes,typeof F.getChildContext!="function")return P;F=F.getChildContext();for(var H in F)if(!(H in j))throw Error(o(108,E(v)||"Unknown",H));return a({},P,F)}function co(v){return v=(v=v.stateNode)&&v.__reactInternalMemoizedMergedChildContext||Ua,Go=ci.current,un(ci,v),un(gn,gn.current),!0}function Ph(v,j,P){var F=v.stateNode;if(!F)throw Error(o(169));P?(v=Hs(v,j,Go),F.__reactInternalMemoizedMergedChildContext=v,Ln(gn),Ln(ci),un(ci,v)):Ln(gn),un(gn,P)}var Ga=Math.clz32?Math.clz32:Bf,$d=Math.log,yl=Math.LN2;function Bf(v){return v>>>=0,v===0?32:31-($d(v)/yl|0)|0}var Ic=64,vl=4194304;function uo(v){switch(v&-v){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return v&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return v}}function Eu(v,j){var P=v.pendingLanes;if(P===0)return 0;var F=0,H=v.suspendedLanes,te=v.pingedLanes,we=P&268435455;if(we!==0){var Ke=we&~H;Ke!==0?F=uo(Ke):(te&=we,te!==0&&(F=uo(te)))}else we=P&~H,we!==0?F=uo(we):te!==0&&(F=uo(te));if(F===0)return 0;if(j!==0&&j!==F&&!(j&H)&&(H=F&-F,te=j&-j,H>=te||H===16&&(te&4194240)!==0))return j;if(F&4&&(F|=P&16),j=v.entangledLanes,j!==0)for(v=v.entanglements,j&=F;0<j;)P=31-Ga(j),H=1<<P,F|=v[P],j&=~H;return F}function $f(v,j){switch(v){case 1:case 2:case 4:return j+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return j+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zf(v,j){for(var P=v.suspendedLanes,F=v.pingedLanes,H=v.expirationTimes,te=v.pendingLanes;0<te;){var we=31-Ga(te),Ke=1<<we,ht=H[we];ht===-1?(!(Ke&P)||Ke&F)&&(H[we]=$f(Ke,j)):ht<=j&&(v.expiredLanes|=Ke),te&=~Ke}}function Mc(v){return v=v.pendingLanes&-1073741825,v!==0?v:v&1073741824?1073741824:0}function zd(){var v=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),v}function va(v){for(var j=[],P=0;31>P;P++)j.push(v);return j}function Oc(v,j,P){v.pendingLanes|=j,j!==536870912&&(v.suspendedLanes=0,v.pingedLanes=0),v=v.eventTimes,j=31-Ga(j),v[j]=P}function Se(v,j){var P=v.pendingLanes&~j;v.pendingLanes=j,v.suspendedLanes=0,v.pingedLanes=0,v.expiredLanes&=j,v.mutableReadLanes&=j,v.entangledLanes&=j,j=v.entanglements;var F=v.eventTimes;for(v=v.expirationTimes;0<P;){var H=31-Ga(P),te=1<<H;j[H]=0,F[H]=-1,v[H]=-1,P&=~te}}function De(v,j){var P=v.entangledLanes|=j;for(v=v.entanglements;P;){var F=31-Ga(P),H=1<<F;H&j|v[F]&j&&(v[F]|=j),P&=~H}}var Le=0;function Xe(v){return v&=-v,1<v?4<v?v&268435455?16:536870912:4:1}var kt=s.unstable_scheduleCallback,cr=s.unstable_cancelCallback,pr=s.unstable_shouldYield,Jt=s.unstable_requestPaint,ar=s.unstable_now,Qn=s.unstable_ImmediatePriority,Jn=s.unstable_UserBlockingPriority,ei=s.unstable_NormalPriority,Vn=s.unstable_IdlePriority,qn=null,Tn=null;function es(v){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(qn,v,void 0,(v.current.flags&128)===128)}catch{}}function bl(v,j){return v===j&&(v!==0||1/v===1/j)||v!==v&&j!==j}var $i=typeof Object.is=="function"?Object.is:bl,zi=null,Tu=!1,Ci=!1;function Gl(v){zi===null?zi=[v]:zi.push(v)}function Lc(v){Tu=!0,Gl(v)}function Yi(){if(!Ci&&zi!==null){Ci=!0;var v=0,j=Le;try{var P=zi;for(Le=1;v<P.length;v++){var F=P[v];do F=F(!0);while(F!==null)}zi=null,Tu=!1}catch(H){throw zi!==null&&(zi=zi.slice(v+1)),kt(Qn,Yi),H}finally{Le=j,Ci=!1}}return null}var Xi=[],Hl=0,Iu=null,Eh=0,ui=[],di=0,Rc=null,Ha=1,wl="";function z(v,j){Xi[Hl++]=Eh,Xi[Hl++]=Iu,Iu=v,Eh=j}function de(v,j,P){ui[di++]=Ha,ui[di++]=wl,ui[di++]=Rc,Rc=v;var F=Ha;v=wl;var H=32-Ga(F)-1;F&=~(1<<H),P+=1;var te=32-Ga(j)+H;if(30<te){var we=H-H%5;te=(F&(1<<we)-1).toString(32),F>>=we,H-=we,Ha=1<<32-Ga(j)+H|P<<H|F,wl=te+v}else Ha=1<<te|P<<H|F,wl=v}function _e(v){v.return!==null&&(z(v,1),de(v,1,0))}function Be(v){for(;v===Iu;)Iu=Xi[--Hl],Xi[Hl]=null,Eh=Xi[--Hl],Xi[Hl]=null;for(;v===Rc;)Rc=ui[--di],ui[di]=null,wl=ui[--di],ui[di]=null,Ha=ui[--di],ui[di]=null}var qe=null,pt=null,gt=!1,sr=!1,tr=null;function Ur(v,j){var P=Kc(5,null,null,0);P.elementType="DELETED",P.stateNode=j,P.return=v,j=v.deletions,j===null?(v.deletions=[P],v.flags|=16):j.push(P)}function Kr(v,j){switch(v.tag){case 5:return j=qt(j,v.type,v.pendingProps),j!==null?(v.stateNode=j,qe=v,pt=ls(j),!0):!1;case 6:return j=Nr(j,v.pendingProps),j!==null?(v.stateNode=j,qe=v,pt=null,!0):!1;case 13:if(j=Or(j),j!==null){var P=Rc!==null?{id:Ha,overflow:wl}:null;return v.memoizedState={dehydrated:j,treeContext:P,retryLane:1073741824},P=Kc(18,null,null,0),P.stateNode=j,P.return=v,v.child=P,qe=v,pt=null,!0}return!1;default:return!1}}function xn(v){return(v.mode&1)!==0&&(v.flags&128)===0}function hs(v){if(gt){var j=pt;if(j){var P=j;if(!Kr(v,j)){if(xn(v))throw Error(o(418));j=bn(P);var F=qe;j&&Kr(v,j)?Ur(F,P):(v.flags=v.flags&-4097|2,gt=!1,qe=v)}}else{if(xn(v))throw Error(o(418));v.flags=v.flags&-4097|2,gt=!1,qe=v}}}function ti(v){for(v=v.return;v!==null&&v.tag!==5&&v.tag!==3&&v.tag!==13;)v=v.return;qe=v}function Yn(v){if(!ve||v!==qe)return!1;if(!gt)return ti(v),gt=!0,!1;if(v.tag!==3&&(v.tag!==5||Nn(v.type)&&!he(v.type,v.memoizedProps))){var j=pt;if(j){if(xn(v))throw hi(),Error(o(418));for(;j;)Ur(v,j),j=bn(j)}}if(ti(v),v.tag===13){if(!ve)throw Error(o(316));if(v=v.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));pt=Hn(v)}else pt=qe?bn(v.stateNode):null;return!0}function hi(){for(var v=pt;v;)v=bn(v)}function fs(){ve&&(pt=qe=null,sr=gt=!1)}function _i(v){tr===null?tr=[v]:tr.push(v)}var Mu=l.ReactCurrentBatchConfig;function ho(v,j){if($i(v,j))return!0;if(typeof v!="object"||v===null||typeof j!="object"||j===null)return!1;var P=Object.keys(v),F=Object.keys(j);if(P.length!==F.length)return!1;for(F=0;F<P.length;F++){var H=P[F];if(!xl.call(j,H)||!$i(v[H],j[H]))return!1}return!0}function Ou(v){switch(v.tag){case 5:return Ul(v.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return v=gl(v.type,!1),v;case 11:return v=gl(v.type.render,!1),v;case 1:return v=gl(v.type,!0),v;default:return""}}function Lu(v,j,P){if(v=P.ref,v!==null&&typeof v!="function"&&typeof v!="object"){if(P._owner){if(P=P._owner,P){if(P.tag!==1)throw Error(o(309));var F=P.stateNode}if(!F)throw Error(o(147,v));var H=F,te=""+v;return j!==null&&j.ref!==null&&typeof j.ref=="function"&&j.ref._stringRef===te?j.ref:(j=function(we){var Ke=H.refs;we===null?delete Ke[te]:Ke[te]=we},j._stringRef=te,j)}if(typeof v!="string")throw Error(o(284));if(!P._owner)throw Error(o(290,v))}return v}function Ru(v,j){throw v=Object.prototype.toString.call(j),Error(o(31,v==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":v))}function Du(v){var j=v._init;return j(v._payload)}function Ud(v){function j(ut,et){if(v){var xt=ut.deletions;xt===null?(ut.deletions=[et],ut.flags|=16):xt.push(et)}}function P(ut,et){if(!v)return null;for(;et!==null;)j(ut,et),et=et.sibling;return null}function F(ut,et){for(ut=new Map;et!==null;)et.key!==null?ut.set(et.key,et):ut.set(et.index,et),et=et.sibling;return ut}function H(ut,et){return ut=Zf(ut,et),ut.index=0,ut.sibling=null,ut}function te(ut,et,xt){return ut.index=xt,v?(xt=ut.alternate,xt!==null?(xt=xt.index,xt<et?(ut.flags|=2,et):xt):(ut.flags|=2,et)):(ut.flags|=1048576,et)}function we(ut){return v&&ut.alternate===null&&(ut.flags|=2),ut}function Ke(ut,et,xt,nr){return et===null||et.tag!==6?(et=b_(xt,ut.mode,nr),et.return=ut,et):(et=H(et,xt),et.return=ut,et)}function ht(ut,et,xt,nr){var Rr=xt.type;return Rr===d?gr(ut,et,xt.props.children,nr,xt.key):et!==null&&(et.elementType===Rr||typeof Rr=="object"&&Rr!==null&&Rr.$$typeof===S&&Du(Rr)===et.type)?(nr=H(et,xt.props),nr.ref=Lu(ut,et,xt),nr.return=ut,nr):(nr=fj(xt.type,xt.key,xt.props,null,ut.mode,nr),nr.ref=Lu(ut,et,xt),nr.return=ut,nr)}function $t(ut,et,xt,nr){return et===null||et.tag!==4||et.stateNode.containerInfo!==xt.containerInfo||et.stateNode.implementation!==xt.implementation?(et=w_(xt,ut.mode,nr),et.return=ut,et):(et=H(et,xt.children||[]),et.return=ut,et)}function gr(ut,et,xt,nr,Rr){return et===null||et.tag!==7?(et=Im(xt,ut.mode,nr,Rr),et.return=ut,et):(et=H(et,xt),et.return=ut,et)}function tn(ut,et,xt){if(typeof et=="string"&&et!==""||typeof et=="number")return et=b_(""+et,ut.mode,xt),et.return=ut,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case c:return xt=fj(et.type,et.key,et.props,null,ut.mode,xt),xt.ref=Lu(ut,null,et),xt.return=ut,xt;case u:return et=w_(et,ut.mode,xt),et.return=ut,et;case S:var nr=et._init;return tn(ut,nr(et._payload),xt)}if(q(et)||A(et))return et=Im(et,ut.mode,xt,null),et.return=ut,et;Ru(ut,et)}return null}function rr(ut,et,xt,nr){var Rr=et!==null?et.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number")return Rr!==null?null:Ke(ut,et,""+xt,nr);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case c:return xt.key===Rr?ht(ut,et,xt,nr):null;case u:return xt.key===Rr?$t(ut,et,xt,nr):null;case S:return Rr=xt._init,rr(ut,et,Rr(xt._payload),nr)}if(q(xt)||A(xt))return Rr!==null?null:gr(ut,et,xt,nr,null);Ru(ut,xt)}return null}function Ms(ut,et,xt,nr,Rr){if(typeof nr=="string"&&nr!==""||typeof nr=="number")return ut=ut.get(xt)||null,Ke(et,ut,""+nr,Rr);if(typeof nr=="object"&&nr!==null){switch(nr.$$typeof){case c:return ut=ut.get(nr.key===null?xt:nr.key)||null,ht(et,ut,nr,Rr);case u:return ut=ut.get(nr.key===null?xt:nr.key)||null,$t(et,ut,nr,Rr);case S:var cn=nr._init;return Ms(ut,et,xt,cn(nr._payload),Rr)}if(q(nr)||A(nr))return ut=ut.get(xt)||null,gr(et,ut,nr,Rr,null);Ru(et,nr)}return null}function ps(ut,et,xt,nr){for(var Rr=null,cn=null,rn=et,$n=et=0,Aa=null;rn!==null&&$n<xt.length;$n++){rn.index>$n?(Aa=rn,rn=null):Aa=rn.sibling;var zn=rr(ut,rn,xt[$n],nr);if(zn===null){rn===null&&(rn=Aa);break}v&&rn&&zn.alternate===null&&j(ut,rn),et=te(zn,et,$n),cn===null?Rr=zn:cn.sibling=zn,cn=zn,rn=Aa}if($n===xt.length)return P(ut,rn),gt&&z(ut,$n),Rr;if(rn===null){for(;$n<xt.length;$n++)rn=tn(ut,xt[$n],nr),rn!==null&&(et=te(rn,et,$n),cn===null?Rr=rn:cn.sibling=rn,cn=rn);return gt&&z(ut,$n),Rr}for(rn=F(ut,rn);$n<xt.length;$n++)Aa=Ms(rn,ut,$n,xt[$n],nr),Aa!==null&&(v&&Aa.alternate!==null&&rn.delete(Aa.key===null?$n:Aa.key),et=te(Aa,et,$n),cn===null?Rr=Aa:cn.sibling=Aa,cn=Aa);return v&&rn.forEach(function(Qf){return j(ut,Qf)}),gt&&z(ut,$n),Rr}function kl(ut,et,xt,nr){var Rr=A(xt);if(typeof Rr!="function")throw Error(o(150));if(xt=Rr.call(xt),xt==null)throw Error(o(151));for(var cn=Rr=null,rn=et,$n=et=0,Aa=null,zn=xt.next();rn!==null&&!zn.done;$n++,zn=xt.next()){rn.index>$n?(Aa=rn,rn=null):Aa=rn.sibling;var Qf=rr(ut,rn,zn.value,nr);if(Qf===null){rn===null&&(rn=Aa);break}v&&rn&&Qf.alternate===null&&j(ut,rn),et=te(Qf,et,$n),cn===null?Rr=Qf:cn.sibling=Qf,cn=Qf,rn=Aa}if(zn.done)return P(ut,rn),gt&&z(ut,$n),Rr;if(rn===null){for(;!zn.done;$n++,zn=xt.next())zn=tn(ut,zn.value,nr),zn!==null&&(et=te(zn,et,$n),cn===null?Rr=zn:cn.sibling=zn,cn=zn);return gt&&z(ut,$n),Rr}for(rn=F(ut,rn);!zn.done;$n++,zn=xt.next())zn=Ms(rn,ut,$n,zn.value,nr),zn!==null&&(v&&zn.alternate!==null&&rn.delete(zn.key===null?$n:zn.key),et=te(zn,et,$n),cn===null?Rr=zn:cn.sibling=zn,cn=zn);return v&&rn.forEach(function(rae){return j(ut,rae)}),gt&&z(ut,$n),Rr}function Uh(ut,et,xt,nr){if(typeof xt=="object"&&xt!==null&&xt.type===d&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case c:e:{for(var Rr=xt.key,cn=et;cn!==null;){if(cn.key===Rr){if(Rr=xt.type,Rr===d){if(cn.tag===7){P(ut,cn.sibling),et=H(cn,xt.props.children),et.return=ut,ut=et;break e}}else if(cn.elementType===Rr||typeof Rr=="object"&&Rr!==null&&Rr.$$typeof===S&&Du(Rr)===cn.type){P(ut,cn.sibling),et=H(cn,xt.props),et.ref=Lu(ut,cn,xt),et.return=ut,ut=et;break e}P(ut,cn);break}else j(ut,cn);cn=cn.sibling}xt.type===d?(et=Im(xt.props.children,ut.mode,nr,xt.key),et.return=ut,ut=et):(nr=fj(xt.type,xt.key,xt.props,null,ut.mode,nr),nr.ref=Lu(ut,et,xt),nr.return=ut,ut=nr)}return we(ut);case u:e:{for(cn=xt.key;et!==null;){if(et.key===cn)if(et.tag===4&&et.stateNode.containerInfo===xt.containerInfo&&et.stateNode.implementation===xt.implementation){P(ut,et.sibling),et=H(et,xt.children||[]),et.return=ut,ut=et;break e}else{P(ut,et);break}else j(ut,et);et=et.sibling}et=w_(xt,ut.mode,nr),et.return=ut,ut=et}return we(ut);case S:return cn=xt._init,Uh(ut,et,cn(xt._payload),nr)}if(q(xt))return ps(ut,et,xt,nr);if(A(xt))return kl(ut,et,xt,nr);Ru(ut,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"?(xt=""+xt,et!==null&&et.tag===6?(P(ut,et.sibling),et=H(et,xt),et.return=ut,ut=et):(P(ut,et),et=b_(xt,ut.mode,nr),et.return=ut,ut=et),we(ut)):P(ut,et)}return Uh}var jl=Ud(!0),Fu=Ud(!1),fi=Wo(null),Dc=null,Sl=null,Th=null;function Ih(){Th=Sl=Dc=null}function ba(v,j,P){Q?(un(fi,j._currentValue),j._currentValue=P):(un(fi,j._currentValue2),j._currentValue2=P)}function Vl(v){var j=fi.current;Ln(fi),Q?v._currentValue=j:v._currentValue2=j}function Wd(v,j,P){for(;v!==null;){var F=v.alternate;if((v.childLanes&j)!==j?(v.childLanes|=j,F!==null&&(F.childLanes|=j)):F!==null&&(F.childLanes&j)!==j&&(F.childLanes|=j),v===P)break;v=v.return}}function Bu(v,j){Dc=v,Th=Sl=null,v=v.dependencies,v!==null&&v.firstContext!==null&&(v.lanes&j&&(Ya=!0),v.firstContext=null)}function ks(v){var j=Q?v._currentValue:v._currentValue2;if(Th!==v)if(v={context:v,memoizedValue:j,next:null},Sl===null){if(Dc===null)throw Error(o(308));Sl=v,Dc.dependencies={lanes:0,firstContext:v}}else Sl=Sl.next=v;return j}var Ho=null;function Mh(v){Ho===null?Ho=[v]:Ho.push(v)}function Uf(v,j,P,F){var H=j.interleaved;return H===null?(P.next=P,Mh(j)):(P.next=H.next,H.next=P),j.interleaved=P,Ki(v,F)}function Ki(v,j){v.lanes|=j;var P=v.alternate;for(P!==null&&(P.lanes|=j),P=v,v=v.return;v!==null;)v.childLanes|=j,P=v.alternate,P!==null&&(P.childLanes|=j),P=v,v=v.return;return P.tag===3?P.stateNode:null}var fo=!1;function Va(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function po(v,j){v=v.updateQueue,j.updateQueue===v&&(j.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,effects:v.effects})}function wa(v,j){return{eventTime:v,lane:j,tag:0,payload:null,callback:null,next:null}}function ja(v,j,P){var F=v.updateQueue;if(F===null)return null;if(F=F.shared,qr&2){var H=F.pending;return H===null?j.next=j:(j.next=H.next,H.next=j),F.pending=j,Ki(v,P)}return H=F.interleaved,H===null?(j.next=j,Mh(F)):(j.next=H.next,H.next=j),F.interleaved=j,Ki(v,P)}function ql(v,j,P){if(j=j.updateQueue,j!==null&&(j=j.shared,(P&4194240)!==0)){var F=j.lanes;F&=v.pendingLanes,P|=F,j.lanes=P,De(v,P)}}function Wf(v,j){var P=v.updateQueue,F=v.alternate;if(F!==null&&(F=F.updateQueue,P===F)){var H=null,te=null;if(P=P.firstBaseUpdate,P!==null){do{var we={eventTime:P.eventTime,lane:P.lane,tag:P.tag,payload:P.payload,callback:P.callback,next:null};te===null?H=te=we:te=te.next=we,P=P.next}while(P!==null);te===null?H=te=j:te=te.next=j}else H=te=j;P={baseState:F.baseState,firstBaseUpdate:H,lastBaseUpdate:te,shared:F.shared,effects:F.effects},v.updateQueue=P;return}v=P.lastBaseUpdate,v===null?P.firstBaseUpdate=j:v.next=j,P.lastBaseUpdate=j}function $u(v,j,P,F){var H=v.updateQueue;fo=!1;var te=H.firstBaseUpdate,we=H.lastBaseUpdate,Ke=H.shared.pending;if(Ke!==null){H.shared.pending=null;var ht=Ke,$t=ht.next;ht.next=null,we===null?te=$t:we.next=$t,we=ht;var gr=v.alternate;gr!==null&&(gr=gr.updateQueue,Ke=gr.lastBaseUpdate,Ke!==we&&(Ke===null?gr.firstBaseUpdate=$t:Ke.next=$t,gr.lastBaseUpdate=ht))}if(te!==null){var tn=H.baseState;we=0,gr=$t=ht=null,Ke=te;do{var rr=Ke.lane,Ms=Ke.eventTime;if((F&rr)===rr){gr!==null&&(gr=gr.next={eventTime:Ms,lane:0,tag:Ke.tag,payload:Ke.payload,callback:Ke.callback,next:null});e:{var ps=v,kl=Ke;switch(rr=j,Ms=P,kl.tag){case 1:if(ps=kl.payload,typeof ps=="function"){tn=ps.call(Ms,tn,rr);break e}tn=ps;break e;case 3:ps.flags=ps.flags&-65537|128;case 0:if(ps=kl.payload,rr=typeof ps=="function"?ps.call(Ms,tn,rr):ps,rr==null)break e;tn=a({},tn,rr);break e;case 2:fo=!0}}Ke.callback!==null&&Ke.lane!==0&&(v.flags|=64,rr=H.effects,rr===null?H.effects=[Ke]:rr.push(Ke))}else Ms={eventTime:Ms,lane:rr,tag:Ke.tag,payload:Ke.payload,callback:Ke.callback,next:null},gr===null?($t=gr=Ms,ht=tn):gr=gr.next=Ms,we|=rr;if(Ke=Ke.next,Ke===null){if(Ke=H.shared.pending,Ke===null)break;rr=Ke,Ke=rr.next,rr.next=null,H.lastBaseUpdate=rr,H.shared.pending=null}}while(!0);if(gr===null&&(ht=tn),H.baseState=ht,H.firstBaseUpdate=$t,H.lastBaseUpdate=gr,j=H.shared.interleaved,j!==null){H=j;do we|=H.lane,H=H.next;while(H!==j)}else te===null&&(H.shared.lanes=0);Fh|=we,v.lanes=we,v.memoizedState=tn}}function Vs(v,j,P){if(v=j.effects,j.effects=null,v!==null)for(j=0;j<v.length;j++){var F=v[j],H=F.callback;if(H!==null){if(F.callback=null,F=P,typeof H!="function")throw Error(o(191,H));H.call(F)}}}var Gd={},ri=Wo(Gd),mo=Wo(Gd),Fc=Wo(Gd);function go(v){if(v===Gd)throw Error(o(174));return v}function Oh(v,j){un(Fc,j),un(mo,v),un(ri,Gd),v=W(j),Ln(ri),un(ri,v)}function Bc(){Ln(ri),Ln(mo),Ln(Fc)}function zu(v){var j=go(Fc.current),P=go(ri.current);j=B(P,v.type,j),P!==j&&(un(mo,v),un(ri,j))}function $c(v){mo.current===v&&(Ln(ri),Ln(mo))}var Rn=Wo(0);function zc(v){for(var j=v;j!==null;){if(j.tag===13){var P=j.memoizedState;if(P!==null&&(P=P.dehydrated,P===null||fr(P)||lr(P)))return j}else if(j.tag===19&&j.memoizedProps.revealOrder!==void 0){if(j.flags&128)return j}else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===v)break;for(;j.sibling===null;){if(j.return===null||j.return===v)return null;j=j.return}j.sibling.return=j.return,j=j.sibling}return null}var Uc=[];function Uu(){for(var v=0;v<Uc.length;v++){var j=Uc[v];Q?j._workInProgressVersionPrimary=null:j._workInProgressVersionSecondary=null}Uc.length=0}var qa=l.ReactCurrentDispatcher,Nl=l.ReactCurrentBatchConfig,hn=0,$r=null,an=null,fn=null,Cl=!1,Wu=!1,Wc=0,fx=0;function Zi(){throw Error(o(321))}function px(v,j){if(j===null)return!1;for(var P=0;P<j.length&&P<v.length;P++)if(!$i(v[P],j[P]))return!1;return!0}function mx(v,j,P,F,H,te){if(hn=te,$r=j,j.memoizedState=null,j.updateQueue=null,j.lanes=0,qa.current=v===null||v.memoizedState===null?Rv:Nm,v=P(F,H),Wu){te=0;do{if(Wu=!1,Wc=0,25<=te)throw Error(o(301));te+=1,fn=an=null,j.updateQueue=null,qa.current=g_,v=P(F,H)}while(Wu)}if(qa.current=Hf,j=an!==null&&an.next!==null,hn=0,fn=an=$r=null,Cl=!1,j)throw Error(o(300));return v}function gx(){var v=Wc!==0;return Wc=0,v}function Yl(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?$r.memoizedState=fn=v:fn=fn.next=v,fn}function Vo(){if(an===null){var v=$r.alternate;v=v!==null?v.memoizedState:null}else v=an.next;var j=fn===null?$r.memoizedState:fn.next;if(j!==null)fn=j,an=v;else{if(v===null)throw Error(o(310));an=v,v={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},fn===null?$r.memoizedState=fn=v:fn=fn.next=v}return fn}function Gu(v,j){return typeof j=="function"?j(v):j}function xx(v){var j=Vo(),P=j.queue;if(P===null)throw Error(o(311));P.lastRenderedReducer=v;var F=an,H=F.baseQueue,te=P.pending;if(te!==null){if(H!==null){var we=H.next;H.next=te.next,te.next=we}F.baseQueue=H=te,P.pending=null}if(H!==null){te=H.next,F=F.baseState;var Ke=we=null,ht=null,$t=te;do{var gr=$t.lane;if((hn&gr)===gr)ht!==null&&(ht=ht.next={lane:0,action:$t.action,hasEagerState:$t.hasEagerState,eagerState:$t.eagerState,next:null}),F=$t.hasEagerState?$t.eagerState:v(F,$t.action);else{var tn={lane:gr,action:$t.action,hasEagerState:$t.hasEagerState,eagerState:$t.eagerState,next:null};ht===null?(Ke=ht=tn,we=F):ht=ht.next=tn,$r.lanes|=gr,Fh|=gr}$t=$t.next}while($t!==null&&$t!==te);ht===null?we=F:ht.next=Ke,$i(F,j.memoizedState)||(Ya=!0),j.memoizedState=F,j.baseState=we,j.baseQueue=ht,P.lastRenderedState=F}if(v=P.interleaved,v!==null){H=v;do te=H.lane,$r.lanes|=te,Fh|=te,H=H.next;while(H!==v)}else H===null&&(P.lanes=0);return[j.memoizedState,P.dispatch]}function yx(v){var j=Vo(),P=j.queue;if(P===null)throw Error(o(311));P.lastRenderedReducer=v;var F=P.dispatch,H=P.pending,te=j.memoizedState;if(H!==null){P.pending=null;var we=H=H.next;do te=v(te,we.action),we=we.next;while(we!==H);$i(te,j.memoizedState)||(Ya=!0),j.memoizedState=te,j.baseQueue===null&&(j.baseState=te),P.lastRenderedState=te}return[te,F]}function Av(){}function kv(v,j){var P=$r,F=Vo(),H=j(),te=!$i(F.memoizedState,H);if(te&&(F.memoizedState=H,Ya=!0),F=F.queue,Gf(Tv.bind(null,P,F,v),[v]),F.getSnapshot!==j||te||fn!==null&&fn.memoizedState.tag&1){if(P.flags|=2048,Qi(9,Ev.bind(null,P,F,H,j),void 0,null),cs===null)throw Error(o(349));hn&30||Pv(P,j,H)}return H}function Pv(v,j,P){v.flags|=16384,v={getSnapshot:j,value:P},j=$r.updateQueue,j===null?(j={lastEffect:null,stores:null},$r.updateQueue=j,j.stores=[v]):(P=j.stores,P===null?j.stores=[v]:P.push(v))}function Ev(v,j,P,F){j.value=P,j.getSnapshot=F,Iv(j)&&vx(v)}function Tv(v,j,P){return P(function(){Iv(j)&&vx(v)})}function Iv(v){var j=v.getSnapshot;v=v.value;try{var P=j();return!$i(v,P)}catch{return!0}}function vx(v){var j=Ki(v,1);j!==null&&Al(j,v,1,-1)}function bm(v){var j=Yl();return typeof v=="function"&&(v=v()),j.memoizedState=j.baseState=v,v={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:v},j.queue=v,v=v.dispatch=m_.bind(null,$r,v),[j.memoizedState,v]}function Qi(v,j,P,F){return v={tag:v,create:j,destroy:P,deps:F,next:null},j=$r.updateQueue,j===null?(j={lastEffect:null,stores:null},$r.updateQueue=j,j.lastEffect=v.next=v):(P=j.lastEffect,P===null?j.lastEffect=v.next=v:(F=P.next,P.next=v,v.next=F,j.lastEffect=v)),v}function qo(){return Vo().memoizedState}function Lh(v,j,P,F){var H=Yl();$r.flags|=v,H.memoizedState=Qi(1|j,P,void 0,F===void 0?null:F)}function Rh(v,j,P,F){var H=Vo();F=F===void 0?null:F;var te=void 0;if(an!==null){var we=an.memoizedState;if(te=we.destroy,F!==null&&px(F,we.deps)){H.memoizedState=Qi(j,P,te,F);return}}$r.flags|=v,H.memoizedState=Qi(1|j,P,te,F)}function Mv(v,j){return Lh(8390656,8,v,j)}function Gf(v,j){return Rh(2048,8,v,j)}function wm(v,j){return Rh(4,2,v,j)}function bx(v,j){return Rh(4,4,v,j)}function Ov(v,j){if(typeof j=="function")return v=v(),j(v),function(){j(null)};if(j!=null)return v=v(),j.current=v,function(){j.current=null}}function wx(v,j,P){return P=P!=null?P.concat([v]):null,Rh(4,4,Ov.bind(null,j,v),P)}function jm(){}function Sm(v,j){var P=Vo();j=j===void 0?null:j;var F=P.memoizedState;return F!==null&&j!==null&&px(j,F[1])?F[0]:(P.memoizedState=[v,j],v)}function jx(v,j){var P=Vo();j=j===void 0?null:j;var F=P.memoizedState;return F!==null&&j!==null&&px(j,F[1])?F[0]:(v=v(),P.memoizedState=[v,j],v)}function Yw(v,j,P){return hn&21?($i(P,j)||(P=zd(),$r.lanes|=P,Fh|=P,v.baseState=!0),j):(v.baseState&&(v.baseState=!1,Ya=!0),v.memoizedState=P)}function f_(v,j){var P=Le;Le=P!==0&&4>P?P:4,v(!0);var F=Nl.transition;Nl.transition={};try{v(!1),j()}finally{Le=P,Nl.transition=F}}function Lv(){return Vo().memoizedState}function p_(v,j,P){var F=Yu(v);if(P={lane:F,action:P,hasEagerState:!1,eagerState:null,next:null},Xw(v))Kw(j,P);else if(P=Uf(v,j,P,F),P!==null){var H=ra();Al(P,v,F,H),Zw(P,j,F)}}function m_(v,j,P){var F=Yu(v),H={lane:F,action:P,hasEagerState:!1,eagerState:null,next:null};if(Xw(v))Kw(j,H);else{var te=v.alternate;if(v.lanes===0&&(te===null||te.lanes===0)&&(te=j.lastRenderedReducer,te!==null))try{var we=j.lastRenderedState,Ke=te(we,P);if(H.hasEagerState=!0,H.eagerState=Ke,$i(Ke,we)){var ht=j.interleaved;ht===null?(H.next=H,Mh(j)):(H.next=ht.next,ht.next=H),j.interleaved=H;return}}catch{}finally{}P=Uf(v,j,H,F),P!==null&&(H=ra(),Al(P,v,F,H),Zw(P,j,F))}}function Xw(v){var j=v.alternate;return v===$r||j!==null&&j===$r}function Kw(v,j){Wu=Cl=!0;var P=v.pending;P===null?j.next=j:(j.next=P.next,P.next=j),v.pending=j}function Zw(v,j,P){if(P&4194240){var F=j.lanes;F&=v.pendingLanes,P|=F,j.lanes=P,De(v,P)}}var Hf={readContext:ks,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useInsertionEffect:Zi,useLayoutEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useMutableSource:Zi,useSyncExternalStore:Zi,useId:Zi,unstable_isNewReconciler:!1},Rv={readContext:ks,useCallback:function(v,j){return Yl().memoizedState=[v,j===void 0?null:j],v},useContext:ks,useEffect:Mv,useImperativeHandle:function(v,j,P){return P=P!=null?P.concat([v]):null,Lh(4194308,4,Ov.bind(null,j,v),P)},useLayoutEffect:function(v,j){return Lh(4194308,4,v,j)},useInsertionEffect:function(v,j){return Lh(4,2,v,j)},useMemo:function(v,j){var P=Yl();return j=j===void 0?null:j,v=v(),P.memoizedState=[v,j],v},useReducer:function(v,j,P){var F=Yl();return j=P!==void 0?P(j):j,F.memoizedState=F.baseState=j,v={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:j},F.queue=v,v=v.dispatch=p_.bind(null,$r,v),[F.memoizedState,v]},useRef:function(v){var j=Yl();return v={current:v},j.memoizedState=v},useState:bm,useDebugValue:jm,useDeferredValue:function(v){return Yl().memoizedState=v},useTransition:function(){var v=bm(!1),j=v[0];return v=f_.bind(null,v[1]),Yl().memoizedState=v,[j,v]},useMutableSource:function(){},useSyncExternalStore:function(v,j,P){var F=$r,H=Yl();if(gt){if(P===void 0)throw Error(o(407));P=P()}else{if(P=j(),cs===null)throw Error(o(349));hn&30||Pv(F,j,P)}H.memoizedState=P;var te={value:P,getSnapshot:j};return H.queue=te,Mv(Tv.bind(null,F,te,v),[v]),F.flags|=2048,Qi(9,Ev.bind(null,F,te,P,j),void 0,null),P},useId:function(){var v=Yl(),j=cs.identifierPrefix;if(gt){var P=wl,F=Ha;P=(F&~(1<<32-Ga(F)-1)).toString(32)+P,j=":"+j+"R"+P,P=Wc++,0<P&&(j+="H"+P.toString(32)),j+=":"}else P=fx++,j=":"+j+"r"+P.toString(32)+":";return v.memoizedState=j},unstable_isNewReconciler:!1},Nm={readContext:ks,useCallback:Sm,useContext:ks,useEffect:Gf,useImperativeHandle:wx,useInsertionEffect:wm,useLayoutEffect:bx,useMemo:jx,useReducer:xx,useRef:qo,useState:function(){return xx(Gu)},useDebugValue:jm,useDeferredValue:function(v){var j=Vo();return Yw(j,an.memoizedState,v)},useTransition:function(){var v=xx(Gu)[0],j=Vo().memoizedState;return[v,j]},useMutableSource:Av,useSyncExternalStore:kv,useId:Lv,unstable_isNewReconciler:!1},g_={readContext:ks,useCallback:Sm,useContext:ks,useEffect:Gf,useImperativeHandle:wx,useInsertionEffect:wm,useLayoutEffect:bx,useMemo:jx,useReducer:yx,useRef:qo,useState:function(){return yx(Gu)},useDebugValue:jm,useDeferredValue:function(v){var j=Vo();return an===null?j.memoizedState=v:Yw(j,an.memoizedState,v)},useTransition:function(){var v=yx(Gu)[0],j=Vo().memoizedState;return[v,j]},useMutableSource:Av,useSyncExternalStore:kv,useId:Lv,unstable_isNewReconciler:!1};function Xl(v,j){if(v&&v.defaultProps){j=a({},j),v=v.defaultProps;for(var P in v)j[P]===void 0&&(j[P]=v[P]);return j}return j}function Sx(v,j,P,F){j=v.memoizedState,P=P(F,j),P=P==null?j:a({},j,P),v.memoizedState=P,v.lanes===0&&(v.updateQueue.baseState=P)}var Nx={isMounted:function(v){return(v=v._reactInternals)?T(v)===v:!1},enqueueSetState:function(v,j,P){v=v._reactInternals;var F=ra(),H=Yu(v),te=wa(F,H);te.payload=j,P!=null&&(te.callback=P),j=ja(v,te,H),j!==null&&(Al(j,v,H,F),ql(j,v,H))},enqueueReplaceState:function(v,j,P){v=v._reactInternals;var F=ra(),H=Yu(v),te=wa(F,H);te.tag=1,te.payload=j,P!=null&&(te.callback=P),j=ja(v,te,H),j!==null&&(Al(j,v,H,F),ql(j,v,H))},enqueueForceUpdate:function(v,j){v=v._reactInternals;var P=ra(),F=Yu(v),H=wa(P,F);H.tag=2,j!=null&&(H.callback=j),j=ja(v,H,F),j!==null&&(Al(j,v,F,P),ql(j,v,F))}};function Qw(v,j,P,F,H,te,we){return v=v.stateNode,typeof v.shouldComponentUpdate=="function"?v.shouldComponentUpdate(F,te,we):j.prototype&&j.prototype.isPureReactComponent?!ho(P,F)||!ho(H,te):!0}function Jw(v,j,P){var F=!1,H=Ua,te=j.contextType;return typeof te=="object"&&te!==null?te=ks(te):(H=Js(j)?Go:ci.current,F=j.contextTypes,te=(F=F!=null)?Gs(v,H):Ua),j=new j(P,te),v.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Nx,v.stateNode=j,j._reactInternals=v,F&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=H,v.__reactInternalMemoizedMaskedChildContext=te),j}function ej(v,j,P,F){v=j.state,typeof j.componentWillReceiveProps=="function"&&j.componentWillReceiveProps(P,F),typeof j.UNSAFE_componentWillReceiveProps=="function"&&j.UNSAFE_componentWillReceiveProps(P,F),j.state!==v&&Nx.enqueueReplaceState(j,j.state,null)}function Gc(v,j,P,F){var H=v.stateNode;H.props=P,H.state=v.memoizedState,H.refs={},Va(v);var te=j.contextType;typeof te=="object"&&te!==null?H.context=ks(te):(te=Js(j)?Go:ci.current,H.context=Gs(v,te)),H.state=v.memoizedState,te=j.getDerivedStateFromProps,typeof te=="function"&&(Sx(v,j,te,P),H.state=v.memoizedState),typeof j.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(j=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),j!==H.state&&Nx.enqueueReplaceState(H,H.state,null),$u(v,P,H,F),H.state=v.memoizedState),typeof H.componentDidMount=="function"&&(v.flags|=4194308)}function Sa(v,j){try{var P="",F=j;do P+=Ou(F),F=F.return;while(F);var H=P}catch(te){H=`
Error generating stack: `+te.message+`
`+te.stack}return{value:v,source:j,stack:H,digest:null}}function Kl(v,j,P){return{value:v,source:null,stack:P??null,digest:j??null}}function Dv(v,j){try{console.error(j.value)}catch(P){setTimeout(function(){throw P})}}var tj=typeof WeakMap=="function"?WeakMap:Map;function Hu(v,j,P){P=wa(-1,P),P.tag=3,P.payload={element:null};var F=j.value;return P.callback=function(){Pm||(Pm=!0,Yf=F),Dv(v,j)},P}function Yo(v,j,P){P=wa(-1,P),P.tag=3;var F=v.type.getDerivedStateFromError;if(typeof F=="function"){var H=j.value;P.payload=function(){return F(H)},P.callback=function(){Dv(v,j)}}var te=v.stateNode;return te!==null&&typeof te.componentDidCatch=="function"&&(P.callback=function(){Dv(v,j),typeof F!="function"&&(Vc===null?Vc=new Set([this]):Vc.add(this));var we=j.stack;this.componentDidCatch(j.value,{componentStack:we!==null?we:""})}),P}function rj(v,j,P){var F=v.pingCache;if(F===null){F=v.pingCache=new tj;var H=new Set;F.set(j,H)}else H=F.get(j),H===void 0&&(H=new Set,F.set(j,H));H.has(P)||(H.add(P),v=Yie.bind(null,v,j,P),j.then(v,v))}function nj(v){do{var j;if((j=v.tag===13)&&(j=v.memoizedState,j=j!==null?j.dehydrated!==null:!0),j)return v;v=v.return}while(v!==null);return null}function Fv(v,j,P,F,H){return v.mode&1?(v.flags|=65536,v.lanes=H,v):(v===j?v.flags|=65536:(v.flags|=128,P.flags|=131072,P.flags&=-52805,P.tag===1&&(P.alternate===null?P.tag=17:(j=wa(-1,1),j.tag=2,ja(P,j,1))),P.lanes|=1),v)}var sj=l.ReactCurrentOwner,Ya=!1;function Na(v,j,P,F){j.child=v===null?Fu(j,null,P,F):jl(j,v.child,P,F)}function ij(v,j,P,F,H){P=P.render;var te=j.ref;return Bu(j,H),F=mx(v,j,P,F,te,H),P=gx(),v!==null&&!Ya?(j.updateQueue=v.updateQueue,j.flags&=-2053,v.lanes&=~H,V(v,j,H)):(gt&&P&&_e(j),j.flags|=1,Na(v,j,F,H),j.child)}function Cm(v,j,P,F,H){if(v===null){var te=P.type;return typeof te=="function"&&!v_(te)&&te.defaultProps===void 0&&P.compare===null&&P.defaultProps===void 0?(j.tag=15,j.type=te,_m(v,j,te,F,H)):(v=fj(P.type,null,F,j,j.mode,H),v.ref=j.ref,v.return=j,j.child=v)}if(te=v.child,!(v.lanes&H)){var we=te.memoizedProps;if(P=P.compare,P=P!==null?P:ho,P(we,F)&&v.ref===j.ref)return V(v,j,H)}return j.flags|=1,v=Zf(te,F),v.ref=j.ref,v.return=j,j.child=v}function _m(v,j,P,F,H){if(v!==null){var te=v.memoizedProps;if(ho(te,F)&&v.ref===j.ref)if(Ya=!1,j.pendingProps=F=te,(v.lanes&H)!==0)v.flags&131072&&(Ya=!0);else return j.lanes=v.lanes,V(v,j,H)}return Bv(v,j,P,F,H)}function Vf(v,j,P){var F=j.pendingProps,H=F.children,te=v!==null?v.memoizedState:null;if(F.mode==="hidden")if(!(j.mode&1))j.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(Vu,Qa),Qa|=P;else{if(!(P&1073741824))return v=te!==null?te.baseLanes|P:P,j.lanes=j.childLanes=1073741824,j.memoizedState={baseLanes:v,cachePool:null,transitions:null},j.updateQueue=null,un(Vu,Qa),Qa|=v,null;j.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=te!==null?te.baseLanes:P,un(Vu,Qa),Qa|=F}else te!==null?(F=te.baseLanes|P,j.memoizedState=null):F=P,un(Vu,Qa),Qa|=F;return Na(v,j,H,P),j.child}function Cx(v,j){var P=j.ref;(v===null&&P!==null||v!==null&&v.ref!==P)&&(j.flags|=512,j.flags|=2097152)}function Bv(v,j,P,F,H){var te=Js(P)?Go:ci.current;return te=Gs(j,te),Bu(j,H),P=mx(v,j,P,F,te,H),F=gx(),v!==null&&!Ya?(j.updateQueue=v.updateQueue,j.flags&=-2053,v.lanes&=~H,V(v,j,H)):(gt&&F&&_e(j),j.flags|=1,Na(v,j,P,H),j.child)}function $v(v,j,P,F,H){if(Js(P)){var te=!0;co(j)}else te=!1;if(Bu(j,H),j.stateNode===null)M(v,j),Jw(j,P,F),Gc(j,P,F,H),F=!0;else if(v===null){var we=j.stateNode,Ke=j.memoizedProps;we.props=Ke;var ht=we.context,$t=P.contextType;typeof $t=="object"&&$t!==null?$t=ks($t):($t=Js(P)?Go:ci.current,$t=Gs(j,$t));var gr=P.getDerivedStateFromProps,tn=typeof gr=="function"||typeof we.getSnapshotBeforeUpdate=="function";tn||typeof we.UNSAFE_componentWillReceiveProps!="function"&&typeof we.componentWillReceiveProps!="function"||(Ke!==F||ht!==$t)&&ej(j,we,F,$t),fo=!1;var rr=j.memoizedState;we.state=rr,$u(j,F,we,H),ht=j.memoizedState,Ke!==F||rr!==ht||gn.current||fo?(typeof gr=="function"&&(Sx(j,P,gr,F),ht=j.memoizedState),(Ke=fo||Qw(j,P,Ke,F,rr,ht,$t))?(tn||typeof we.UNSAFE_componentWillMount!="function"&&typeof we.componentWillMount!="function"||(typeof we.componentWillMount=="function"&&we.componentWillMount(),typeof we.UNSAFE_componentWillMount=="function"&&we.UNSAFE_componentWillMount()),typeof we.componentDidMount=="function"&&(j.flags|=4194308)):(typeof we.componentDidMount=="function"&&(j.flags|=4194308),j.memoizedProps=F,j.memoizedState=ht),we.props=F,we.state=ht,we.context=$t,F=Ke):(typeof we.componentDidMount=="function"&&(j.flags|=4194308),F=!1)}else{we=j.stateNode,po(v,j),Ke=j.memoizedProps,$t=j.type===j.elementType?Ke:Xl(j.type,Ke),we.props=$t,tn=j.pendingProps,rr=we.context,ht=P.contextType,typeof ht=="object"&&ht!==null?ht=ks(ht):(ht=Js(P)?Go:ci.current,ht=Gs(j,ht));var Ms=P.getDerivedStateFromProps;(gr=typeof Ms=="function"||typeof we.getSnapshotBeforeUpdate=="function")||typeof we.UNSAFE_componentWillReceiveProps!="function"&&typeof we.componentWillReceiveProps!="function"||(Ke!==tn||rr!==ht)&&ej(j,we,F,ht),fo=!1,rr=j.memoizedState,we.state=rr,$u(j,F,we,H);var ps=j.memoizedState;Ke!==tn||rr!==ps||gn.current||fo?(typeof Ms=="function"&&(Sx(j,P,Ms,F),ps=j.memoizedState),($t=fo||Qw(j,P,$t,F,rr,ps,ht)||!1)?(gr||typeof we.UNSAFE_componentWillUpdate!="function"&&typeof we.componentWillUpdate!="function"||(typeof we.componentWillUpdate=="function"&&we.componentWillUpdate(F,ps,ht),typeof we.UNSAFE_componentWillUpdate=="function"&&we.UNSAFE_componentWillUpdate(F,ps,ht)),typeof we.componentDidUpdate=="function"&&(j.flags|=4),typeof we.getSnapshotBeforeUpdate=="function"&&(j.flags|=1024)):(typeof we.componentDidUpdate!="function"||Ke===v.memoizedProps&&rr===v.memoizedState||(j.flags|=4),typeof we.getSnapshotBeforeUpdate!="function"||Ke===v.memoizedProps&&rr===v.memoizedState||(j.flags|=1024),j.memoizedProps=F,j.memoizedState=ps),we.props=F,we.state=ps,we.context=ht,F=$t):(typeof we.componentDidUpdate!="function"||Ke===v.memoizedProps&&rr===v.memoizedState||(j.flags|=4),typeof we.getSnapshotBeforeUpdate!="function"||Ke===v.memoizedProps&&rr===v.memoizedState||(j.flags|=1024),F=!1)}return zv(v,j,P,F,te,H)}function zv(v,j,P,F,H,te){Cx(v,j);var we=(j.flags&128)!==0;if(!F&&!we)return H&&Ph(j,P,!1),V(v,j,te);F=j.stateNode,sj.current=j;var Ke=we&&typeof P.getDerivedStateFromError!="function"?null:F.render();return j.flags|=1,v!==null&&we?(j.child=jl(j,v.child,null,te),j.child=jl(j,null,Ke,te)):Na(v,j,Ke,te),j.memoizedState=F.state,H&&Ph(j,P,!0),j.child}function aj(v){var j=v.stateNode;j.pendingContext?Wa(v,j.pendingContext,j.pendingContext!==j.context):j.context&&Wa(v,j.context,!1),Oh(v,j.containerInfo)}function oj(v,j,P,F,H){return fs(),_i(H),j.flags|=256,Na(v,j,P,F),j.child}var Uv={dehydrated:null,treeContext:null,retryLane:0};function Wv(v){return{baseLanes:v,cachePool:null,transitions:null}}function lj(v,j,P){var F=j.pendingProps,H=Rn.current,te=!1,we=(j.flags&128)!==0,Ke;if((Ke=we)||(Ke=v!==null&&v.memoizedState===null?!1:(H&2)!==0),Ke?(te=!0,j.flags&=-129):(v===null||v.memoizedState!==null)&&(H|=1),un(Rn,H&1),v===null)return hs(j),v=j.memoizedState,v!==null&&(v=v.dehydrated,v!==null)?(j.mode&1?lr(v)?j.lanes=8:j.lanes=1073741824:j.lanes=1,null):(we=F.children,v=F.fallback,te?(F=j.mode,te=j.child,we={mode:"hidden",children:we},!(F&1)&&te!==null?(te.childLanes=0,te.pendingProps=we):te=pj(we,F,0,null),v=Im(v,F,P,null),te.return=j,v.return=j,te.sibling=v,j.child=te,j.child.memoizedState=Wv(P),j.memoizedState=Uv,v):_x(j,we));if(H=v.memoizedState,H!==null&&(Ke=H.dehydrated,Ke!==null))return x_(v,j,we,F,Ke,H,P);if(te){te=F.fallback,we=j.mode,H=v.child,Ke=H.sibling;var ht={mode:"hidden",children:F.children};return!(we&1)&&j.child!==H?(F=j.child,F.childLanes=0,F.pendingProps=ht,j.deletions=null):(F=Zf(H,ht),F.subtreeFlags=H.subtreeFlags&14680064),Ke!==null?te=Zf(Ke,te):(te=Im(te,we,P,null),te.flags|=2),te.return=j,F.return=j,F.sibling=te,j.child=F,F=te,te=j.child,we=v.child.memoizedState,we=we===null?Wv(P):{baseLanes:we.baseLanes|P,cachePool:null,transitions:we.transitions},te.memoizedState=we,te.childLanes=v.childLanes&~P,j.memoizedState=Uv,F}return te=v.child,v=te.sibling,F=Zf(te,{mode:"visible",children:F.children}),!(j.mode&1)&&(F.lanes=P),F.return=j,F.sibling=null,v!==null&&(P=j.deletions,P===null?(j.deletions=[v],j.flags|=16):P.push(v)),j.child=F,j.memoizedState=null,F}function _x(v,j){return j=pj({mode:"visible",children:j},v.mode,0,null),j.return=v,v.child=j}function Dh(v,j,P,F){return F!==null&&_i(F),jl(j,v.child,null,P),v=_x(j,j.pendingProps.children),v.flags|=2,j.memoizedState=null,v}function x_(v,j,P,F,H,te,we){if(P)return j.flags&256?(j.flags&=-257,F=Kl(Error(o(422))),Dh(v,j,we,F)):j.memoizedState!==null?(j.child=v.child,j.flags|=128,null):(te=F.fallback,H=j.mode,F=pj({mode:"visible",children:F.children},H,0,null),te=Im(te,H,we,null),te.flags|=2,F.return=j,te.return=j,F.sibling=te,j.child=F,j.mode&1&&jl(j,v.child,null,we),j.child.memoizedState=Wv(we),j.memoizedState=Uv,te);if(!(j.mode&1))return Dh(v,j,we,null);if(lr(H))return F=br(H).digest,te=Error(o(419)),F=Kl(te,F,void 0),Dh(v,j,we,F);if(P=(we&v.childLanes)!==0,Ya||P){if(F=cs,F!==null){switch(we&-we){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}H=H&(F.suspendedLanes|we)?0:H,H!==0&&H!==te.retryLane&&(te.retryLane=H,Ki(v,H),Al(F,v,H,-1))}return Xc(),F=Kl(Error(o(421))),Dh(v,j,we,F)}return fr(H)?(j.flags|=128,j.child=v.child,j=Xie.bind(null,v),er(H,j),null):(v=te.treeContext,ve&&(pt=ya(H),qe=j,gt=!0,tr=null,sr=!1,v!==null&&(ui[di++]=Ha,ui[di++]=wl,ui[di++]=Rc,Ha=v.id,wl=v.overflow,Rc=j)),j=_x(j,F.children),j.flags|=4096,j)}function cj(v,j,P){v.lanes|=j;var F=v.alternate;F!==null&&(F.lanes|=j),Wd(v.return,j,P)}function Ax(v,j,P,F,H){var te=v.memoizedState;te===null?v.memoizedState={isBackwards:j,rendering:null,renderingStartTime:0,last:F,tail:P,tailMode:H}:(te.isBackwards=j,te.rendering=null,te.renderingStartTime=0,te.last=F,te.tail=P,te.tailMode=H)}function _(v,j,P){var F=j.pendingProps,H=F.revealOrder,te=F.tail;if(Na(v,j,F.children,P),F=Rn.current,F&2)F=F&1|2,j.flags|=128;else{if(v!==null&&v.flags&128)e:for(v=j.child;v!==null;){if(v.tag===13)v.memoizedState!==null&&cj(v,P,j);else if(v.tag===19)cj(v,P,j);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===j)break e;for(;v.sibling===null;){if(v.return===null||v.return===j)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}F&=1}if(un(Rn,F),!(j.mode&1))j.memoizedState=null;else switch(H){case"forwards":for(P=j.child,H=null;P!==null;)v=P.alternate,v!==null&&zc(v)===null&&(H=P),P=P.sibling;P=H,P===null?(H=j.child,j.child=null):(H=P.sibling,P.sibling=null),Ax(j,!1,H,P,te);break;case"backwards":for(P=null,H=j.child,j.child=null;H!==null;){if(v=H.alternate,v!==null&&zc(v)===null){j.child=H;break}v=H.sibling,H.sibling=P,P=H,H=v}Ax(j,!0,P,null,te);break;case"together":Ax(j,!1,null,null,void 0);break;default:j.memoizedState=null}return j.child}function M(v,j){!(j.mode&1)&&v!==null&&(v.alternate=null,j.alternate=null,j.flags|=2)}function V(v,j,P){if(v!==null&&(j.dependencies=v.dependencies),Fh|=j.lanes,!(P&j.childLanes))return null;if(v!==null&&j.child!==v.child)throw Error(o(153));if(j.child!==null){for(v=j.child,P=Zf(v,v.pendingProps),j.child=P,P.return=j;v.sibling!==null;)v=v.sibling,P=P.sibling=Zf(v,v.pendingProps),P.return=j;P.sibling=null}return j.child}function ee(v,j,P){switch(j.tag){case 3:aj(j),fs();break;case 5:zu(j);break;case 1:Js(j.type)&&co(j);break;case 4:Oh(j,j.stateNode.containerInfo);break;case 10:ba(j,j.type._context,j.memoizedProps.value);break;case 13:var F=j.memoizedState;if(F!==null)return F.dehydrated!==null?(un(Rn,Rn.current&1),j.flags|=128,null):P&j.child.childLanes?lj(v,j,P):(un(Rn,Rn.current&1),v=V(v,j,P),v!==null?v.sibling:null);un(Rn,Rn.current&1);break;case 19:if(F=(P&j.childLanes)!==0,v.flags&128){if(F)return _(v,j,P);j.flags|=128}var H=j.memoizedState;if(H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),un(Rn,Rn.current),F)break;return null;case 22:case 23:return j.lanes=0,Vf(v,j,P)}return V(v,j,P)}function ue(v){v.flags|=4}function me(v,j){if(v!==null&&v.child===j.child)return!0;if(j.flags&16)return!1;for(v=j.child;v!==null;){if(v.flags&12854||v.subtreeFlags&12854)return!1;v=v.sibling}return!0}var ge,ye,be,Ce;if(re)ge=function(v,j){for(var P=j.child;P!==null;){if(P.tag===5||P.tag===6)D(v,P.stateNode);else if(P.tag!==4&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===j)break;for(;P.sibling===null;){if(P.return===null||P.return===j)return;P=P.return}P.sibling.return=P.return,P=P.sibling}},ye=function(){},be=function(v,j,P,F,H){if(v=v.memoizedProps,v!==F){var te=j.stateNode,we=go(ri.current);P=ie(te,P,v,F,H,we),(j.updateQueue=P)&&ue(j)}},Ce=function(v,j,P,F){P!==F&&ue(j)};else if(le){ge=function(v,j,P,F){for(var H=j.child;H!==null;){if(H.tag===5){var te=H.stateNode;P&&F&&(te=vt(te,H.type,H.memoizedProps,H)),D(v,te)}else if(H.tag===6)te=H.stateNode,P&&F&&(te=Ct(te,H.memoizedProps,H)),D(v,te);else if(H.tag!==4){if(H.tag===22&&H.memoizedState!==null)te=H.child,te!==null&&(te.return=H),ge(v,H,!0,!0);else if(H.child!==null){H.child.return=H,H=H.child;continue}}if(H===j)break;for(;H.sibling===null;){if(H.return===null||H.return===j)return;H=H.return}H.sibling.return=H.return,H=H.sibling}};var Ue=function(v,j,P,F){for(var H=j.child;H!==null;){if(H.tag===5){var te=H.stateNode;P&&F&&(te=vt(te,H.type,H.memoizedProps,H)),Ut(v,te)}else if(H.tag===6)te=H.stateNode,P&&F&&(te=Ct(te,H.memoizedProps,H)),Ut(v,te);else if(H.tag!==4){if(H.tag===22&&H.memoizedState!==null)te=H.child,te!==null&&(te.return=H),Ue(v,H,!0,!0);else if(H.child!==null){H.child.return=H,H=H.child;continue}}if(H===j)break;for(;H.sibling===null;){if(H.return===null||H.return===j)return;H=H.return}H.sibling.return=H.return,H=H.sibling}};ye=function(v,j){var P=j.stateNode;if(!me(v,j)){v=P.containerInfo;var F=Qt(v);Ue(F,j,!1,!1),P.pendingChildren=F,ue(j),Zt(v,F)}},be=function(v,j,P,F,H){var te=v.stateNode,we=v.memoizedProps;if((v=me(v,j))&&we===F)j.stateNode=te;else{var Ke=j.stateNode,ht=go(ri.current),$t=null;we!==F&&($t=ie(Ke,P,we,F,H,ht)),v&&$t===null?j.stateNode=te:(te=It(te,$t,P,we,F,j,v,Ke),Z(te,P,F,H,ht)&&ue(j),j.stateNode=te,v?ue(j):ge(te,j,!1,!1))}},Ce=function(v,j,P,F){P!==F?(v=go(Fc.current),P=go(ri.current),j.stateNode=J(F,v,P,j),ue(j)):j.stateNode=v.stateNode}}else ye=function(){},be=function(){},Ce=function(){};function st(v,j){if(!gt)switch(v.tailMode){case"hidden":j=v.tail;for(var P=null;j!==null;)j.alternate!==null&&(P=j),j=j.sibling;P===null?v.tail=null:P.sibling=null;break;case"collapsed":P=v.tail;for(var F=null;P!==null;)P.alternate!==null&&(F=P),P=P.sibling;F===null?j||v.tail===null?v.tail=null:v.tail.sibling=null:F.sibling=null}}function Ne(v){var j=v.alternate!==null&&v.alternate.child===v.child,P=0,F=0;if(j)for(var H=v.child;H!==null;)P|=H.lanes|H.childLanes,F|=H.subtreeFlags&14680064,F|=H.flags&14680064,H.return=v,H=H.sibling;else for(H=v.child;H!==null;)P|=H.lanes|H.childLanes,F|=H.subtreeFlags,F|=H.flags,H.return=v,H=H.sibling;return v.subtreeFlags|=F,v.childLanes=P,j}function Ve(v,j,P){var F=j.pendingProps;switch(Be(j),j.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(j),null;case 1:return Js(j.type)&&Pu(),Ne(j),null;case 3:return P=j.stateNode,Bc(),Ln(gn),Ln(ci),Uu(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(v===null||v.child===null)&&(Yn(j)?ue(j):v===null||v.memoizedState.isDehydrated&&!(j.flags&256)||(j.flags|=1024,tr!==null&&(Tx(tr),tr=null))),ye(v,j),Ne(j),null;case 5:$c(j),P=go(Fc.current);var H=j.type;if(v!==null&&j.stateNode!=null)be(v,j,H,F,P),v.ref!==j.ref&&(j.flags|=512,j.flags|=2097152);else{if(!F){if(j.stateNode===null)throw Error(o(166));return Ne(j),null}if(v=go(ri.current),Yn(j)){if(!ve)throw Error(o(175));v=qi(j.stateNode,j.type,j.memoizedProps,P,v,j,!sr),j.updateQueue=v,v!==null&&ue(j)}else{var te=Y(H,F,P,v,j);ge(te,j,!1,!1),j.stateNode=te,Z(te,H,F,P,v)&&ue(j)}j.ref!==null&&(j.flags|=512,j.flags|=2097152)}return Ne(j),null;case 6:if(v&&j.stateNode!=null)Ce(v,j,v.memoizedProps,F);else{if(typeof F!="string"&&j.stateNode===null)throw Error(o(166));if(v=go(Fc.current),P=go(ri.current),Yn(j)){if(!ve)throw Error(o(176));if(v=j.stateNode,P=j.memoizedProps,(F=za(v,P,j,!sr))&&(H=qe,H!==null))switch(H.tag){case 3:Tc(H.stateNode.containerInfo,v,P,(H.mode&1)!==0);break;case 5:Bd(H.type,H.memoizedProps,H.stateNode,v,P,(H.mode&1)!==0)}F&&ue(j)}else j.stateNode=J(F,v,P,j)}return Ne(j),null;case 13:if(Ln(Rn),F=j.memoizedState,v===null||v.memoizedState!==null&&v.memoizedState.dehydrated!==null){if(gt&&pt!==null&&j.mode&1&&!(j.flags&128))hi(),fs(),j.flags|=98560,H=!1;else if(H=Yn(j),F!==null&&F.dehydrated!==null){if(v===null){if(!H)throw Error(o(318));if(!ve)throw Error(o(344));if(H=j.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(o(317));zo(H,j)}else fs(),!(j.flags&128)&&(j.memoizedState=null),j.flags|=4;Ne(j),H=!1}else tr!==null&&(Tx(tr),tr=null),H=!0;if(!H)return j.flags&65536?j:null}return j.flags&128?(j.lanes=P,j):(P=F!==null,P!==(v!==null&&v.memoizedState!==null)&&P&&(j.child.flags|=8192,j.mode&1&&(v===null||Rn.current&1?Is===0&&(Is=3):Xc())),j.updateQueue!==null&&(j.flags|=4),Ne(j),null);case 4:return Bc(),ye(v,j),v===null&&X(j.stateNode.containerInfo),Ne(j),null;case 10:return Vl(j.type._context),Ne(j),null;case 17:return Js(j.type)&&Pu(),Ne(j),null;case 19:if(Ln(Rn),H=j.memoizedState,H===null)return Ne(j),null;if(F=(j.flags&128)!==0,te=H.rendering,te===null)if(F)st(H,!1);else{if(Is!==0||v!==null&&v.flags&128)for(v=j.child;v!==null;){if(te=zc(v),te!==null){for(j.flags|=128,st(H,!1),v=te.updateQueue,v!==null&&(j.updateQueue=v,j.flags|=4),j.subtreeFlags=0,v=P,P=j.child;P!==null;)F=P,H=v,F.flags&=14680066,te=F.alternate,te===null?(F.childLanes=0,F.lanes=H,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=te.childLanes,F.lanes=te.lanes,F.child=te.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=te.memoizedProps,F.memoizedState=te.memoizedState,F.updateQueue=te.updateQueue,F.type=te.type,H=te.dependencies,F.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext}),P=P.sibling;return un(Rn,Rn.current&1|2),j.child}v=v.sibling}H.tail!==null&&ar()>kx&&(j.flags|=128,F=!0,st(H,!1),j.lanes=4194304)}else{if(!F)if(v=zc(te),v!==null){if(j.flags|=128,F=!0,v=v.updateQueue,v!==null&&(j.updateQueue=v,j.flags|=4),st(H,!0),H.tail===null&&H.tailMode==="hidden"&&!te.alternate&&!gt)return Ne(j),null}else 2*ar()-H.renderingStartTime>kx&&P!==1073741824&&(j.flags|=128,F=!0,st(H,!1),j.lanes=4194304);H.isBackwards?(te.sibling=j.child,j.child=te):(v=H.last,v!==null?v.sibling=te:j.child=te,H.last=te)}return H.tail!==null?(j=H.tail,H.rendering=j,H.tail=j.sibling,H.renderingStartTime=ar(),j.sibling=null,v=Rn.current,un(Rn,F?v&1|2:v&1),j):(Ne(j),null);case 22:case 23:return Em(),P=j.memoizedState!==null,v!==null&&v.memoizedState!==null!==P&&(j.flags|=8192),P&&j.mode&1?Qa&1073741824&&(Ne(j),re&&j.subtreeFlags&6&&(j.flags|=8192)):Ne(j),null;case 24:return null;case 25:return null}throw Error(o(156,j.tag))}function tt(v,j){switch(Be(j),j.tag){case 1:return Js(j.type)&&Pu(),v=j.flags,v&65536?(j.flags=v&-65537|128,j):null;case 3:return Bc(),Ln(gn),Ln(ci),Uu(),v=j.flags,v&65536&&!(v&128)?(j.flags=v&-65537|128,j):null;case 5:return $c(j),null;case 13:if(Ln(Rn),v=j.memoizedState,v!==null&&v.dehydrated!==null){if(j.alternate===null)throw Error(o(340));fs()}return v=j.flags,v&65536?(j.flags=v&-65537|128,j):null;case 19:return Ln(Rn),null;case 4:return Bc(),null;case 10:return Vl(j.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var mt=!1,Qe=!1,bt=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Mt(v,j){var P=v.ref;if(P!==null)if(typeof P=="function")try{P(null)}catch(F){qs(v,j,F)}else P.current=null}function Et(v,j,P){try{P()}catch(F){qs(v,j,F)}}var wr=!1;function or(v,j){for(O(v.containerInfo),Ye=j;Ye!==null;)if(v=Ye,j=v.child,(v.subtreeFlags&1028)!==0&&j!==null)j.return=v,Ye=j;else for(;Ye!==null;){v=Ye;try{var P=v.alternate;if(v.flags&1024)switch(v.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var F=P.memoizedProps,H=P.memoizedState,te=v.stateNode,we=te.getSnapshotBeforeUpdate(v.elementType===v.type?F:Xl(v.type,F),H);te.__reactInternalSnapshotBeforeUpdate=we}break;case 3:re&&Vt(v.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ke){qs(v,v.return,Ke)}if(j=v.sibling,j!==null){j.return=v.return,Ye=j;break}Ye=v.return}return P=wr,wr=!1,P}function Wr(v,j,P){var F=j.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var H=F=F.next;do{if((H.tag&v)===v){var te=H.destroy;H.destroy=void 0,te!==void 0&&Et(j,P,te)}H=H.next}while(H!==F)}}function ur(v,j){if(j=j.updateQueue,j=j!==null?j.lastEffect:null,j!==null){var P=j=j.next;do{if((P.tag&v)===v){var F=P.create;P.destroy=F()}P=P.next}while(P!==j)}}function dn(v){var j=v.ref;if(j!==null){var P=v.stateNode;switch(v.tag){case 5:v=G(P);break;default:v=P}typeof j=="function"?j(v):j.current=v}}function pi(v){var j=v.alternate;j!==null&&(v.alternate=null,pi(j)),v.child=null,v.deletions=null,v.sibling=null,v.tag===5&&(j=v.stateNode,j!==null&&Pe(j)),v.stateNode=null,v.return=null,v.dependencies=null,v.memoizedProps=null,v.memoizedState=null,v.pendingProps=null,v.stateNode=null,v.updateQueue=null}function Qr(v){return v.tag===5||v.tag===3||v.tag===4}function mr(v){e:for(;;){for(;v.sibling===null;){if(v.return===null||Qr(v.return))return null;v=v.return}for(v.sibling.return=v.return,v=v.sibling;v.tag!==5&&v.tag!==6&&v.tag!==18;){if(v.flags&2||v.child===null||v.tag===4)continue e;v.child.return=v,v=v.child}if(!(v.flags&2))return v.stateNode}}function Xt(v,j,P){var F=v.tag;if(F===5||F===6)v=v.stateNode,j?lt(P,v,j):Re(P,v);else if(F!==4&&(v=v.child,v!==null))for(Xt(v,j,P),v=v.sibling;v!==null;)Xt(v,j,P),v=v.sibling}function Ps(v,j,P){var F=v.tag;if(F===5||F===6)v=v.stateNode,j?ot(P,v,j):Ee(P,v);else if(F!==4&&(v=v.child,v!==null))for(Ps(v,j,P),v=v.sibling;v!==null;)Ps(v,j,P),v=v.sibling}var jr=null,Vr=!1;function wn(v,j,P){for(P=P.child;P!==null;)Ai(v,j,P),P=P.sibling}function Ai(v,j,P){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(qn,P)}catch{}switch(P.tag){case 5:Qe||Mt(P,j);case 6:if(re){var F=jr,H=Vr;jr=null,wn(v,j,P),jr=F,Vr=H,jr!==null&&(Vr?Pt(jr,P.stateNode):yt(jr,P.stateNode))}else wn(v,j,P);break;case 18:re&&jr!==null&&(Vr?oo(jr,P.stateNode):Ni(jr,P.stateNode));break;case 4:re?(F=jr,H=Vr,jr=P.stateNode.containerInfo,Vr=!0,wn(v,j,P),jr=F,Vr=H):(le&&(F=P.stateNode.containerInfo,H=Qt(F),Te(F,H)),wn(v,j,P));break;case 0:case 11:case 14:case 15:if(!Qe&&(F=P.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){H=F=F.next;do{var te=H,we=te.destroy;te=te.tag,we!==void 0&&(te&2||te&4)&&Et(P,j,we),H=H.next}while(H!==F)}wn(v,j,P);break;case 1:if(!Qe&&(Mt(P,j),F=P.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=P.memoizedProps,F.state=P.memoizedState,F.componentWillUnmount()}catch(Ke){qs(P,j,Ke)}wn(v,j,P);break;case 21:wn(v,j,P);break;case 22:P.mode&1?(Qe=(F=Qe)||P.memoizedState!==null,wn(v,j,P),Qe=F):wn(v,j,P);break;default:wn(v,j,P)}}function Ca(v){var j=v.updateQueue;if(j!==null){v.updateQueue=null;var P=v.stateNode;P===null&&(P=v.stateNode=new bt),j.forEach(function(F){var H=Kie.bind(null,v,F);P.has(F)||(P.add(F),F.then(H,H))})}}function En(v,j){var P=j.deletions;if(P!==null)for(var F=0;F<P.length;F++){var H=P[F];try{var te=v,we=j;if(re){var Ke=we;e:for(;Ke!==null;){switch(Ke.tag){case 5:jr=Ke.stateNode,Vr=!1;break e;case 3:jr=Ke.stateNode.containerInfo,Vr=!0;break e;case 4:jr=Ke.stateNode.containerInfo,Vr=!0;break e}Ke=Ke.return}if(jr===null)throw Error(o(160));Ai(te,we,H),jr=null,Vr=!1}else Ai(te,we,H);var ht=H.alternate;ht!==null&&(ht.return=null),H.return=null}catch($t){qs(H,j,$t)}}if(j.subtreeFlags&12854)for(j=j.child;j!==null;)Ji(j,v),j=j.sibling}function Ji(v,j){var P=v.alternate,F=v.flags;switch(v.tag){case 0:case 11:case 14:case 15:if(En(j,v),vs(v),F&4){try{Wr(3,v,v.return),ur(3,v)}catch(rr){qs(v,v.return,rr)}try{Wr(5,v,v.return)}catch(rr){qs(v,v.return,rr)}}break;case 1:En(j,v),vs(v),F&512&&P!==null&&Mt(P,P.return);break;case 5:if(En(j,v),vs(v),F&512&&P!==null&&Mt(P,P.return),re){if(v.flags&32){var H=v.stateNode;try{ct(H)}catch(rr){qs(v,v.return,rr)}}if(F&4&&(H=v.stateNode,H!=null)){var te=v.memoizedProps;if(P=P!==null?P.memoizedProps:te,F=v.type,j=v.updateQueue,v.updateQueue=null,j!==null)try{ze(H,j,F,P,te,v)}catch(rr){qs(v,v.return,rr)}}}break;case 6:if(En(j,v),vs(v),F&4&&re){if(v.stateNode===null)throw Error(o(162));H=v.stateNode,te=v.memoizedProps,P=P!==null?P.memoizedProps:te;try{We(H,P,te)}catch(rr){qs(v,v.return,rr)}}break;case 3:if(En(j,v),vs(v),F&4){if(re&&ve&&P!==null&&P.memoizedState.isDehydrated)try{Uo(j.containerInfo)}catch(rr){qs(v,v.return,rr)}if(le){H=j.containerInfo,te=j.pendingChildren;try{Te(H,te)}catch(rr){qs(v,v.return,rr)}}}break;case 4:if(En(j,v),vs(v),F&4&&le){te=v.stateNode,H=te.containerInfo,te=te.pendingChildren;try{Te(H,te)}catch(rr){qs(v,v.return,rr)}}break;case 13:En(j,v),vs(v),H=v.child,H.flags&8192&&(te=H.memoizedState!==null,H.stateNode.isHidden=te,!te||H.alternate!==null&&H.alternate.memoizedState!==null||(Gv=ar())),F&4&&Ca(v);break;case 22:var we=P!==null&&P.memoizedState!==null;if(v.mode&1?(Qe=(P=Qe)||we,En(j,v),Qe=P):En(j,v),vs(v),F&8192){if(P=v.memoizedState!==null,(v.stateNode.isHidden=P)&&!we&&v.mode&1)for(Ye=v,F=v.child;F!==null;){for(j=Ye=F;Ye!==null;){we=Ye;var Ke=we.child;switch(we.tag){case 0:case 11:case 14:case 15:Wr(4,we,we.return);break;case 1:Mt(we,we.return);var ht=we.stateNode;if(typeof ht.componentWillUnmount=="function"){var $t=we,gr=we.return;try{var tn=$t;ht.props=tn.memoizedProps,ht.state=tn.memoizedState,ht.componentWillUnmount()}catch(rr){qs($t,gr,rr)}}break;case 5:Mt(we,we.return);break;case 22:if(we.memoizedState!==null){Es(j);continue}}Ke!==null?(Ke.return=we,Ye=Ke):Es(j)}F=F.sibling}if(re){e:if(F=null,re)for(j=v;;){if(j.tag===5){if(F===null){F=j;try{H=j.stateNode,P?zt(H):At(j.stateNode,j.memoizedProps)}catch(rr){qs(v,v.return,rr)}}}else if(j.tag===6){if(F===null)try{te=j.stateNode,P?jt(te):Ht(te,j.memoizedProps)}catch(rr){qs(v,v.return,rr)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===v)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===v)break e;for(;j.sibling===null;){if(j.return===null||j.return===v)break e;F===j&&(F=null),j=j.return}F===j&&(F=null),j.sibling.return=j.return,j=j.sibling}}}break;case 19:En(j,v),vs(v),F&4&&Ca(v);break;case 21:break;default:En(j,v),vs(v)}}function vs(v){var j=v.flags;if(j&2){try{if(re){e:{for(var P=v.return;P!==null;){if(Qr(P)){var F=P;break e}P=P.return}throw Error(o(160))}switch(F.tag){case 5:var H=F.stateNode;F.flags&32&&(ct(H),F.flags&=-33);var te=mr(v);Ps(v,te,H);break;case 3:case 4:var we=F.stateNode.containerInfo,Ke=mr(v);Xt(v,Ke,we);break;default:throw Error(o(161))}}}catch(ht){qs(v,v.return,ht)}v.flags&=-3}j&4096&&(v.flags&=-4097)}function ki(v,j,P){Ye=v,jn(v)}function jn(v,j,P){for(var F=(v.mode&1)!==0;Ye!==null;){var H=Ye,te=H.child;if(H.tag===22&&F){var we=H.memoizedState!==null||mt;if(!we){var Ke=H.alternate,ht=Ke!==null&&Ke.memoizedState!==null||Qe;Ke=mt;var $t=Qe;if(mt=we,(Qe=ht)&&!$t)for(Ye=H;Ye!==null;)we=Ye,ht=we.child,we.tag===22&&we.memoizedState!==null?Fn(H):ht!==null?(ht.return=we,Ye=ht):Fn(H);for(;te!==null;)Ye=te,jn(te),te=te.sibling;Ye=H,mt=Ke,Qe=$t}Dn(v)}else H.subtreeFlags&8772&&te!==null?(te.return=H,Ye=te):Dn(v)}}function Dn(v){for(;Ye!==null;){var j=Ye;if(j.flags&8772){var P=j.alternate;try{if(j.flags&8772)switch(j.tag){case 0:case 11:case 15:Qe||ur(5,j);break;case 1:var F=j.stateNode;if(j.flags&4&&!Qe)if(P===null)F.componentDidMount();else{var H=j.elementType===j.type?P.memoizedProps:Xl(j.type,P.memoizedProps);F.componentDidUpdate(H,P.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var te=j.updateQueue;te!==null&&Vs(j,te,F);break;case 3:var we=j.updateQueue;if(we!==null){if(P=null,j.child!==null)switch(j.child.tag){case 5:P=G(j.child.stateNode);break;case 1:P=j.child.stateNode}Vs(j,we,P)}break;case 5:var Ke=j.stateNode;P===null&&j.flags&4&&Ge(Ke,j.type,j.memoizedProps,j);break;case 6:break;case 4:break;case 12:break;case 13:if(ve&&j.memoizedState===null){var ht=j.alternate;if(ht!==null){var $t=ht.memoizedState;if($t!==null){var gr=$t.dehydrated;gr!==null&&Ec(gr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Qe||j.flags&512&&dn(j)}catch(tn){qs(j,j.return,tn)}}if(j===v){Ye=null;break}if(P=j.sibling,P!==null){P.return=j.return,Ye=P;break}Ye=j.return}}function Es(v){for(;Ye!==null;){var j=Ye;if(j===v){Ye=null;break}var P=j.sibling;if(P!==null){P.return=j.return,Ye=P;break}Ye=j.return}}function Fn(v){for(;Ye!==null;){var j=Ye;try{switch(j.tag){case 0:case 11:case 15:var P=j.return;try{ur(4,j)}catch(ht){qs(j,P,ht)}break;case 1:var F=j.stateNode;if(typeof F.componentDidMount=="function"){var H=j.return;try{F.componentDidMount()}catch(ht){qs(j,H,ht)}}var te=j.return;try{dn(j)}catch(ht){qs(j,te,ht)}break;case 5:var we=j.return;try{dn(j)}catch(ht){qs(j,we,ht)}}}catch(ht){qs(j,j.return,ht)}if(j===v){Ye=null;break}var Ke=j.sibling;if(Ke!==null){Ke.return=j.return,Ye=Ke;break}Ye=j.return}}var mi=0,xo=1,bs=2,ea=3,Bn=4;if(typeof Symbol=="function"&&Symbol.for){var Ts=Symbol.for;mi=Ts("selector.component"),xo=Ts("selector.has_pseudo_class"),bs=Ts("selector.role"),ea=Ts("selector.test_id"),Bn=Ts("selector.text")}function Xa(v){var j=fe(v);if(j!=null){if(typeof j.memoizedProps["data-testname"]!="string")throw Error(o(364));return j}if(v=Ie(v),v===null)throw Error(o(362));return v.stateNode.current}function ta(v,j){switch(j.$$typeof){case mi:if(v.type===j.value)return!0;break;case xo:e:{j=j.value,v=[v,0];for(var P=0;P<v.length;){var F=v[P++],H=v[P++],te=j[H];if(F.tag!==5||!ft(F)){for(;te!=null&&ta(F,te);)H++,te=j[H];if(H===j.length){j=!0;break e}else for(F=F.child;F!==null;)v.push(F,H),F=F.sibling}}j=!1}return j;case bs:if(v.tag===5&&Fe(v.stateNode,j.value))return!0;break;case Bn:if((v.tag===5||v.tag===6)&&(v=nt(v),v!==null&&0<=v.indexOf(j.value)))return!0;break;case ea:if(v.tag===5&&(v=v.memoizedProps["data-testname"],typeof v=="string"&&v.toLowerCase()===j.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Ka(v){switch(v.$$typeof){case mi:return"<"+(k(v.value)||"Unknown")+">";case xo:return":has("+(Ka(v)||"")+")";case bs:return'[role="'+v.value+'"]';case Bn:return'"'+v.value+'"';case ea:return'[data-testname="'+v.value+'"]';default:throw Error(o(365))}}function yo(v,j){var P=[];v=[v,0];for(var F=0;F<v.length;){var H=v[F++],te=v[F++],we=j[te];if(H.tag!==5||!ft(H)){for(;we!=null&&ta(H,we);)te++,we=j[te];if(te===j.length)P.push(H);else for(H=H.child;H!==null;)v.push(H,te),H=H.sibling}}return P}function _a(v,j){if(!Oe)throw Error(o(363));v=Xa(v),v=yo(v,j),j=[],v=Array.from(v);for(var P=0;P<v.length;){var F=v[P++];if(F.tag===5)ft(F)||j.push(F.stateNode);else for(F=F.child;F!==null;)v.push(F),F=F.sibling}return j}var Xo=Math.ceil,Xn=l.ReactCurrentDispatcher,Za=l.ReactCurrentOwner,In=l.ReactCurrentBatchConfig,qr=0,cs=null,pn=null,gi=0,Qa=0,Vu=Wo(0),Is=0,Am=null,Fh=0,qf=0,Hc=0,km=null,vo=null,Gv=0,kx=1/0,_l=null;function Bh(){kx=ar()+500}var Pm=!1,Yf=null,Vc=null,Hd=!1,qu=null,Px=0,Vd=0,Ex=null,Xf=-1,Zl=0;function ra(){return qr&6?ar():Xf!==-1?Xf:Xf=ar()}function Yu(v){return v.mode&1?qr&2&&gi!==0?gi&-gi:Mu.transition!==null?(Zl===0&&(Zl=zd()),Zl):(v=Le,v!==0?v:ce()):1}function Al(v,j,P,F){if(50<Vd)throw Vd=0,Ex=null,Error(o(185));Oc(v,P,F),(!(qr&2)||v!==cs)&&(v===cs&&(!(qr&2)&&(qf|=P),Is===4&&Xu(v,gi)),Ja(v,F),P===1&&qr===0&&!(j.mode&1)&&(Bh(),Tu&&Yi()))}function Ja(v,j){var P=v.callbackNode;zf(v,j);var F=Eu(v,v===cs?gi:0);if(F===0)P!==null&&cr(P),v.callbackNode=null,v.callbackPriority=0;else if(j=F&-F,v.callbackPriority!==j){if(P!=null&&cr(P),j===1)v.tag===0?Lc(uj.bind(null,v)):Gl(uj.bind(null,v)),ke?oe(function(){!(qr&6)&&Yi()}):kt(Qn,Yi),P=null;else{switch(Xe(F)){case 1:P=Qn;break;case 4:P=Jn;break;case 16:P=ei;break;case 536870912:P=Vn;break;default:P=ei}P=v7(P,$h.bind(null,v))}v.callbackPriority=j,v.callbackNode=P}}function $h(v,j){if(Xf=-1,Zl=0,qr&6)throw Error(o(327));var P=v.callbackNode;if(Tm()&&v.callbackNode!==P)return null;var F=Eu(v,v===cs?gi:0);if(F===0)return null;if(F&30||F&v.expiredLanes||j)j=zh(v,F);else{j=F;var H=qr;qr|=2;var te=Ku();(cs!==v||gi!==j)&&(_l=null,Bh(),qc(v,j));do try{dj();break}catch(Ke){Yc(v,Ke)}while(!0);Ih(),Xn.current=te,qr=H,pn!==null?j=0:(cs=null,gi=0,j=Is)}if(j!==0){if(j===2&&(H=Mc(v),H!==0&&(F=H,j=Hv(v,H))),j===1)throw P=Am,qc(v,0),Xu(v,F),Ja(v,ar()),P;if(j===6)Xu(v,F);else{if(H=v.current.alternate,!(F&30)&&!y_(H)&&(j=zh(v,F),j===2&&(te=Mc(v),te!==0&&(F=te,j=Hv(v,te))),j===1))throw P=Am,qc(v,0),Xu(v,F),Ja(v,ar()),P;switch(v.finishedWork=H,v.finishedLanes=F,j){case 0:case 1:throw Error(o(345));case 2:Zu(v,vo,_l);break;case 3:if(Xu(v,F),(F&130023424)===F&&(j=Gv+500-ar(),10<j)){if(Eu(v,0)!==0)break;if(H=v.suspendedLanes,(H&F)!==F){ra(),v.pingedLanes|=v.suspendedLanes&H;break}v.timeoutHandle=ae(Zu.bind(null,v,vo,_l),j);break}Zu(v,vo,_l);break;case 4:if(Xu(v,F),(F&4194240)===F)break;for(j=v.eventTimes,H=-1;0<F;){var we=31-Ga(F);te=1<<we,we=j[we],we>H&&(H=we),F&=~te}if(F=H,F=ar()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*Xo(F/1960))-F,10<F){v.timeoutHandle=ae(Zu.bind(null,v,vo,_l),F);break}Zu(v,vo,_l);break;case 5:Zu(v,vo,_l);break;default:throw Error(o(329))}}}return Ja(v,ar()),v.callbackNode===P?$h.bind(null,v):null}function Hv(v,j){var P=km;return v.current.memoizedState.isDehydrated&&(qc(v,j).flags|=256),v=zh(v,j),v!==2&&(j=vo,vo=P,j!==null&&Tx(j)),v}function Tx(v){vo===null?vo=v:vo.push.apply(vo,v)}function y_(v){for(var j=v;;){if(j.flags&16384){var P=j.updateQueue;if(P!==null&&(P=P.stores,P!==null))for(var F=0;F<P.length;F++){var H=P[F],te=H.getSnapshot;H=H.value;try{if(!$i(te(),H))return!1}catch{return!1}}}if(P=j.child,j.subtreeFlags&16384&&P!==null)P.return=j,j=P;else{if(j===v)break;for(;j.sibling===null;){if(j.return===null||j.return===v)return!0;j=j.return}j.sibling.return=j.return,j=j.sibling}}return!0}function Xu(v,j){for(j&=~Hc,j&=~qf,v.suspendedLanes|=j,v.pingedLanes&=~j,v=v.expirationTimes;0<j;){var P=31-Ga(j),F=1<<P;v[P]=-1,j&=~F}}function uj(v){if(qr&6)throw Error(o(327));Tm();var j=Eu(v,0);if(!(j&1))return Ja(v,ar()),null;var P=zh(v,j);if(v.tag!==0&&P===2){var F=Mc(v);F!==0&&(j=F,P=Hv(v,F))}if(P===1)throw P=Am,qc(v,0),Xu(v,j),Ja(v,ar()),P;if(P===6)throw Error(o(345));return v.finishedWork=v.current.alternate,v.finishedLanes=j,Zu(v,vo,_l),Ja(v,ar()),null}function Kf(v){qu!==null&&qu.tag===0&&!(qr&6)&&Tm();var j=qr;qr|=1;var P=In.transition,F=Le;try{if(In.transition=null,Le=1,v)return v()}finally{Le=F,In.transition=P,qr=j,!(qr&6)&&Yi()}}function Em(){Qa=Vu.current,Ln(Vu)}function qc(v,j){v.finishedWork=null,v.finishedLanes=0;var P=v.timeoutHandle;if(P!==se&&(v.timeoutHandle=se,ne(P)),pn!==null)for(P=pn.return;P!==null;){var F=P;switch(Be(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&Pu();break;case 3:Bc(),Ln(gn),Ln(ci),Uu();break;case 5:$c(F);break;case 4:Bc();break;case 13:Ln(Rn);break;case 19:Ln(Rn);break;case 10:Vl(F.type._context);break;case 22:case 23:Em()}P=P.return}if(cs=v,pn=v=Zf(v.current,null),gi=Qa=j,Is=0,Am=null,Hc=qf=Fh=0,vo=km=null,Ho!==null){for(j=0;j<Ho.length;j++)if(P=Ho[j],F=P.interleaved,F!==null){P.interleaved=null;var H=F.next,te=P.pending;if(te!==null){var we=te.next;te.next=H,F.next=we}P.pending=F}Ho=null}return v}function Yc(v,j){do{var P=pn;try{if(Ih(),qa.current=Hf,Cl){for(var F=$r.memoizedState;F!==null;){var H=F.queue;H!==null&&(H.pending=null),F=F.next}Cl=!1}if(hn=0,fn=an=$r=null,Wu=!1,Wc=0,Za.current=null,P===null||P.return===null){Is=1,Am=j,pn=null;break}e:{var te=v,we=P.return,Ke=P,ht=j;if(j=gi,Ke.flags|=32768,ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var $t=ht,gr=Ke,tn=gr.tag;if(!(gr.mode&1)&&(tn===0||tn===11||tn===15)){var rr=gr.alternate;rr?(gr.updateQueue=rr.updateQueue,gr.memoizedState=rr.memoizedState,gr.lanes=rr.lanes):(gr.updateQueue=null,gr.memoizedState=null)}var Ms=nj(we);if(Ms!==null){Ms.flags&=-257,Fv(Ms,we,Ke,te,j),Ms.mode&1&&rj(te,$t,j),j=Ms,ht=$t;var ps=j.updateQueue;if(ps===null){var kl=new Set;kl.add(ht),j.updateQueue=kl}else ps.add(ht);break e}else{if(!(j&1)){rj(te,$t,j),Xc();break e}ht=Error(o(426))}}else if(gt&&Ke.mode&1){var Uh=nj(we);if(Uh!==null){!(Uh.flags&65536)&&(Uh.flags|=256),Fv(Uh,we,Ke,te,j),_i(Sa(ht,Ke));break e}}te=ht=Sa(ht,Ke),Is!==4&&(Is=2),km===null?km=[te]:km.push(te),te=we;do{switch(te.tag){case 3:te.flags|=65536,j&=-j,te.lanes|=j;var ut=Hu(te,ht,j);Wf(te,ut);break e;case 1:Ke=ht;var et=te.type,xt=te.stateNode;if(!(te.flags&128)&&(typeof et.getDerivedStateFromError=="function"||xt!==null&&typeof xt.componentDidCatch=="function"&&(Vc===null||!Vc.has(xt)))){te.flags|=65536,j&=-j,te.lanes|=j;var nr=Yo(te,Ke,j);Wf(te,nr);break e}}te=te.return}while(te!==null)}Ix(P)}catch(Rr){j=Rr,pn===P&&P!==null&&(pn=P=P.return);continue}break}while(!0)}function Ku(){var v=Xn.current;return Xn.current=Hf,v===null?Hf:v}function Xc(){(Is===0||Is===3||Is===2)&&(Is=4),cs===null||!(Fh&268435455)&&!(qf&268435455)||Xu(cs,gi)}function zh(v,j){var P=qr;qr|=2;var F=Ku();(cs!==v||gi!==j)&&(_l=null,qc(v,j));do try{Vv();break}catch(H){Yc(v,H)}while(!0);if(Ih(),qr=P,Xn.current=F,pn!==null)throw Error(o(261));return cs=null,gi=0,Is}function Vv(){for(;pn!==null;)hj(pn)}function dj(){for(;pn!==null&&!pr();)hj(pn)}function hj(v){var j=y7(v.alternate,v,Qa);v.memoizedProps=v.pendingProps,j===null?Ix(v):pn=j,Za.current=null}function Ix(v){var j=v;do{var P=j.alternate;if(v=j.return,j.flags&32768){if(P=tt(P,j),P!==null){P.flags&=32767,pn=P;return}if(v!==null)v.flags|=32768,v.subtreeFlags=0,v.deletions=null;else{Is=6,pn=null;return}}else if(P=Ve(P,j,Qa),P!==null){pn=P;return}if(j=j.sibling,j!==null){pn=j;return}pn=j=v}while(j!==null);Is===0&&(Is=5)}function Zu(v,j,P){var F=Le,H=In.transition;try{In.transition=null,Le=1,qie(v,j,P,F)}finally{In.transition=H,Le=F}return null}function qie(v,j,P,F){do Tm();while(qu!==null);if(qr&6)throw Error(o(327));P=v.finishedWork;var H=v.finishedLanes;if(P===null)return null;if(v.finishedWork=null,v.finishedLanes=0,P===v.current)throw Error(o(177));v.callbackNode=null,v.callbackPriority=0;var te=P.lanes|P.childLanes;if(Se(v,te),v===cs&&(pn=cs=null,gi=0),!(P.subtreeFlags&2064)&&!(P.flags&2064)||Hd||(Hd=!0,v7(ei,function(){return Tm(),null})),te=(P.flags&15990)!==0,P.subtreeFlags&15990||te){te=In.transition,In.transition=null;var we=Le;Le=1;var Ke=qr;qr|=4,Za.current=null,or(v,P),Ji(P,v),K(v.containerInfo),v.current=P,ki(P),Jt(),qr=Ke,Le=we,In.transition=te}else v.current=P;if(Hd&&(Hd=!1,qu=v,Px=H),te=v.pendingLanes,te===0&&(Vc=null),es(P.stateNode),Ja(v,ar()),j!==null)for(F=v.onRecoverableError,P=0;P<j.length;P++)H=j[P],F(H.value,{componentStack:H.stack,digest:H.digest});if(Pm)throw Pm=!1,v=Yf,Yf=null,v;return Px&1&&v.tag!==0&&Tm(),te=v.pendingLanes,te&1?v===Ex?Vd++:(Vd=0,Ex=v):Vd=0,Yi(),null}function Tm(){if(qu!==null){var v=Xe(Px),j=In.transition,P=Le;try{if(In.transition=null,Le=16>v?16:v,qu===null)var F=!1;else{if(v=qu,qu=null,Px=0,qr&6)throw Error(o(331));var H=qr;for(qr|=4,Ye=v.current;Ye!==null;){var te=Ye,we=te.child;if(Ye.flags&16){var Ke=te.deletions;if(Ke!==null){for(var ht=0;ht<Ke.length;ht++){var $t=Ke[ht];for(Ye=$t;Ye!==null;){var gr=Ye;switch(gr.tag){case 0:case 11:case 15:Wr(8,gr,te)}var tn=gr.child;if(tn!==null)tn.return=gr,Ye=tn;else for(;Ye!==null;){gr=Ye;var rr=gr.sibling,Ms=gr.return;if(pi(gr),gr===$t){Ye=null;break}if(rr!==null){rr.return=Ms,Ye=rr;break}Ye=Ms}}}var ps=te.alternate;if(ps!==null){var kl=ps.child;if(kl!==null){ps.child=null;do{var Uh=kl.sibling;kl.sibling=null,kl=Uh}while(kl!==null)}}Ye=te}}if(te.subtreeFlags&2064&&we!==null)we.return=te,Ye=we;else e:for(;Ye!==null;){if(te=Ye,te.flags&2048)switch(te.tag){case 0:case 11:case 15:Wr(9,te,te.return)}var ut=te.sibling;if(ut!==null){ut.return=te.return,Ye=ut;break e}Ye=te.return}}var et=v.current;for(Ye=et;Ye!==null;){we=Ye;var xt=we.child;if(we.subtreeFlags&2064&&xt!==null)xt.return=we,Ye=xt;else e:for(we=et;Ye!==null;){if(Ke=Ye,Ke.flags&2048)try{switch(Ke.tag){case 0:case 11:case 15:ur(9,Ke)}}catch(Rr){qs(Ke,Ke.return,Rr)}if(Ke===we){Ye=null;break e}var nr=Ke.sibling;if(nr!==null){nr.return=Ke.return,Ye=nr;break e}Ye=Ke.return}}if(qr=H,Yi(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(qn,v)}catch{}F=!0}return F}finally{Le=P,In.transition=j}}return!1}function g7(v,j,P){j=Sa(P,j),j=Hu(v,j,1),v=ja(v,j,1),j=ra(),v!==null&&(Oc(v,1,j),Ja(v,j))}function qs(v,j,P){if(v.tag===3)g7(v,v,P);else for(;j!==null;){if(j.tag===3){g7(j,v,P);break}else if(j.tag===1){var F=j.stateNode;if(typeof j.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(Vc===null||!Vc.has(F))){v=Sa(P,v),v=Yo(j,v,1),j=ja(j,v,1),v=ra(),j!==null&&(Oc(j,1,v),Ja(j,v));break}}j=j.return}}function Yie(v,j,P){var F=v.pingCache;F!==null&&F.delete(j),j=ra(),v.pingedLanes|=v.suspendedLanes&P,cs===v&&(gi&P)===P&&(Is===4||Is===3&&(gi&130023424)===gi&&500>ar()-Gv?qc(v,0):Hc|=P),Ja(v,j)}function x7(v,j){j===0&&(v.mode&1?(j=vl,vl<<=1,!(vl&130023424)&&(vl=4194304)):j=1);var P=ra();v=Ki(v,j),v!==null&&(Oc(v,j,P),Ja(v,P))}function Xie(v){var j=v.memoizedState,P=0;j!==null&&(P=j.retryLane),x7(v,P)}function Kie(v,j){var P=0;switch(v.tag){case 13:var F=v.stateNode,H=v.memoizedState;H!==null&&(P=H.retryLane);break;case 19:F=v.stateNode;break;default:throw Error(o(314))}F!==null&&F.delete(j),x7(v,P)}var y7;y7=function(v,j,P){if(v!==null)if(v.memoizedProps!==j.pendingProps||gn.current)Ya=!0;else{if(!(v.lanes&P)&&!(j.flags&128))return Ya=!1,ee(v,j,P);Ya=!!(v.flags&131072)}else Ya=!1,gt&&j.flags&1048576&&de(j,Eh,j.index);switch(j.lanes=0,j.tag){case 2:var F=j.type;M(v,j),v=j.pendingProps;var H=Gs(j,ci.current);Bu(j,P),H=mx(null,j,F,v,H,P);var te=gx();return j.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(j.tag=1,j.memoizedState=null,j.updateQueue=null,Js(F)?(te=!0,co(j)):te=!1,j.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,Va(j),H.updater=Nx,j.stateNode=H,H._reactInternals=j,Gc(j,F,v,P),j=zv(null,j,F,!0,te,P)):(j.tag=0,gt&&te&&_e(j),Na(null,j,H,P),j=j.child),j;case 16:F=j.elementType;e:{switch(M(v,j),v=j.pendingProps,H=F._init,F=H(F._payload),j.type=F,H=j.tag=Qie(F),v=Xl(F,v),H){case 0:j=Bv(null,j,F,v,P);break e;case 1:j=$v(null,j,F,v,P);break e;case 11:j=ij(null,j,F,v,P);break e;case 14:j=Cm(null,j,F,Xl(F.type,v),P);break e}throw Error(o(306,F,""))}return j;case 0:return F=j.type,H=j.pendingProps,H=j.elementType===F?H:Xl(F,H),Bv(v,j,F,H,P);case 1:return F=j.type,H=j.pendingProps,H=j.elementType===F?H:Xl(F,H),$v(v,j,F,H,P);case 3:e:{if(aj(j),v===null)throw Error(o(387));F=j.pendingProps,te=j.memoizedState,H=te.element,po(v,j),$u(j,F,null,P);var we=j.memoizedState;if(F=we.element,ve&&te.isDehydrated)if(te={element:F,isDehydrated:!1,cache:we.cache,pendingSuspenseBoundaries:we.pendingSuspenseBoundaries,transitions:we.transitions},j.updateQueue.baseState=te,j.memoizedState=te,j.flags&256){H=Sa(Error(o(423)),j),j=oj(v,j,F,P,H);break e}else if(F!==H){H=Sa(Error(o(424)),j),j=oj(v,j,F,P,H);break e}else for(ve&&(pt=Qs(j.stateNode.containerInfo),qe=j,gt=!0,tr=null,sr=!1),P=Fu(j,null,F,P),j.child=P;P;)P.flags=P.flags&-3|4096,P=P.sibling;else{if(fs(),F===H){j=V(v,j,P);break e}Na(v,j,F,P)}j=j.child}return j;case 5:return zu(j),v===null&&hs(j),F=j.type,H=j.pendingProps,te=v!==null?v.memoizedProps:null,we=H.children,he(F,H)?we=null:te!==null&&he(F,te)&&(j.flags|=32),Cx(v,j),Na(v,j,we,P),j.child;case 6:return v===null&&hs(j),null;case 13:return lj(v,j,P);case 4:return Oh(j,j.stateNode.containerInfo),F=j.pendingProps,v===null?j.child=jl(j,null,F,P):Na(v,j,F,P),j.child;case 11:return F=j.type,H=j.pendingProps,H=j.elementType===F?H:Xl(F,H),ij(v,j,F,H,P);case 7:return Na(v,j,j.pendingProps,P),j.child;case 8:return Na(v,j,j.pendingProps.children,P),j.child;case 12:return Na(v,j,j.pendingProps.children,P),j.child;case 10:e:{if(F=j.type._context,H=j.pendingProps,te=j.memoizedProps,we=H.value,ba(j,F,we),te!==null)if($i(te.value,we)){if(te.children===H.children&&!gn.current){j=V(v,j,P);break e}}else for(te=j.child,te!==null&&(te.return=j);te!==null;){var Ke=te.dependencies;if(Ke!==null){we=te.child;for(var ht=Ke.firstContext;ht!==null;){if(ht.context===F){if(te.tag===1){ht=wa(-1,P&-P),ht.tag=2;var $t=te.updateQueue;if($t!==null){$t=$t.shared;var gr=$t.pending;gr===null?ht.next=ht:(ht.next=gr.next,gr.next=ht),$t.pending=ht}}te.lanes|=P,ht=te.alternate,ht!==null&&(ht.lanes|=P),Wd(te.return,P,j),Ke.lanes|=P;break}ht=ht.next}}else if(te.tag===10)we=te.type===j.type?null:te.child;else if(te.tag===18){if(we=te.return,we===null)throw Error(o(341));we.lanes|=P,Ke=we.alternate,Ke!==null&&(Ke.lanes|=P),Wd(we,P,j),we=te.sibling}else we=te.child;if(we!==null)we.return=te;else for(we=te;we!==null;){if(we===j){we=null;break}if(te=we.sibling,te!==null){te.return=we.return,we=te;break}we=we.return}te=we}Na(v,j,H.children,P),j=j.child}return j;case 9:return H=j.type,F=j.pendingProps.children,Bu(j,P),H=ks(H),F=F(H),j.flags|=1,Na(v,j,F,P),j.child;case 14:return F=j.type,H=Xl(F,j.pendingProps),H=Xl(F.type,H),Cm(v,j,F,H,P);case 15:return _m(v,j,j.type,j.pendingProps,P);case 17:return F=j.type,H=j.pendingProps,H=j.elementType===F?H:Xl(F,H),M(v,j),j.tag=1,Js(F)?(v=!0,co(j)):v=!1,Bu(j,P),Jw(j,F,H),Gc(j,F,H,P),zv(null,j,F,!0,v,P);case 19:return _(v,j,P);case 22:return Vf(v,j,P)}throw Error(o(156,j.tag))};function v7(v,j){return kt(v,j)}function Zie(v,j,P,F){this.tag=v,this.key=P,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=j,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kc(v,j,P,F){return new Zie(v,j,P,F)}function v_(v){return v=v.prototype,!(!v||!v.isReactComponent)}function Qie(v){if(typeof v=="function")return v_(v)?1:0;if(v!=null){if(v=v.$$typeof,v===g)return 11;if(v===w)return 14}return 2}function Zf(v,j){var P=v.alternate;return P===null?(P=Kc(v.tag,j,v.key,v.mode),P.elementType=v.elementType,P.type=v.type,P.stateNode=v.stateNode,P.alternate=v,v.alternate=P):(P.pendingProps=j,P.type=v.type,P.flags=0,P.subtreeFlags=0,P.deletions=null),P.flags=v.flags&14680064,P.childLanes=v.childLanes,P.lanes=v.lanes,P.child=v.child,P.memoizedProps=v.memoizedProps,P.memoizedState=v.memoizedState,P.updateQueue=v.updateQueue,j=v.dependencies,P.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext},P.sibling=v.sibling,P.index=v.index,P.ref=v.ref,P}function fj(v,j,P,F,H,te){var we=2;if(F=v,typeof v=="function")v_(v)&&(we=1);else if(typeof v=="string")we=5;else e:switch(v){case d:return Im(P.children,H,te,j);case h:we=8,H|=8;break;case p:return v=Kc(12,P,j,H|2),v.elementType=p,v.lanes=te,v;case y:return v=Kc(13,P,j,H),v.elementType=y,v.lanes=te,v;case x:return v=Kc(19,P,j,H),v.elementType=x,v.lanes=te,v;case N:return pj(P,H,te,j);default:if(typeof v=="object"&&v!==null)switch(v.$$typeof){case f:we=10;break e;case m:we=9;break e;case g:we=11;break e;case w:we=14;break e;case S:we=16,F=null;break e}throw Error(o(130,v==null?v:typeof v,""))}return j=Kc(we,P,j,H),j.elementType=v,j.type=F,j.lanes=te,j}function Im(v,j,P,F){return v=Kc(7,v,F,j),v.lanes=P,v}function pj(v,j,P,F){return v=Kc(22,v,F,j),v.elementType=N,v.lanes=P,v.stateNode={isHidden:!1},v}function b_(v,j,P){return v=Kc(6,v,null,j),v.lanes=P,v}function w_(v,j,P){return j=Kc(4,v.children!==null?v.children:[],v.key,j),j.lanes=P,j.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation},j}function Jie(v,j,P,F,H){this.tag=j,this.containerInfo=v,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=se,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=F,this.onRecoverableError=H,ve&&(this.mutableSourceEagerHydrationData=null)}function b7(v,j,P,F,H,te,we,Ke,ht){return v=new Jie(v,j,P,Ke,ht),j===1?(j=1,te===!0&&(j|=8)):j=0,te=Kc(3,null,null,j),v.current=te,te.stateNode=v,te.memoizedState={element:F,isDehydrated:P,cache:null,transitions:null,pendingSuspenseBoundaries:null},Va(te),v}function w7(v){if(!v)return Ua;v=v._reactInternals;e:{if(T(v)!==v||v.tag!==1)throw Error(o(170));var j=v;do{switch(j.tag){case 3:j=j.stateNode.context;break e;case 1:if(Js(j.type)){j=j.stateNode.__reactInternalMemoizedMergedChildContext;break e}}j=j.return}while(j!==null);throw Error(o(171))}if(v.tag===1){var P=v.type;if(Js(P))return Hs(v,P,j)}return j}function j7(v){var j=v._reactInternals;if(j===void 0)throw typeof v.render=="function"?Error(o(188)):(v=Object.keys(v).join(","),Error(o(268,v)));return v=L(j),v===null?null:v.stateNode}function S7(v,j){if(v=v.memoizedState,v!==null&&v.dehydrated!==null){var P=v.retryLane;v.retryLane=P!==0&&P<j?P:j}}function mj(v,j){S7(v,j),(v=v.alternate)&&S7(v,j)}function eae(v){return v=L(v),v===null?null:v.stateNode}function tae(){return null}return r.attemptContinuousHydration=function(v){if(v.tag===13){var j=Ki(v,134217728);if(j!==null){var P=ra();Al(j,v,134217728,P)}mj(v,134217728)}},r.attemptDiscreteHydration=function(v){if(v.tag===13){var j=Ki(v,1);if(j!==null){var P=ra();Al(j,v,1,P)}mj(v,1)}},r.attemptHydrationAtCurrentPriority=function(v){if(v.tag===13){var j=Yu(v),P=Ki(v,j);if(P!==null){var F=ra();Al(P,v,j,F)}mj(v,j)}},r.attemptSynchronousHydration=function(v){switch(v.tag){case 3:var j=v.stateNode;if(j.current.memoizedState.isDehydrated){var P=uo(j.pendingLanes);P!==0&&(De(j,P|1),Ja(j,ar()),!(qr&6)&&(Bh(),Yi()))}break;case 13:Kf(function(){var F=Ki(v,1);if(F!==null){var H=ra();Al(F,v,1,H)}}),mj(v,1)}},r.batchedUpdates=function(v,j){var P=qr;qr|=1;try{return v(j)}finally{qr=P,qr===0&&(Bh(),Tu&&Yi())}},r.createComponentSelector=function(v){return{$$typeof:mi,value:v}},r.createContainer=function(v,j,P,F,H,te,we){return b7(v,j,!1,null,P,F,H,te,we)},r.createHasPseudoClassSelector=function(v){return{$$typeof:xo,value:v}},r.createHydrationContainer=function(v,j,P,F,H,te,we,Ke,ht){return v=b7(P,F,!0,v,H,te,we,Ke,ht),v.context=w7(null),P=v.current,F=ra(),H=Yu(P),te=wa(F,H),te.callback=j??null,ja(P,te,H),v.current.lanes=H,Oc(v,H,F),Ja(v,F),v},r.createPortal=function(v,j,P){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:F==null?null:""+F,children:v,containerInfo:j,implementation:P}},r.createRoleSelector=function(v){return{$$typeof:bs,value:v}},r.createTestNameSelector=function(v){return{$$typeof:ea,value:v}},r.createTextSelector=function(v){return{$$typeof:Bn,value:v}},r.deferredUpdates=function(v){var j=Le,P=In.transition;try{return In.transition=null,Le=16,v()}finally{Le=j,In.transition=P}},r.discreteUpdates=function(v,j,P,F,H){var te=Le,we=In.transition;try{return In.transition=null,Le=1,v(j,P,F,H)}finally{Le=te,In.transition=we,qr===0&&Bh()}},r.findAllNodes=_a,r.findBoundingRects=function(v,j){if(!Oe)throw Error(o(363));j=_a(v,j),v=[];for(var P=0;P<j.length;P++)v.push(He(j[P]));for(j=v.length-1;0<j;j--){P=v[j];for(var F=P.x,H=F+P.width,te=P.y,we=te+P.height,Ke=j-1;0<=Ke;Ke--)if(j!==Ke){var ht=v[Ke],$t=ht.x,gr=$t+ht.width,tn=ht.y,rr=tn+ht.height;if(F>=$t&&te>=tn&&H<=gr&&we<=rr){v.splice(j,1);break}else if(F!==$t||P.width!==ht.width||rr<te||tn>we){if(!(te!==tn||P.height!==ht.height||gr<F||$t>H)){$t>F&&(ht.width+=$t-F,ht.x=F),gr<H&&(ht.width=H-$t),v.splice(j,1);break}}else{tn>te&&(ht.height+=tn-te,ht.y=te),rr<we&&(ht.height=we-tn),v.splice(j,1);break}}}return v},r.findHostInstance=j7,r.findHostInstanceWithNoPortals=function(v){return v=I(v),v=v!==null?$(v):null,v===null?null:v.stateNode},r.findHostInstanceWithWarning=function(v){return j7(v)},r.flushControlled=function(v){var j=qr;qr|=1;var P=In.transition,F=Le;try{In.transition=null,Le=1,v()}finally{Le=F,In.transition=P,qr=j,qr===0&&(Bh(),Yi())}},r.flushPassiveEffects=Tm,r.flushSync=Kf,r.focusWithin=function(v,j){if(!Oe)throw Error(o(363));for(v=Xa(v),j=yo(v,j),j=Array.from(j),v=0;v<j.length;){var P=j[v++];if(!ft(P)){if(P.tag===5&&Ae(P.stateNode))return!0;for(P=P.child;P!==null;)j.push(P),P=P.sibling}}return!1},r.getCurrentUpdatePriority=function(){return Le},r.getFindAllNodesFailureDescription=function(v,j){if(!Oe)throw Error(o(363));var P=0,F=[];v=[Xa(v),0];for(var H=0;H<v.length;){var te=v[H++],we=v[H++],Ke=j[we];if((te.tag!==5||!ft(te))&&(ta(te,Ke)&&(F.push(Ka(Ke)),we++,we>P&&(P=we)),we<j.length))for(te=te.child;te!==null;)v.push(te,we),te=te.sibling}if(P<j.length){for(v=[];P<j.length;P++)v.push(Ka(j[P]));return`findAllNodes was able to match part of the selector:
  `+(F.join(" > ")+`

No matching component was found for:
  `)+v.join(" > ")}return null},r.getPublicRootInstance=function(v){if(v=v.current,!v.child)return null;switch(v.child.tag){case 5:return G(v.child.stateNode);default:return v.child.stateNode}},r.injectIntoDevTools=function(v){if(v={bundleType:v.bundleType,version:v.version,rendererPackageName:v.rendererPackageName,rendererConfig:v.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:eae,findFiberByHostInstance:v.findFiberByHostInstance||tae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")v=!1;else{var j=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(j.isDisabled||!j.supportsFiber)v=!0;else{try{qn=j.inject(v),Tn=j}catch{}v=!!j.checkDCE}}return v},r.isAlreadyRendering=function(){return!1},r.observeVisibleRects=function(v,j,P,F){if(!Oe)throw Error(o(363));v=_a(v,j);var H=it(v,P,F).disconnect;return{disconnect:function(){H()}}},r.registerMutableSourceForHydration=function(v,j){var P=j._getVersion;P=P(j._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[j,P]:v.mutableSourceEagerHydrationData.push(j,P)},r.runWithPriority=function(v,j){var P=Le;try{return Le=v,j()}finally{Le=P}},r.shouldError=function(){return null},r.shouldSuspend=function(){return!1},r.updateContainer=function(v,j,P,F){var H=j.current,te=ra(),we=Yu(H);return P=w7(P),j.context===null?j.context=P:j.pendingContext=P,j=wa(te,we),j.payload={element:v},F=F===void 0?null:F,F!==null&&(j.callback=F),v=ja(H,j,we),v!==null&&(Al(v,H,we,te),ql(v,H,we)),we},r};RK.exports=Ebe;var Tbe=RK.exports;const Ibe=On(Tbe);var FK={exports:{}},tx={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */tx.ConcurrentRoot=1;tx.ContinuousEventPriority=4;tx.DefaultEventPriority=16;tx.DiscreteEventPriority=1;tx.IdleEventPriority=536870912;tx.LegacyRoot=0;FK.exports=tx;var BK=FK.exports;const x9={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let y9=!1,v9=!1;const yM=".react-konva-event",Mbe=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Obe=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Lbe={};function Z3(t,e,r=Lbe){if(!y9&&"zIndex"in e&&(console.warn(Obe),y9=!0),!v9&&e.draggable){var n=e.x!==void 0||e.y!==void 0,s=e.onDragEnd||e.onDragMove;n&&!s&&(console.warn(Mbe),v9=!0)}for(var a in r)if(!x9[a]){var o=a.slice(0,2)==="on",l=r[a]!==e[a];if(o&&l){var c=a.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),t.off(c,r[a])}var u=!e.hasOwnProperty(a);u&&t.setAttr(a,void 0)}var d=e._useStrictMode,h={},p=!1;const f={};for(var a in e)if(!x9[a]){var o=a.slice(0,2)==="on",m=r[a]!==e[a];if(o&&m){var c=a.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),e[a]&&(f[c]=e[a])}!o&&(e[a]!==r[a]||d&&e[a]!==t.getAttr(a))&&(p=!0,h[a]=e[a])}p&&(t.setAttrs(h),fm(t));for(var c in f)t.on(c+yM,f[c])}function fm(t){if(!Kt.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var jA=DK();const $K={},Rbe={};Mg.Node.prototype._applyProps=Z3;function Dbe(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),fm(t)}function Fbe(t,e,r){let n=Mg[t];n||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),n=Mg.Group);const s={},a={};for(var o in e){var l=o.slice(0,2)==="on";l?a[o]=e[o]:s[o]=e[o]}const c=new n(s);return Z3(c,a),c}function Bbe(t,e,r){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function $be(t,e,r){return!1}function zbe(t){return t}function Ube(){return null}function Wbe(){return null}function Gbe(t,e,r,n){return Rbe}function Hbe(){}function Vbe(t){}function qbe(t,e){return!1}function Ybe(){return $K}function Xbe(){return $K}const Kbe=setTimeout,Zbe=clearTimeout,Qbe=-1;function Jbe(t,e){return!1}const e2e=!1,t2e=!0,r2e=!0;function n2e(t,e){e.parent===t?e.moveToTop():t.add(e),fm(t)}function s2e(t,e){e.parent===t?e.moveToTop():t.add(e),fm(t)}function zK(t,e,r){e._remove(),t.add(e),e.setZIndex(r.getZIndex()),fm(t)}function i2e(t,e,r){zK(t,e,r)}function a2e(t,e){e.destroy(),e.off(yM),fm(t)}function o2e(t,e){e.destroy(),e.off(yM),fm(t)}function l2e(t,e,r){console.error(`Text components are not yet supported in ReactKonva. You text is: "${r}"`)}function c2e(t,e,r){}function u2e(t,e,r,n,s){Z3(t,s,n)}function d2e(t){t.hide(),fm(t)}function h2e(t){}function f2e(t,e){(e.visible==null||e.visible)&&t.show()}function p2e(t,e){}function m2e(t){}function g2e(){}const x2e=()=>BK.DefaultEventPriority,y2e=Object.freeze(Object.defineProperty({__proto__:null,appendChild:n2e,appendChildToContainer:s2e,appendInitialChild:Dbe,cancelTimeout:Zbe,clearContainer:m2e,commitMount:c2e,commitTextUpdate:l2e,commitUpdate:u2e,createInstance:Fbe,createTextInstance:Bbe,detachDeletedInstance:g2e,finalizeInitialChildren:$be,getChildHostContext:Xbe,getCurrentEventPriority:x2e,getPublicInstance:zbe,getRootHostContext:Ybe,hideInstance:d2e,hideTextInstance:h2e,idlePriority:jA.unstable_IdlePriority,insertBefore:zK,insertInContainerBefore:i2e,isPrimaryRenderer:e2e,noTimeout:Qbe,now:jA.unstable_now,prepareForCommit:Ube,preparePortalMount:Wbe,prepareUpdate:Gbe,removeChild:a2e,removeChildFromContainer:o2e,resetAfterCommit:Hbe,resetTextContent:Vbe,run:jA.unstable_runWithPriority,scheduleTimeout:Kbe,shouldDeprioritizeSubtree:qbe,shouldSetTextContent:Jbe,supportsMutation:r2e,unhideInstance:f2e,unhideTextInstance:p2e,warnsIfNotActing:t2e},Symbol.toStringTag,{value:"Module"}));var v2e=Object.defineProperty,b2e=Object.defineProperties,w2e=Object.getOwnPropertyDescriptors,b9=Object.getOwnPropertySymbols,j2e=Object.prototype.hasOwnProperty,S2e=Object.prototype.propertyIsEnumerable,w9=(t,e,r)=>e in t?v2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,j9=(t,e)=>{for(var r in e||(e={}))j2e.call(e,r)&&w9(t,r,e[r]);if(b9)for(var r of b9(e))S2e.call(e,r)&&w9(t,r,e[r]);return t},N2e=(t,e)=>b2e(t,w2e(e)),S9,N9;typeof window<"u"&&((S9=window.document)!=null&&S9.createElement||((N9=window.navigator)==null?void 0:N9.product)==="ReactNative")?b.useLayoutEffect:b.useEffect;function UK(t,e,r){if(!t)return;if(r(t)===!0)return t;let n=t.child;for(;n;){const s=UK(n,e,r);if(s)return s;n=n.sibling}}function WK(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const C9=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=C9;return}return C9.apply(this,arguments)};const vM=WK(b.createContext(null));class GK extends b.Component{render(){return b.createElement(vM.Provider,{value:this._reactInternals},this.props.children)}}function C2e(){const t=b.useContext(vM);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=b.useId();return b.useMemo(()=>{for(const n of[t,t==null?void 0:t.alternate]){if(!n)continue;const s=UK(n,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(s)return s}},[t,e])}function _2e(){const t=C2e(),[e]=b.useState(()=>new Map);e.clear();let r=t;for(;r;){if(r.type&&typeof r.type=="object"){const s=r.type._context===void 0&&r.type.Provider===r.type?r.type:r.type._context;s&&s!==vM&&!e.has(s)&&e.set(s,b.useContext(WK(s)))}r=r.return}return e}function A2e(){const t=_2e();return b.useMemo(()=>Array.from(t.keys()).reduce((e,r)=>n=>b.createElement(e,null,b.createElement(r.Provider,N2e(j9({},n),{value:t.get(r)}))),e=>b.createElement(GK,j9({},e))),[t])}function k2e(t){const e=xe.useRef({});return xe.useLayoutEffect(()=>{e.current=t}),xe.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const P2e=t=>{const e=xe.useRef(null),r=xe.useRef(null),n=xe.useRef(null),s=k2e(t),a=A2e(),o=l=>{const{forwardedRef:c}=t;c&&(typeof c=="function"?c(l):c.current=l)};return xe.useLayoutEffect(()=>(r.current=new Mg.Stage({width:t.width,height:t.height,container:e.current}),o(r.current),n.current=U1.createContainer(r.current,BK.LegacyRoot,!1,null),U1.updateContainer(xe.createElement(a,{},t.children),n.current),()=>{Mg.isBrowser&&(o(null),U1.updateContainer(null,n.current,null),r.current.destroy())}),[]),xe.useLayoutEffect(()=>{o(r.current),Z3(r.current,t,s),U1.updateContainer(xe.createElement(a,{},t.children),n.current,null)}),xe.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},fb="Layer",jN="Group",ac="Rect",E2e="Circle",Pi="Line",pb="Image",ah="Text",T2e="TextPath",I2e="Shape",M2e="Transformer",U1=Ibe(y2e);U1.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:xe.version,rendererPackageName:"react-konva"});const bM=xe.forwardRef((t,e)=>xe.createElement(GK,{},xe.createElement(P2e,{...t,forwardedRef:e})));var HK=["PageUp","PageDown"],VK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qK={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},sv="Slider",[H6,O2e,L2e]=Wy(sv),[YK]=ma(sv,[L2e]),[R2e,Q3]=YK(sv),XK=b.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:f=!1,form:m,...g}=t,y=b.useRef(new Set),x=b.useRef(0),S=o==="horizontal"?D2e:F2e,[N=[],C]=cl({prop:d,defaultProp:u,onChange:I=>{var U;(U=[...y.current][x.current])==null||U.focus(),h(I)}}),A=b.useRef(N);function k(I){const L=W2e(N,I);R(I,L)}function E(I){R(I,x.current)}function T(){const I=A.current[x.current];N[x.current]!==I&&p(N)}function R(I,L,{commit:U}={commit:!1}){const $=q2e(a),q=Y2e(Math.round((I-n)/a)*a+n,$),G=l2(q,[n,s]);C((W=[])=>{const B=z2e(W,G,L);if(V2e(B,c*a)){x.current=B.indexOf(G);const O=String(B)!==String(W);return O&&U&&p(B),O?B:W}else return W})}return i.jsx(R2e,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:N,orientation:o,form:m,children:i.jsx(H6.Provider,{scope:t.__scopeSlider,children:i.jsx(H6.Slot,{scope:t.__scopeSlider,children:i.jsx(S,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:Ft(g.onPointerDown,()=>{l||(A.current=N)}),min:n,max:s,inverted:f,onSlideStart:l?void 0:k,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&R(n,0,{commit:!0}),onEndKeyDown:()=>!l&&R(s,N.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:L})=>{if(!l){const q=HK.includes(I.key)||I.shiftKey&&VK.includes(I.key)?10:1,G=x.current,W=N[G],B=a*q*L;R(W+B,G,{commit:!0})}}})})})})});XK.displayName=sv;var[KK,ZK]=YK(sv,{startEdge:"left",endEdge:"right",size:"width",direction:1}),D2e=b.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[h,p]=b.useState(null),f=Lr(e,S=>p(S)),m=b.useRef(void 0),g=am(s),y=g==="ltr",x=y&&!a||!y&&a;function w(S){const N=m.current||h.getBoundingClientRect(),C=[0,N.width],k=wM(C,x?[r,n]:[n,r]);return m.current=N,k(S-N.left)}return i.jsx(KK,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:i.jsx(QK,{dir:g,"data-orientation":"horizontal",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const N=w(S.clientX);o==null||o(N)},onSlideMove:S=>{const N=w(S.clientX);l==null||l(N)},onSlideEnd:()=>{m.current=void 0,c==null||c()},onStepKeyDown:S=>{const C=qK[x?"from-left":"from-right"].includes(S.key);u==null||u({event:S,direction:C?-1:1})}})})}),F2e=b.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=b.useRef(null),h=Lr(e,d),p=b.useRef(void 0),f=!s;function m(g){const y=p.current||d.current.getBoundingClientRect(),x=[0,y.height],S=wM(x,f?[n,r]:[r,n]);return p.current=y,S(g-y.top)}return i.jsx(KK,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:i.jsx(QK,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=m(g.clientY);a==null||a(y)},onSlideMove:g=>{const y=m(g.clientY);o==null||o(y)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:g=>{const x=qK[f?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:x?-1:1})}})})}),QK=b.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=Q3(sv,r);return i.jsx(ir.span,{...u,ref:e,onKeyDown:Ft(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):HK.concat(VK).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Ft(t.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(p)?p.focus():n(h)}),onPointerMove:Ft(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:Ft(t.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),a(h))})})}),JK="SliderTrack",eZ=b.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=Q3(JK,r);return i.jsx(ir.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});eZ.displayName=JK;var V6="SliderRange",tZ=b.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=Q3(V6,r),a=ZK(V6,r),o=b.useRef(null),l=Lr(e,o),c=s.values.length,u=s.values.map(p=>sZ(p,s.min,s.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return i.jsx(ir.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...t.style,[a.startEdge]:d+"%",[a.endEdge]:h+"%"}})});tZ.displayName=V6;var q6="SliderThumb",rZ=b.forwardRef((t,e)=>{const r=O2e(t.__scopeSlider),[n,s]=b.useState(null),a=Lr(e,l=>s(l)),o=b.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(B2e,{...t,ref:a,index:o})}),B2e=b.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...a}=t,o=Q3(q6,r),l=ZK(q6,r),[c,u]=b.useState(null),d=Lr(e,w=>u(w)),h=c?o.form||!!c.closest("form"):!0,p=yw(c),f=o.values[n],m=f===void 0?0:sZ(f,o.min,o.max),g=U2e(n,o.values.length),y=p==null?void 0:p[l.size],x=y?G2e(y,m,l.direction):0;return b.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${m}% + ${x}px)`},children:[i.jsx(H6.ItemSlot,{scope:t.__scopeSlider,children:i.jsx(ir.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:f===void 0?{display:"none"}:t.style,onFocus:Ft(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),h&&i.jsx(nZ,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},n)]})});rZ.displayName=q6;var $2e="RadioBubbleInput",nZ=b.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const s=b.useRef(null),a=Lr(s,n),o=jw(e);return b.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const h=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[o,e]),i.jsx(ir.input,{style:{display:"none"},...r,ref:a,defaultValue:e})});nZ.displayName=$2e;function z2e(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,a)=>s-a)}function sZ(t,e,r){const a=100/(r-e)*(t-e);return l2(a,[0,100])}function U2e(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function W2e(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function G2e(t,e,r){const n=t/2,a=wM([0,50],[0,n]);return(n-a(e)*r)*r}function H2e(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function V2e(t,e){if(e>0){const r=H2e(t);return Math.min(...r)>=e}return!0}function wM(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function q2e(t){return(String(t).split(".")[1]||"").length}function Y2e(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var iZ=XK,X2e=eZ,K2e=tZ,Z2e=rZ;const Pp=b.forwardRef(({className:t,...e},r)=>i.jsxs(iZ,{ref:r,className:dt("relative flex w-full touch-none select-none items-center",t),...e,children:[i.jsx(X2e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(K2e,{className:"absolute h-full bg-primary"})}),i.jsx(Z2e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Pp.displayName=iZ.displayName;var SA="rovingFocusGroup.onEntryFocus",Q2e={bubbles:!1,cancelable:!0},Pw="RovingFocusGroup",[Y6,aZ,J2e]=Wy(Pw),[ewe,iv]=ma(Pw,[J2e]),[twe,rwe]=ewe(Pw),oZ=b.forwardRef((t,e)=>i.jsx(Y6.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(Y6.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(nwe,{...t,ref:e})})}));oZ.displayName=Pw;var nwe=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=b.useRef(null),f=Lr(e,p),m=am(a),[g,y]=cl({prop:o,defaultProp:l??null,onChange:c,caller:Pw}),[x,w]=b.useState(!1),S=Li(u),N=aZ(r),C=b.useRef(!1),[A,k]=b.useState(0);return b.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(SA,S),()=>E.removeEventListener(SA,S)},[S]),i.jsx(twe,{scope:r,orientation:n,dir:m,loop:s,currentTabStopId:g,onItemFocus:b.useCallback(E=>y(E),[y]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:b.useCallback(()=>k(E=>E-1),[]),children:i.jsx(ir.div,{tabIndex:x||A===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:Ft(t.onMouseDown,()=>{C.current=!0}),onFocus:Ft(t.onFocus,E=>{const T=!C.current;if(E.target===E.currentTarget&&T&&!x){const R=new CustomEvent(SA,Q2e);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const I=N().filter(G=>G.focusable),L=I.find(G=>G.active),U=I.find(G=>G.id===g),q=[L,U,...I].filter(Boolean).map(G=>G.ref.current);uZ(q,d)}}C.current=!1}),onBlur:Ft(t.onBlur,()=>w(!1))})})}),lZ="RovingFocusGroupItem",cZ=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=t,c=vc(),u=a||c,d=rwe(lZ,r),h=d.currentTabStopId===u,p=aZ(r),{onFocusableItemAdd:f,onFocusableItemRemove:m,currentTabStopId:g}=d;return b.useEffect(()=>{if(n)return f(),()=>m()},[n,f,m]),i.jsx(Y6.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(ir.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Ft(t.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:Ft(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ft(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=awe(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=p().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")S.reverse();else if(x==="prev"||x==="next"){x==="prev"&&S.reverse();const N=S.indexOf(y.currentTarget);S=d.loop?owe(S,N+1):S.slice(N+1)}setTimeout(()=>uZ(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});cZ.displayName=lZ;var swe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iwe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function awe(t,e,r){const n=iwe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return swe[n]}function uZ(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function owe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var jM=oZ,SM=cZ,J3="Tabs",[lwe]=ma(J3,[iv]),dZ=iv(),[cwe,NM]=lwe(J3),hZ=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=am(l),[h,p]=cl({prop:n,onChange:s,defaultProp:a??"",caller:J3});return i.jsx(cwe,{scope:r,baseId:vc(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:c,children:i.jsx(ir.div,{dir:d,"data-orientation":o,...u,ref:e})})});hZ.displayName=J3;var fZ="TabsList",pZ=b.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=NM(fZ,r),o=dZ(r);return i.jsx(jM,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(ir.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});pZ.displayName=fZ;var mZ="TabsTrigger",gZ=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,o=NM(mZ,r),l=dZ(r),c=vZ(o.baseId,n),u=bZ(o.baseId,n),d=n===o.value;return i.jsx(SM,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(ir.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:e,onMouseDown:Ft(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Ft(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Ft(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(n)})})})});gZ.displayName=mZ;var xZ="TabsContent",yZ=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=t,l=NM(xZ,r),c=vZ(l.baseId,n),u=bZ(l.baseId,n),d=n===l.value,h=b.useRef(d);return b.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(Fa,{present:s||d,children:({present:p})=>i.jsx(ir.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});yZ.displayName=xZ;function vZ(t,e){return`${t}-trigger-${e}`}function bZ(t,e){return`${t}-content-${e}`}var uwe=hZ,wZ=pZ,jZ=gZ,SZ=yZ;const _c=uwe,Fl=b.forwardRef(({className:t,...e},r)=>i.jsx(wZ,{ref:r,className:dt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Fl.displayName=wZ.displayName;const Zr=b.forwardRef(({className:t,...e},r)=>i.jsx(jZ,{ref:r,className:dt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Zr.displayName=jZ.displayName;const sn=b.forwardRef(({className:t,...e},r)=>i.jsx(SZ,{ref:r,className:dt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));sn.displayName=SZ.displayName;var eC="Switch",[dwe]=ma(eC),[hwe,fwe]=dwe(eC),NZ=b.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[p,f]=b.useState(null),m=Lr(e,S=>f(S)),g=b.useRef(!1),y=p?d||!!p.closest("form"):!0,[x,w]=cl({prop:s,defaultProp:a??!1,onChange:u,caller:eC});return i.jsxs(hwe,{scope:r,checked:x,disabled:l,children:[i.jsx(ir.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":kZ(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:m,onClick:Ft(t.onClick,S=>{w(N=>!N),y&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),y&&i.jsx(AZ,{control:p,bubbles:!g.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});NZ.displayName=eC;var CZ="SwitchThumb",_Z=b.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=fwe(CZ,r);return i.jsx(ir.span,{"data-state":kZ(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});_Z.displayName=CZ;var pwe="SwitchBubbleInput",AZ=b.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},a)=>{const o=b.useRef(null),l=Lr(o,a),c=jw(r),u=yw(e);return b.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const m=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(m)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});AZ.displayName=pwe;function kZ(t){return t?"checked":"unchecked"}var PZ=NZ,mwe=_Z;const Xs=b.forwardRef(({className:t,...e},r)=>i.jsx(PZ,{className:dt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:i.jsx(mwe,{className:dt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Xs.displayName=PZ.displayName;const gwe=["Display","Handwriting","Monospace","Sans-serif","Serif"],xwe=[{family:"ABeeZee",category:"sans-serif",variants:["regular","italic"],subsets:["latin"],version:"v22",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/abeezee/v22/esDR31xSG-6AGleN6tKukbcHCpE.ttf"},kind:"webfonts#webfont"},{family:"Abel",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v18",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/abel/v18/MwQ5bhbm2POE6VhLPJp6qGI.ttf"},kind:"webfonts#webfont"},{family:"Abhaya Libre",category:"serif",variants:["regular","500","600","700","800"],subsets:["latin","sinhala"],version:"v13",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/abhayalibre/v13/e3tmeuGtX-Co5MNzeAOqinEge0PWovdU4w.ttf"},kind:"webfonts#webfont"},{family:"Abril Fatface",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v19",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/abrilfatface/v19/zOL64pLDlL1D99S8g8PtiKchm-BsjOLhZGY.ttf"},kind:"webfonts#webfont"},{family:"Acme",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v21",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/acme/v21/RrQfboBx-C5_bx3Lb23lzLk.ttf"},kind:"webfonts#webfont"},{family:"Actor",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v17",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/actor/v17/wEOzEBbCkc5cO3ekXygtUMIO.ttf"},kind:"webfonts#webfont"},{family:"Adamina",category:"serif",variants:["regular"],subsets:["latin"],version:"v18",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/adamina/v18/j8_r6-DH1sqP2zh-02coqg.ttf"},kind:"webfonts#webfont"},{family:"Advent Pro",category:"sans-serif",variants:["regular","100","200","300","400","500","600","700","800","900"],subsets:["latin","greek"],version:"v21",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/adventpro/v21/V8mDoQfxVT4Dvddr_yOwjVmtLZxcBtItFw.ttf"},kind:"webfonts#webfont"},{family:"Aladin",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v18",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/aladin/v18/ZgNSjPJFPrvJV5f16Df4.ttf"},kind:"webfonts#webfont"},{family:"Alata",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v11",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/alata/v11/PbytFmJtVnF7X9U.ttf"},kind:"webfonts#webfont"},{family:"Alex Brush",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v22",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/alexbrush/v22/SZc83FzrJKuqFbwMKk6EtUL57DtOmCc.ttf"},kind:"webfonts#webfont"},{family:"Alfa Slab One",category:"display",variants:["regular"],subsets:["latin","latin-ext","vietnamese"],version:"v16",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/alfaslabone/v16/6NUQ8FmM5DCryD-zKCwn7boO_v-s5Hw.ttf"},kind:"webfonts#webfont"},{family:"Alice",category:"serif",variants:["regular"],subsets:["latin","cyrillic","cyrillic-ext"],version:"v20",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/alice/v20/OpNCnoEEmtHa6FcJpA.ttf"},kind:"webfonts#webfont"},{family:"Anton",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext","vietnamese"],version:"v25",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/anton/v25/1Ptgg87LROyAm0K0.ttf"},kind:"webfonts#webfont"},{family:"Archivo Black",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v17",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/archivoblack/v17/HTxqL289NzCGg4MzN6KJ7eW6CYyF-g.ttf"},kind:"webfonts#webfont"},{family:"Arial",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v1",lastModified:"2023-09-21",files:{regular:""},kind:"webfonts#webfont"},{family:"Bangers",category:"display",variants:["regular"],subsets:["latin","latin-ext","vietnamese"],version:"v20",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/bangers/v20/FeVQS0BTqb0h60ACL5k.ttf"},kind:"webfonts#webfont"},{family:"Bebas Neue",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v9",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/bebasneue/v9/JTUSjIg69CK48gW7PXoo9WlhyyTh89Y.ttf"},kind:"webfonts#webfont"},{family:"Cabin",category:"sans-serif",variants:["regular","italic","500","600","700"],subsets:["latin","latin-ext","vietnamese"],version:"v26",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/cabin/v26/u-4X0qWljRw-PfU81xCJNc8.ttf"},kind:"webfonts#webfont"},{family:"Caveat",category:"handwriting",variants:["regular","500","600","700"],subsets:["latin","cyrillic","cyrillic-ext"],version:"v17",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/caveat/v17/Wnz6HAc5bAfYB2Q7ZjDgMw.ttf"},kind:"webfonts#webfont"},{family:"Cinzel",category:"serif",variants:["regular","500","600","700","800","900"],subsets:["latin","latin-ext"],version:"v19",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/cinzel/v19/8vIJ7ww63mVu7gt78Uk.ttf"},kind:"webfonts#webfont"},{family:"Comfortaa",category:"display",variants:["regular","300","500","600","700"],subsets:["latin","cyrillic","cyrillic-ext","greek","vietnamese"],version:"v40",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/comfortaa/v40/1Pt_g8LJRfWJmhDAuUsSQamb1W0.ttf"},kind:"webfonts#webfont"},{family:"Comic Neue",category:"handwriting",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v8",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/comicneue/v8/4UaHrEJDsxBrF37gZ_FqEA.ttf"},kind:"webfonts#webfont"},{family:"Courier New",category:"monospace",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v1",lastModified:"2023-09-21",files:{regular:""},kind:"webfonts#webfont"},{family:"Dancing Script",category:"handwriting",variants:["regular","500","600","700"],subsets:["latin","latin-ext","vietnamese"],version:"v24",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/dancingscript/v24/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50.ttf"},kind:"webfonts#webfont"},{family:"Droid Sans",category:"sans-serif",variants:["regular","700"],subsets:["latin"],version:"v18",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/droidsans/v18/SlGWmQ6kg7HAbF1W3Ao.ttf"},kind:"webfonts#webfont"},{family:"Droid Serif",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v19",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/droidserif/v19/tDbI2o2404EvIc497sl_sA.ttf"},kind:"webfonts#webfont"},{family:"EB Garamond",category:"serif",variants:["regular","italic","500","600","700","800"],subsets:["latin","cyrillic","cyrillic-ext","greek","greek-ext","vietnamese"],version:"v26",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/ebgaramond/v26/SlGDmQSNjdsmc35JDF1K5E55yQ.ttf"},kind:"webfonts#webfont"},{family:"Exo 2",category:"sans-serif",variants:["regular","italic","100","200","300","500","600","700","800","900"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext","vietnamese"],version:"v20",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/exo2/v20/7cH1v4okm5zmbhtOD56W.ttf"},kind:"webfonts#webfont"},{family:"Fjalla One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v15",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/fjallaone/v15/Yq6R-L391-bo_nRpC5Iz.ttf"},kind:"webfonts#webfont"},{family:"Francois One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext","vietnamese"],version:"v21",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/francoisone/v21/_Xmr-H4zsqg2sOQZk5I.ttf"},kind:"webfonts#webfont"},{family:"Georgia",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v1",lastModified:"2023-09-21",files:{regular:""},kind:"webfonts#webfont"},{family:"Great Vibes",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext","vietnamese"],version:"v14",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/greatvibes/v14/RWm99F8YmP_hO-D7yO3f5g.ttf"},kind:"webfonts#webfont"},{family:"Heebo",category:"sans-serif",variants:["regular","100","200","300","500","600","700","800","900"],subsets:["latin","hebrew"],version:"v22",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/heebo/v22/NGSpv5_NC0k9P9H0.ttf"},kind:"webfonts#webfont"},{family:"Helvetica",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v1",lastModified:"2023-09-21",files:{regular:""},kind:"webfonts#webfont"},{family:"Hind",category:"sans-serif",variants:["regular","300","500","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v16",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/hind/v16/5aU69_a8oxmIdGi4.ttf"},kind:"webfonts#webfont"},{family:"Inconsolata",category:"monospace",variants:["regular","200","300","400","500","600","700","800","900"],subsets:["latin","latin-ext","vietnamese"],version:"v31",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/inconsolata/v31/QldKNThLqRwH-OJ1UHjlKGlZ5qg.ttf"},kind:"webfonts#webfont"},{family:"Indie Flower",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v17",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/indieflower/v17/m8JVjfKrXd_fhX961l9n.ttf"},kind:"webfonts#webfont"},{family:"Inter",category:"sans-serif",variants:["regular","100","200","300","500","600","700","800","900"],subsets:["latin","cyrillic","cyrillic-ext","greek","greek-ext","latin-ext","vietnamese"],version:"v13",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZ9hjp-Ek-_EeA.ttf"},kind:"webfonts#webfont"},{family:"Josefin Sans",category:"sans-serif",variants:["regular","italic","100","200","300","400","500","600","700"],subsets:["latin","latin-ext","vietnamese"],version:"v26",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/josefinsans/v26/Qw3PZQNVED7rKGKxtqIqX5E-AVSJrOCfjY46_DjQbMZnTJAP.ttf"},kind:"webfonts#webfont"},{family:"Kanit",category:"sans-serif",variants:["regular","italic","100","200","300","400","500","600","700","800","900"],subsets:["latin","latin-ext","thai","vietnamese"],version:"v15",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/kanit/v15/nKKZ-Go6G5tXcr72.ttf"},kind:"webfonts#webfont"},{family:"Karla",category:"sans-serif",variants:["regular","italic","200","300","400","500","600","700","800"],subsets:["latin","latin-ext"],version:"v23",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/karla/v23/qkBIXvYC6trAT55y.ttf"},kind:"webfonts#webfont"},{family:"Lato",category:"sans-serif",variants:["regular","italic","100","300","400","700","900"],subsets:["latin","latin-ext"],version:"v24",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/lato/v24/S6uyw4BMUTPHjx4w.ttf"},kind:"webfonts#webfont"},{family:"Libre Baskerville",category:"serif",variants:["regular","italic","700"],subsets:["latin","latin-ext"],version:"v14",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/librebaskerville/v14/kmKnZrc3Hgbbcjq75U4uslyuy4kn0qvi.ttf"},kind:"webfonts#webfont"},{family:"Lobster",category:"display",variants:["regular"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext","vietnamese"],version:"v28",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/lobster/v28/neILzCirqoswsqX9_oU.ttf"},kind:"webfonts#webfont"},{family:"Lora",category:"serif",variants:["regular","italic","500","600","700"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext","vietnamese"],version:"v32",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/lora/v32/0QI6MX1D_JOuGQ.ttf"},kind:"webfonts#webfont"},{family:"Merriweather",category:"serif",variants:["regular","italic","300","400","700","900"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext","vietnamese"],version:"v30",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/merriweather/v30/u-440qyriQwlOrhSvowK_l5O.ttf"},kind:"webfonts#webfont"},{family:"Montserrat",category:"sans-serif",variants:["regular","italic","100","200","300","400","500","600","700","800","900"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext","vietnamese"],version:"v25",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/montserrat/v25/JTUSjIg1_i6t8kCHKm459WlhyyTh89Y.ttf"},kind:"webfonts#webfont"},{family:"Mukta",category:"sans-serif",variants:["regular","200","300","400","500","600","700","800"],subsets:["latin","devanagari","latin-ext"],version:"v13",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/mukta/v13/iJWHBXyIfDnIV7Fq.ttf"},kind:"webfonts#webfont"},{family:"Nunito",category:"sans-serif",variants:["regular","italic","200","300","400","500","600","700","800","900"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext","vietnamese"],version:"v25",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/nunito/v25/XRXV3I6Li01BKofINeaB.ttf"},kind:"webfonts#webfont"},{family:"Open Sans",category:"sans-serif",variants:["regular","italic","300","400","500","600","700","800"],subsets:["latin","cyrillic","cyrillic-ext","greek","greek-ext","hebrew","latin-ext","vietnamese"],version:"v35",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/opensans/v35/memSYaGs126MiZpBA-UvWnX83Nkc90df.ttf"},kind:"webfonts#webfont"},{family:"Oswald",category:"sans-serif",variants:["regular","200","300","400","500","600","700"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext","vietnamese"],version:"v49",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/oswald/v49/TK3iWkUHHAIjg752GT8.ttf"},kind:"webfonts#webfont"},{family:"Pacifico",category:"handwriting",variants:["regular"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext","vietnamese"],version:"v22",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/pacifico/v22/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.ttf"},kind:"webfonts#webfont"},{family:"Playfair Display",category:"serif",variants:["regular","italic","400","500","600","700","800","900"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext","vietnamese"],version:"v30",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/playfairdisplay/v30/nuFvD-vYSZviVYUb_rj3ij__anPXJzDwcbmjWbn2PKdFvXDXbtM.ttf"},kind:"webfonts#webfont"},{family:"Poppins",category:"sans-serif",variants:["regular","italic","100","200","300","400","500","600","700","800","900"],subsets:["latin","devanagari","latin-ext"],version:"v20",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrJJfecg.ttf"},kind:"webfonts#webfont"},{family:"PT Sans",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext"],version:"v17",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0KExQ.ttf"},kind:"webfonts#webfont"},{family:"PT Serif",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext"],version:"v17",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/ptserif/v17/EJRVQgYoZZY2vCFuvDFRxL6ddj0.ttf"},kind:"webfonts#webfont"},{family:"Quicksand",category:"sans-serif",variants:["regular","300","400","500","600","700"],subsets:["latin","latin-ext","vietnamese"],version:"v30",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/quicksand/v30/6xKtdSZaM9iE8KbpRA_hK1QN.ttf"},kind:"webfonts#webfont"},{family:"Raleway",category:"sans-serif",variants:["regular","italic","100","200","300","400","500","600","700","800","900"],subsets:["latin","cyrillic","cyrillic-ext","latin-ext","vietnamese"],version:"v28",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/raleway/v28/1Ptxg8zYS_SKggPN4iEgvnHyvveLxVvaorCIPrQ.ttf"},kind:"webfonts#webfont"},{family:"Roboto",category:"sans-serif",variants:["regular","italic","100","300","400","500","700","900"],subsets:["latin","cyrillic","cyrillic-ext","greek","greek-ext","latin-ext","vietnamese"],version:"v30",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxK.ttf"},kind:"webfonts#webfont"},{family:"Roboto Condensed",category:"sans-serif",variants:["regular","italic","300","400","700"],subsets:["latin","cyrillic","cyrillic-ext","greek","greek-ext","latin-ext","vietnamese"],version:"v25",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/robotocondensed/v25/ieVl2ZhZI2eCN5jzbjEETS9weq8-19K7DQ.ttf"},kind:"webfonts#webfont"},{family:"Roboto Mono",category:"monospace",variants:["regular","italic","100","200","300","400","500","600","700"],subsets:["latin","cyrillic","cyrillic-ext","greek","greek-ext","latin-ext","vietnamese"],version:"v22",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/robotomono/v22/L0x5DF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3v0.ttf"},kind:"webfonts#webfont"},{family:"Roboto Slab",category:"serif",variants:["regular","100","200","300","400","500","600","700","800","900"],subsets:["latin","cyrillic","cyrillic-ext","greek","greek-ext","latin-ext","vietnamese"],version:"v24",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/robotoslab/v24/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjojISmb2Rj.ttf"},kind:"webfonts#webfont"},{family:"Rubik",category:"sans-serif",variants:["regular","italic","300","400","500","600","700","800","900"],subsets:["latin","cyrillic","cyrillic-ext","hebrew","latin-ext"],version:"v26",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/rubik/v26/iJWZBXyIfDnIV5PNhY1KTN7Z-Yh-4I-1.ttf"},kind:"webfonts#webfont"},{family:"Shadows Into Light",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v19",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/shadowsintolight/v19/UZYxE8nEiSKt4P47_dES3JK6lEV80l7f8tZ9.ttf"},kind:"webfonts#webfont"},{family:"Source Sans Pro",category:"sans-serif",variants:["regular","italic","200","300","400","600","700","900"],subsets:["latin","cyrillic","cyrillic-ext","greek","greek-ext","latin-ext","vietnamese"],version:"v21",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/sourcesanspro/v21/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7l.ttf"},kind:"webfonts#webfont"},{family:"Space Mono",category:"monospace",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext","vietnamese"],version:"v12",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/spacemono/v12/i7dPIyWbdnLxvh7oxLUFor7r.ttf"},kind:"webfonts#webfont"},{family:"Times New Roman",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v1",lastModified:"2023-09-21",files:{regular:""},kind:"webfonts#webfont"},{family:"Titillium Web",category:"sans-serif",variants:["regular","italic","200","300","400","600","700","900"],subsets:["latin","latin-ext"],version:"v15",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/titilliumweb/v15/NaPecZYY42TL3M3B58JXr081.ttf"},kind:"webfonts#webfont"},{family:"Ubuntu",category:"sans-serif",variants:["regular","italic","300","400","500","700"],subsets:["latin","cyrillic","cyrillic-ext","greek","greek-ext","latin-ext"],version:"v20",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/ubuntu/v20/4iCs6KVjbNBYlgoKcg72nU6AF7xm.ttf"},kind:"webfonts#webfont"},{family:"Verdana",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v1",lastModified:"2023-09-21",files:{regular:""},kind:"webfonts#webfont"},{family:"Work Sans",category:"sans-serif",variants:["regular","italic","100","200","300","400","500","600","700","800","900"],subsets:["latin","latin-ext","vietnamese"],version:"v18",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/worksans/v18/QGY_z_wNahGAdqQ43RhVcIgYT2Xz5u32K0nMNWs.ttf"},kind:"webfonts#webfont"},{family:"Zilla Slab",category:"serif",variants:["regular","italic","300","400","500","600","700"],subsets:["latin","latin-ext"],version:"v11",lastModified:"2023-09-21",files:{regular:"http://fonts.gstatic.com/s/zillaslab/v11/dHOghGenyr-FhJhmdTPkf5vQ.ttf"},kind:"webfonts#webfont"}],ywe=({onAddText:t,onClose:e})=>{const[r,n]=b.useState(""),[s,a]=b.useState("All"),[o,l]=b.useState(new Set),[c,u]=b.useState(!1),d=b.useMemo(()=>xwe.filter(f=>{const m=f.family.toLowerCase().includes(r.toLowerCase()),g=s==="All"||f.category.toLowerCase()===s.toLowerCase();return m&&g}),[r,s]),h=f=>{const m=new Set(o);m.has(f)?m.delete(f):m.add(f),l(m)},p=()=>{const f=document.createElement("input");f.type="file",f.accept=".ttf,.otf,.woff,.woff2",f.onchange=m=>{var y;const g=(y=m.target.files)==null?void 0:y[0];g&&alert(`Mock upload: ${g.name} would be uploaded here.`)},f.click()};return i.jsxs("div",{className:"flex flex-col h-full bg-background",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Add text"}),i.jsx(pe,{variant:"ghost",size:"icon",onClick:e,children:i.jsx(Ri,{className:"w-5 h-5"})})]}),i.jsx(ul,{className:"flex-1",children:i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(rt,{placeholder:"Search",value:r,onChange:f=>n(f.target.value),className:"pl-9"})]}),i.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[i.jsx(je,{className:"text-sm font-medium",children:"Curved Text"}),i.jsx("span",{className:"text-xs text-primary cursor-pointer hover:underline",children:"Show more"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsx(pe,{variant:"outline",className:"h-20 p-1 flex flex-col items-center justify-center gap-1 hover:border-primary hover:bg-primary/5",onClick:()=>t("WYZ","Inter"),children:i.jsx("img",{src:"/images/texts/progress.png",alt:"progress",className:"w-20 h-20"})}),i.jsx(pe,{variant:"outline",className:"h-20 p-1 flex flex-col items-center justify-center gap-1 hover:border-primary hover:bg-primary/5",onClick:()=>t("REAL APPAREL CO.","Playfair Display"),children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-[10px] leading-tight",children:"REAL"}),i.jsx("div",{className:"text-[10px] font-serif leading-tight",children:"APPAREL"}),i.jsx("div",{className:"text-[8px] leading-tight",children:"CO."})]})}),i.jsx(pe,{variant:"outline",className:"h-20 p-1 flex flex-col items-center justify-center gap-1 hover:border-primary hover:bg-primary/5",onClick:()=>t("art lover boutique","Abril Fatface"),children:i.jsxs("div",{className:"text-center font-serif leading-tight",children:[i.jsx("div",{className:"text-[10px]",children:"art"}),i.jsx("div",{className:"text-[10px]",children:"lover"}),i.jsx("div",{className:"text-[10px]",children:"boutique"})]})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(je,{className:"text-sm font-medium",children:"My fonts"}),i.jsx(Ot,{className:"bg-cyan-100 text-cyan-700 hover:bg-cyan-200 text-[10px] h-5 px-1.5 border-none",children:"New"})]}),i.jsxs(pe,{variant:"outline",className:"w-full justify-center gap-2",onClick:p,children:[i.jsx(ll,{className:"w-4 h-4"}),"Upload font"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(je,{className:"text-sm font-medium",children:"Discover fonts"}),i.jsx("div",{className:"flex flex-wrap gap-2 overflow-x-auto",children:gwe.map(f=>i.jsx(Ot,{variant:s===f?"default":"outline",className:"cursor-pointer font-normal bg-[#f0f0f0] p-2 rounded-md",onClick:()=>a(s===f?"All":f),children:f},f))}),i.jsxs("div",{className:"space-y-1 pt-2",children:[d.slice(0,50).map(f=>i.jsxs("div",{className:"border-b last:border-0",children:[i.jsxs("button",{className:"w-full flex items-center justify-between py-3 hover:bg-muted/50 px-2 rounded-sm transition-colors text-left",onClick:()=>h(f.family),children:[i.jsx("span",{className:"font-medium text-sm",children:f.family}),i.jsx(gu,{className:`w-4 h-4 text-muted-foreground transition-transform ${o.has(f.family)?"rotate-180":""}`})]}),o.has(f.family)&&i.jsxs("div",{className:"pb-3 px-2 space-y-2 animate-in slide-in-from-top-2 duration-200",children:[i.jsx("div",{className:"h-16 bg-muted/30 rounded flex items-center justify-center border",children:i.jsx("span",{style:{fontFamily:f.family,fontSize:"24px"},className:"text-foreground",children:"Preview Text"})}),i.jsx(pe,{size:"sm",className:"w-full",onClick:()=>t("Enter text",f.family),children:"Use this font"})]})]},f.family)),d.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No fonts found matching your search."})]})]})]})})]})},_9=t=>{const e={black:"#000000",white:"#FFFFFF",red:"#FF0000",blue:"#0000FF",green:"#008000",yellow:"#FFFF00",orange:"#FFA500",purple:"#800080",pink:"#FFC0CB",brown:"#A52A2A",grey:"#808080",gray:"#808080",navy:"#000080",maroon:"#800000",olive:"#808000",lime:"#00FF00",aqua:"#00FFFF",teal:"#008080",silver:"#C0C0C0",gold:"#FFD700",beige:"#F5F5DC",tan:"#D2B48C",khaki:"#F0E68C",coral:"#FF7F50",salmon:"#FA8072",turquoise:"#40E0D0",lavender:"#E6E6FA",ivory:"#FFFFF0",cream:"#FFFDD0",mint:"#98FF98",peach:"#FFE5B4","cerulean frost":"#6D9BC3",cerulean:"#6D9BC3","cobalt blue":"#0047AB",amber:"#FFBF00",frosted:"#E8E8E8",natural:"#FAF0E6","beige-gray":"#9F9F9F",clear:"#FFFFFF",kraft:"#D4A574"},r=t.toLowerCase().trim();return e[r]||"#CCCCCC"},vwe=({product:t,isLoading:e,selectedColors:r=[],selectedSizes:n=[],selectedSizesByColor:s={},onColorToggle:a,onSizeToggle:o,onSizeToggleForColor:l,onPrimaryColorHexChange:c,selectedPlaceholderId:u,placeholders:d=[],designUrlsByPlaceholder:h={},displacementSettings:p,onDisplacementSettingsChange:f,PX_PER_INCH:m=10})=>{var E;const[g,y]=xe.useState(!1),[x,w]=xe.useState(null),S=b.useMemo(()=>{const T={};return t!=null&&t.variants&&t.variants.forEach(R=>{R.color&&R.colorHex&&(T[R.color]=R.colorHex)}),T},[t==null?void 0:t.variants]),N=b.useMemo(()=>{const T={};return t!=null&&t.variants&&t.variants.forEach(R=>{R.color&&R.size&&R.price!==void 0&&(T[R.color]||(T[R.color]={}),T[R.color][R.size]=R.price)}),T},[t==null?void 0:t.variants]);b.useMemo(()=>{var T,R,I;if(r.length>0){const L=r[0],U=s[L]||[];if(U.length>0){const $=(T=N[L])==null?void 0:T[U[0]];if($!==void 0)return $}if(n.length>0){const $=n[0],q=(R=N[L])==null?void 0:R[$];if(q!==void 0)return q}}return(I=t==null?void 0:t.catalogue)==null?void 0:I.basePrice},[r,n,s,N,(E=t==null?void 0:t.catalogue)==null?void 0:E.basePrice]),b.useMemo(()=>{var T,R;if(!(t!=null&&t.galleryImages)||t.galleryImages.length===0)return null;if(r.length>0){const I=t.galleryImages.find(L=>{var U;return((U=L.color)==null?void 0:U.toLowerCase())===r[0].toLowerCase()});if(I)return I.url}return((T=t.galleryImages.find(I=>I.isPrimary))==null?void 0:T.url)||((R=t.galleryImages[0])==null?void 0:R.url)},[t==null?void 0:t.galleryImages,r]),xe.useEffect(()=>{if(!c)return;const T=r[0];if(!T){c(null);return}const I=S[T]||_9(T);c(I)},[r,S,c]);const C=T=>{if(!(t!=null&&t.variants))return(t==null?void 0:t.availableSizes)||[];const R=new Set;return t.variants.forEach(I=>{I.color===T&&I.isActive!==!1&&R.add(I.size)}),Array.from(R).sort()},A=(T,R)=>{var I,L;return((I=N[T])==null?void 0:I[R])||((L=t==null?void 0:t.catalogue)==null?void 0:L.basePrice)};if(e)return i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!t)return i.jsx("div",{className:"text-center text-muted-foreground py-8",children:i.jsx("p",{children:"No product data available"})});const k=t.availableColors||[];return t.availableSizes,i.jsx("div",{className:"h-full overflow-y-auto",children:i.jsx("div",{className:"space-y-6 p-4",children:k.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(je,{className:"text-sm font-semibold uppercase text-foreground",children:"SELECT COLORS"}),r.length>0&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.length," selected"]})]}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:k.map((T,R)=>{const I=r.includes(T),L=S[T]||_9(T),U=x===T,$=C(T);return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:`
                        flex items-center gap-2 p-2 rounded-md border-2 transition-all
                        ${I?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-muted/50"}
                      `,children:[i.jsx(Un,{checked:I,onCheckedChange:()=>a==null?void 0:a(T),className:"cursor-pointer"}),i.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex-shrink-0",style:{backgroundColor:L,borderColor:T==="White"||T==="Clear"?"#E5E7EB":"rgba(0, 0, 0, 0.2)"}}),i.jsx("span",{className:"text-sm font-medium flex-1",children:T}),$.length>0&&i.jsx("button",{onClick:()=>w(U?null:T),className:"p-1 hover:bg-muted rounded",children:U?i.jsx(bV,{className:"h-4 w-4"}):i.jsx(gu,{className:"h-4 w-4"})})]}),U&&$.length>0&&i.jsx("div",{className:"ml-8 space-y-1.5 border-l-2 border-primary/20 pl-3",children:$.map((q,G)=>{const B=(s[T]||[]).includes(q),O=A(T,q);return i.jsxs("div",{className:`
                                flex items-center justify-between gap-2 p-1.5 rounded cursor-pointer transition-all
                                ${B?"bg-primary/10 border-l-2 border-primary pl-2":"hover:bg-muted/50"}
                              `,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Un,{checked:B,onCheckedChange:()=>{l?l(T,q):o==null||o(q)},className:"cursor-pointer"}),i.jsx("span",{className:"text-sm",children:q})]}),O!==void 0&&i.jsxs("span",{className:`text-sm font-semibold ${B?"text-primary":""}`,children:["$",O.toFixed(2)]})]},G)})})]},R)})})]})})})},bwe="modulepreload",wwe=function(t){return"/"+t},A9={},uf=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=wwe(c),c in A9)return;A9[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":bwe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};var Mr=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(Mr||{});const X6=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},r5=(t,e)=>X6(t).priority??e,so={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(X6).forEach(e=>{e.type.forEach(r=>{var n,s;return(s=(n=this._removeHandlers)[r])==null?void 0:s.call(n,e)})}),this},add(...t){return t.map(X6).forEach(e=>{e.type.forEach(r=>{var a,o;const n=this._addHandlers,s=this._queue;n[r]?(o=n[r])==null||o.call(n,e):(s[r]=s[r]||[],(a=s[r])==null||a.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,s=this._removeHandlers;if(n[t]||s[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,s[t]=r;const a=this._queue;return a[t]&&((o=a[t])==null||o.forEach(l=>e(l)),delete a[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByNamedList(t,e,r=-1){return this.handle(t,n=>{e.findIndex(a=>a.name===n.name)>=0||(e.push({name:n.name,value:n.ref}),e.sort((a,o)=>r5(o.value,r)-r5(a.value,r)))},n=>{const s=e.findIndex(a=>a.name===n.name);s!==-1&&e.splice(s,1)})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((s,a)=>r5(a,r)-r5(s,r)))},n=>{const s=e.indexOf(n.ref);s!==-1&&e.splice(s,1)})},mixin(t,...e){for(const r of e)Object.defineProperties(t.prototype,Object.getOwnPropertyDescriptors(r))}},jwe={extension:{type:Mr.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await uf(()=>import("./browserAll-Dafd0v4t.js"),__vite__mapDeps([0,1,2]))}},Swe={extension:{type:Mr.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await uf(()=>import("./webworkerAll-Befx4J3y.js"),__vite__mapDeps([1,2]))}};class Po{constructor(e,r,n){this._x=r||0,this._y=n||0,this._observer=e}clone(e){return new Po(e??this._observer,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var EZ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new s(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],f]:c._events[m].push(f):(c._events[m]=f,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,f=h.length,m=new Array(f);p<f;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,f,m){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,w,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,p),!0;case 5:return y.fn.call(y.context,d,h,p,f),!0;case 6:return y.fn.call(y.context,d,h,p,f,m),!0}for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];y.fn.apply(y.context,w)}else{var N=y.length,C;for(S=0;S<N;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),x){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,h);break;case 4:y[S].fn.call(y[S].context,d,h,p);break;default:if(!w)for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];y[S].fn.apply(y[S].context,w)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var f=r?r+u:u;if(!this._events[f])return this;if(!d)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&o(this,f);else{for(var g=0,y=[],x=m.length;g<x;g++)(m[g].fn!==d||p&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(EZ);var Nwe=EZ.exports;const Md=On(Nwe),Cwe=Math.PI*2,_we=180/Math.PI,Awe=Math.PI/180;class ro{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new ro(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return NA.x=0,NA.y=0,NA}}const NA=new ro;class yn{constructor(e=1,r=0,n=0,s=1,a=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=s,this.tx=a,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,s,a,o){return this.a=e,this.b=r,this.c=n,this.d=s,this.tx=a,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new ro;const n=e.x,s=e.y;return r.x=this.a*n+this.c*s+this.tx,r.y=this.b*n+this.d*s+this.ty,r}applyInverse(e,r){r=r||new ro;const n=this.a,s=this.b,a=this.c,o=this.d,l=this.tx,c=this.ty,u=1/(n*o+a*-s),d=e.x,h=e.y;return r.x=o*u*d+-a*u*h+(c*a-l*o)*u,r.y=n*u*h+-s*u*d+(-c*n+l*s)*u,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),s=this.a,a=this.c,o=this.tx;return this.a=s*r-this.b*n,this.b=s*n+this.b*r,this.c=a*r-this.d*n,this.d=a*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,s=this.c,a=this.d;return this.a=e.a*r+e.b*s,this.b=e.a*n+e.b*a,this.c=e.c*r+e.d*s,this.d=e.c*n+e.d*a,this.tx=e.tx*r+e.ty*s+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this}appendFrom(e,r){const n=e.a,s=e.b,a=e.c,o=e.d,l=e.tx,c=e.ty,u=r.a,d=r.b,h=r.c,p=r.d;return this.a=n*u+s*h,this.b=n*d+s*p,this.c=a*u+o*h,this.d=a*d+o*p,this.tx=l*u+c*h+r.tx,this.ty=l*d+c*p+r.ty,this}setTransform(e,r,n,s,a,o,l,c,u){return this.a=Math.cos(l+u)*a,this.b=Math.sin(l+u)*a,this.c=-Math.sin(l-c)*o,this.d=Math.cos(l-c)*o,this.tx=e-(n*this.a+s*this.c),this.ty=r-(n*this.b+s*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,s=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,s=this.c,a=this.d,o=e.pivot,l=-Math.atan2(-s,a),c=Math.atan2(n,r),u=Math.abs(l+c);return u<1e-5||Math.abs(Cwe-u)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(s*s+a*a),e.position.x=this.tx+(o.x*r+o.y*s),e.position.y=this.ty+(o.x*n+o.y*a),e}invert(){const e=this.a,r=this.b,n=this.c,s=this.d,a=this.tx,o=e*s-r*n;return this.a=s/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-s*a)/o,this.ty=-(e*this.ty-r*a)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new yn;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Pwe.identity()}static get shared(){return kwe.identity()}}const kwe=new yn,Pwe=new yn,zm=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Um=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Wm=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Gm=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],K6=[],TZ=[],n5=Math.sign;function Ewe(){for(let t=0;t<16;t++){const e=[];K6.push(e);for(let r=0;r<16;r++){const n=n5(zm[t]*zm[r]+Wm[t]*Um[r]),s=n5(Um[t]*zm[r]+Gm[t]*Um[r]),a=n5(zm[t]*Wm[r]+Wm[t]*Gm[r]),o=n5(Um[t]*Wm[r]+Gm[t]*Gm[r]);for(let l=0;l<16;l++)if(zm[l]===n&&Um[l]===s&&Wm[l]===a&&Gm[l]===o){e.push(l);break}}}for(let t=0;t<16;t++){const e=new yn;e.set(zm[t],Um[t],Wm[t],Gm[t],0,0),TZ.push(e)}}Ewe();const us={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>zm[t],uY:t=>Um[t],vX:t=>Wm[t],vY:t=>Gm[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>K6[t][e],sub:(t,e)=>K6[t][us.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?us.S:us.N:Math.abs(e)*2<=Math.abs(t)?t>0?us.E:us.W:e>0?t>0?us.SE:us.SW:t>0?us.NE:us.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const s=TZ[us.inv(e)];s.tx=r,s.ty=n,t.append(s)},transformRectCoords:(t,e,r,n)=>{const{x:s,y:a,width:o,height:l}=t,{x:c,y:u,width:d,height:h}=e;return r===us.E?(n.set(s+c,a+u,o,l),n):r===us.S?n.set(d-a-l+c,s+u,l,o):r===us.W?n.set(d-s-o+c,h-a-l+u,o,l):r===us.N?n.set(a+c,h-s-o+u,l,o):n.set(s+c,a+u,o,l)}},s5=[new ro,new ro,new ro,new ro];let Ra=class gS{constructor(e=0,r=0,n=0,s=0){this.type="rectangle",this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(s)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new gS(0,0,0,0)}clone(){return new gS(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}strokeContains(e,r,n,s=.5){const{width:a,height:o}=this;if(a<=0||o<=0)return!1;const l=this.x,c=this.y,u=n*(1-s),d=n-u,h=l-u,p=l+a+u,f=c-u,m=c+o+u,g=l+d,y=l+a-d,x=c+d,w=c+o-d;return e>=h&&e<=p&&r>=f&&r<=m&&!(e>g&&e<y&&r>x&&r<w)}intersects(e,r){if(!r){const E=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=E)return!1;const R=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>R}const n=this.left,s=this.right,a=this.top,o=this.bottom;if(s<=n||o<=a)return!1;const l=s5[0].set(e.left,e.top),c=s5[1].set(e.left,e.bottom),u=s5[2].set(e.right,e.top),d=s5[3].set(e.right,e.bottom);if(u.x<=l.x||c.y<=l.y)return!1;const h=Math.sign(r.a*r.d-r.b*r.c);if(h===0||(r.apply(l,l),r.apply(c,c),r.apply(u,u),r.apply(d,d),Math.max(l.x,c.x,u.x,d.x)<=n||Math.min(l.x,c.x,u.x,d.x)>=s||Math.max(l.y,c.y,u.y,d.y)<=a||Math.min(l.y,c.y,u.y,d.y)>=o))return!1;const p=h*(c.y-l.y),f=h*(l.x-c.x),m=p*n+f*a,g=p*s+f*a,y=p*n+f*o,x=p*s+f*o;if(Math.max(m,g,y,x)<=p*l.x+f*l.y||Math.min(m,g,y,x)>=p*d.x+f*d.y)return!1;const w=h*(l.y-u.y),S=h*(u.x-l.x),N=w*n+S*a,C=w*s+S*a,A=w*n+S*o,k=w*s+S*o;return!(Math.max(N,C,A,k)<=w*l.x+S*l.y||Math.min(N,C,A,k)>=w*d.x+S*d.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=s,this.height=Math.max(a-s,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,s=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=s-this.y,this}scale(e,r=e){return this.x*=e,this.y*=r,this.width*=e,this.height*=r,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=s,this.height=a-s,this}getBounds(e){return e||(e=new gS),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const r=e.x,n=e.y,s=e.x+e.width,a=e.y+e.height;return r>=this.x&&r<this.x+this.width&&n>=this.y&&n<this.y+this.height&&s>=this.x&&s<this.x+this.width&&a>=this.y&&a<this.y+this.height}set(e,r,n,s){return this.x=e,this.y=r,this.width=n,this.height=s,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}};const CA={default:-1};function Si(t="default"){return CA[t]===void 0&&(CA[t]=-1),++CA[t]}const k9=new Set,ss="8.0.0",Twe="8.3.4",f0={quiet:!1,noColor:!1},mn=(t,e,r=3)=>{if(f0.quiet||k9.has(e))return;let n=new Error().stack;const s=`${e}
Deprecated since v${t}`,a=typeof console.groupCollapsed=="function"&&!f0.noColor;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",s):(n=n.split(`
`).splice(r).join(`
`),a?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",s),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",s),console.warn(n))),k9.add(e)};Object.defineProperties(mn,{quiet:{get:()=>f0.quiet,set:t=>{f0.quiet=t},enumerable:!0,configurable:!1},noColor:{get:()=>f0.noColor,set:t=>{f0.noColor=t},enumerable:!0,configurable:!1}});const IZ=()=>{};function SN(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function P9(t){return!(t&t-1)&&!!t}function MZ(t){const e={};for(const r in t)t[r]!==void 0&&(e[r]=t[r]);return e}const E9=Object.create(null);function Iwe(t){const e=E9[t];return e===void 0&&(E9[t]=Si("resource")),e}const OZ=class LZ extends Md{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...LZ.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){mn(ss,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Iwe(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};OZ.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let NN=OZ;const RZ=class DZ extends Md{constructor(e={}){super(),this.options=e,this.uid=Si("textureSource"),this._resourceType="textureSource",this._resourceId=Si("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...DZ.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new NN(MZ(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var r,n;this.style!==e&&((r=this._style)==null||r.off("change",this._onStyleChange,this),this._style=e,(n=this._style)==null||n.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Si("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,r,n){n||(n=this._resolution),e||(e=this.width),r||(r=this.height);const s=Math.round(e*n),a=Math.round(r*n);return this.width=s/n,this.height=a/n,this._resolution=n,this.pixelWidth===s&&this.pixelHeight===a?!1:(this._refreshPOT(),this.pixelWidth=s,this.pixelHeight=a,this.emit("resize",this),this._resourceId=Si("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=P9(this.pixelWidth)&&P9(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};RZ.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Od=RZ;class CM extends Od{constructor(e){const r=e.resource||new Float32Array(e.width*e.height*4);let n=e.format;n||(r instanceof Float32Array?n="rgba32float":r instanceof Int32Array||r instanceof Uint32Array?n="rgba32uint":r instanceof Int16Array||r instanceof Uint16Array?n="rgba16uint":(r instanceof Int8Array,n="bgra8unorm")),super({...e,resource:r,format:n}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}CM.extension=Mr.TextureSource;const T9=new yn;class Mwe{constructor(e,r){this.mapCoord=new yn,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof r>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=r,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var r;this.texture!==e&&((r=this._texture)==null||r.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let s=0;s<e.length;s+=2){const a=e[s],o=e[s+1];r[s]=a*n.a+o*n.c+n.tx,r[s+1]=a*n.b+o*n.d+n.ty}return r}update(){const e=this._texture;this._updateID++;const r=e.uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=e.orig,s=e.trim;s&&(T9.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(T9));const a=e.source,o=this.uClampFrame,l=this.clampMargin/a._resolution,c=this.clampOffset/a._resolution;return o[0]=(e.frame.x+l+c)/a.width,o[1]=(e.frame.y+l+c)/a.height,o[2]=(e.frame.x+e.frame.width-l+c)/a.width,o[3]=(e.frame.y+e.frame.height-l+c)/a.height,this.uClampOffset[0]=this.clampOffset/a.pixelWidth,this.uClampOffset[1]=this.clampOffset/a.pixelHeight,this.isSimple=e.frame.width===a.width&&e.frame.height===a.height&&e.rotate===0,!0}}class Sn extends Md{constructor({source:e,label:r,frame:n,orig:s,trim:a,defaultAnchor:o,defaultBorders:l,rotate:c,dynamic:u}={}){if(super(),this.uid=Si("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Ra,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=r,this.source=(e==null?void 0:e.source)??new Od,this.noFrame=!n,n)this.frame.copyFrom(n);else{const{width:d,height:h}=this._source;this.frame.width=d,this.frame.height=h}this.orig=s||this.frame,this.trim=a,this.rotate=c??0,this.defaultAnchor=o,this.defaultBorders=l,this.destroyed=!1,this.dynamic=u||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Mwe(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:r}=this,{width:n,height:s}=this._source,a=r.x/n,o=r.y/s,l=r.width/n,c=r.height/s;let u=this.rotate;if(u){const d=l/2,h=c/2,p=a+d,f=o+h;u=us.add(u,us.NW),e.x0=p+d*us.uX(u),e.y0=f+h*us.uY(u),u=us.add(u,2),e.x1=p+d*us.uX(u),e.y1=f+h*us.uY(u),u=us.add(u,2),e.x2=p+d*us.uX(u),e.y2=f+h*us.uY(u),u=us.add(u,2),e.x3=p+d*us.uX(u),e.y3=f+h*us.uY(u)}else e.x0=a,e.y0=o,e.x1=a+l,e.y1=o,e.x2=a+l,e.y2=o+c,e.x3=a,e.y3=o+c}destroy(e=!1){this._source&&(this._source.off("resize",this.update,this),e&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return mn(ss,"Texture.baseTexture is now Texture.source"),this._source}}Sn.EMPTY=new Sn({label:"EMPTY",source:new Od({label:"EMPTY"})});Sn.EMPTY.destroy=IZ;Sn.WHITE=new Sn({source:new CM({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Sn.WHITE.destroy=IZ;function Owe(t,e,r){const{width:n,height:s}=r.orig,a=r.trim;if(a){const o=a.width,l=a.height;t.minX=a.x-e._x*n,t.maxX=t.minX+o,t.minY=a.y-e._y*s,t.maxY=t.minY+l}else t.minX=-e._x*n,t.maxX=t.minX+n,t.minY=-e._y*s,t.maxY=t.minY+s}const I9=new yn;class _d{constructor(e=1/0,r=1/0,n=-1/0,s=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=I9,this.minX=e,this.minY=r,this.maxX=n,this.maxY=s}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Ra);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=I9,this}set(e,r,n,s){this.minX=e,this.minY=r,this.maxX=n,this.maxY=s}addFrame(e,r,n,s,a){a||(a=this.matrix);const o=a.a,l=a.b,c=a.c,u=a.d,d=a.tx,h=a.ty;let p=this.minX,f=this.minY,m=this.maxX,g=this.maxY,y=o*e+c*r+d,x=l*e+u*r+h;y<p&&(p=y),x<f&&(f=x),y>m&&(m=y),x>g&&(g=x),y=o*n+c*r+d,x=l*n+u*r+h,y<p&&(p=y),x<f&&(f=x),y>m&&(m=y),x>g&&(g=x),y=o*e+c*s+d,x=l*e+u*s+h,y<p&&(p=y),x<f&&(f=x),y>m&&(m=y),x>g&&(g=x),y=o*n+c*s+d,x=l*n+u*s+h,y<p&&(p=y),x<f&&(f=x),y>m&&(m=y),x>g&&(g=x),this.minX=p,this.minY=f,this.maxX=m,this.maxY=g}addRect(e,r){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,r)}addBounds(e,r){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,r)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const r=this.minX,n=this.minY,s=this.maxX,a=this.maxY,{a:o,b:l,c,d:u,tx:d,ty:h}=e;let p=o*r+c*n+d,f=l*r+u*n+h;this.minX=p,this.minY=f,this.maxX=p,this.maxY=f,p=o*s+c*n+d,f=l*s+u*n+h,this.minX=p<this.minX?p:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=p>this.maxX?p:this.maxX,this.maxY=f>this.maxY?f:this.maxY,p=o*r+c*a+d,f=l*r+u*a+h,this.minX=p<this.minX?p:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=p>this.maxX?p:this.maxX,this.maxY=f>this.maxY?f:this.maxY,p=o*s+c*a+d,f=l*s+u*a+h,this.minX=p<this.minX?p:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=p>this.maxX?p:this.maxX,this.maxY=f>this.maxY?f:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,r,n,s){return this.minX<e&&(this.minX=e),this.maxX>r&&(this.maxX=r),this.minY<n&&(this.minY=n),this.maxY>s&&(this.maxY=s),this}pad(e,r=e){return this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new _d(this.minX,this.minY,this.maxX,this.maxY)}scale(e,r=e){return this.minX*=e,this.minY*=r,this.maxX*=e,this.maxY*=r,this}get x(){return this.minX}set x(e){const r=this.maxX-this.minX;this.minX=e,this.maxX=e+r}get y(){return this.minY}set y(e){const r=this.maxY-this.minY;this.minY=e,this.maxY=e+r}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,r,n,s){let a=this.minX,o=this.minY,l=this.maxX,c=this.maxY;s||(s=this.matrix);const u=s.a,d=s.b,h=s.c,p=s.d,f=s.tx,m=s.ty;for(let g=r;g<n;g+=2){const y=e[g],x=e[g+1],w=u*y+h*x+f,S=d*y+p*x+m;a=w<a?w:a,o=S<o?S:o,l=w>l?w:l,c=S>c?S:c}this.minX=a,this.minY=o,this.maxX=l,this.maxY=c}containsPoint(e,r){return this.minX<=e&&this.minY<=r&&this.maxX>=e&&this.maxY>=r}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var Lwe={grad:.9,turn:360,rad:360/(2*Math.PI)},Gh=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ta=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},fu=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},FZ=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},M9=function(t){return{r:fu(t.r,0,255),g:fu(t.g,0,255),b:fu(t.b,0,255),a:fu(t.a)}},_A=function(t){return{r:Ta(t.r),g:Ta(t.g),b:Ta(t.b),a:Ta(t.a,3)}},Rwe=/^#([0-9a-f]{3,8})$/i,i5=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},BZ=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=Math.max(e,r,n),o=a-Math.min(e,r,n),l=o?a===e?(r-n)/o:a===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(l<0?l+6:l),s:a?o/a*100:0,v:a/255*100,a:s}},$Z=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var a=Math.floor(e),o=n*(1-r),l=n*(1-(e-a)*r),c=n*(1-(1-e+a)*r),u=a%6;return{r:255*[n,l,o,o,c,n][u],g:255*[c,n,n,l,o,o][u],b:255*[o,o,c,n,n,l][u],a:s}},O9=function(t){return{h:FZ(t.h),s:fu(t.s,0,100),l:fu(t.l,0,100),a:fu(t.a)}},L9=function(t){return{h:Ta(t.h),s:Ta(t.s),l:Ta(t.l),a:Ta(t.a,3)}},R9=function(t){return $Z((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},mb=function(t){return{h:(e=BZ(t)).h,s:(s=(200-(r=e.s))*(n=e.v)/100)>0&&s<200?r*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,r,n,s},Dwe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fwe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Bwe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$we=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Z6={string:[[function(t){var e=Rwe.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ta(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ta(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Bwe.exec(t)||$we.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:M9({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Dwe.exec(t)||Fwe.exec(t);if(!e)return null;var r,n,s=O9({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(Lwe[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return R9(s)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=s===void 0?1:s;return Gh(e)&&Gh(r)&&Gh(n)?M9({r:Number(e),g:Number(r),b:Number(n),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,s=t.a,a=s===void 0?1:s;if(!Gh(e)||!Gh(r)||!Gh(n))return null;var o=O9({h:Number(e),s:Number(r),l:Number(n),a:Number(a)});return R9(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,s=t.a,a=s===void 0?1:s;if(!Gh(e)||!Gh(r)||!Gh(n))return null;var o=function(l){return{h:FZ(l.h),s:fu(l.s,0,100),v:fu(l.v,0,100),a:fu(l.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(a)});return $Z(o)},"hsv"]]},D9=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},zwe=function(t){return typeof t=="string"?D9(t.trim(),Z6.string):typeof t=="object"&&t!==null?D9(t,Z6.object):[null,void 0]},AA=function(t,e){var r=mb(t);return{h:r.h,s:fu(r.s+100*e,0,100),l:r.l,a:r.a}},kA=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},F9=function(t,e){var r=mb(t);return{h:r.h,s:r.s,l:fu(r.l+100*e,0,100),a:r.a}},Q6=function(){function t(e){this.parsed=zwe(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ta(kA(this.rgba),2)},t.prototype.isDark=function(){return kA(this.rgba)<.5},t.prototype.isLight=function(){return kA(this.rgba)>=.5},t.prototype.toHex=function(){return e=_A(this.rgba),r=e.r,n=e.g,s=e.b,o=(a=e.a)<1?i5(Ta(255*a)):"","#"+i5(r)+i5(n)+i5(s)+o;var e,r,n,s,a,o},t.prototype.toRgb=function(){return _A(this.rgba)},t.prototype.toRgbString=function(){return e=_A(this.rgba),r=e.r,n=e.g,s=e.b,(a=e.a)<1?"rgba("+r+", "+n+", "+s+", "+a+")":"rgb("+r+", "+n+", "+s+")";var e,r,n,s,a},t.prototype.toHsl=function(){return L9(mb(this.rgba))},t.prototype.toHslString=function(){return e=L9(mb(this.rgba)),r=e.h,n=e.s,s=e.l,(a=e.a)<1?"hsla("+r+", "+n+"%, "+s+"%, "+a+")":"hsl("+r+", "+n+"%, "+s+"%)";var e,r,n,s,a},t.prototype.toHsv=function(){return e=BZ(this.rgba),{h:Ta(e.h),s:Ta(e.s),v:Ta(e.v),a:Ta(e.a,3)};var e},t.prototype.invert=function(){return Xd({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Xd(AA(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Xd(AA(this.rgba,-e))},t.prototype.grayscale=function(){return Xd(AA(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Xd(F9(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Xd(F9(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Xd({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Ta(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=mb(this.rgba);return typeof e=="number"?Xd({h:e,s:r.s,l:r.l,a:r.a}):Ta(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Xd(e).toHex()},t}(),Xd=function(t){return t instanceof Q6?t:new Q6(t)},B9=[],Uwe=function(t){t.forEach(function(e){B9.indexOf(e)<0&&(e(Q6,Z6),B9.push(e))})};function Wwe(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in r)n[r[s]]=s;var a={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,u=n[this.toHex()];if(u)return u;if(o!=null&&o.closest){var d=this.toRgb(),h=1/0,p="black";if(!a.length)for(var f in r)a[f]=new t(r[f]).toRgb();for(var m in r){var g=(l=d,c=a[m],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));g<h&&(h=g,p=m)}return p}},e.string.push([function(o){var l=o.toLowerCase(),c=l==="transparent"?"#0000":r[l];return c?new t(c).toRgb():null},"name"])}Uwe([Wwe]);const dy=class W1{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof W1)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((a,o)=>a===r[o]);if(e!==null&&r!==null){const a=Object.keys(e),o=Object.keys(r);return a.length!==o.length?!1:a.every(l=>e[l]===r[l])}return e===r}toRgba(){const[e,r,n,s]=this._components;return{r:e,g:r,b:n,a:s}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,s]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(s*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[r,n,s,a]=this._components;return e[0]=r,e[1]=n,e[2]=s,e[3]=a,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[r,n,s]=this._components;return e[0]=r,e[1]=n,e[2]=s,e}toNumber(){return this._int}toBgrNumber(){const[e,r,n]=this.toUint8RgbArray();return(n<<16)+(r<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,s,a]=W1._temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=s,this._components[3]*=a,this._refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,s=this._int>>8&255,a=this._int&255;return r&&(n=n*e+.5|0,s=s*e+.5|0,a=a*e+.5|0),(e*255<<24)+(n<<16)+(s<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const r=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let r,n,s,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,s=(o&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,s,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,s,a=255]=e,r/=255,n/=255,s/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=W1.HEX_PATTERN.exec(e);l&&(e=`#${l[2]}`)}const o=Xd(e);o.isValid()&&({r,g:n,b:s,a}=o.rgba,r/=255,n/=255,s/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=s,this._components[3]=a,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((s,a)=>{e[a]=Math.min(Math.max(s,r),n)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof W1||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};dy.shared=new dy;dy._temp=new dy;dy.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let fa=dy;const Gwe={cullArea:null,cullable:!1,cullableChildren:!0};let PA=0;const $9=500;function Bs(...t){PA!==$9&&(PA++,PA===$9?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}const Ew={_registeredResources:new Set,register(t){this._registeredResources.add(t)},unregister(t){this._registeredResources.delete(t)},release(){this._registeredResources.forEach(t=>t.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(t){return this._registeredResources.has(t)},reset(){this._registeredResources.clear()}};class Hwe{constructor(e,r){this._pool=[],this._count=0,this._index=0,this._classType=e,r&&this.prepopulate(r)}prepopulate(e){for(let r=0;r<e;r++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var n;let r;return this._index>0?r=this._pool[--this._index]:(r=new this._classType,this._count++),(n=r.init)==null||n.call(r,e),r}return(e){var r;(r=e.reset)==null||r.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}}class Vwe{constructor(){this._poolsByClass=new Map}prepopulate(e,r){this.getPool(e).prepopulate(r)}get(e,r){return this.getPool(e).get(r)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new Hwe(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(r=>{const n=e[r._classType.name]?r._classType.name+r._classType.ID:r._classType.name;e[n]={free:r.totalFree,used:r.totalUsed,size:r.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const yu=new Vwe;Ew.register(yu);const qwe={get isCachedAsTexture(){var t;return!!((t=this.renderGroup)!=null&&t.isCachedAsTexture)},cacheAsTexture(t){typeof t=="boolean"&&t===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(t===!0?{}:t))},updateCacheTexture(){var t;(t=this.renderGroup)==null||t.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){mn("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};function Ywe(t,e,r){const n=t.length;let s;if(e>=n||r===0)return;r=e+r>n?n-e:r;const a=n-r;for(s=e;s<a;++s)t[s]=t[s+r];t.length=a}const Xwe={allowChildren:!0,removeChildren(t=0,e){var a;const r=e??this.children.length,n=r-t,s=[];if(n>0&&n<=r){for(let l=r-1;l>=t;l--){const c=this.children[l];c&&(s.push(c),c.parent=null)}Ywe(this.children,t,r);const o=this.renderGroup||this.parentRenderGroup;o&&o.removeChildren(s);for(let l=0;l<s.length;++l){const c=s[l];(a=c.parentRenderLayer)==null||a.detach(c),this.emit("childRemoved",c,this,l),s[l].emit("removed",this)}return s.length>0&&this._didViewChangeTick++,s}else if(n===0&&this.children.length===0)return s;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||mn(ss,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:r}=this;if(e<0||e>r.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${r.length}`);if(t.parent){const s=t.parent.children.indexOf(t);if(t.parent===this&&s===e)return t;s!==-1&&t.parent.children.splice(s,1)}e===r.length?r.push(t):r.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t;const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const r=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const n=this.worldTransform.clone();return n.invert(),r.prepend(n),t.setFromMatrix(r),t},replaceChild(t,e){t.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(t)),e.setFromMatrix(t.localTransform),e.updateLocalTransform(),this.removeChild(t)}},Kwe={collectRenderables(t,e,r){this.parentRenderLayer&&this.parentRenderLayer!==r||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(t,e,r):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,t):this.collectRenderablesWithEffects(t,e,r))},collectRenderablesSimple(t,e,r){const n=this.children,s=n.length;for(let a=0;a<s;a++)n[a].collectRenderables(t,e,r)},collectRenderablesWithEffects(t,e,r){const{renderPipes:n}=e;for(let s=0;s<this.effects.length;s++){const a=this.effects[s];n[a.pipe].push(a,this,t)}this.collectRenderablesSimple(t,e,r);for(let s=this.effects.length-1;s>=0;s--){const a=this.effects[s];n[a.pipe].pop(a,this,t)}}};class z9{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Zwe{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let r=0;r<this._tests.length;r++){const n=this._tests[r];if(n.test(e))return yu.get(n.maskClass,e)}return e}returnMaskEffect(e){yu.return(e)}}const J6=new Zwe;so.handleByList(Mr.MaskEffect,J6._effectClasses);const Qwe={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){this.effects.indexOf(t)===-1&&(this.effects.push(t),this.effects.sort((r,n)=>r.priority-n.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;(e==null?void 0:e.mask)!==t&&(e&&(this.removeEffect(e),J6.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=J6.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){var t;return(t=this._maskEffect)==null?void 0:t.mask},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},set filters(t){var a;!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new z9);t=t;const r=(t==null?void 0:t.length)>0,n=((a=e.filters)==null?void 0:a.length)>0,s=r!==n;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),s&&(r?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){var t;return(t=this._filterEffect)==null?void 0:t.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new z9),this._filterEffect.filterArea=t},get filterArea(){var t;return(t=this._filterEffect)==null?void 0:t.filterArea}},Jwe={label:null,get name(){return mn(ss,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){mn(ss,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const r=this.children;for(let n=0;n<r.length;n++){const s=r[n];if(s.label===t||t instanceof RegExp&&t.test(s.label))return s}if(e)for(let n=0;n<r.length;n++){const a=r[n].getChildByLabel(t,!0);if(a)return a}return null},getChildrenByLabel(t,e=!1,r=[]){const n=this.children;for(let s=0;s<n.length;s++){const a=n[s];(a.label===t||t instanceof RegExp&&t.test(a.label))&&r.push(a)}if(e)for(let s=0;s<n.length;s++)n[s].getChildrenByLabel(t,!0,r);return r}},tl=yu.getPool(yn),df=yu.getPool(_d),eje=new yn,tje={getFastGlobalBounds(t,e){e||(e=new _d),e.clear(),this._getGlobalBoundsRecursive(!!t,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const r=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(r.worldTransform),e},_getGlobalBoundsRecursive(t,e,r){let n=e;if(t&&this.parentRenderLayer&&this.parentRenderLayer!==r||this.localDisplayStatus!==7||!this.measurable)return;const s=!!this.effects.length;if((this.renderGroup||s)&&(n=df.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const o=this.bounds;n.addFrame(o.minX,o.minY,o.maxX,o.maxY,this.groupTransform)}const a=this.children;for(let o=0;o<a.length;o++)a[o]._getGlobalBoundsRecursive(t,n,r)}if(s){let a=!1;const o=this.renderGroup||this.parentRenderGroup;for(let l=0;l<this.effects.length;l++)this.effects[l].addBounds&&(a||(a=!0,n.applyMatrix(o.worldTransform)),this.effects[l].addBounds(n,!0));a&&n.applyMatrix(o.worldTransform.copyTo(eje).invert()),e.addBounds(n),df.return(n)}else this.renderGroup&&(e.addBounds(n,this.relativeGroupTransform),df.return(n))}};function zZ(t,e,r){r.clear();let n,s;return t.parent?e?n=t.parent.worldTransform:(s=tl.get().identity(),n=_M(t,s)):n=yn.IDENTITY,UZ(t,r,n,e),s&&tl.return(s),r.isValid||r.set(0,0,0,0),r}function UZ(t,e,r,n){var l,c;if(!t.visible||!t.measurable)return;let s;n?s=t.worldTransform:(t.updateLocalTransform(),s=tl.get(),s.appendFrom(t.localTransform,r));const a=e,o=!!t.effects.length;if(o&&(e=df.get().clear()),t.boundsArea)e.addRect(t.boundsArea,s);else{const u=t.bounds;u&&!u.isEmpty()&&(e.matrix=s,e.addBounds(u));for(let d=0;d<t.children.length;d++)UZ(t.children[d],e,s,n)}if(o){for(let u=0;u<t.effects.length;u++)(c=(l=t.effects[u]).addBounds)==null||c.call(l,e);a.addBounds(e,yn.IDENTITY),df.return(e)}n||tl.return(s)}function _M(t,e){const r=t.parent;return r&&(_M(r,e),r.updateLocalTransform(),e.append(r.localTransform)),e}function WZ(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const r=t>>16&255,n=t>>8&255,s=t&255,a=e>>16&255,o=e>>8&255,l=e&255,c=r*a/255|0,u=n*o/255|0,d=s*l/255|0;return(c<<16)+(u<<8)+d}const U9=16777215;function W9(t,e){return t===U9?e:e===U9?t:WZ(t,e)}function xS(t){return((t&255)<<16)+(t&65280)+(t>>16&255)}const rje={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,r=this.parent;for(;r;)e*=r.alpha,r=r.parent;return e},getGlobalTransform(t=new yn,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const r=_M(this,tl.get().identity());return t.appendFrom(this.localTransform,r),tl.return(r),t},getGlobalTint(t){if(t)return this.renderGroup?xS(this.renderGroup.worldColor):this.parentRenderGroup?xS(W9(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,r=this.parent;for(;r;)e=W9(e,r.localColor),r=r.parent;return xS(e)}};function GZ(t,e,r){return e.clear(),r||(r=yn.IDENTITY),HZ(t,e,r,t,!0),e.isValid||e.set(0,0,0,0),e}function HZ(t,e,r,n,s){var c,u;let a;if(s)a=tl.get(),a=r.copyTo(a);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const d=t.localTransform;a=tl.get(),a.appendFrom(d,r)}const o=e,l=!!t.effects.length;if(l&&(e=df.get().clear()),t.boundsArea)e.addRect(t.boundsArea,a);else{t.renderPipeId&&(e.matrix=a,e.addBounds(t.bounds));const d=t.children;for(let h=0;h<d.length;h++)HZ(d[h],e,a,n,!1)}if(l){for(let d=0;d<t.effects.length;d++)(u=(c=t.effects[d]).addLocalBounds)==null||u.call(c,e,n);o.addBounds(e,yn.IDENTITY),df.return(e)}tl.return(a)}function VZ(t,e){const r=t.children;for(let n=0;n<r.length;n++){const s=r[n],a=s.uid,o=(s._didViewChangeTick&65535)<<16|s._didContainerChangeTick&65535,l=e.index;(e.data[l]!==a||e.data[l+1]!==o)&&(e.data[e.index]=a,e.data[e.index+1]=o,e.didChange=!0),e.index=l+2,s.children.length&&VZ(s,e)}return e.didChange}const nje=new yn,sje={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const r=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*r:this.scale.x=r},_setHeight(t,e){const r=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*r:this.scale.y=r},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new _d});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),VZ(this,t),t.didChange&&GZ(this,t.localBounds,nje),t.localBounds},getBounds(t,e){return zZ(this,t,e||new _d)}},ije={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},aje={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(oje))}};function oje(t,e){return t._zIndex-e._zIndex}const lje={getGlobalPosition(t=new ro,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,r=!1){const n=this.getGlobalTransform(tl.get(),r);return e=n.apply(t,e),tl.return(n),e},toLocal(t,e,r,n){e&&(t=e.toGlobal(t,r,n));const s=this.getGlobalTransform(tl.get(),n);return r=s.applyInverse(t,r),tl.return(s),r}};class qZ{constructor(){this.uid=Si("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let cje=0;class uje{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new NN(this.textureOptions)}createTexture(e,r,n){const s=new Od({...this.textureOptions,width:e,height:r,resolution:1,antialias:n,autoGarbageCollect:!1});return new Sn({source:s,label:`texturePool_${cje++}`})}getOptimalTexture(e,r,n=1,s){let a=Math.ceil(e*n-1e-6),o=Math.ceil(r*n-1e-6);a=SN(a),o=SN(o);const l=(a<<17)+(o<<1)+(s?1:0);this._texturePool[l]||(this._texturePool[l]=[]);let c=this._texturePool[l].pop();return c||(c=this.createTexture(a,o,s)),c.source._resolution=n,c.source.width=a/n,c.source.height=o/n,c.source.pixelWidth=a,c.source.pixelHeight=o,c.frame.x=0,c.frame.y=0,c.frame.width=e,c.frame.height=r,c.updateUvs(),this._poolKeyHash[c.uid]=l,c}getSameSizeTexture(e,r=!1){const n=e.source;return this.getOptimalTexture(e.width,e.height,n._resolution,r)}returnTexture(e,r=!1){const n=this._poolKeyHash[e.uid];r&&(e.source.style=this.textureStyle),this._texturePool[n].push(e)}clear(e){if(e=e!==!1,e)for(const r in this._texturePool){const n=this._texturePool[r];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0)}this._texturePool={}}}const YZ=new uje;Ew.register(YZ);class dje{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new yn,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new qZ,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const r=e.children;for(let n=0;n<r.length;n++){const s=r[n];s._updateFlags=15,this.addChild(s)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(YZ.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const r=this.childrenToUpdate[e];r.list.fill(null),r.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const r=this.renderGroupChildren.indexOf(e);r>-1&&this.renderGroupChildren.splice(r,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const r=e.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const r=e.children;for(let n=0;n<r.length;n++)this.removeChild(r[n])}removeChildren(e){for(let r=0;r<e.length;r++)this.removeChild(e[r])}onChildUpdate(e){let r=this.childrenToUpdate[e.relativeRenderGroupDepth];r||(r=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),r.list[r.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let r=0;r<this._onRenderContainers.length;r++)this._onRenderContainers[r]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const r=this.root.children;for(let n=0;n<r.length;n++)this._getChildren(r[n],e);return e}_getChildren(e,r=[]){if(r.push(e),e.renderGroup)return r;const n=e.children;for(let s=0;s<n.length;s++)this._getChildren(n[s],r);return r}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return this._matrixDirty&1?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new yn),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return this._matrixDirty&2?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new yn),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(this._matrixDirty&4))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new yn),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function hje(t,e,r={}){for(const n in e)!r[n]&&e[n]!==void 0&&(t[n]=e[n])}const EA=new Po(null),a5=new Po(null),TA=new Po(null,1,1),o5=new Po(null),G9=1,fje=2,IA=4;class dc extends Md{constructor(e={}){var r,n;super(),this.uid=Si("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new yn,this.relativeGroupTransform=new yn,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Po(this,0,0),this._scale=TA,this._pivot=a5,this._origin=o5,this._skew=EA,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],hje(this,e,{children:!0,parent:!0,effects:!0}),(r=e.children)==null||r.forEach(s=>this.addChild(s)),(n=e.parent)==null||n.addChild(this)}static mixin(e){mn("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),so.mixin(dc,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||mn(ss,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let s=0;s<e.length;s++)this.addChild(e[s]);return e[0]}const r=e[0],n=this.renderGroup||this.parentRenderGroup;return r.parent===this?(this.children.splice(this.children.indexOf(r),1),this.children.push(r),n&&(n.structureDidChange=!0),r):(r.parent&&r.parent.removeChild(r),this.children.push(r),this.sortableChildren&&(this.sortDirty=!0),r.parent=this,r.didChange=!0,r._updateFlags=15,n&&n.addChild(r),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this),this._didViewChangeTick++,r._zIndex!==0&&r.depthOfChildModified(),r)}removeChild(...e){if(e.length>1){for(let s=0;s<e.length;s++)this.removeChild(e[s]);return e[0]}const r=e[0],n=this.children.indexOf(r);return n>-1&&(this._didViewChangeTick++,this.children.splice(n,1),this.renderGroup?this.renderGroup.removeChild(r):this.parentRenderGroup&&this.parentRenderGroup.removeChild(r),r.parentRenderLayer&&r.parentRenderLayer.detach(r),r.parent=null,this.emit("childRemoved",r,this,n),r.emit("removed",this)),r}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=yu.get(dje,this),this.groupTransform=yn.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),yu.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new yn),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*_we}set angle(e){this.rotation=e*Awe}get pivot(){return this._pivot===a5&&(this._pivot=new Po(this,0,0)),this._pivot}set pivot(e){this._pivot===a5&&(this._pivot=new Po(this,0,0),this._origin!==o5&&Bs("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===EA&&(this._skew=new Po(this,0,0)),this._skew}set skew(e){this._skew===EA&&(this._skew=new Po(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===TA&&(this._scale=new Po(this,1,1)),this._scale}set scale(e){this._scale===TA&&(this._scale=new Po(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===o5&&(this._origin=new Po(this,0,0)),this._origin}set origin(e){this._origin===o5&&(this._origin=new Po(this,0,0),this._pivot!==a5&&Bs("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const r=this.getLocalBounds().width;this._setWidth(e,r)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const r=this.getLocalBounds().height;this._setHeight(e,r)}getSize(e){e||(e={});const r=this.getLocalBounds();return e.width=Math.abs(this.scale.x*r.width),e.height=Math.abs(this.scale.y*r.height),e}setSize(e,r){const n=this.getLocalBounds();typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,n.width),r!==void 0&&this._setHeight(r,n.height)}_updateSkew(){const e=this._rotation,r=this._skew;this._cx=Math.cos(e+r._y),this._sx=Math.sin(e+r._y),this._cy=-Math.sin(e-r._x),this._sy=Math.cos(e-r._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const r=this.localTransform,n=this._scale,s=this._pivot,a=this._origin,o=this._position,l=n._x,c=n._y,u=s._x,d=s._y,h=-a._x,p=-a._y;r.a=this._cx*l,r.b=this._sx*l,r.c=this._cy*c,r.d=this._sy*c,r.tx=o._x-(u*r.a+d*r.c)+(h*r.a+p*r.c)-h,r.ty=o._y-(u*r.b+d*r.d)+(h*r.b+p*r.d)-p}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=G9,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const n=fa.shared.setValue(e??16777215).toBgrNumber();n!==this.localColor&&(this.localColor=n,this._updateFlags|=G9,this._onUpdate())}get tint(){return xS(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=fje,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const r=e?2:0;(this.localDisplayStatus&2)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=IA,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const r=e?0:4;(this.localDisplayStatus&4)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=IA,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const r=e?1:0;(this.localDisplayStatus&1)!==r&&(this._updateFlags|=IA,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var s;if(this.destroyed)return;this.destroyed=!0;let r;if(this.children.length&&(r=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&r)for(let a=0;a<r.length;++a)r[a].destroy(e);(s=this.renderGroup)==null||s.destroy(),this.renderGroup=null}}so.mixin(dc,Xwe,tje,lje,ije,sje,Qwe,Jwe,aje,Gwe,qwe,rje,Kwe);class XZ extends dc{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new _d(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const r=this.bounds,{x:n,y:s}=e;return n>=r.minX&&n<=r.maxX&&s>=r.minY&&s<=r.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){var r,n;super.destroy(e),this._bounds=null;for(const s in this._gpuData)(n=(r=this._gpuData[s]).destroy)==null||n.call(r);this._gpuData=null}collectRenderablesSimple(e,r,n){const{renderPipes:s}=r;s.blendMode.pushBlendMode(this,this.groupBlendMode,e),s[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const o=this.children,l=o.length;for(let c=0;c<l;c++)o[c].collectRenderables(e,r,n);s.blendMode.popBlendMode(e)}}class Ao extends XZ{constructor(e=Sn.EMPTY){e instanceof Sn&&(e={texture:e});const{texture:r=Sn.EMPTY,anchor:n,roundPixels:s,width:a,height:o,...l}=e;super({label:"Sprite",...l}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Po({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:r.defaultAnchor&&(this.anchor=r.defaultAnchor),this.texture=r,this.allowChildren=!1,this.roundPixels=s??!1,a!==void 0&&(this.width=a),o!==void 0&&(this.height=o)}static from(e,r=!1){return e instanceof Sn?new Ao(e):new Ao(Sn.from(e,r))}set texture(e){e||(e=Sn.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Owe(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return mn("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,r=this._texture,n=this._bounds,{width:s,height:a}=r.orig;n.minX=-e._x*s,n.maxX=n.minX+s,n.minY=-e._y*a,n.maxY=n.minY+a}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(n)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,r){typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),r!==void 0&&this._setHeight(r,this._texture.orig.height)}}const pje=new _d;function KZ(t,e,r){const n=pje;t.measurable=!0,zZ(t,r,n),e.addBoundsMask(n),t.measurable=!1}function ZZ(t,e,r){const n=df.get();t.measurable=!0;const s=tl.get().identity(),a=QZ(t,r,s);GZ(t,n,a),t.measurable=!1,e.addBoundsMask(n),tl.return(s),df.return(n)}function QZ(t,e,r){return t?(t!==e&&(QZ(t.parent,e,r),t.updateLocalTransform(),r.append(t.localTransform)),r):(Bs("Mask bounds, renderable is not inside the root container"),r)}class JZ{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Ao),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(e,r){this.inverse||KZ(this.mask,e,r)}addLocalBounds(e,r){ZZ(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof Ao}}JZ.extension=Mr.MaskEffect;class eQ{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}eQ.extension=Mr.MaskEffect;class tQ{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(e,r){KZ(this.mask,e,r)}addLocalBounds(e,r){ZZ(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof dc}}tQ.extension=Mr.MaskEffect;const mje={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let H9=mje;const Us={get(){return H9},set(t){H9=t}};class rQ extends Od{constructor(e){e.resource||(e.resource=Us.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,r=this.height,n=this._resolution){const s=super.resize(e,r,n);return s&&this.resizeCanvas(),s}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}rQ.extension=Mr.TextureSource;class Og extends Od{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}Og.extension=Mr.TextureSource;var e8=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(e8||{});class MA{constructor(e,r=null,n=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=r,this.priority=n,this._once=s}match(e,r=null){return this._fn===e&&this._context===r}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const r=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const nQ=class ec{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new MA(null,null,1/0),this.deltaMS=1/ec.targetFPMS,this.elapsedMS=1/ec.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=e8.NORMAL){return this._addListener(new MA(e,r,n))}addOnce(e,r,n=e8.NORMAL){return this._addListener(new MA(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*ec.targetFPMS;const n=this._head;let s=n.next;for(;s;)s=s.emit(this);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,ec.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!ec._shared){const e=ec._shared=new ec;e.autoStart=!0,e._protected=!0}return ec._shared}static get system(){if(!ec._system){const e=ec._system=new ec;e.autoStart=!0,e._protected=!0}return ec._system}};nQ.targetFPMS=.06;let l5=nQ,OA;async function sQ(){return OA??(OA=(async()=>{var o;const e=Us.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const r=await new Promise(l=>{const c=document.createElement("video");c.onloadeddata=()=>l(c),c.onerror=()=>l(null),c.autoplay=!1,c.crossOrigin="anonymous",c.preload="auto",c.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",c.load()});if(!r)return"premultiply-alpha-on-upload";const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);const a=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,a),e.deleteFramebuffer(s),e.deleteTexture(n),(o=e.getExtension("WEBGL_lose_context"))==null||o.loseContext(),a[0]<=a[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),OA}const tC=class iQ extends Od{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...iQ.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=l5.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,r=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(r.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await sQ(),this._load=new Promise((n,s)=>{this.isValid?n(this):(this._resolve=n,this._reject=s,r.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${r.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(l5.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(l5.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(l5.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};tC.extension=Mr.TextureSource;tC.defaultOptions={...Od.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};tC.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let gb=tC;const md=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t);class gje{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||Bs(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=md(e);let s;for(let c=0;c<this.parsers.length;c++){const u=this.parsers[c];if(u.test(r)){s=u.getCacheableAssets(n,r);break}}const a=new Map(Object.entries(s||{}));s||n.forEach(c=>{a.set(c,r)});const o=[...a.keys()],l={cacheKeys:o,keys:n};n.forEach(c=>{this._cacheMap.set(c,l)}),o.forEach(c=>{const u=s?s[c]:r;this._cache.has(c)&&this._cache.get(c)!==u&&Bs("[Cache] already has key:",c),this._cache.set(c,a.get(c))})}remove(e){if(!this._cacheMap.has(e)){Bs(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(s=>{this._cache.delete(s)}),r.keys.forEach(s=>{this._cacheMap.delete(s)})}get parsers(){return this._parsers}}const Fs=new gje,t8=[];so.handleByList(Mr.TextureSource,t8);function aQ(t={}){const e=t&&t.resource,r=e?t.resource:t,n=e?t:{resource:t};for(let s=0;s<t8.length;s++){const a=t8[s];if(a.test(r))return new a(n)}throw new Error(`Could not find a source type for resource: ${n.resource}`)}function xje(t={},e=!1){const r=t&&t.resource,n=r?t.resource:t,s=r?t:{resource:t};if(!e&&Fs.has(n))return Fs.get(n);const a=new Sn({source:aQ(s)});return a.on("destroy",()=>{Fs.has(n)&&Fs.remove(n)}),e||Fs.set(n,a),a}function yje(t,e=!1){return typeof t=="string"?Fs.get(t):t instanceof Od?new Sn({source:t}):xje(t,e)}Sn.from=yje;Od.from=aQ;so.add(JZ,eQ,tQ,gb,Og,rQ,CM);var pm=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(pm||{});function ed(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function c1(t){return t.split("?")[0].split("#")[0]}function vje(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bje(t,e,r){return t.replace(new RegExp(vje(e),"g"),r)}function wje(t,e){let r="",n=0,s=-1,a=0,o=-1;for(let l=0;l<=t.length;++l){if(l<t.length)o=t.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(s===l-1||a===1))if(s!==l-1&&a===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),s=l,a=0;continue}}else if(r.length===2||r.length===1){r="",n=0,s=l,a=0;continue}}}else r.length>0?r+=`/${t.slice(s+1,l)}`:r=t.slice(s+1,l),n=l-s-1;s=l,a=0}else o===46&&a!==-1?++a:a=-1}return r}const jc={toPosix(t){return bje(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){ed(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(ed(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=c1(this.toPosix(e??Us.get().getBaseUrl())),s=c1(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?jc.join(s,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(ed(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=wje(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return ed(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(ed(n),n.length>0)if(e===void 0)e=n;else{const s=t[r-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(ed(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,s=!0;const a=this.getProtocol(t),o=t;t=t.slice(a.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!s){n=l;break}}else s=!1;return n===-1?r?"/":this.isUrl(o)?a+t:a:r&&n===1?"//":a+t.slice(0,n)},rootname(t){ed(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){ed(t),e&&ed(e),t=c1(this.toPosix(t));let r=0,n=-1,s=!0,a;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,l=-1;for(a=t.length-1;a>=0;--a){const c=t.charCodeAt(a);if(c===47){if(!s){r=a+1;break}}else l===-1&&(s=!1,l=a+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=a):(o=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!s){r=a+1;break}}else n===-1&&(s=!1,n=a+1);return n===-1?"":t.slice(r,n)},extname(t){ed(t),t=c1(this.toPosix(t));let e=-1,r=0,n=-1,s=!0,a=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!s){r=o+1;break}continue}n===-1&&(s=!1,n=o+1),l===46?e===-1?e=o:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||n===-1||a===0||a===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){ed(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=c1(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let s;e.root=this.rootname(t),n||this.hasProtocol(t)?s=1:s=0;let a=-1,o=0,l=-1,c=!0,u=t.length-1,d=0;for(;u>=s;--u){if(r=t.charCodeAt(u),r===47){if(!c){o=u+1;break}continue}l===-1&&(c=!1,l=u+1),r===46?a===-1?a=u:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||l===-1||d===0||d===1&&a===l-1&&a===o+1?l!==-1&&(o===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(o,l)):(o===0&&n?(e.name=t.slice(1,a),e.base=t.slice(1,l)):(e.name=t.slice(o,a),e.base=t.slice(o,l)),e.ext=t.slice(a,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function oQ(t,e,r,n,s){const a=e[r];for(let o=0;o<a.length;o++){const l=a[o];r<e.length-1?oQ(t.replace(n[r],l),e,r+1,n,s):s.push(t.replace(n[r],l))}}function jje(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const s=[];r.forEach(a=>{const o=a.substring(1,a.length-1).split(",");s.push(o)}),oQ(t,s,0,r,n)}else n.push(t);return n}const CN=t=>!Array.isArray(t);class av{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,src:n}=e;return md(r||n,a=>typeof a=="string"?a:Array.isArray(a)?a.map(o=>(o==null?void 0:o.src)??o):a!=null&&a.src?a.src:a,!0)}addManifest(e){this._manifest&&Bs("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];let s=r;Array.isArray(r)||(s=Object.entries(r).map(([a,o])=>typeof o=="string"||Array.isArray(o)?{alias:a,src:o}:{alias:a,...o})),s.forEach(a=>{const o=a.src,l=a.alias;let c;if(typeof l=="string"){const u=this._createBundleAssetId(e,l);n.push(u),c=[l,u]}else{const u=l.map(d=>this._createBundleAssetId(e,d));n.push(...u),c=[...l,...u]}this.add({...a,alias:c,src:o})}),this._bundles[e]=n}add(e){const r=[];Array.isArray(e)?r.push(...e):r.push(e);let n;n=a=>{this.hasKey(a)&&Bs(`[Resolver] already has key: ${a} overwriting`)},md(r).forEach(a=>{const{src:o}=a;let{data:l,format:c,loadParser:u,parser:d}=a;const h=md(o).map(g=>typeof g=="string"?jje(g):Array.isArray(g)?g:[g]),p=this.getAlias(a);Array.isArray(p)?p.forEach(n):n(p);const f=[],m=g=>{const y=this._parsers.find(x=>x.test(g));return{...y==null?void 0:y.parse(g),src:g}};h.forEach(g=>{g.forEach(y=>{let x={};if(typeof y!="object"?x=m(y):(l=y.data??l,c=y.format??c,(y.loadParser||y.parser)&&(u=y.loadParser??u,d=y.parser??d),x={...m(y.src),...y}),!p)throw new Error(`[Resolver] alias is undefined for this asset: ${x.src}`);x=this._buildResolvedAsset(x,{aliases:p,data:l,format:c,loadParser:u,parser:d,progressSize:a.progressSize}),f.push(x)})}),p.forEach(g=>{this._assetMap[g]=f})})}resolveBundle(e){const r=CN(e);e=md(e);const n={};return e.forEach(s=>{const a=this._bundles[s];if(a){const o=this.resolve(a),l={};for(const c in o){const u=o[c];l[this._extractAssetIdFromBundle(s,c)]=u}n[s]=l}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const s in r)n[s]=r[s].src;return n}return r.src}resolve(e){const r=CN(e);e=md(e);const n={};return e.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let a=this._assetMap[s];const o=this._getPreferredOrder(a);o==null||o.priority.forEach(l=>{o.params[l].forEach(c=>{const u=a.filter(d=>d[l]?d[l]===c:!1);u.length&&(a=u)})}),this._resolverHash[s]=a[0]}else this._resolverHash[s]=this._buildResolvedAsset({alias:[s],src:s},{});n[s]=this._resolverHash[s]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[r],s=this._preferredOrder.find(a=>a.params.format.includes(n.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}_buildResolvedAsset(e,r){const{aliases:n,data:s,loadParser:a,parser:o,format:l,progressSize:c}=r;return(this._basePath||this._rootPath)&&(e.src=jc.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=a??e.loadParser,e.parser=o??e.parser,e.format=l??e.format??Sje(e.src),c!==void 0&&(e.progressSize=c),e}}av.RETINA_PREFIX=/@([0-9\.]+)x/;function Sje(t){return t.split(".").pop().split("?").shift().split("#").shift()}const r8=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t},lQ=class G1{constructor(e,r){this.linkedSheets=[];let n=e;(e==null?void 0:e.source)instanceof Od&&(n={texture:e,data:r});const{texture:s,data:a,cachePrefix:o=""}=n;this.cachePrefix=o,this._texture=s instanceof Sn?s:null,this.textureSource=s.source,this.textures={},this.animations={},this.data=a;const l=parseFloat(a.meta.scale);l?(this.resolution=l,s.source.resolution=this.resolution):this.resolution=s.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=G1.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=G1.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const s=this._frameKeys[r],a=this._frames[s],o=a.frame;if(o){let l=null,c=null;const u=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,d=new Ra(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a.rotated?l=new Ra(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):l=new Ra(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(c=new Ra(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[s]=new Sn({source:this.textureSource,frame:l,orig:d,trim:c,rotate:a.rotated?2:0,defaultAnchor:a.anchor,defaultBorders:a.borders,label:s.toString()})}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const s=e[r][n];this.animations[r].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*G1.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*G1.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};lQ.BATCH_SIZE=1e3;let V9=lQ;const Nje=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function cQ(t,e,r){const n={};if(t.forEach(s=>{n[s]=e}),Object.keys(e.textures).forEach(s=>{n[`${e.cachePrefix}${s}`]=e.textures[s]}),!r){const s=jc.dirname(t[0]);e.linkedSheets.forEach((a,o)=>{const l=cQ([`${s}/${e.data.meta.related_multi_packs[o]}`],a,!0);Object.assign(n,l)})}return n}const Cje={extension:Mr.Asset,cache:{test:t=>t instanceof V9,getCacheableAssets:(t,e)=>cQ(t,e,!1)},resolver:{extension:{type:Mr.ResolveParser,name:"resolveSpritesheet"},test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),s=r.pop();return n==="json"&&Nje.includes(s)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=av.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:Mr.LoadParser,priority:pm.Normal,name:"spritesheetLoader"},async testParse(t,e){return jc.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var h,p;const{texture:n,imageFilename:s,textureOptions:a,cachePrefix:o}=(e==null?void 0:e.data)??{};let l=jc.dirname(e.src);l&&l.lastIndexOf("/")!==l.length-1&&(l+="/");let c;if(n instanceof Sn)c=n;else{const f=r8(l+(s??t.meta.image),e.src);c=(await r.load([{src:f,data:a}]))[f]}const u=new V9({texture:c.source,data:t,cachePrefix:o});await u.parse();const d=(h=t==null?void 0:t.meta)==null?void 0:h.related_multi_packs;if(Array.isArray(d)){const f=[];for(const g of d){if(typeof g!="string")continue;let y=l+g;(p=e.data)!=null&&p.ignoreMultiPack||(y=r8(y,e.src),f.push(r.load({src:y,data:{textureOptions:a,ignoreMultiPack:!0}})))}const m=await Promise.all(f);u.linkedSheets=m,m.forEach(g=>{g.linkedSheets=[u].concat(u.linkedSheets.filter(y=>y!==g))})}return u},async unload(t,e,r){await r.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};so.add(Cje);const LA=Object.create(null),q9=Object.create(null);function AM(t,e){let r=q9[t];return r===void 0&&(LA[e]===void 0&&(LA[e]=1),q9[t]=r=LA[e]++),r}let $x;function uQ(){return(!$x||$x!=null&&$x.isContextLost())&&($x=Us.get().createCanvas().getContext("webgl",{})),$x}let c5;function _je(){if(!c5){c5="mediump";const t=uQ();t&&t.getShaderPrecisionFormat&&(c5=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return c5}function Aje(t,e,r){return e?t:r?(t=t.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function kje(t,e,r){const n=r?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let s=r?e.requestedFragmentPrecision:e.requestedVertexPrecision;return s==="highp"&&n!=="highp"&&(s="mediump"),`precision ${s} float;
${t}`}else if(n!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function Pje(t,e){return e?`#version 300 es
${t}`:t}const Eje={},Tje={};function Ije(t,{name:e="pixi-program"},r=!0){e=e.replace(/\s+/g,"-"),e+=r?"-fragment":"-vertex";const n=r?Eje:Tje;return n[e]?(n[e]++,e+=`-${n[e]}`):n[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function Mje(t,e){return e?t.replace("#version 300 es",""):t}const RA={stripVersion:Mje,ensurePrecision:kje,addProgramDefines:Aje,setProgramName:Ije,insertVersion:Pje},u1=Object.create(null),dQ=class n8{constructor(e){e={...n8.defaultOptions,...e};const r=e.fragment.indexOf("#version 300 es")!==-1,n={stripVersion:r,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:_je()},setProgramName:{name:e.name},addProgramDefines:r,insertVersion:r};let s=e.fragment,a=e.vertex;Object.keys(RA).forEach(o=>{const l=n[o];s=RA[o](s,l,!0),a=RA[o](a,l,!1)}),this.fragment=s,this.vertex=a,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=AM(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,u1[this._cacheKey]=null}static from(e){const r=`${e.vertex}:${e.fragment}`;return u1[r]||(u1[r]=new n8(e),u1[r]._cacheKey=r),u1[r]}};dQ.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let rC=dQ;const Y9={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Oje(t){return Y9[t]??Y9.float32}const Lje={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function Rje({source:t,entryPoint:e}){const r={},n=t.indexOf(`fn ${e}`);if(n!==-1){const s=t.indexOf("->",n);if(s!==-1){const a=t.substring(n,s),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let l;for(;(l=o.exec(a))!==null;){const c=Lje[l[3]]??"float32";r[l[2]]={location:parseInt(l[1],10),format:c,stride:Oje(c).stride,offset:0,instance:!1,start:0}}}}return r}function DA(t){var h,p;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,r=/@group\((\d+)\)/,n=/@binding\((\d+)\)/,s=/var(<[^>]+>)? (\w+)/,a=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,l=/(\w+)\s*:\s*([\w\<\>]+)/g,c=/struct\s+(\w+)/,u=(h=t.match(e))==null?void 0:h.map(f=>({group:parseInt(f.match(r)[1],10),binding:parseInt(f.match(n)[1],10),name:f.match(s)[2],isUniform:f.match(s)[1]==="<uniform>",type:f.match(a)[1]}));if(!u)return{groups:[],structs:[]};const d=((p=t.match(o))==null?void 0:p.map(f=>{const m=f.match(c)[1],g=f.match(l).reduce((y,x)=>{const[w,S]=x.split(":");return y[w.trim()]=S.trim(),y},{});return g?{name:m,members:g}:null}).filter(({name:f})=>u.some(m=>m.type===f)))??[];return{groups:u,structs:d}}var H1=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(H1||{});function Dje({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]=[]),n.isUniform?e[n.group].push({binding:n.binding,visibility:H1.VERTEX|H1.FRAGMENT,buffer:{type:"uniform"}}):n.type==="sampler"?e[n.group].push({binding:n.binding,visibility:H1.FRAGMENT,sampler:{type:"filtering"}}):n.type==="texture_2d"&&e[n.group].push({binding:n.binding,visibility:H1.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function Fje({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]={}),e[n.group][n.name]=n.binding}return e}function Bje(t,e){const r=new Set,n=new Set,s=[...t.structs,...e.structs].filter(o=>r.has(o.name)?!1:(r.add(o.name),!0)),a=[...t.groups,...e.groups].filter(o=>{const l=`${o.name}-${o.binding}`;return n.has(l)?!1:(n.add(l),!0)});return{structs:s,groups:a}}const d1=Object.create(null);class ov{constructor(e){var l,c;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:r,vertex:n,layout:s,gpuLayout:a,name:o}=e;if(this.name=o,this.fragment=r,this.vertex=n,r.source===n.source){const u=DA(r.source);this.structsAndGroups=u}else{const u=DA(n.source),d=DA(r.source);this.structsAndGroups=Bje(u,d)}this.layout=s??Fje(this.structsAndGroups),this.gpuLayout=a??Dje(this.structsAndGroups),this.autoAssignGlobalUniforms=((l=this.layout[0])==null?void 0:l.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((c=this.layout[1])==null?void 0:c.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:r}=this,n=e.source+r.source+e.entryPoint+r.entryPoint;this._layoutKey=AM(n,"program")}get attributeData(){return this._attributeData??(this._attributeData=Rje(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,d1[this._cacheKey]=null}static from(e){const r=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return d1[r]||(d1[r]=new ov(e),d1[r]._cacheKey=r),d1[r]}}const hQ=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],$je=hQ.reduce((t,e)=>(t[e]=!0,t),{});function zje(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const fQ=class pQ{constructor(e,r){this._touched=0,this.uid=Si("uniform"),this._resourceType="uniformGroup",this._resourceId=Si("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,r={...pQ.defaultOptions,...r},this.uniformStructures=e;const n={};for(const s in e){const a=e[s];if(a.name=s,a.size=a.size??1,!$je[a.type]){const o=a.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(o){const[,l,c]=o;throw new Error(`Uniform type ${a.type} is not supported. Use type: '${l}', size: ${c} instead.`)}throw new Error(`Uniform type ${a.type} is not supported. Supported uniform types are: ${hQ.join(", ")}`)}a.value??(a.value=zje(a.type,a.size)),n[s]=a.value}this.uniforms=n,this._dirtyId=1,this.ubo=r.ubo,this.isStatic=r.isStatic,this._signature=AM(Object.keys(n).map(s=>`${s}-${e[s].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};fQ.defaultOptions={ubo:!1,isStatic:!1};let kM=fQ;class yS{constructor(e){this.resources=Object.create(null),this._dirty=!0;let r=0;for(const n in e){const s=e[n];this.setResource(s,r++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let r=0;for(const n in this.resources)e[r++]=this.resources[n]._resourceId;this._key=e.join("|")}setResource(e,r){var s,a;const n=this.resources[r];e!==n&&(n&&((s=e.off)==null||s.call(e,"change",this.onResourceChange,this)),(a=e.on)==null||a.call(e,"change",this.onResourceChange,this),this.resources[r]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const r=this.resources;for(const n in r)r[n]._touched=e}destroy(){var r;const e=this.resources;for(const n in e){const s=e[n];(r=s==null?void 0:s.off)==null||r.call(s,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const r=this.resources;for(const n in r)r[n]===e&&(r[n]=null)}else this._updateKey()}}var s8=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(s8||{});class nC extends Md{constructor(e){super(),this.uid=Si("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:r,glProgram:n,groups:s,resources:a,compatibleRenderers:o,groupMap:l}=e;this.gpuProgram=r,this.glProgram=n,o===void 0&&(o=0,r&&(o|=s8.WEBGPU),n&&(o|=s8.WEBGL)),this.compatibleRenderers=o;const c={};if(!a&&!s&&(a={}),a&&s)throw new Error("[Shader] Cannot have both resources and groups");if(!r&&s&&!l)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!r&&s&&l)for(const u in l)for(const d in l[u]){const h=l[u][d];c[h]={group:u,binding:d,name:h}}else if(r&&s&&!l){const u=r.structsAndGroups.groups;l={},u.forEach(d=>{l[d.group]=l[d.group]||{},l[d.group][d.binding]=d.name,c[d.name]=d})}else if(a){s={},l={},r&&r.structsAndGroups.groups.forEach(h=>{l[h.group]=l[h.group]||{},l[h.group][h.binding]=h.name,c[h.name]=h});let u=0;for(const d in a)c[d]||(s[99]||(s[99]=new yS,this._ownedBindGroups.push(s[99])),c[d]={group:99,binding:u,name:d},l[99]=l[99]||{},l[99][u]=d,u++);for(const d in a){const h=d;let p=a[d];!p.source&&!p._resourceType&&(p=new kM(p));const f=c[h];f&&(s[f.group]||(s[f.group]=new yS,this._ownedBindGroups.push(s[f.group])),s[f.group].setResource(p,f.binding))}}this.groups=s,this._uniformBindMap=l,this.resources=this._buildResourceAccessor(s,c)}addResource(e,r,n){var s,a;(s=this._uniformBindMap)[r]||(s[r]={}),(a=this._uniformBindMap[r])[n]||(a[n]=e),this.groups[r]||(this.groups[r]=new yS,this._ownedBindGroups.push(this.groups[r]))}_buildResourceAccessor(e,r){const n={};for(const s in r){const a=r[s];Object.defineProperty(n,a.name,{get(){return e[a.group].getResource(a.binding)},set(o){e[a.group].setResource(o,a.binding)}})}return n}destroy(e=!1){var r,n;this._destroyed||(this._destroyed=!0,this.emit("destroy",this),e&&((r=this.gpuProgram)==null||r.destroy(),(n=this.glProgram)==null||n.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(s=>{s.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(e){const{gpu:r,gl:n,...s}=e;let a,o;return r&&(a=ov.from(r)),n&&(o=rC.from(n)),new nC({gpuProgram:a,glProgram:o,...s})}}const Uje={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},FA=0,BA=1,$A=2,zA=3,UA=4,WA=5,i8=class mQ{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<FA)}set blend(e){!!(this.data&1<<FA)!==e&&(this.data^=1<<FA)}get offsets(){return!!(this.data&1<<BA)}set offsets(e){!!(this.data&1<<BA)!==e&&(this.data^=1<<BA)}set cullMode(e){if(e==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=e==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<$A)}set culling(e){!!(this.data&1<<$A)!==e&&(this.data^=1<<$A)}get depthTest(){return!!(this.data&1<<zA)}set depthTest(e){!!(this.data&1<<zA)!==e&&(this.data^=1<<zA)}get depthMask(){return!!(this.data&1<<WA)}set depthMask(e){!!(this.data&1<<WA)!==e&&(this.data^=1<<WA)}get clockwiseFrontFace(){return!!(this.data&1<<UA)}set clockwiseFrontFace(e){!!(this.data&1<<UA)!==e&&(this.data^=1<<UA)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!=="none",this._blendMode=e,this._blendModeId=Uje[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new mQ;return e.depthTest=!1,e.blend=!0,e}};i8.default2d=i8.for2d();let Wje=i8;const gQ=class a8 extends nC{constructor(e){e={...a8.defaultOptions,...e},super(e),this.enabled=!0,this._state=Wje.for2d(),this.blendMode=e.blendMode,this.padding=e.padding,typeof e.antialias=="boolean"?this.antialias=e.antialias?"on":"off":this.antialias=e.antialias,this.resolution=e.resolution,this.blendRequired=e.blendRequired,this.clipToViewport=e.clipToViewport,this.addResource("uTexture",0,1),e.blendRequired&&this.addResource("uBackTexture",0,3)}apply(e,r,n,s){e.applyFilter(this,r,n,s)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(e){const{gpu:r,gl:n,...s}=e;let a,o;return r&&(a=ov.from(r)),n&&(o=rC.from(n)),new a8({gpuProgram:a,glProgram:o,...s})}};gQ.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let Gje=gQ;const o8=[];so.handleByNamedList(Mr.Environment,o8);async function Hje(t){if(!t)for(let e=0;e<o8.length;e++){const r=o8[e];if(r.value.test()){await r.value.load();return}}}let h1;function Vje(){if(typeof h1=="boolean")return h1;try{h1=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{h1=!1}return h1}function X9(t,e,r=2){const n=e&&e.length,s=n?e[0]*r:t.length;let a=xQ(t,0,s,r,!0);const o=[];if(!a||a.next===a.prev)return o;let l,c,u;if(n&&(a=Zje(t,e,a,r)),t.length>80*r){l=t[0],c=t[1];let d=l,h=c;for(let p=r;p<s;p+=r){const f=t[p],m=t[p+1];f<l&&(l=f),m<c&&(c=m),f>d&&(d=f),m>h&&(h=m)}u=Math.max(d-l,h-c),u=u!==0?32767/u:0}return u2(a,o,r,l,c,u,0),o}function xQ(t,e,r,n,s){let a;if(s===l5e(t,e,r,n)>0)for(let o=e;o<r;o+=n)a=K9(o/n|0,t[o],t[o+1],a);else for(let o=r-n;o>=e;o-=n)a=K9(o/n|0,t[o],t[o+1],a);return a&&hy(a,a.next)&&(h2(a),a=a.next),a}function Lg(t,e){if(!t)return t;e||(e=t);let r=t,n;do if(n=!1,!r.steiner&&(hy(r,r.next)||ii(r.prev,r,r.next)===0)){if(h2(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function u2(t,e,r,n,s,a,o){if(!t)return;!o&&a&&r5e(t,n,s,a);let l=t;for(;t.prev!==t.next;){const c=t.prev,u=t.next;if(a?Yje(t,n,s,a):qje(t)){e.push(c.i,t.i,u.i),h2(t),t=u.next,l=u.next;continue}if(t=u,t===l){o?o===1?(t=Xje(Lg(t),e),u2(t,e,r,n,s,a,2)):o===2&&Kje(t,e,r,n,s,a):u2(Lg(t),e,r,n,s,a,1);break}}}function qje(t){const e=t.prev,r=t,n=t.next;if(ii(e,r,n)>=0)return!1;const s=e.x,a=r.x,o=n.x,l=e.y,c=r.y,u=n.y,d=Math.min(s,a,o),h=Math.min(l,c,u),p=Math.max(s,a,o),f=Math.max(l,c,u);let m=n.next;for(;m!==e;){if(m.x>=d&&m.x<=p&&m.y>=h&&m.y<=f&&V1(s,l,a,c,o,u,m.x,m.y)&&ii(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Yje(t,e,r,n){const s=t.prev,a=t,o=t.next;if(ii(s,a,o)>=0)return!1;const l=s.x,c=a.x,u=o.x,d=s.y,h=a.y,p=o.y,f=Math.min(l,c,u),m=Math.min(d,h,p),g=Math.max(l,c,u),y=Math.max(d,h,p),x=l8(f,m,e,r,n),w=l8(g,y,e,r,n);let S=t.prevZ,N=t.nextZ;for(;S&&S.z>=x&&N&&N.z<=w;){if(S.x>=f&&S.x<=g&&S.y>=m&&S.y<=y&&S!==s&&S!==o&&V1(l,d,c,h,u,p,S.x,S.y)&&ii(S.prev,S,S.next)>=0||(S=S.prevZ,N.x>=f&&N.x<=g&&N.y>=m&&N.y<=y&&N!==s&&N!==o&&V1(l,d,c,h,u,p,N.x,N.y)&&ii(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;S&&S.z>=x;){if(S.x>=f&&S.x<=g&&S.y>=m&&S.y<=y&&S!==s&&S!==o&&V1(l,d,c,h,u,p,S.x,S.y)&&ii(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;N&&N.z<=w;){if(N.x>=f&&N.x<=g&&N.y>=m&&N.y<=y&&N!==s&&N!==o&&V1(l,d,c,h,u,p,N.x,N.y)&&ii(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function Xje(t,e){let r=t;do{const n=r.prev,s=r.next.next;!hy(n,s)&&vQ(n,r,r.next,s)&&d2(n,s)&&d2(s,n)&&(e.push(n.i,r.i,s.i),h2(r),h2(r.next),r=t=s),r=r.next}while(r!==t);return Lg(r)}function Kje(t,e,r,n,s,a){let o=t;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&i5e(o,l)){let c=bQ(o,l);o=Lg(o,o.next),c=Lg(c,c.next),u2(o,e,r,n,s,a,0),u2(c,e,r,n,s,a,0);return}l=l.next}o=o.next}while(o!==t)}function Zje(t,e,r,n){const s=[];for(let a=0,o=e.length;a<o;a++){const l=e[a]*n,c=a<o-1?e[a+1]*n:t.length,u=xQ(t,l,c,n,!1);u===u.next&&(u.steiner=!0),s.push(s5e(u))}s.sort(Qje);for(let a=0;a<s.length;a++)r=Jje(s[a],r);return r}function Qje(t,e){let r=t.x-e.x;if(r===0&&(r=t.y-e.y,r===0)){const n=(t.next.y-t.y)/(t.next.x-t.x),s=(e.next.y-e.y)/(e.next.x-e.x);r=n-s}return r}function Jje(t,e){const r=e5e(t,e);if(!r)return e;const n=bQ(r,t);return Lg(n,n.next),Lg(r,r.next)}function e5e(t,e){let r=e;const n=t.x,s=t.y;let a=-1/0,o;if(hy(t,r))return r;do{if(hy(t,r.next))return r.next;if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){const h=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(h<=n&&h>a&&(a=h,o=r.x<r.next.x?r:r.next,h===n))return o}r=r.next}while(r!==e);if(!o)return null;const l=o,c=o.x,u=o.y;let d=1/0;r=o;do{if(n>=r.x&&r.x>=c&&n!==r.x&&yQ(s<u?n:a,s,c,u,s<u?a:n,s,r.x,r.y)){const h=Math.abs(s-r.y)/(n-r.x);d2(r,t)&&(h<d||h===d&&(r.x>o.x||r.x===o.x&&t5e(o,r)))&&(o=r,d=h)}r=r.next}while(r!==l);return o}function t5e(t,e){return ii(t.prev,t,e.prev)<0&&ii(e.next,t,t.next)<0}function r5e(t,e,r,n){let s=t;do s.z===0&&(s.z=l8(s.x,s.y,e,r,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,n5e(s)}function n5e(t){let e,r=1;do{let n=t,s;t=null;let a=null;for(e=0;n;){e++;let o=n,l=0;for(let u=0;u<r&&(l++,o=o.nextZ,!!o);u++);let c=r;for(;l>0||c>0&&o;)l!==0&&(c===0||!o||n.z<=o.z)?(s=n,n=n.nextZ,l--):(s=o,o=o.nextZ,c--),a?a.nextZ=s:t=s,s.prevZ=a,a=s;n=o}a.nextZ=null,r*=2}while(e>1);return t}function l8(t,e,r,n,s){return t=(t-r)*s|0,e=(e-n)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function s5e(t){let e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function yQ(t,e,r,n,s,a,o,l){return(s-o)*(e-l)>=(t-o)*(a-l)&&(t-o)*(n-l)>=(r-o)*(e-l)&&(r-o)*(a-l)>=(s-o)*(n-l)}function V1(t,e,r,n,s,a,o,l){return!(t===o&&e===l)&&yQ(t,e,r,n,s,a,o,l)}function i5e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!a5e(t,e)&&(d2(t,e)&&d2(e,t)&&o5e(t,e)&&(ii(t.prev,t,e.prev)||ii(t,e.prev,e))||hy(t,e)&&ii(t.prev,t,t.next)>0&&ii(e.prev,e,e.next)>0)}function ii(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function hy(t,e){return t.x===e.x&&t.y===e.y}function vQ(t,e,r,n){const s=d5(ii(t,e,r)),a=d5(ii(t,e,n)),o=d5(ii(r,n,t)),l=d5(ii(r,n,e));return!!(s!==a&&o!==l||s===0&&u5(t,r,e)||a===0&&u5(t,n,e)||o===0&&u5(r,t,n)||l===0&&u5(r,e,n))}function u5(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function d5(t){return t>0?1:t<0?-1:0}function a5e(t,e){let r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&vQ(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function d2(t,e){return ii(t.prev,t,t.next)<0?ii(t,e,t.next)>=0&&ii(t,t.prev,e)>=0:ii(t,e,t.prev)<0||ii(t,t.next,e)<0}function o5e(t,e){let r=t,n=!1;const s=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&s<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function bQ(t,e){const r=c8(t.i,t.x,t.y),n=c8(e.i,e.x,e.y),s=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=s,s.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function K9(t,e,r,n){const s=c8(t,e,r);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function h2(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function c8(t,e,r){return{i:t,x:e,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function l5e(t,e,r,n){let s=0;for(let a=e,o=r-n;a<r;a+=n)s+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return s}const c5e=X9.default||X9;var wQ=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(wQ||{});class u5e{constructor(e){this.items=[],this._name=e}emit(e,r,n,s,a,o,l,c){const{name:u,items:d}=this;for(let h=0,p=d.length;h<p;h++)d[h][u](e,r,n,s,a,o,l,c);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&this.items.splice(r,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const d5e=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],jQ=class SQ extends Md{constructor(e){super(),this.uid=Si("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const r=[...d5e,...this.config.runners??[]];this._addRunners(...r),this._unsafeEvalCheck()}async init(e={}){const r=e.skipExtensionImports===!0?!0:e.manageImports===!1;await Hje(r),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const n in this._systemsHash)e={...this._systemsHash[n].constructor.defaultOptions,...e};e={...SQ.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let n=0;n<this.runners.init.items.length;n++)await this.runners.init.items[n].init(e);this._initOptions=e}render(e,r){let n=e;if(n instanceof dc&&(n={container:n},r&&(mn(ss,"passing a second argument is deprecated, please use render options instead"),n.target=r.renderTexture)),n.target||(n.target=this.view.renderTarget),n.target===this.view.renderTarget&&(this._lastObjectRendered=n.container,n.clearColor??(n.clearColor=this.background.colorRgba),n.clear??(n.clear=this.background.clearBeforeRender)),n.clearColor){const s=Array.isArray(n.clearColor)&&n.clearColor.length===4;n.clearColor=s?n.clearColor:fa.shared.setValue(n.clearColor).toArray()}n.transform||(n.container.updateLocalTransform(),n.transform=n.container.localTransform),n.container.visible&&(n.container.enableRenderGroup(),this.runners.prerender.emit(n),this.runners.renderStart.emit(n),this.runners.render.emit(n),this.runners.renderEnd.emit(n),this.runners.postrender.emit(n))}resize(e,r,n){const s=this.view.resolution;this.view.resize(e,r,n),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),n!==void 0&&n!==s&&this.runners.resolutionChange.emit(n)}clear(e={}){const r=this;e.target||(e.target=r.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=wQ.ALL);const{clear:n,clearColor:s,target:a}=e;fa.shared.setValue(s??this.background.colorRgba),r.renderTarget.clear(a,n,fa.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(r=>{this.runners[r]=new u5e(r)})}_addSystems(e){let r;for(r in e){const n=e[r];this._addSystem(n.value,n.name)}}_addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const s in this.runners)this.runners[s].add(n);return this}_addPipes(e,r){const n=r.reduce((s,a)=>(s[a.name]=a.value,s),{});e.forEach(s=>{const a=s.value,o=s.name,l=n[o];this.renderPipes[o]=new a(this,l?new l:null),this.runners.destroy.add(this.renderPipes[o])})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),(e===!0||typeof e=="object"&&e.releaseGlobalResources)&&Ew.release(),Object.values(this.runners).forEach(r=>{r.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!Vje())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};jQ.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let NQ=jQ,h5;function h5e(t){return h5!==void 0||(h5=(()=>{var r;const e={stencil:!0,failIfMajorPerformanceCaveat:t??NQ.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Us.get().getWebGLRenderingContext())return!1;let s=Us.get().createCanvas().getContext("webgl",e);const a=!!((r=s==null?void 0:s.getContextAttributes())!=null&&r.stencil);if(s){const o=s.getExtension("WEBGL_lose_context");o&&o.loseContext()}return s=null,a}catch{return!1}})()),h5}let f5;async function f5e(t={}){return f5!==void 0||(f5=await(async()=>{const e=Us.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),f5}const Z9=["webgl","webgpu","canvas"];async function p5e(t){let e=[];t.preference?(e.push(t.preference),Z9.forEach(a=>{a!==t.preference&&e.push(a)})):e=Z9.slice();let r,n={};for(let a=0;a<e.length;a++){const o=e[a];if(o==="webgpu"&&await f5e()){const{WebGPURenderer:l}=await uf(async()=>{const{WebGPURenderer:c}=await import("./WebGPURenderer-BapVUsMU.js");return{WebGPURenderer:c}},__vite__mapDeps([3,2,4]));r=l,n={...t,...t.webgpu};break}else if(o==="webgl"&&h5e(t.failIfMajorPerformanceCaveat??NQ.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:l}=await uf(async()=>{const{WebGLRenderer:c}=await import("./WebGLRenderer-KW9JlGjt.js");return{WebGLRenderer:c}},__vite__mapDeps([5,2,4]));r=l,n={...t,...t.webgl};break}else if(o==="canvas")throw n={...t},new Error("CanvasRenderer is not yet implemented")}if(delete n.webgpu,delete n.webgl,!r)throw new Error("No available renderer for the current environment");const s=new r;return await s.init(n),s}const CQ="8.14.3";class _Q{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,CQ)}static destroy(){}}_Q.extension=Mr.Application;class m5e{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,CQ)}destroy(){this._renderer=null}}m5e.extension={type:[Mr.WebGLSystem,Mr.WebGPUSystem],name:"initHook",priority:-10};const AQ=class u8{constructor(...e){this.stage=new dc,e[0]!==void 0&&mn(ss,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.stage||(this.stage=new dc),this.renderer=await p5e(e),u8._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return mn(ss,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,r=!1){const n=u8._plugins.slice(0);n.reverse(),n.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};AQ._plugins=[];let kQ=AQ;so.handleByList(Mr.Application,kQ._plugins);so.add(_Q);class PQ extends Md{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return mn(ss,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return mn(ss,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return mn(ss,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return mn(ss,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return mn(ss,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){var r;this.emit("destroy",this),this.removeAllListeners();for(const n in this.chars)(r=this.chars[n].texture)==null||r.destroy();this.chars=null,e&&(this.pages.forEach(n=>n.texture.destroy(!0)),this.pages=null)}}/**
 * tiny-lru
 *
 * @copyright 2025 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 11.4.5
 */class g5e{constructor(e=0,r=0,n=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.resetTtl=n,this.size=0,this.ttl=r}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){const r=this.items[e];delete this.items[e],this.size--,r.prev!==null&&(r.prev.next=r.next),r.next!==null&&(r.next.prev=r.prev),this.first===r&&(this.first=r.next),this.last===r&&(this.last=r.prev)}return this}entries(e=this.keys()){return e.map(r=>[r,this.get(r)])}evict(e=!1){if(e||this.size>0){const r=this.first;delete this.items[r.key],--this.size===0?(this.first=null,this.last=null):(this.first=r.next,this.first.prev=null)}return this}expiresAt(e){let r;return this.has(e)&&(r=this.items[e].expiry),r}get(e){const r=this.items[e];if(r!==void 0){if(this.ttl>0&&r.expiry<=Date.now()){this.delete(e);return}return this.moveToEnd(r),r.value}}has(e){return e in this.items}moveToEnd(e){this.last!==e&&(e.prev!==null&&(e.prev.next=e.next),e.next!==null&&(e.next.prev=e.prev),this.first===e&&(this.first=e.next),e.prev=this.last,e.next=null,this.last!==null&&(this.last.next=e),this.last=e,this.first===null&&(this.first=e))}keys(){const e=[];let r=this.first;for(;r!==null;)e.push(r.key),r=r.next;return e}setWithEvicted(e,r,n=this.resetTtl){let s=null;if(this.has(e))this.set(e,r,!0,n);else{this.max>0&&this.size===this.max&&(s={...this.first},this.evict(!0));let a=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:r};++this.size===1?this.first=a:this.last.next=a,this.last=a}return s}set(e,r,n=!1,s=this.resetTtl){let a=this.items[e];return n||a!==void 0?(a.value=r,n===!1&&s&&(a.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(a)):(this.max>0&&this.size===this.max&&this.evict(!0),a=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:r},++this.size===1?this.first=a:this.last.next=a,this.last=a),this}values(e=this.keys()){return e.map(r=>this.get(r))}}function EQ(t=1e3,e=0,r=!1){if(isNaN(t)||t<0)throw new TypeError("Invalid max value");if(isNaN(e)||e<0)throw new TypeError("Invalid ttl value");if(typeof r!="boolean")throw new TypeError("Invalid resetTtl value");return new g5e(t,e,r)}const x5e=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function d8(t){const e=typeof t.fontSize=="number"?`${t.fontSize}px`:t.fontSize;let r=t.fontFamily;Array.isArray(t.fontFamily)||(r=t.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let s=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!x5e.includes(s)&&(s=`"${s}"`),r[n]=s}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${r.join(",")}`}const GA={willReadFrequently:!0},Ld=class Cr{static get experimentalLetterSpacingSupported(){let e=Cr._experimentalLetterSpacingSupported;if(e===void 0){const r=Us.get().getCanvasRenderingContext2D().prototype;e=Cr._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,s,a,o,l,c,u){this.text=e,this.style=r,this.width=n,this.height=s,this.lines=a,this.lineWidths=o,this.lineHeight=l,this.maxLineWidth=c,this.fontProperties=u}static measureText(e=" ",r,n=Cr._canvas,s=r.wordWrap){var w;const a=`${e}-${r.styleKey}-wordWrap-${s}`;if(Cr._measurementCache.has(a))return Cr._measurementCache.get(a);const o=d8(r),l=Cr.measureFont(o);l.fontSize===0&&(l.fontSize=r.fontSize,l.ascent=r.fontSize);const c=Cr.__context;c.font=o;const d=(s?Cr._wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),h=new Array(d.length);let p=0;for(let S=0;S<d.length;S++){const N=Cr._measureText(d[S],r.letterSpacing,c);h[S]=N,p=Math.max(p,N)}const f=((w=r._stroke)==null?void 0:w.width)||0;let m=p+f;r.dropShadow&&(m+=r.dropShadow.distance);const g=r.lineHeight||l.fontSize;let y=Math.max(g,l.fontSize+f)+(d.length-1)*(g+r.leading);r.dropShadow&&(y+=r.dropShadow.distance);const x=new Cr(e,r,m,y,d,h,g+r.leading,p,l);return Cr._measurementCache.set(a,x),x}static _measureText(e,r,n){let s=!1;Cr.experimentalLetterSpacingSupported&&(Cr.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,s=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));const a=n.measureText(e);let o=a.width;const l=-a.actualBoundingBoxLeft;let u=a.actualBoundingBoxRight-l;if(o>0)if(s)o-=r,u-=r;else{const d=(Cr.graphemeSegmenter(e).length-1)*r;o+=d,u+=d}return Math.max(o,u)}static _wordWrap(e,r,n=Cr._canvas){const s=n.getContext("2d",GA);let a=0,o="",l="";const c=Object.create(null),{letterSpacing:u,whiteSpace:d}=r,h=Cr._collapseSpaces(d),p=Cr._collapseNewlines(d);let f=!h;const m=r.wordWrapWidth+u,g=Cr._tokenize(e);for(let y=0;y<g.length;y++){let x=g[y];if(Cr._isNewline(x)){if(!p){l+=Cr._addLine(o),f=!h,o="",a=0;continue}x=" "}if(h){const S=Cr.isBreakingSpace(x),N=Cr.isBreakingSpace(o[o.length-1]);if(S&&N)continue}const w=Cr._getFromCache(x,u,c,s);if(w>m)if(o!==""&&(l+=Cr._addLine(o),o="",a=0),Cr.canBreakWords(x,r.breakWords)){const S=Cr.wordWrapSplit(x);for(let N=0;N<S.length;N++){let C=S[N],A=C,k=1;for(;S[N+k];){const T=S[N+k];if(!Cr.canBreakChars(A,T,x,N,r.breakWords))C+=T;else break;A=T,k++}N+=k-1;const E=Cr._getFromCache(C,u,c,s);E+a>m&&(l+=Cr._addLine(o),f=!1,o="",a=0),o+=C,a+=E}}else{o.length>0&&(l+=Cr._addLine(o),o="",a=0);const S=y===g.length-1;l+=Cr._addLine(x,!S),f=!1,o="",a=0}else w+a>m&&(f=!1,l+=Cr._addLine(o),o="",a=0),(o.length>0||!Cr.isBreakingSpace(x)||f)&&(o+=x,a+=w)}return l+=Cr._addLine(o,!1),l}static _addLine(e,r=!0){return e=Cr._trimRight(e),e=r?`${e}
`:e,e}static _getFromCache(e,r,n,s){let a=n[e];return typeof a!="number"&&(a=Cr._measureText(e,r,s)+r,n[e]=a),a}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!Cr.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:Cr._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:Cr._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let s=0;s<e.length;s++){const a=e[s],o=e[s+1];if(Cr.isBreakingSpace(a,o)||Cr._isNewline(a)){n!==""&&(r.push(n),n=""),a==="\r"&&o===`
`?(r.push(`\r
`),s++):r.push(a);continue}n+=a}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,s,a){return!0}static wordWrapSplit(e){return Cr.graphemeSegmenter(e)}static measureFont(e){if(Cr._fonts[e])return Cr._fonts[e];const r=Cr._context;r.font=e;const n=r.measureText(Cr.METRICS_STRING+Cr.BASELINE_SYMBOL),s={ascent:n.actualBoundingBoxAscent,descent:n.actualBoundingBoxDescent,fontSize:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent};return Cr._fonts[e]=s,s}static clearMetrics(e=""){e?delete Cr._fonts[e]:Cr._fonts={}}static get _canvas(){if(!Cr.__canvas){let e;try{const r=new OffscreenCanvas(0,0),n=r.getContext("2d",GA);if(n!=null&&n.measureText)return Cr.__canvas=r,r;e=Us.get().createCanvas()}catch{e=Us.get().createCanvas()}e.width=e.height=10,Cr.__canvas=e}return Cr.__canvas}static get _context(){return Cr.__context||(Cr.__context=Cr._canvas.getContext("2d",GA)),Cr.__context}};Ld.METRICS_STRING="|q";Ld.BASELINE_SYMBOL="M";Ld.BASELINE_MULTIPLIER=1.4;Ld.HEIGHT_MULTIPLIER=2;Ld.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>{const r=t.segment(e),n=[];let s=0;for(const a of r)n[s++]=a.segment;return n}}return t=>[...t]})();Ld.experimentalLetterSpacing=!1;Ld._fonts={};Ld._newlines=[10,13];Ld._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Ld._measurementCache=EQ(1e3);let vS=Ld;const Q9=[{offset:0,color:"white"},{offset:1,color:"black"}],PM=class h8{constructor(...e){this.uid=Si("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let r=y5e(e);r={...r.type==="radial"?h8.defaultRadialOptions:h8.defaultLinearOptions,...MZ(r)},this._textureSize=r.textureSize,this._wrapMode=r.wrapMode,r.type==="radial"?(this.center=r.center,this.outerCenter=r.outerCenter??this.center,this.innerRadius=r.innerRadius,this.outerRadius=r.outerRadius,this.scale=r.scale,this.rotation=r.rotation):(this.start=r.start,this.end=r.end),this.textureSpace=r.textureSpace,this.type=r.type,r.colorStops.forEach(s=>{this.addColorStop(s.offset,s.color)})}addColorStop(e,r){return this.colorStops.push({offset:e,color:fa.shared.setValue(r).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:r}=this.start,{x:n,y:s}=this.end,a=n-e,o=s-r;const l=a<0||o<0;if(this._wrapMode==="clamp-to-edge"){if(a<0){const y=e;e=n,n=y,a*=-1}if(o<0){const y=r;r=s,s=y,o*=-1}}const c=this.colorStops.length?this.colorStops:Q9,u=this._textureSize,{canvas:d,context:h}=eD(u,1),p=l?h.createLinearGradient(this._textureSize,0,0,0):h.createLinearGradient(0,0,this._textureSize,0);J9(p,c),h.fillStyle=p,h.fillRect(0,0,u,1),this.texture=new Sn({source:new Og({resource:d,addressMode:this._wrapMode})});const f=Math.sqrt(a*a+o*o),m=Math.atan2(o,a),g=new yn;g.scale(f/u,1),g.rotate(m),g.translate(e,r),this.textureSpace==="local"&&g.scale(u,u),this.transform=g}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:Q9,r=this._textureSize,{canvas:n,context:s}=eD(r,r),{x:a,y:o}=this.center,{x:l,y:c}=this.outerCenter,u=this.innerRadius,d=this.outerRadius,h=l-d,p=c-d,f=r/(d*2),m=(a-h)*f,g=(o-p)*f,y=s.createRadialGradient(m,g,u*f,(l-h)*f,(c-p)*f,d*f);J9(y,e),s.fillStyle=e[e.length-1].color,s.fillRect(0,0,r,r),s.fillStyle=y,s.translate(m,g),s.rotate(this.rotation),s.scale(1,this.scale),s.translate(-m,-g),s.fillRect(0,0,r,r),this.texture=new Sn({source:new Og({resource:n,addressMode:this._wrapMode})});const x=new yn;x.scale(1/f,1/f),x.translate(h,p),this.textureSpace==="local"&&x.scale(r,r),this.transform=x}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};PM.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};PM.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let jf=PM;function J9(t,e){for(let r=0;r<e.length;r++){const n=e[r];t.addColorStop(n.offset,n.color)}}function eD(t,e){const r=Us.get().createCanvas(t,e),n=r.getContext("2d");return{canvas:r,context:n}}function y5e(t){let e=t[0]??{};return(typeof e=="number"||t[1])&&(mn("8.5.2","use options object instead"),e={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:t[5]??jf.defaultLinearOptions.textureSize}),e}const tD={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class sC{constructor(e,r){this.uid=Si("fillPattern"),this._tick=0,this.transform=new yn,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),r&&(e.source.style.addressModeU=tD[r].addressModeU,e.source.style.addressModeV=tD[r].addressModeV)}setTransform(e){const r=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/r.frame.width,1/r.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var v5e=w5e,HA={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},b5e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function w5e(t){var e=[];return t.replace(b5e,function(r,n,s){var a=n.toLowerCase();for(s=S5e(s),a=="m"&&s.length>2&&(e.push([n].concat(s.splice(0,2))),a="l",n=n=="m"?"l":"L");;){if(s.length==HA[a])return s.unshift(n),e.push(s);if(s.length<HA[a])throw new Error("malformed path data");e.push([n].concat(s.splice(0,HA[a])))}}),e}var j5e=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function S5e(t){var e=t.match(j5e);return e?e.map(Number):[]}const N5e=On(v5e);function C5e(t,e){const r=N5e(t),n=[];let s=null,a=0,o=0;for(let l=0;l<r.length;l++){const c=r[l],u=c[0],d=c;switch(u){case"M":a=d[1],o=d[2],e.moveTo(a,o);break;case"m":a+=d[1],o+=d[2],e.moveTo(a,o);break;case"H":a=d[1],e.lineTo(a,o);break;case"h":a+=d[1],e.lineTo(a,o);break;case"V":o=d[1],e.lineTo(a,o);break;case"v":o+=d[1],e.lineTo(a,o);break;case"L":a=d[1],o=d[2],e.lineTo(a,o);break;case"l":a+=d[1],o+=d[2],e.lineTo(a,o);break;case"C":a=d[5],o=d[6],e.bezierCurveTo(d[1],d[2],d[3],d[4],a,o);break;case"c":e.bezierCurveTo(a+d[1],o+d[2],a+d[3],o+d[4],a+d[5],o+d[6]),a+=d[5],o+=d[6];break;case"S":a=d[3],o=d[4],e.bezierCurveToShort(d[1],d[2],a,o);break;case"s":e.bezierCurveToShort(a+d[1],o+d[2],a+d[3],o+d[4]),a+=d[3],o+=d[4];break;case"Q":a=d[3],o=d[4],e.quadraticCurveTo(d[1],d[2],a,o);break;case"q":e.quadraticCurveTo(a+d[1],o+d[2],a+d[3],o+d[4]),a+=d[3],o+=d[4];break;case"T":a=d[1],o=d[2],e.quadraticCurveToShort(a,o);break;case"t":a+=d[1],o+=d[2],e.quadraticCurveToShort(a,o);break;case"A":a=d[6],o=d[7],e.arcToSvg(d[1],d[2],d[3],d[4],d[5],a,o);break;case"a":a+=d[6],o+=d[7],e.arcToSvg(d[1],d[2],d[3],d[4],d[5],a,o);break;case"Z":case"z":e.closePath(),n.length>0&&(s=n.pop(),s?(a=s.startX,o=s.startY):(a=0,o=0)),s=null;break;default:Bs(`Unknown SVG path command: ${u}`)}u!=="Z"&&u!=="z"&&s===null&&(s={startX:a,startY:o},n.push(s))}return e}class EM{constructor(e=0,r=0,n=0){this.type="circle",this.x=e,this.y=r,this.radius=n}clone(){return new EM(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let s=this.x-e,a=this.y-r;return s*=s,a*=a,s+a<=n}strokeContains(e,r,n,s=.5){if(this.radius===0)return!1;const a=this.x-e,o=this.y-r,l=this.radius,c=(1-s)*n,u=Math.sqrt(a*a+o*o);return u<=l+c&&u>l-(n-c)}getBounds(e){return e||(e=new Ra),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class TM{constructor(e=0,r=0,n=0,s=0){this.type="ellipse",this.x=e,this.y=r,this.halfWidth=n,this.halfHeight=s}clone(){return new TM(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let n=(e-this.x)/this.halfWidth,s=(r-this.y)/this.halfHeight;return n*=n,s*=s,n+s<=1}strokeContains(e,r,n,s=.5){const{halfWidth:a,halfHeight:o}=this;if(a<=0||o<=0)return!1;const l=n*(1-s),c=n-l,u=a-c,d=o-c,h=a+l,p=o+l,f=e-this.x,m=r-this.y,g=f*f/(u*u)+m*m/(d*d),y=f*f/(h*h)+m*m/(p*p);return g>1&&y<=1}getBounds(e){return e||(e=new Ra),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function _5e(t,e,r,n,s,a){const o=t-r,l=e-n,c=s-r,u=a-n,d=o*c+l*u,h=c*c+u*u;let p=-1;h!==0&&(p=d/h);let f,m;p<0?(f=r,m=n):p>1?(f=s,m=a):(f=r+p*c,m=n+p*u);const g=t-f,y=e-m;return g*g+y*y}let A5e,k5e,VA=class TQ{constructor(...e){this.type="polygon";let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let s=0,a=r.length;s<a;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.closePath=!0}isClockwise(){let e=0;const r=this.points,n=r.length;for(let s=0;s<n;s+=2){const a=r[s],o=r[s+1],l=r[(s+2)%n],c=r[(s+3)%n];e+=(l-a)*(c+o)}return e<0}containsPolygon(e){const r=this.getBounds(A5e),n=e.getBounds(k5e);if(!r.containsRect(n))return!1;const s=e.points;for(let a=0;a<s.length;a+=2){const o=s[a],l=s[a+1];if(!this.contains(o,l))return!1}return!0}clone(){const e=this.points.slice(),r=new TQ(e);return r.closePath=this.closePath,r}contains(e,r){let n=!1;const s=this.points.length/2;for(let a=0,o=s-1;a<s;o=a++){const l=this.points[a*2],c=this.points[a*2+1],u=this.points[o*2],d=this.points[o*2+1];c>r!=d>r&&e<(u-l)*((r-c)/(d-c))+l&&(n=!n)}return n}strokeContains(e,r,n,s=.5){const a=n*n,o=a*(1-s),l=a-o,{points:c}=this,u=c.length-(this.closePath?0:2);for(let d=0;d<u;d+=2){const h=c[d],p=c[d+1],f=c[(d+2)%c.length],m=c[(d+3)%c.length],g=_5e(e,r,h,p,f,m),y=Math.sign((f-h)*(r-p)-(m-p)*(e-h));if(g<=(y<0?l:o))return!0}return!1}getBounds(e){e||(e=new Ra);const r=this.points;let n=1/0,s=-1/0,a=1/0,o=-1/0;for(let l=0,c=r.length;l<c;l+=2){const u=r[l],d=r[l+1];n=u<n?u:n,s=u>s?u:s,a=d<a?d:a,o=d>o?d:o}return e.x=n,e.width=s-n,e.y=a,e.height=o-a,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return mn("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return mn("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}};const p5=(t,e,r,n,s,a,o)=>{const l=t-r,c=e-n,u=Math.sqrt(l*l+c*c);return u>=s-a&&u<=s+o};class IM{constructor(e=0,r=0,n=0,s=0,a=20){this.type="roundedRectangle",this.x=e,this.y=r,this.width=n,this.height=s,this.radius=a}getBounds(e){return e||(e=new Ra),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new IM(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let s=e-(this.x+n),a=r-(this.y+n);const o=n*n;if(s*s+a*a<=o||(s=e-(this.x+this.width-n),s*s+a*a<=o)||(a=r-(this.y+this.height-n),s*s+a*a<=o)||(s=e-(this.x+n),s*s+a*a<=o))return!0}return!1}strokeContains(e,r,n,s=.5){const{x:a,y:o,width:l,height:c,radius:u}=this,d=n*(1-s),h=n-d,p=a+u,f=o+u,m=l-u*2,g=c-u*2,y=a+l,x=o+c;return(e>=a-d&&e<=a+h||e>=y-h&&e<=y+d)&&r>=f&&r<=f+g||(r>=o-d&&r<=o+h||r>=x-h&&r<=x+d)&&e>=p&&e<=p+m?!0:e<p&&r<f&&p5(e,r,p,f,u,h,d)||e>y-u&&r<f&&p5(e,r,y-u,f,u,h,d)||e>y-u&&r>x-u&&p5(e,r,y-u,x-u,u,h,d)||e<p&&r>x-u&&p5(e,r,p,x-u,u,h,d)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const IQ={};function P5e(t,e,r){let n=2166136261;for(let s=0;s<e;s++)n^=t[s].uid,n=Math.imul(n,16777619),n>>>=0;return IQ[n]||E5e(t,e,n,r)}function E5e(t,e,r,n){const s={};let a=0;for(let l=0;l<n;l++){const c=l<e?t[l]:Sn.EMPTY.source;s[a++]=c.source,s[a++]=c.style}const o=new yS(s);return IQ[r]=o,o}class rD{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function nD(t,e){const r=t.byteLength/8|0,n=new Float64Array(t,0,r);new Float64Array(e,0,r).set(n);const a=t.byteLength-r*8;if(a>0){const o=new Uint8Array(t,r*8,a);new Uint8Array(e,r*8,a).set(o)}}const T5e={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var I5e=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(I5e||{});function sD(t,e){return e.alphaMode==="no-premultiply-alpha"&&T5e[t]||t}const M5e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function O5e(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function L5e(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const n=M5e.replace(/%forloop%/gi,O5e(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}}finally{e.deleteShader(r)}return t}let zx=null;function R5e(){var e;if(zx)return zx;const t=uQ();return zx=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),zx=L5e(zx,t),(e=t.getExtension("WEBGL_lose_context"))==null||e.loseContext(),zx}class D5e{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const r=this.textures[e];this.textures[e]=null,this.ids[r.uid]=null}this.count=0}}class F5e{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new D5e,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const xb=[];let _N=0;Ew.register({clear:()=>{if(xb.length>0)for(const t of xb)t&&t.destroy();xb.length=0,_N=0}});function iD(){return _N>0?xb[--_N]:new F5e}function aD(t){xb[_N++]=t}let f1=0;const MQ=class OQ{constructor(e){this.uid=Si("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...OQ.defaultOptions,...e},e.maxTextures||(mn("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=R5e());const{maxTextures:r,attributesInitialSize:n,indicesInitialSize:s}=e;this.attributeBuffer=new rD(n*4),this.indexBuffer=new Uint16Array(s),this.maxTextures=r}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)aD(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,r){const n=e._batch.textures.ids[r._source.uid];return!n&&n!==0?!1:(e._textureId=n,e.texture=r,!0)}updateElement(e){this.dirty=!0;const r=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId)}break(e){const r=this._elements;if(!r[this.elementStart])return;let n=iD(),s=n.textures;s.clear();const a=r[this.elementStart];let o=sD(a.blendMode,a.texture._source),l=a.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const c=this.attributeBuffer.float32View,u=this.attributeBuffer.uint32View,d=this.indexBuffer;let h=this._batchIndexSize,p=this._batchIndexStart,f="startBatch";const m=this.maxTextures;for(let g=this.elementStart;g<this.elementSize;++g){const y=r[g];r[g]=null;const w=y.texture._source,S=sD(y.blendMode,w),N=o!==S||l!==y.topology;if(w._batchTick===f1&&!N){y._textureId=w._textureBindLocation,h+=y.indexSize,y.packAsQuad?(this.packQuadAttributes(y,c,u,y._attributeStart,y._textureId),this.packQuadIndex(d,y._indexStart,y._attributeStart/this.vertexSize)):(this.packAttributes(y,c,u,y._attributeStart,y._textureId),this.packIndex(y,d,y._indexStart,y._attributeStart/this.vertexSize)),y._batch=n;continue}w._batchTick=f1,(s.count>=m||N)&&(this._finishBatch(n,p,h-p,s,o,l,e,f),f="renderBatch",p=h,o=S,l=y.topology,n=iD(),s=n.textures,s.clear(),++f1),y._textureId=w._textureBindLocation=s.count,s.ids[w.uid]=s.count,s.textures[s.count++]=w,y._batch=n,h+=y.indexSize,y.packAsQuad?(this.packQuadAttributes(y,c,u,y._attributeStart,y._textureId),this.packQuadIndex(d,y._indexStart,y._attributeStart/this.vertexSize)):(this.packAttributes(y,c,u,y._attributeStart,y._textureId),this.packIndex(y,d,y._indexStart,y._attributeStart/this.vertexSize))}s.count>0&&(this._finishBatch(n,p,h-p,s,o,l,e,f),p=h,++f1),this.elementStart=this.elementSize,this._batchIndexStart=p,this._batchIndexSize=h}_finishBatch(e,r,n,s,a,o,l,c){e.gpuBindGroup=null,e.bindGroup=null,e.action=c,e.batcher=this,e.textures=s,e.blendMode=a,e.topology=o,e.start=r,e.size=n,++f1,this.batches[this.batchIndex++]=e,l.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const r=Math.max(e,this.attributeBuffer.size*2),n=new rD(r);nD(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(e){const r=this.indexBuffer;let n=Math.max(e,r.length*1.5);n+=n%2;const s=n>65535?new Uint32Array(n):new Uint16Array(n);if(s.BYTES_PER_ELEMENT!==r.BYTES_PER_ELEMENT)for(let a=0;a<r.length;a++)s[a]=r[a];else nD(r.buffer,s.buffer);this.indexBuffer=s}packQuadIndex(e,r,n){e[r]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3}packIndex(e,r,n,s){const a=e.indices,o=e.indexSize,l=e.indexOffset,c=e.attributeOffset;for(let u=0;u<o;u++)r[n++]=s+a[u+l]-c}destroy(e={}){var r;if(this.batches!==null){for(let n=0;n<this.batches.length;n++)aD(this.batches[n]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,e.shader&&((r=this.shader)==null||r.destroy(),this.shader=null);for(let n=0;n<this._elements.length;n++)this._elements[n]&&(this._elements[n]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};MQ.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let B5e=MQ;var Il=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(Il||{});class f2 extends Md{constructor(e){let{data:r,size:n}=e;const{usage:s,label:a,shrinkToFit:o}=e;super(),this.uid=Si("buffer"),this._resourceType="buffer",this._resourceId=Si("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,r instanceof Array&&(r=new Float32Array(r)),this._data=r,n??(n=r==null?void 0:r.byteLength);const l=!!r;this.descriptor={size:n,usage:s,mappedAtCreation:l,label:a},this.shrinkToFit=o??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Il.STATIC)}set static(e){e?this.descriptor.usage|=Il.STATIC:this.descriptor.usage&=~Il.STATIC}setDataWithSize(e,r,n){if(this._updateID++,this._updateSize=r*e.BYTES_PER_ELEMENT,this._data===e){n&&this.emit("update",this);return}const s=this._data;if(this._data=e,this._dataInt32=null,!s||s.length!==e.length){!this.shrinkToFit&&s&&e.byteLength<s.byteLength?n&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=Si("resource"),this.emit("change",this));return}n&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function LQ(t,e){if(!(t instanceof f2)){let r=e?Il.INDEX:Il.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),r=Il.INDEX|Il.COPY_DST):(t=new Float32Array(t),r=Il.VERTEX|Il.COPY_DST)),t=new f2({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:r})}return t}function $5e(t,e,r){const n=t.getAttribute(e);if(!n)return r.minX=0,r.minY=0,r.maxX=0,r.maxY=0,r;const s=n.buffer.data;let a=1/0,o=1/0,l=-1/0,c=-1/0;const u=s.BYTES_PER_ELEMENT,d=(n.offset||0)/u,h=(n.stride||2*4)/u;for(let p=d;p<s.length;p+=h){const f=s[p],m=s[p+1];f>l&&(l=f),m>c&&(c=m),f<a&&(a=f),m<o&&(o=m)}return r.minX=a,r.minY=o,r.maxX=l,r.maxY=c,r}function z5e(t){return(t instanceof f2||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=LQ(t.buffer,!1),t}class U5e extends Md{constructor(e={}){super(),this.uid=Si("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new _d,this._boundsDirty=!0;const{attributes:r,indexBuffer:n,topology:s}=e;if(this.buffers=[],this.attributes={},r)for(const a in r)this.addAttribute(a,r[a]);this.instanceCount=e.instanceCount??1,n&&this.addIndex(n),this.topology=s||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const r=this.attributes[e];return r.buffer.data.length/(r.stride/4||r.size)}return 0}addAttribute(e,r){const n=z5e(r);this.buffers.indexOf(n.buffer)===-1&&(this.buffers.push(n.buffer),n.buffer.on("update",this.onBufferUpdate,this),n.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=n}addIndex(e){this.indexBuffer=LQ(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,$5e(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){var r;this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(n=>n.destroy()),(r=this.indexBuffer)==null||r.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const W5e=new Float32Array(1),G5e=new Uint32Array(1);class H5e extends U5e{constructor(){const r=new f2({data:W5e,label:"attribute-batch-buffer",usage:Il.VERTEX|Il.COPY_DST,shrinkToFit:!1}),n=new f2({data:G5e,label:"index-batch-buffer",usage:Il.INDEX|Il.COPY_DST,shrinkToFit:!1}),s=6*4;super({attributes:{aPosition:{buffer:r,format:"float32x2",stride:s,offset:0},aUV:{buffer:r,format:"float32x2",stride:s,offset:2*4},aColor:{buffer:r,format:"unorm8x4",stride:s,offset:4*4},aTextureIdAndRound:{buffer:r,format:"uint16x2",stride:s,offset:5*4}},indexBuffer:n})}}function oD(t,e,r){if(t)for(const n in t){const s=n.toLocaleLowerCase(),a=e[s];if(a){let o=t[n];n==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),r&&a.push(`//----${r}----//`),a.push(o)}else Bs(`${n} placement hook does not exist in shader`)}}const V5e=/\{\{(.*?)\}\}/g;function lD(t){var n;const e={};return(((n=t.match(V5e))==null?void 0:n.map(s=>s.replace(/[{()}]/g,"")))??[]).forEach(s=>{e[s]=[]}),e}function cD(t,e){let r;const n=/@in\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function uD(t,e,r=!1){const n=[];cD(e,n),t.forEach(l=>{l.header&&cD(l.header,n)});const s=n;r&&s.sort();const a=s.map((l,c)=>`       @location(${c}) ${l},`).join(`
`);let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${a}
`),o}function dD(t,e){let r;const n=/@out\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function q5e(t){const r=/\b(\w+)\s*:/g.exec(t);return r?r[1]:""}function Y5e(t){const e=/@.*?\s+/g;return t.replace(e,"")}function X5e(t,e){const r=[];dD(e,r),t.forEach(c=>{c.header&&dD(c.header,r)});let n=0;const s=r.sort().map(c=>c.indexOf("builtin")>-1?c:`@location(${n++}) ${c}`).join(`,
`),a=r.sort().map(c=>`       var ${Y5e(c)};`).join(`
`),o=`return VSOutput(
            ${r.sort().map(c=>` ${q5e(c)}`).join(`,
`)});`;let l=e.replace(/@out\s+[^;]+;\s*/g,"");return l=l.replace("{{struct}}",`
${s}
`),l=l.replace("{{start}}",`
${a}
`),l=l.replace("{{return}}",`
${o}
`),l}function hD(t,e){let r=t;for(const n in e){const s=e[n];s.join(`
`).length?r=r.replace(`{{${n}}}`,`//-----${n} START-----//
${s.join(`
`)}
//----${n} FINISH----//`):r=r.replace(`{{${n}}}`,"")}return r}const Ep=Object.create(null),qA=new Map;let K5e=0;function Z5e({template:t,bits:e}){const r=RQ(t,e);if(Ep[r])return Ep[r];const{vertex:n,fragment:s}=J5e(t,e);return Ep[r]=DQ(n,s,e),Ep[r]}function Q5e({template:t,bits:e}){const r=RQ(t,e);return Ep[r]||(Ep[r]=DQ(t.vertex,t.fragment,e)),Ep[r]}function J5e(t,e){const r=e.map(o=>o.vertex).filter(o=>!!o),n=e.map(o=>o.fragment).filter(o=>!!o);let s=uD(r,t.vertex,!0);s=X5e(r,s);const a=uD(n,t.fragment,!0);return{vertex:s,fragment:a}}function RQ(t,e){return e.map(r=>(qA.has(r)||qA.set(r,K5e++),qA.get(r))).sort((r,n)=>r-n).join("-")+t.vertex+t.fragment}function DQ(t,e,r){const n=lD(t),s=lD(e);return r.forEach(a=>{oD(a.vertex,n,a.name),oD(a.fragment,s,a.name)}),{vertex:hD(t,n),fragment:hD(e,s)}}const eSe=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,tSe=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,rSe=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,nSe=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,sSe={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},iSe={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function aSe({bits:t,name:e}){const r=Z5e({template:{fragment:tSe,vertex:eSe},bits:[sSe,...t]});return ov.from({name:e,vertex:{source:r.vertex,entryPoint:"main"},fragment:{source:r.fragment,entryPoint:"main"}})}function oSe({bits:t,name:e}){return new rC({name:e,...Q5e({template:{vertex:rSe,fragment:nSe},bits:[iSe,...t]})})}const lSe={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},cSe={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},YA={};function uSe(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let r=0;for(let n=0;n<t;n++)e.push(`@group(1) @binding(${r++}) var textureSource${n+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${r++}) var textureSampler${n+1}: sampler;`)}return e.join(`
`)}function dSe(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let r=0;r<t;r++)r===t-1?e.push("  default:{"):e.push(`  case ${r}:{`),e.push(`      outColor = textureSampleGrad(textureSource${r+1}, textureSampler${r+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function hSe(t){return YA[t]||(YA[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${uSe(t)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${dSe(t)}
            `}}),YA[t]}const XA={};function fSe(t){const e=[];for(let r=0;r<t;r++)r>0&&e.push("else"),r<t-1&&e.push(`if(vTextureId < ${r}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${r}], vUV);`),e.push("}");return e.join(`
`)}function pSe(t){return XA[t]||(XA[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${t}];

            `,main:`

                ${fSe(t)}
            `}}),XA[t]}const mSe={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},gSe={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},fD={};function xSe(t){let e=fD[t];if(e)return e;const r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=n;return e=fD[t]=new kM({uTextures:{value:r,type:"i32",size:t}},{isStatic:!0}),e}class pD extends nC{constructor(e){const r=oSe({name:"batch",bits:[cSe,pSe(e),gSe]}),n=aSe({name:"batch",bits:[lSe,hSe(e),mSe]});super({glProgram:r,gpuProgram:n,resources:{batchSamplers:xSe(e)}}),this.maxTextures=e}}let p1=null;const FQ=class BQ extends B5e{constructor(e){super(e),this.geometry=new H5e,this.name=BQ.extension.name,this.vertexSize=6,p1??(p1=new pD(e.maxTextures)),this.shader=p1}packAttributes(e,r,n,s,a){const o=a<<16|e.roundPixels&65535,l=e.transform,c=l.a,u=l.b,d=l.c,h=l.d,p=l.tx,f=l.ty,{positions:m,uvs:g}=e,y=e.color,x=e.attributeOffset,w=x+e.attributeSize;for(let S=x;S<w;S++){const N=S*2,C=m[N],A=m[N+1];r[s++]=c*C+d*A+p,r[s++]=h*A+u*C+f,r[s++]=g[N],r[s++]=g[N+1],n[s++]=y,n[s++]=o}}packQuadAttributes(e,r,n,s,a){const o=e.texture,l=e.transform,c=l.a,u=l.b,d=l.c,h=l.d,p=l.tx,f=l.ty,m=e.bounds,g=m.maxX,y=m.minX,x=m.maxY,w=m.minY,S=o.uvs,N=e.color,C=a<<16|e.roundPixels&65535;r[s+0]=c*y+d*w+p,r[s+1]=h*w+u*y+f,r[s+2]=S.x0,r[s+3]=S.y0,n[s+4]=N,n[s+5]=C,r[s+6]=c*g+d*w+p,r[s+7]=h*w+u*g+f,r[s+8]=S.x1,r[s+9]=S.y1,n[s+10]=N,n[s+11]=C,r[s+12]=c*g+d*x+p,r[s+13]=h*x+u*g+f,r[s+14]=S.x2,r[s+15]=S.y2,n[s+16]=N,n[s+17]=C,r[s+18]=c*y+d*x+p,r[s+19]=h*x+u*y+f,r[s+20]=S.x3,r[s+21]=S.y3,n[s+22]=N,n[s+23]=C}_updateMaxTextures(e){this.shader.maxTextures!==e&&(p1=new pD(e),this.shader=p1)}destroy(){this.shader=null,super.destroy()}};FQ.extension={type:[Mr.Batcher],name:"default"};let ySe=FQ;function vSe(t,e,r,n,s,a,o,l=null){let c=0;r*=e,s*=a;const u=l.a,d=l.b,h=l.c,p=l.d,f=l.tx,m=l.ty;for(;c<o;){const g=t[r],y=t[r+1];n[s]=u*g+h*y+f,n[s+1]=d*g+p*y+m,s+=a,r+=e,c++}}function bSe(t,e,r,n){let s=0;for(e*=r;s<n;)t[e]=0,t[e+1]=0,e+=r,s++}function $Q(t,e,r,n,s){const a=e.a,o=e.b,l=e.c,c=e.d,u=e.tx,d=e.ty;r||(r=0),n||(n=2),s||(s=t.length/n-r);let h=r*n;for(let p=0;p<s;p++){const f=t[h],m=t[h+1];t[h]=a*f+l*m+u,t[h+1]=o*f+c*m+d,h+=n}}const wSe=new yn;class zQ{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,r=e>>16|e&65280|(e&255)<<16,n=this.renderable;return n?WZ(r,n.groupColor)+(this.alpha*n.groupAlpha*255<<24):r+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||wSe}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const p2={extension:{type:Mr.ShapeBuilder,name:"circle"},build(t,e){let r,n,s,a,o,l;if(t.type==="circle"){const N=t;if(o=l=N.radius,o<=0)return!1;r=N.x,n=N.y,s=a=0}else if(t.type==="ellipse"){const N=t;if(o=N.halfWidth,l=N.halfHeight,o<=0||l<=0)return!1;r=N.x,n=N.y,s=a=0}else{const N=t,C=N.width/2,A=N.height/2;r=N.x+C,n=N.y+A,o=l=Math.max(0,Math.min(N.radius,Math.min(C,A))),s=C-o,a=A-l}if(s<0||a<0)return!1;const c=Math.ceil(2.3*Math.sqrt(o+l)),u=c*8+(s?4:0)+(a?4:0);if(u===0)return!1;if(c===0)return e[0]=e[6]=r+s,e[1]=e[3]=n+a,e[2]=e[4]=r-s,e[5]=e[7]=n-a,!0;let d=0,h=c*4+(s?2:0)+2,p=h,f=u,m=s+o,g=a,y=r+m,x=r-m,w=n+g;if(e[d++]=y,e[d++]=w,e[--h]=w,e[--h]=x,a){const N=n-g;e[p++]=x,e[p++]=N,e[--f]=N,e[--f]=y}for(let N=1;N<c;N++){const C=Math.PI/2*(N/c),A=s+Math.cos(C)*o,k=a+Math.sin(C)*l,E=r+A,T=r-A,R=n+k,I=n-k;e[d++]=E,e[d++]=R,e[--h]=R,e[--h]=T,e[p++]=T,e[p++]=I,e[--f]=I,e[--f]=E}m=s,g=a+l,y=r+m,x=r-m,w=n+g;const S=n-g;return e[d++]=y,e[d++]=w,e[--f]=S,e[--f]=y,s&&(e[d++]=x,e[d++]=w,e[--f]=S,e[--f]=x),!0},triangulate(t,e,r,n,s,a){if(t.length===0)return;let o=0,l=0;for(let d=0;d<t.length;d+=2)o+=t[d],l+=t[d+1];o/=t.length/2,l/=t.length/2;let c=n;e[c*r]=o,e[c*r+1]=l;const u=c++;for(let d=0;d<t.length;d+=2)e[c*r]=t[d],e[c*r+1]=t[d+1],d>0&&(s[a++]=c,s[a++]=u,s[a++]=c-1),c++;s[a++]=u+1,s[a++]=u,s[a++]=c-1}},jSe={...p2,extension:{...p2.extension,name:"ellipse"}},SSe={...p2,extension:{...p2.extension,name:"roundedRectangle"}},UQ=1e-4,mD=1e-4;function NSe(t){const e=t.length;if(e<6)return 1;let r=0;for(let n=0,s=t[e-2],a=t[e-1];n<e;n+=2){const o=t[n],l=t[n+1];r+=(o-s)*(l+a),s=o,a=l}return r<0?-1:1}function gD(t,e,r,n,s,a,o,l){const c=t-r*s,u=e-n*s,d=t+r*a,h=e+n*a;let p,f;o?(p=n,f=-r):(p=-n,f=r);const m=c+p,g=u+f,y=d+p,x=h+f;return l.push(m,g),l.push(y,x),2}function Lm(t,e,r,n,s,a,o,l){const c=r-t,u=n-e;let d=Math.atan2(c,u),h=Math.atan2(s-t,a-e);l&&d<h?d+=Math.PI*2:!l&&d>h&&(h+=Math.PI*2);let p=d;const f=h-d,m=Math.abs(f),g=Math.sqrt(c*c+u*u),y=(15*m*Math.sqrt(g)/Math.PI>>0)+1,x=f/y;if(p+=x,l){o.push(t,e),o.push(r,n);for(let w=1,S=p;w<y;w++,S+=x)o.push(t,e),o.push(t+Math.sin(S)*g,e+Math.cos(S)*g);o.push(t,e),o.push(s,a)}else{o.push(r,n),o.push(t,e);for(let w=1,S=p;w<y;w++,S+=x)o.push(t+Math.sin(S)*g,e+Math.cos(S)*g),o.push(t,e);o.push(s,a),o.push(t,e)}return y*2}function CSe(t,e,r,n,s,a){const o=UQ;if(t.length===0)return;const l=e;let c=l.alignment;if(e.alignment!==.5){let O=NSe(t);c=(c-.5)*O+.5}const u=new ro(t[0],t[1]),d=new ro(t[t.length-2],t[t.length-1]),h=n,p=Math.abs(u.x-d.x)<o&&Math.abs(u.y-d.y)<o;if(h){t=t.slice(),p&&(t.pop(),t.pop(),d.set(t[t.length-2],t[t.length-1]));const O=(u.x+d.x)*.5,K=(d.y+u.y)*.5;t.unshift(O,K),t.push(O,K)}const f=s,m=t.length/2;let g=t.length;const y=f.length/2,x=l.width/2,w=x*x,S=l.miterLimit*l.miterLimit;let N=t[0],C=t[1],A=t[2],k=t[3],E=0,T=0,R=-(C-k),I=N-A,L=0,U=0,$=Math.sqrt(R*R+I*I);R/=$,I/=$,R*=x,I*=x;const q=c,G=(1-q)*2,W=q*2;h||(l.cap==="round"?g+=Lm(N-R*(G-W)*.5,C-I*(G-W)*.5,N-R*G,C-I*G,N+R*W,C+I*W,f,!0)+2:l.cap==="square"&&(g+=gD(N,C,R,I,G,W,!0,f))),f.push(N-R*G,C-I*G),f.push(N+R*W,C+I*W);for(let O=1;O<m-1;++O){N=t[(O-1)*2],C=t[(O-1)*2+1],A=t[O*2],k=t[O*2+1],E=t[(O+1)*2],T=t[(O+1)*2+1],R=-(C-k),I=N-A,$=Math.sqrt(R*R+I*I),R/=$,I/=$,R*=x,I*=x,L=-(k-T),U=A-E,$=Math.sqrt(L*L+U*U),L/=$,U/=$,L*=x,U*=x;const K=A-N,Y=C-k,D=A-E,Z=T-k,ie=K*D+Y*Z,he=Y*D-Z*K,J=he<0;if(Math.abs(he)<.001*Math.abs(ie)){f.push(A-R*G,k-I*G),f.push(A+R*W,k+I*W),ie>=0&&(l.join==="round"?g+=Lm(A,k,A-R*G,k-I*G,A-L*G,k-U*G,f,!1)+4:g+=2,f.push(A-L*W,k-U*W),f.push(A+L*G,k+U*G));continue}const ae=(-R+N)*(-I+k)-(-R+A)*(-I+C),ne=(-L+E)*(-U+k)-(-L+A)*(-U+T),se=(K*ne-D*ae)/he,Q=(Z*ae-Y*ne)/he,re=(se-A)*(se-A)+(Q-k)*(Q-k),le=A+(se-A)*G,ve=k+(Q-k)*G,fe=A-(se-A)*W,X=k-(Q-k)*W,ce=Math.min(K*K+Y*Y,D*D+Z*Z),Pe=J?G:W,ke=ce+Pe*Pe*w;re<=ke?l.join==="bevel"||re/w>S?(J?(f.push(le,ve),f.push(A+R*W,k+I*W),f.push(le,ve),f.push(A+L*W,k+U*W)):(f.push(A-R*G,k-I*G),f.push(fe,X),f.push(A-L*G,k-U*G),f.push(fe,X)),g+=2):l.join==="round"?J?(f.push(le,ve),f.push(A+R*W,k+I*W),g+=Lm(A,k,A+R*W,k+I*W,A+L*W,k+U*W,f,!0)+4,f.push(le,ve),f.push(A+L*W,k+U*W)):(f.push(A-R*G,k-I*G),f.push(fe,X),g+=Lm(A,k,A-R*G,k-I*G,A-L*G,k-U*G,f,!1)+4,f.push(A-L*G,k-U*G),f.push(fe,X)):(f.push(le,ve),f.push(fe,X)):(f.push(A-R*G,k-I*G),f.push(A+R*W,k+I*W),l.join==="round"?J?g+=Lm(A,k,A+R*W,k+I*W,A+L*W,k+U*W,f,!0)+2:g+=Lm(A,k,A-R*G,k-I*G,A-L*G,k-U*G,f,!1)+2:l.join==="miter"&&re/w<=S&&(J?(f.push(fe,X),f.push(fe,X)):(f.push(le,ve),f.push(le,ve)),g+=2),f.push(A-L*G,k-U*G),f.push(A+L*W,k+U*W),g+=2)}N=t[(m-2)*2],C=t[(m-2)*2+1],A=t[(m-1)*2],k=t[(m-1)*2+1],R=-(C-k),I=N-A,$=Math.sqrt(R*R+I*I),R/=$,I/=$,R*=x,I*=x,f.push(A-R*G,k-I*G),f.push(A+R*W,k+I*W),h||(l.cap==="round"?g+=Lm(A-R*(G-W)*.5,k-I*(G-W)*.5,A-R*G,k-I*G,A+R*W,k+I*W,f,!1)+2:l.cap==="square"&&(g+=gD(A,k,R,I,G,W,!1,f)));const B=mD*mD;for(let O=y;O<g+y-2;++O)N=f[O*2],C=f[O*2+1],A=f[(O+1)*2],k=f[(O+1)*2+1],E=f[(O+2)*2],T=f[(O+2)*2+1],!(Math.abs(N*(k-T)+A*(T-C)+E*(C-k))<B)&&a.push(O,O+1,O+2)}function _Se(t,e,r,n){const s=UQ;if(t.length===0)return;const a=t[0],o=t[1],l=t[t.length-2],c=t[t.length-1],u=e||Math.abs(a-l)<s&&Math.abs(o-c)<s,d=r,h=t.length/2,p=d.length/2;for(let f=0;f<h;f++)d.push(t[f*2]),d.push(t[f*2+1]);for(let f=0;f<h-1;f++)n.push(p+f,p+f+1);u&&n.push(p+h-1,p)}function WQ(t,e,r,n,s,a,o){const l=c5e(t,e,2);if(!l)return;for(let u=0;u<l.length;u+=3)a[o++]=l[u]+s,a[o++]=l[u+1]+s,a[o++]=l[u+2]+s;let c=s*n;for(let u=0;u<t.length;u+=2)r[c]=t[u],r[c+1]=t[u+1],c+=n}const ASe=[],kSe={extension:{type:Mr.ShapeBuilder,name:"polygon"},build(t,e){for(let r=0;r<t.points.length;r++)e[r]=t.points[r];return!0},triangulate(t,e,r,n,s,a){WQ(t,ASe,e,r,n,s,a)}},PSe={extension:{type:Mr.ShapeBuilder,name:"rectangle"},build(t,e){const r=t,n=r.x,s=r.y,a=r.width,o=r.height;return a>0&&o>0?(e[0]=n,e[1]=s,e[2]=n+a,e[3]=s,e[4]=n+a,e[5]=s+o,e[6]=n,e[7]=s+o,!0):!1},triangulate(t,e,r,n,s,a){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[6],e[n+o+1]=t[7],o+=r,e[n+o]=t[4],e[n+o+1]=t[5],o+=r;const l=n/r;s[a++]=l,s[a++]=l+1,s[a++]=l+2,s[a++]=l+1,s[a++]=l+3,s[a++]=l+2}},ESe={extension:{type:Mr.ShapeBuilder,name:"triangle"},build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,!0},triangulate(t,e,r,n,s,a){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[4],e[n+o+1]=t[5];const l=n/r;s[a++]=l,s[a++]=l+1,s[a++]=l+2}},TSe=new yn,ISe=new Ra;function MSe(t,e,r,n){const s=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if(e.textureSpace==="local"){const o=r.getBounds(ISe);e.width&&o.pad(e.width);const{x:l,y:c}=o,u=1/o.width,d=1/o.height,h=-l*u,p=-c*d,f=s.a,m=s.b,g=s.c,y=s.d;s.a*=u,s.b*=u,s.c*=d,s.d*=d,s.tx=h*f+p*g+s.tx,s.ty=h*m+p*y+s.ty}else s.translate(e.texture.frame.x,e.texture.frame.y),s.scale(1/e.texture.source.width,1/e.texture.source.height);const a=e.texture.source.style;return!(e.fill instanceof jf)&&a.addressMode==="clamp-to-edge"&&(a.addressMode="repeat",a.update()),n&&s.append(TSe.copyFrom(n).invert()),s}const iC={};so.handleByMap(Mr.ShapeBuilder,iC);so.add(PSe,kSe,ESe,p2,jSe,SSe);const OSe=new Ra,LSe=new yn;function RSe(t,e){const{geometryData:r,batches:n}=e;n.length=0,r.indices.length=0,r.vertices.length=0,r.uvs.length=0;for(let s=0;s<t.instructions.length;s++){const a=t.instructions[s];if(a.action==="texture")DSe(a.data,n,r);else if(a.action==="fill"||a.action==="stroke"){const o=a.action==="stroke",l=a.data.path.shapePath,c=a.data.style,u=a.data.hole;o&&u&&xD(u.shapePath,c,!0,n,r),u&&(l.shapePrimitives[l.shapePrimitives.length-1].holes=u.shapePath.shapePrimitives),xD(l,c,o,n,r)}}}function DSe(t,e,r){const n=[],s=iC.rectangle,a=OSe;a.x=t.dx,a.y=t.dy,a.width=t.dw,a.height=t.dh;const o=t.transform;if(!s.build(a,n))return;const{vertices:l,uvs:c,indices:u}=r,d=u.length,h=l.length/2;o&&$Q(n,o),s.triangulate(n,l,2,h,u,d);const p=t.image,f=p.uvs;c.push(f.x0,f.y0,f.x1,f.y1,f.x3,f.y3,f.x2,f.y2);const m=yu.get(zQ);m.indexOffset=d,m.indexSize=u.length-d,m.attributeOffset=h,m.attributeSize=l.length/2-h,m.baseColor=t.style,m.alpha=t.alpha,m.texture=p,m.geometryData=r,e.push(m)}function xD(t,e,r,n,s){const{vertices:a,uvs:o,indices:l}=s;t.shapePrimitives.forEach(({shape:c,transform:u,holes:d})=>{const h=[],p=iC[c.type];if(!p.build(c,h))return;const f=l.length,m=a.length/2;let g="triangle-list";if(u&&$Q(h,u),r){const S=c.closePath??!0,N=e;N.pixelLine?(_Se(h,S,a,l),g="line-list"):CSe(h,N,!1,S,a,l)}else if(d){const S=[],N=h.slice();FSe(d).forEach(A=>{S.push(N.length/2),N.push(...A)}),WQ(N,S,a,2,m,l,f)}else p.triangulate(h,a,2,m,l,f);const y=o.length/2,x=e.texture;if(x!==Sn.WHITE){const S=MSe(LSe,e,c,u);vSe(a,2,m,o,y,2,a.length/2-m,S)}else bSe(o,y,2,a.length/2-m);const w=yu.get(zQ);w.indexOffset=f,w.indexSize=l.length-f,w.attributeOffset=m,w.attributeSize=a.length/2-m,w.baseColor=e.color,w.alpha=e.alpha,w.texture=x,w.geometryData=s,w.topology=g,n.push(w)})}function FSe(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r].shape,s=[];iC[n.type].build(n,s)&&e.push(s)}return e}class BSe{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class $Se{constructor(){this.instructions=new qZ}init(e){const r=e.maxTextures;this.batcher?this.batcher._updateMaxTextures(r):this.batcher=new ySe({maxTextures:r}),this.instructions.reset()}get geometry(){return mn(Twe,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const MM=class f8{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){f8.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??f8.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let r=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){r?this._cleanGraphicsContextData(e):r=this._initContext(e),RSe(e,r);const n=e.batchMode;e.customShader||n==="no-batch"?r.isBatchable=!1:n==="auto"?r.isBatchable=r.geometryData.vertices.length<400:r.isBatchable=!0,e.dirty=!1}return r}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const r=yu.get($Se,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:n,geometryData:s}=this._gpuContextHash[e.uid],a=s.vertices.length,o=s.indices.length;for(let d=0;d<n.length;d++)n[d].applyTransform=!1;const l=r.batcher;l.ensureAttributeBuffer(a),l.ensureIndexBuffer(o),l.begin();for(let d=0;d<n.length;d++){const h=n[d];l.add(h)}l.finish(r.instructions);const c=l.geometry;c.indexBuffer.setDataWithSize(l.indexBuffer,l.indexSize,!0),c.buffers[0].setDataWithSize(l.attributeBuffer.float32View,l.attributeSize,!0);const u=l.batches;for(let d=0;d<u.length;d++){const h=u[d];h.bindGroup=P5e(h.textures.textures,h.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=r,r}_initContext(e){const r=new BSe;return r.context=e,this._gpuContextHash[e.uid]=r,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const r=this._gpuContextHash[e.uid];r.isBatchable||this._graphicsDataContextHash[e.uid]&&(yu.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),r.batches&&r.batches.forEach(n=>{yu.return(n)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};MM.extension={type:[Mr.WebGLSystem,Mr.WebGPUSystem,Mr.CanvasSystem],name:"graphicsContext"};MM.defaultOptions={bezierSmoothness:.5};let GQ=MM;const zSe=8,m5=11920929e-14,USe=1;function HQ(t,e,r,n,s,a,o,l,c,u){const h=Math.min(.99,Math.max(0,u??GQ.defaultOptions.bezierSmoothness));let p=(USe-h)/1;return p*=p,WSe(e,r,n,s,a,o,l,c,t,p),t}function WSe(t,e,r,n,s,a,o,l,c,u){p8(t,e,r,n,s,a,o,l,c,u,0),c.push(o,l)}function p8(t,e,r,n,s,a,o,l,c,u,d){if(d>zSe)return;const h=(t+r)/2,p=(e+n)/2,f=(r+s)/2,m=(n+a)/2,g=(s+o)/2,y=(a+l)/2,x=(h+f)/2,w=(p+m)/2,S=(f+g)/2,N=(m+y)/2,C=(x+S)/2,A=(w+N)/2;if(d>0){let k=o-t,E=l-e;const T=Math.abs((r-o)*E-(n-l)*k),R=Math.abs((s-o)*E-(a-l)*k);if(T>m5&&R>m5){if((T+R)*(T+R)<=u*(k*k+E*E)){c.push(C,A);return}}else if(T>m5){if(T*T<=u*(k*k+E*E)){c.push(C,A);return}}else if(R>m5){if(R*R<=u*(k*k+E*E)){c.push(C,A);return}}else if(k=C-(t+o)/2,E=A-(e+l)/2,k*k+E*E<=u){c.push(C,A);return}}p8(t,e,h,p,x,w,C,A,c,u,d+1),p8(C,A,S,N,g,y,o,l,c,u,d+1)}const GSe=8,HSe=11920929e-14,VSe=1;function qSe(t,e,r,n,s,a,o,l){const u=Math.min(.99,Math.max(0,l??GQ.defaultOptions.bezierSmoothness));let d=(VSe-u)/1;return d*=d,YSe(e,r,n,s,a,o,t,d),t}function YSe(t,e,r,n,s,a,o,l){m8(o,t,e,r,n,s,a,l,0),o.push(s,a)}function m8(t,e,r,n,s,a,o,l,c){if(c>GSe)return;const u=(e+n)/2,d=(r+s)/2,h=(n+a)/2,p=(s+o)/2,f=(u+h)/2,m=(d+p)/2;let g=a-e,y=o-r;const x=Math.abs((n-a)*y-(s-o)*g);if(x>HSe){if(x*x<=l*(g*g+y*y)){t.push(f,m);return}}else if(g=f-(e+a)/2,y=m-(r+o)/2,g*g+y*y<=l){t.push(f,m);return}m8(t,e,r,u,d,f,m,l,c+1),m8(t,f,m,h,p,a,o,l,c+1)}function VQ(t,e,r,n,s,a,o,l){let c=Math.abs(s-a);(!o&&s>a||o&&a>s)&&(c=2*Math.PI-c),l||(l=Math.max(6,Math.floor(6*Math.pow(n,1/3)*(c/Math.PI)))),l=Math.max(l,3);let u=c/l,d=s;u*=o?-1:1;for(let h=0;h<l+1;h++){const p=Math.cos(d),f=Math.sin(d),m=e+p*n,g=r+f*n;t.push(m,g),d+=u}}function XSe(t,e,r,n,s,a){const o=t[t.length-2],c=t[t.length-1]-r,u=o-e,d=s-r,h=n-e,p=Math.abs(c*h-u*d);if(p<1e-8||a===0){(t[t.length-2]!==e||t[t.length-1]!==r)&&t.push(e,r);return}const f=c*c+u*u,m=d*d+h*h,g=c*d+u*h,y=a*Math.sqrt(f)/p,x=a*Math.sqrt(m)/p,w=y*g/f,S=x*g/m,N=y*h+x*u,C=y*d+x*c,A=u*(x+w),k=c*(x+w),E=h*(y+S),T=d*(y+S),R=Math.atan2(k-C,A-N),I=Math.atan2(T-C,E-N);VQ(t,N+e,C+r,a,R,I,u*d>h*c)}const yb=Math.PI*2,KA={centerX:0,centerY:0,ang1:0,ang2:0},ZA=({x:t,y:e},r,n,s,a,o,l,c)=>{t*=r,e*=n;const u=s*t-a*e,d=a*t+s*e;return c.x=u+o,c.y=d+l,c};function KSe(t,e){const r=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=e===1.5707963267948966?.551915024494:r,s=Math.cos(t),a=Math.sin(t),o=Math.cos(t+e),l=Math.sin(t+e);return[{x:s-a*n,y:a+s*n},{x:o+l*n,y:l-o*n},{x:o,y:l}]}const yD=(t,e,r,n)=>{const s=t*n-e*r<0?-1:1;let a=t*r+e*n;return a>1&&(a=1),a<-1&&(a=-1),s*Math.acos(a)},ZSe=(t,e,r,n,s,a,o,l,c,u,d,h,p)=>{const f=Math.pow(s,2),m=Math.pow(a,2),g=Math.pow(d,2),y=Math.pow(h,2);let x=f*m-f*y-m*g;x<0&&(x=0),x/=f*y+m*g,x=Math.sqrt(x)*(o===l?-1:1);const w=x*s/a*h,S=x*-a/s*d,N=u*w-c*S+(t+r)/2,C=c*w+u*S+(e+n)/2,A=(d-w)/s,k=(h-S)/a,E=(-d-w)/s,T=(-h-S)/a,R=yD(1,0,A,k);let I=yD(A,k,E,T);l===0&&I>0&&(I-=yb),l===1&&I<0&&(I+=yb),p.centerX=N,p.centerY=C,p.ang1=R,p.ang2=I};function QSe(t,e,r,n,s,a,o,l=0,c=0,u=0){if(a===0||o===0)return;const d=Math.sin(l*yb/360),h=Math.cos(l*yb/360),p=h*(e-n)/2+d*(r-s)/2,f=-d*(e-n)/2+h*(r-s)/2;if(p===0&&f===0)return;a=Math.abs(a),o=Math.abs(o);const m=Math.pow(p,2)/Math.pow(a,2)+Math.pow(f,2)/Math.pow(o,2);m>1&&(a*=Math.sqrt(m),o*=Math.sqrt(m)),ZSe(e,r,n,s,a,o,c,u,d,h,p,f,KA);let{ang1:g,ang2:y}=KA;const{centerX:x,centerY:w}=KA;let S=Math.abs(y)/(yb/4);Math.abs(1-S)<1e-7&&(S=1);const N=Math.max(Math.ceil(S),1);y/=N;let C=t[t.length-2],A=t[t.length-1];const k={x:0,y:0};for(let E=0;E<N;E++){const T=KSe(g,y),{x:R,y:I}=ZA(T[0],a,o,h,d,x,w,k),{x:L,y:U}=ZA(T[1],a,o,h,d,x,w,k),{x:$,y:q}=ZA(T[2],a,o,h,d,x,w,k);HQ(t,C,A,R,I,L,U,$,q),C=$,A=q,g+=y}}function JSe(t,e,r){const n=(o,l)=>{const c=l.x-o.x,u=l.y-o.y,d=Math.sqrt(c*c+u*u),h=c/d,p=u/d;return{len:d,nx:h,ny:p}},s=(o,l)=>{o===0?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y)};let a=e[e.length-1];for(let o=0;o<e.length;o++){const l=e[o%e.length],c=l.radius??r;if(c<=0){s(o,l),a=l;continue}const u=e[(o+1)%e.length],d=n(l,a),h=n(l,u);if(d.len<1e-4||h.len<1e-4){s(o,l),a=l;continue}let p=Math.asin(d.nx*h.ny-d.ny*h.nx),f=1,m=!1;d.nx*h.nx-d.ny*-h.ny<0?p<0?p=Math.PI+p:(p=Math.PI-p,f=-1,m=!0):p>0&&(f=-1,m=!0);const g=p/2;let y,x=Math.abs(Math.cos(g)*c/Math.sin(g));x>Math.min(d.len/2,h.len/2)?(x=Math.min(d.len/2,h.len/2),y=Math.abs(x*Math.sin(g)/Math.cos(g))):y=c;const w=l.x+h.nx*x+-h.ny*y*f,S=l.y+h.ny*x+h.nx*y*f,N=Math.atan2(d.ny,d.nx)+Math.PI/2*f,C=Math.atan2(h.ny,h.nx)-Math.PI/2*f;o===0&&t.moveTo(w+Math.cos(N)*y,S+Math.sin(N)*y),t.arc(w,S,y,N,C,m),a=l}}function eNe(t,e,r,n){const s=(l,c)=>Math.sqrt((l.x-c.x)**2+(l.y-c.y)**2),a=(l,c,u)=>({x:l.x+(c.x-l.x)*u,y:l.y+(c.y-l.y)*u}),o=e.length;for(let l=0;l<o;l++){const c=e[(l+1)%o],u=c.radius??r;if(u<=0){l===0?t.moveTo(c.x,c.y):t.lineTo(c.x,c.y);continue}const d=e[l],h=e[(l+2)%o],p=s(d,c);let f;if(p<1e-4)f=c;else{const y=Math.min(p/2,u);f=a(c,d,y/p)}const m=s(h,c);let g;if(m<1e-4)g=c;else{const y=Math.min(m/2,u);g=a(c,h,y/m)}l===0?t.moveTo(f.x,f.y):t.lineTo(f.x,f.y),t.quadraticCurveTo(c.x,c.y,g.x,g.y,n)}}const tNe=new Ra;class rNe{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new _d,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,r){return this.startPoly(e,r),this}lineTo(e,r){this._ensurePoly();const n=this._currentPoly.points,s=n[n.length-2],a=n[n.length-1];return(s!==e||a!==r)&&n.push(e,r),this}arc(e,r,n,s,a,o){this._ensurePoly(!1);const l=this._currentPoly.points;return VQ(l,e,r,n,s,a,o),this}arcTo(e,r,n,s,a){this._ensurePoly();const o=this._currentPoly.points;return XSe(o,e,r,n,s,a),this}arcToSvg(e,r,n,s,a,o,l){const c=this._currentPoly.points;return QSe(c,this._currentPoly.lastX,this._currentPoly.lastY,o,l,e,r,n,s,a),this}bezierCurveTo(e,r,n,s,a,o,l){this._ensurePoly();const c=this._currentPoly;return HQ(this._currentPoly.points,c.lastX,c.lastY,e,r,n,s,a,o,l),this}quadraticCurveTo(e,r,n,s,a){this._ensurePoly();const o=this._currentPoly;return qSe(this._currentPoly.points,o.lastX,o.lastY,e,r,n,s,a),this}closePath(){return this.endPoly(!0),this}addPath(e,r){this.endPoly(),r&&!r.isIdentity()&&(e=e.clone(!0),e.transform(r));const n=this.shapePrimitives,s=n.length;for(let a=0;a<e.instructions.length;a++){const o=e.instructions[a];this[o.action](...o.data)}if(e.checkForHoles&&n.length-s>1){let a=null;for(let o=s;o<n.length;o++){const l=n[o];if(l.shape.type==="polygon"){const c=l.shape,u=a==null?void 0:a.shape;u&&u.containsPolygon(c)?(a.holes||(a.holes=[]),a.holes.push(l),n.copyWithin(o,o+1),n.length--,o--):a=l}}}return this}finish(e=!1){this.endPoly(e)}rect(e,r,n,s,a){return this.drawShape(new Ra(e,r,n,s),a),this}circle(e,r,n,s){return this.drawShape(new EM(e,r,n),s),this}poly(e,r,n){const s=new VA(e);return s.closePath=r,this.drawShape(s,n),this}regularPoly(e,r,n,s,a=0,o){s=Math.max(s|0,3);const l=-1*Math.PI/2+a,c=Math.PI*2/s,u=[];for(let d=0;d<s;d++){const h=l-d*c;u.push(e+n*Math.cos(h),r+n*Math.sin(h))}return this.poly(u,!0,o),this}roundPoly(e,r,n,s,a,o=0,l){if(s=Math.max(s|0,3),a<=0)return this.regularPoly(e,r,n,s,o);const c=n*Math.sin(Math.PI/s)-.001;a=Math.min(a,c);const u=-1*Math.PI/2+o,d=Math.PI*2/s,h=(s-2)*Math.PI/s/2;for(let p=0;p<s;p++){const f=p*d+u,m=e+n*Math.cos(f),g=r+n*Math.sin(f),y=f+Math.PI+h,x=f-Math.PI-h,w=m+a*Math.cos(y),S=g+a*Math.sin(y),N=m+a*Math.cos(x),C=g+a*Math.sin(x);p===0?this.moveTo(w,S):this.lineTo(w,S),this.quadraticCurveTo(m,g,N,C,l)}return this.closePath()}roundShape(e,r,n=!1,s){return e.length<3?this:(n?eNe(this,e,r,s):JSe(this,e,r),this.closePath())}filletRect(e,r,n,s,a){if(a===0)return this.rect(e,r,n,s);const o=Math.min(n,s)/2,l=Math.min(o,Math.max(-o,a)),c=e+n,u=r+s,d=l<0?-l:0,h=Math.abs(l);return this.moveTo(e,r+h).arcTo(e+d,r+d,e+h,r,h).lineTo(c-h,r).arcTo(c-d,r+d,c,r+h,h).lineTo(c,u-h).arcTo(c-d,u-d,e+n-h,u,h).lineTo(e+h,u).arcTo(e+d,u-d,e,u-h,h).closePath()}chamferRect(e,r,n,s,a,o){if(a<=0)return this.rect(e,r,n,s);const l=Math.min(a,Math.min(n,s)/2),c=e+n,u=r+s,d=[e+l,r,c-l,r,c,r+l,c,u-l,c-l,u,e+l,u,e,u-l,e,r+l];for(let h=d.length-1;h>=2;h-=2)d[h]===d[h-2]&&d[h-1]===d[h-3]&&d.splice(h-1,2);return this.poly(d,!0,o)}ellipse(e,r,n,s,a){return this.drawShape(new TM(e,r,n,s),a),this}roundRect(e,r,n,s,a,o){return this.drawShape(new IM(e,r,n,s,a),o),this}drawShape(e,r){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:r}),this}startPoly(e,r){let n=this._currentPoly;return n&&this.endPoly(),n=new VA,n.points.push(e,r),this._currentPoly=n,this}endPoly(e=!1){const r=this._currentPoly;return r&&r.points.length>2&&(r.closePath=e,this.shapePrimitives.push({shape:r})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new VA,e)){const r=this.shapePrimitives[this.shapePrimitives.length-1];if(r){let n=r.shape.x,s=r.shape.y;if(r.transform&&!r.transform.isIdentity()){const a=r.transform,o=n;n=a.a*n+a.c*s+a.tx,s=a.b*o+a.d*s+a.ty}this._currentPoly.points.push(n,s)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let r=0;r<e.instructions.length;r++){const n=e.instructions[r];this[n.action](...n.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const r=this.shapePrimitives;for(let n=0;n<r.length;n++){const s=r[n],a=s.shape.getBounds(tNe);s.transform?e.addRect(a,s.transform):e.addRect(a)}return e}}class hf{constructor(e,r=!1){this.instructions=[],this.uid=Si("graphicsPath"),this._dirty=!0,this.checkForHoles=r,typeof e=="string"?C5e(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new rNe(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,r){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,r]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,r,n,s,a){const o=this.instructions[this.instructions.length-1],l=this.getLastPoint(ro.shared);let c=0,u=0;if(!o||o.action!=="bezierCurveTo")c=l.x,u=l.y;else{c=o.data[2],u=o.data[3];const d=l.x,h=l.y;c=d+(d-c),u=h+(h-u)}return this.instructions.push({action:"bezierCurveTo",data:[c,u,e,r,n,s,a]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,r,n){const s=this.instructions[this.instructions.length-1],a=this.getLastPoint(ro.shared);let o=0,l=0;if(!s||s.action!=="quadraticCurveTo")o=a.x,l=a.y;else{o=s.data[0],l=s.data[1];const c=a.x,u=a.y;o=c+(c-o),l=u+(u-l)}return this.instructions.push({action:"quadraticCurveTo",data:[o,l,e,r,n]}),this._dirty=!0,this}rect(e,r,n,s,a){return this.instructions.push({action:"rect",data:[e,r,n,s,a]}),this._dirty=!0,this}circle(e,r,n,s){return this.instructions.push({action:"circle",data:[e,r,n,s]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,r,n,s,a,o,l){a||(a=s/2);const c=-1*Math.PI/2+o,u=n*2,d=Math.PI*2/u,h=[];for(let p=0;p<u;p++){const f=p%2?a:s,m=p*d+c;h.push(e+f*Math.cos(m),r+f*Math.sin(m))}return this.poly(h,!0,l),this}clone(e=!1){const r=new hf;if(r.checkForHoles=this.checkForHoles,!e)r.instructions=this.instructions.slice();else for(let n=0;n<this.instructions.length;n++){const s=this.instructions[n];r.instructions.push({action:s.action,data:s.data.slice()})}return r}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const r=e.a,n=e.b,s=e.c,a=e.d,o=e.tx,l=e.ty;let c=0,u=0,d=0,h=0,p=0,f=0,m=0,g=0;for(let y=0;y<this.instructions.length;y++){const x=this.instructions[y],w=x.data;switch(x.action){case"moveTo":case"lineTo":c=w[0],u=w[1],w[0]=r*c+s*u+o,w[1]=n*c+a*u+l;break;case"bezierCurveTo":d=w[0],h=w[1],p=w[2],f=w[3],c=w[4],u=w[5],w[0]=r*d+s*h+o,w[1]=n*d+a*h+l,w[2]=r*p+s*f+o,w[3]=n*p+a*f+l,w[4]=r*c+s*u+o,w[5]=n*c+a*u+l;break;case"quadraticCurveTo":d=w[0],h=w[1],c=w[2],u=w[3],w[0]=r*d+s*h+o,w[1]=n*d+a*h+l,w[2]=r*c+s*u+o,w[3]=n*c+a*u+l;break;case"arcToSvg":c=w[5],u=w[6],m=w[0],g=w[1],w[0]=r*m+s*g,w[1]=n*m+a*g,w[5]=r*c+s*u+o,w[6]=n*c+a*u+l;break;case"circle":w[4]=m1(w[3],e);break;case"rect":w[4]=m1(w[4],e);break;case"ellipse":w[8]=m1(w[8],e);break;case"roundRect":w[5]=m1(w[5],e);break;case"addPath":w[0].transform(e);break;case"poly":w[2]=m1(w[2],e);break;default:Bs("unknown transform action",x.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let r=this.instructions.length-1,n=this.instructions[r];if(!n)return e.x=0,e.y=0,e;for(;n.action==="closePath";){if(r--,r<0)return e.x=0,e.y=0,e;n=this.instructions[r]}switch(n.action){case"moveTo":case"lineTo":e.x=n.data[0],e.y=n.data[1];break;case"quadraticCurveTo":e.x=n.data[2],e.y=n.data[3];break;case"bezierCurveTo":e.x=n.data[4],e.y=n.data[5];break;case"arc":case"arcToSvg":e.x=n.data[5],e.y=n.data[6];break;case"addPath":n.data[0].getLastPoint(e);break}return e}}function m1(t,e){return t?t.prepend(e):e.clone()}function yi(t,e,r){const n=t.getAttribute(e);return n?Number(n):r}function nNe(t,e){const r=t.querySelectorAll("defs");for(let n=0;n<r.length;n++){const s=r[n];for(let a=0;a<s.children.length;a++){const o=s.children[a];switch(o.nodeName.toLowerCase()){case"lineargradient":e.defs[o.id]=sNe(o);break;case"radialgradient":e.defs[o.id]=iNe();break}}}}function sNe(t){const e=yi(t,"x1",0),r=yi(t,"y1",0),n=yi(t,"x2",1),s=yi(t,"y2",0),a=t.getAttribute("gradientUnits")||"objectBoundingBox",o=new jf(e,r,n,s,a==="objectBoundingBox"?"local":"global");for(let l=0;l<t.children.length;l++){const c=t.children[l],u=yi(c,"offset",0),d=fa.shared.setValue(c.getAttribute("stop-color")).toNumber();o.addColorStop(u,d)}return o}function iNe(t){return Bs("[SVG Parser] Radial gradients are not yet supported"),new jf(0,0,1,0)}function vD(t){const e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const bD={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function qQ(t,e){const r=t.getAttribute("style"),n={},s={},a={strokeStyle:n,fillStyle:s,useFill:!1,useStroke:!1};for(const o in bD){const l=t.getAttribute(o);l&&wD(e,a,o,l.trim())}if(r){const o=r.split(";");for(let l=0;l<o.length;l++){const c=o[l].trim(),[u,d]=c.split(":");bD[u]&&wD(e,a,u,d.trim())}}return{strokeStyle:a.useStroke?n:null,fillStyle:a.useFill?s:null,useFill:a.useFill,useStroke:a.useStroke}}function wD(t,e,r,n){switch(r){case"stroke":if(n!=="none"){if(n.startsWith("url(")){const s=vD(n);e.strokeStyle.fill=t.defs[s]}else e.strokeStyle.color=fa.shared.setValue(n).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(n);break;case"fill":if(n!=="none"){if(n.startsWith("url(")){const s=vD(n);e.fillStyle.fill=t.defs[s]}else e.fillStyle.color=fa.shared.setValue(n).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(n);break;case"stroke-opacity":e.strokeStyle.alpha=Number(n);break;case"opacity":e.fillStyle.alpha=Number(n),e.strokeStyle.alpha=Number(n);break}}function aNe(t){if(t.length<=2)return!0;const e=t.map(l=>l.area).sort((l,c)=>c-l),[r,n]=e,s=e[e.length-1],a=r/n,o=n/s;return!(a>3&&o<2)}function oNe(t){return t.split(/(?=[Mm])/).filter(n=>n.trim().length>0)}function lNe(t){const e=t.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const r=e.map(Number),n=[],s=[];for(let d=0;d<r.length;d+=2)d+1<r.length&&(n.push(r[d]),s.push(r[d+1]));if(n.length===0||s.length===0)return 0;const a=Math.min(...n),o=Math.max(...n),l=Math.min(...s),c=Math.max(...s);return(o-a)*(c-l)}function jD(t,e){const r=new hf(t,!1);for(const n of r.instructions)e.instructions.push(n)}function cNe(t,e){if(typeof t=="string"){const o=document.createElement("div");o.innerHTML=t.trim(),t=o.querySelector("svg")}const r={context:e,defs:{},path:new hf};nNe(t,r);const n=t.children,{fillStyle:s,strokeStyle:a}=qQ(t,r);for(let o=0;o<n.length;o++){const l=n[o];l.nodeName.toLowerCase()!=="defs"&&YQ(l,r,s,a)}return e}function YQ(t,e,r,n){const s=t.children,{fillStyle:a,strokeStyle:o}=qQ(t,e);a&&r?r={...r,...a}:a&&(r=a),o&&n?n={...n,...o}:o&&(n=o);const l=!r&&!n;l&&(r={color:0});let c,u,d,h,p,f,m,g,y,x,w,S,N,C,A,k,E;switch(t.nodeName.toLowerCase()){case"path":{C=t.getAttribute("d");const T=t.getAttribute("fill-rule"),R=oNe(C),I=T==="evenodd",L=R.length>1;if(I&&L){const $=R.map(G=>({path:G,area:lNe(G)}));if($.sort((G,W)=>W.area-G.area),R.length>3||!aNe($))for(let G=0;G<$.length;G++){const W=$[G],B=G===0;e.context.beginPath();const O=new hf(void 0,!0);jD(W.path,O),e.context.path(O),B?(r&&e.context.fill(r),n&&e.context.stroke(n)):e.context.cut()}else for(let G=0;G<$.length;G++){const W=$[G],B=G%2===1;e.context.beginPath();const O=new hf(void 0,!0);jD(W.path,O),e.context.path(O),B?e.context.cut():(r&&e.context.fill(r),n&&e.context.stroke(n))}}else{const $=T?T==="evenodd":!0;A=new hf(C,$),e.context.path(A),r&&e.context.fill(r),n&&e.context.stroke(n)}break}case"circle":m=yi(t,"cx",0),g=yi(t,"cy",0),y=yi(t,"r",0),e.context.ellipse(m,g,y,y),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"rect":c=yi(t,"x",0),u=yi(t,"y",0),k=yi(t,"width",0),E=yi(t,"height",0),x=yi(t,"rx",0),w=yi(t,"ry",0),x||w?e.context.roundRect(c,u,k,E,x||w):e.context.rect(c,u,k,E),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"ellipse":m=yi(t,"cx",0),g=yi(t,"cy",0),x=yi(t,"rx",0),w=yi(t,"ry",0),e.context.beginPath(),e.context.ellipse(m,g,x,w),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"line":d=yi(t,"x1",0),h=yi(t,"y1",0),p=yi(t,"x2",0),f=yi(t,"y2",0),e.context.beginPath(),e.context.moveTo(d,h),e.context.lineTo(p,f),n&&e.context.stroke(n);break;case"polygon":N=t.getAttribute("points"),S=N.match(/\d+/g).map(T=>parseInt(T,10)),e.context.poly(S,!0),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"polyline":N=t.getAttribute("points"),S=N.match(/\d+/g).map(T=>parseInt(T,10)),e.context.poly(S,!1),n&&e.context.stroke(n);break;case"g":case"svg":break;default:{Bs(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}l&&(r=null);for(let T=0;T<s.length;T++)YQ(s[T],e,r,n)}function uNe(t){return fa.isColorLike(t)}function SD(t){return t instanceof sC}function ND(t){return t instanceof jf}function dNe(t){return t instanceof Sn}function hNe(t,e,r){const n=fa.shared.setValue(e??0);return t.color=n.toNumber(),t.alpha=n.alpha===1?r.alpha:n.alpha,t.texture=Sn.WHITE,{...r,...t}}function fNe(t,e,r){return t.texture=e,{...r,...t}}function CD(t,e,r){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...r,...t}}function _D(t,e,r){return e.buildGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...r,...t}}function pNe(t,e){const r={...e,...t},n=fa.shared.setValue(r.color);return r.alpha*=n.alpha,r.color=n.toNumber(),r}function sg(t,e){if(t==null)return null;const r={},n=t;return uNe(t)?hNe(r,t,e):dNe(t)?fNe(r,t,e):SD(t)?CD(r,t,e):ND(t)?_D(r,t,e):n.fill&&SD(n.fill)?CD(n,n.fill,e):n.fill&&ND(n.fill)?_D(n,n.fill,e):pNe(n,e)}function AN(t,e){const{width:r,alignment:n,miterLimit:s,cap:a,join:o,pixelLine:l,...c}=e,u=sg(t,c);return u?{width:r,alignment:n,miterLimit:s,cap:a,join:o,pixelLine:l,...u}:null}const mNe=new ro,AD=new yn,OM=class Kd extends Md{constructor(){super(...arguments),this.uid=Si("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new hf,this._transform=new yn,this._fillStyle={...Kd.defaultFillStyle},this._strokeStyle={...Kd.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new _d,this._boundsDirty=!0}clone(){const e=new Kd;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=sg(e,Kd.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=AN(e,Kd.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=sg(e,Kd.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=sg(e,Kd.defaultStrokeStyle),this}texture(e,r,n,s,a,o){return this.instructions.push({action:"texture",data:{image:e,dx:n||0,dy:s||0,dw:a||e.frame.width,dh:o||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:r?fa.shared.setValue(r).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new hf,this}fill(e,r){let n;const s=this.instructions[this.instructions.length-1];return this._tick===0&&(s==null?void 0:s.action)==="stroke"?n=s.data.path:n=this._activePath.clone(),n?(e!=null&&(r!==void 0&&typeof e=="number"&&(mn(ss,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:r}),this._fillStyle=sg(e,Kd.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:r}=this._activePath.getLastPoint(ro.shared);this._activePath.clear(),this._activePath.moveTo(e,r)}stroke(e){let r;const n=this.instructions[this.instructions.length-1];return this._tick===0&&(n==null?void 0:n.action)==="fill"?r=n.data.path:r=this._activePath.clone(),r?(e!=null&&(this._strokeStyle=AN(e,Kd.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const r=this.instructions[this.instructions.length-1-e],n=this._activePath.clone();if(r&&(r.action==="stroke"||r.action==="fill"))if(r.data.hole)r.data.hole.addPath(n);else{r.data.hole=n;break}}return this._initNextPathLocation(),this}arc(e,r,n,s,a,o){this._tick++;const l=this._transform;return this._activePath.arc(l.a*e+l.c*r+l.tx,l.b*e+l.d*r+l.ty,n,s,a,o),this}arcTo(e,r,n,s,a){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*s+o.tx,o.b*n+o.d*s+o.ty,a),this}arcToSvg(e,r,n,s,a,o,l){this._tick++;const c=this._transform;return this._activePath.arcToSvg(e,r,n,s,a,c.a*o+c.c*l+c.tx,c.b*o+c.d*l+c.ty),this}bezierCurveTo(e,r,n,s,a,o,l){this._tick++;const c=this._transform;return this._activePath.bezierCurveTo(c.a*e+c.c*r+c.tx,c.b*e+c.d*r+c.ty,c.a*n+c.c*s+c.tx,c.b*n+c.d*s+c.ty,c.a*a+c.c*o+c.tx,c.b*a+c.d*o+c.ty,l),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,r,n,s){return this._tick++,this._activePath.ellipse(e,r,n,s,this._transform.clone()),this}circle(e,r,n){return this._tick++,this._activePath.circle(e,r,n,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,r){this._tick++;const n=this._transform;return this._activePath.lineTo(n.a*e+n.c*r+n.tx,n.b*e+n.d*r+n.ty),this}moveTo(e,r){this._tick++;const n=this._transform,s=this._activePath.instructions,a=n.a*e+n.c*r+n.tx,o=n.b*e+n.d*r+n.ty;return s.length===1&&s[0].action==="moveTo"?(s[0].data[0]=a,s[0].data[1]=o,this):(this._activePath.moveTo(a,o),this)}quadraticCurveTo(e,r,n,s,a){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*s+o.tx,o.b*n+o.d*s+o.ty,a),this}rect(e,r,n,s){return this._tick++,this._activePath.rect(e,r,n,s,this._transform.clone()),this}roundRect(e,r,n,s,a){return this._tick++,this._activePath.roundRect(e,r,n,s,a,this._transform.clone()),this}poly(e,r){return this._tick++,this._activePath.poly(e,r,this._transform.clone()),this}regularPoly(e,r,n,s,a=0,o){return this._tick++,this._activePath.regularPoly(e,r,n,s,a,o),this}roundPoly(e,r,n,s,a,o){return this._tick++,this._activePath.roundPoly(e,r,n,s,a,o),this}roundShape(e,r,n,s){return this._tick++,this._activePath.roundShape(e,r,n,s),this}filletRect(e,r,n,s,a){return this._tick++,this._activePath.filletRect(e,r,n,s,a),this}chamferRect(e,r,n,s,a,o){return this._tick++,this._activePath.chamferRect(e,r,n,s,a,o),this}star(e,r,n,s,a=0,o=0){return this._tick++,this._activePath.star(e,r,n,s,a,o,this._transform.clone()),this}svg(e){return this._tick++,cNe(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,r=e){return this._transform.scale(e,r),this}setTransform(e,r,n,s,a,o){return e instanceof yn?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,r,n,s,a,o),this)}transform(e,r,n,s,a,o){return e instanceof yn?(this._transform.append(e),this):(AD.set(e,r,n,s,a,o),this._transform.append(AD),this)}translate(e,r=e){return this._transform.translate(e,r),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let r=0;r<this.instructions.length;r++){const n=this.instructions[r],s=n.action;if(s==="fill"){const a=n.data;e.addBounds(a.path.bounds)}else if(s==="texture"){const a=n.data;e.addFrame(a.dx,a.dy,a.dx+a.dw,a.dy+a.dh,a.transform)}if(s==="stroke"){const a=n.data,o=a.style.alignment,l=a.style.width*(1-o),c=a.path.bounds;e.addFrame(c.minX-l,c.minY-l,c.maxX+l,c.maxY+l)}}return e}containsPoint(e){var s;if(!this.bounds.containsPoint(e.x,e.y))return!1;const r=this.instructions;let n=!1;for(let a=0;a<r.length;a++){const o=r[a],l=o.data,c=l.path;if(!o.action||!c)continue;const u=l.style,d=c.shapePath.shapePrimitives;for(let h=0;h<d.length;h++){const p=d[h].shape;if(!u||!p)continue;const f=d[h].transform,m=f?f.applyInverse(e,mNe):e;if(o.action==="fill")n=p.contains(m.x,m.y);else{const y=u;n=p.strokeContains(m.x,m.y,y.width,y.alignment)}const g=l.hole;if(g){const y=(s=g.shapePath)==null?void 0:s.shapePrimitives;if(y)for(let x=0;x<y.length;x++)y[x].shape.contains(m.x,m.y)&&(n=!1)}if(n)return!0}}return n}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(n)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(n))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};OM.defaultFillStyle={color:16777215,alpha:1,texture:Sn.WHITE,matrix:null,fill:null,textureSpace:"local"};OM.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Sn.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let au=OM;const LM=class Zx extends Md{constructor(e={}){super(),this.uid=Si("textStyle"),this._tick=0,gNe(e);const r={...Zx.defaultTextStyle,...e};for(const n in r){const s=n;this[s]=r[n]}this.update(),this._tick=0}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.update())}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...Zx.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...Zx.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.update())}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.update())}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.update())}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.update())}get filters(){return this._filters}set filters(e){this._filters!==e&&(this._filters=Object.freeze(e),this.update())}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.update())}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...au.defaultFillStyle,...e},()=>{this._fill=sg({...this._originalFill},au.defaultFillStyle)})),this._fill=sg(e===0?"black":e,au.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...au.defaultStrokeStyle,...e},()=>{this._stroke=AN({...this._originalStroke},au.defaultStrokeStyle)})),this._stroke=AN(e,au.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const e=Zx.defaultTextStyle;for(const r in e)this[r]=e[r]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new Zx({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let e=0;if(this._filters)for(let r=0;r<this._filters.length;r++)e+=this._filters[r].padding;return Math.max(this._padding,e)}destroy(e=!1){var n,s,a,o;if(this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const l=typeof e=="boolean"?e:e==null?void 0:e.textureSource;(n=this._fill)!=null&&n.texture&&this._fill.texture.destroy(l),(s=this._originalFill)!=null&&s.texture&&this._originalFill.texture.destroy(l),(a=this._stroke)!=null&&a.texture&&this._stroke.texture.destroy(l),(o=this._originalStroke)!=null&&o.texture&&this._originalStroke.texture.destroy(l)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,r){return new Proxy(e,{set:(n,s,a)=>(n[s]===a||(n[s]=a,r==null||r(s,a),this.update()),!0)})}_isFillStyle(e){return(e??null)!==null&&!(fa.isColorLike(e)||e instanceof jf||e instanceof sC)}};LM.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};LM.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let kN=LM;function gNe(t){const e=t;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const r=kN.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??r.alpha,angle:e.dropShadowAngle??r.angle,blur:e.dropShadowBlur??r.blur,color:e.dropShadowColor??r.color,distance:e.dropShadowDistance??r.distance}}if(e.strokeThickness!==void 0){mn(ss,"strokeThickness is now a part of stroke");const r=e.stroke;let n={};if(fa.isColorLike(r))n.color=r;else if(r instanceof jf||r instanceof sC)n.fill=r;else if(Object.hasOwnProperty.call(r,"color")||Object.hasOwnProperty.call(r,"fill"))n=r;else throw new Error("Invalid stroke value.");t.stroke={...n,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){if(mn(ss,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(e.fill)||e.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");e.fill.length!==e.fillGradientStops.length&&Bs("The number of fill colors must match the number of fill gradient stops.");const r=new jf({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),n=e.fillGradientStops.slice(),s=e.fill.map(a=>fa.shared.setValue(a).toNumber());n.forEach((a,o)=>{r.addColorStop(a,s[o])}),t.fill={fill:r}}}class xNe{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,r){const n=Us.get().createCanvas();n.width=e,n.height=r;const s=n.getContext("2d");return{canvas:n,context:s}}getOptimalCanvasAndContext(e,r,n=1){e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),e=SN(e),r=SN(r);const s=(e<<17)+(r<<1);this._canvasPool[s]||(this._canvasPool[s]=[]);let a=this._canvasPool[s].pop();return a||(a=this._createCanvasAndContext(e,r)),a}returnCanvasAndContext(e){const r=e.canvas,{width:n,height:s}=r,a=(n<<17)+(s<<1);e.context.resetTransform(),e.context.clearRect(0,0,n,s),this._canvasPool[a].push(e)}clear(){this._canvasPool={}}}const g8=new xNe;Ew.register(g8);const kD=1e5;function PD(t,e,r,n=0){if(t.texture===Sn.WHITE&&!t.fill)return fa.shared.setValue(t.color).setAlpha(t.alpha??1).toHexa();if(t.fill){if(t.fill instanceof sC){const s=t.fill,a=e.createPattern(s.texture.source.resource,"repeat"),o=s.transform.copyTo(yn.shared);return o.scale(s.texture.frame.width,s.texture.frame.height),a.setTransform(o),a}else if(t.fill instanceof jf){const s=t.fill,a=s.type==="linear",o=s.textureSpace==="local";let l=1,c=1;o&&r&&(l=r.width+n,c=r.height+n);let u,d=!1;if(a){const{start:h,end:p}=s;u=e.createLinearGradient(h.x*l,h.y*c,p.x*l,p.y*c),d=Math.abs(p.x-h.x)<Math.abs((p.y-h.y)*.1)}else{const{center:h,innerRadius:p,outerCenter:f,outerRadius:m}=s;u=e.createRadialGradient(h.x*l,h.y*c,p*l,f.x*l,f.y*c,m*l)}if(d&&o&&r){const h=r.lineHeight/c;for(let p=0;p<r.lines.length;p++){const f=(p*r.lineHeight+n/2)/c;s.colorStops.forEach(m=>{const g=f+m.offset*h;u.addColorStop(Math.floor(g*kD)/kD,fa.shared.setValue(m.color).toHex())})}}else s.colorStops.forEach(h=>{u.addColorStop(h.offset,fa.shared.setValue(h.color).toHex())});return u}}else{const s=e.createPattern(t.texture.source.resource,"repeat"),a=t.matrix.copyTo(yn.shared);return a.scale(t.texture.frame.width,t.texture.frame.height),s.setTransform(a),s}return Bs("FillStyle not recognised",t),"red"}const XQ=class KQ extends PQ{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const r={...KQ.defaultOptions,...e};this._textureSize=r.textureSize,this._mipmap=r.mipmap;const n=r.style.clone();r.overrideFill&&(n._fill.color=16777215,n._fill.alpha=1,n._fill.texture=Sn.WHITE,n._fill.fill=null),this.applyFillAsTint=r.overrideFill;const s=n.fontSize;n.fontSize=this.baseMeasurementFontSize;const a=d8(n);r.overrideSize?n._stroke&&(n._stroke.width*=this.baseRenderedFontSize/s):n.fontSize=this.baseRenderedFontSize=s,this._style=n,this._skipKerning=r.skipKerning??!1,this.resolution=r.resolution??1,this._padding=r.padding??4,r.textureStyle&&(this._textureStyle=r.textureStyle instanceof NN?r.textureStyle:new NN(r.textureStyle)),this.fontMetrics=vS.measureFont(a),this.lineHeight=n.lineHeight||this.fontMetrics.fontSize||n.fontSize}ensureCharacters(e){var y,x;const r=vS.graphemeSegmenter(e).filter(w=>!this._currentChars.includes(w)).filter((w,S,N)=>N.indexOf(w)===S);if(!r.length)return;this._currentChars=[...this._currentChars,...r];let n;this._currentPageIndex===-1?n=this._nextPage():n=this.pages[this._currentPageIndex];let{canvas:s,context:a}=n.canvasAndContext,o=n.texture.source;const l=this._style;let c=this._currentX,u=this._currentY,d=this._currentMaxCharHeight;const h=this.baseRenderedFontSize/this.baseMeasurementFontSize,p=this._padding*h;let f=!1;const m=s.width/this.resolution,g=s.height/this.resolution;for(let w=0;w<r.length;w++){const S=r[w],N=vS.measureText(S,l,s,!1);N.lineHeight=N.height;const C=N.width*h,A=Math.ceil((l.fontStyle==="italic"?2:1)*C),k=N.height*h,E=A+p*2,T=k+p*2;if(f=!1,S!==`
`&&S!=="\r"&&S!=="	"&&S!==" "&&(f=!0,d=Math.ceil(Math.max(T,d))),c+E>m&&(u+=d,d=T,c=0,u+d>g)){o.update();const I=this._nextPage();s=I.canvasAndContext.canvas,a=I.canvasAndContext.context,o=I.texture.source,c=0,u=0,d=0}const R=C/h-(((y=l.dropShadow)==null?void 0:y.distance)??0)-(((x=l._stroke)==null?void 0:x.width)??0);if(this.chars[S]={id:S.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:R,kerning:{}},f){this._drawGlyph(a,N,c+p,u+p,h,l);const I=o.width*h,L=o.height*h,U=new Ra(c/I*o.width,u/L*o.height,E/I*o.width,T/L*o.height);this.chars[S].texture=new Sn({source:o,frame:U}),c+=Math.ceil(E)}}o.update(),this._currentX=c,this._currentY=u,this._currentMaxCharHeight=d,this._skipKerning&&this._applyKerning(r,a)}get pageTextures(){return mn(ss,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,r){const n=this._measureCache;for(let s=0;s<e.length;s++){const a=e[s];for(let o=0;o<this._currentChars.length;o++){const l=this._currentChars[o];let c=n[a];c||(c=n[a]=r.measureText(a).width);let u=n[l];u||(u=n[l]=r.measureText(l).width);let d=r.measureText(a+l).width,h=d-(c+u);h&&(this.chars[a].kerning[l]=h),d=r.measureText(a+l).width,h=d-(c+u),h&&(this.chars[l].kerning[a]=h)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,r=g8.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(r.context,this._style,e);const n=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),s=new Sn({source:new Og({resource:r.canvas,resolution:n,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(s.source.style=this._textureStyle);const a={canvasAndContext:r,texture:s};return this.pages[this._currentPageIndex]=a,a}_setupContext(e,r,n){r.fontSize=this.baseRenderedFontSize,e.scale(n,n),e.font=d8(r),r.fontSize=this.baseMeasurementFontSize,e.textBaseline=r.textBaseline;const s=r._stroke,a=(s==null?void 0:s.width)??0;if(s&&(e.lineWidth=a,e.lineJoin=s.join,e.miterLimit=s.miterLimit,e.strokeStyle=PD(s,e)),r._fill&&(e.fillStyle=PD(r._fill,e)),r.dropShadow){const o=r.dropShadow,l=fa.shared.setValue(o.color).toArray(),c=o.blur*n,u=o.distance*n;e.shadowColor=`rgba(${l[0]*255},${l[1]*255},${l[2]*255},${o.alpha})`,e.shadowBlur=c,e.shadowOffsetX=Math.cos(o.angle)*u,e.shadowOffsetY=Math.sin(o.angle)*u}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,r,n,s,a,o){const l=r.text,c=r.fontProperties,u=o._stroke,d=((u==null?void 0:u.width)??0)*a,h=n+d/2,p=s-d/2,f=c.descent*a,m=r.lineHeight*a;let g=!1;o.stroke&&d&&(g=!0,e.strokeText(l,h,p+m-f));const{shadowBlur:y,shadowOffsetX:x,shadowOffsetY:w}=e;o._fill&&(g&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),e.fillText(l,h,p+m-f)),g&&(e.shadowBlur=y,e.shadowOffsetX=x,e.shadowOffsetY=w)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:r,texture:n}=this.pages[e];g8.returnCanvasAndContext(r),n.destroy(!0)}this.pages=null}};XQ.defaultOptions={textureSize:512,style:new kN,mipmap:!0};let ED=XQ;function yNe(t,e,r,n){const s={width:0,height:0,offsetY:0,scale:e.fontSize/r.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};s.offsetY=r.baseLineOffset;let a=s.lines[0],o=null,l=!0;const c={width:0,start:0,index:0,positions:[],chars:[]},u=r.baseMeasurementFontSize/e.fontSize,d=e.letterSpacing*u,h=e.wordWrapWidth*u,p=e.lineHeight?e.lineHeight*u:r.lineHeight,f=e.wordWrap&&e.breakWords,m=x=>{const w=a.width;for(let S=0;S<c.index;S++){const N=x.positions[S];a.chars.push(x.chars[S]),a.charPositions.push(N+w)}a.width+=x.width,l=!1,c.width=0,c.index=0,c.chars.length=0},g=()=>{let x=a.chars.length-1;if(n){let w=a.chars[x];for(;w===" ";)a.width-=r.chars[w].xAdvance,w=a.chars[--x]}s.width=Math.max(s.width,a.width),a={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},l=!0,s.lines.push(a),s.height+=p},y=x=>x-d>h;for(let x=0;x<t.length+1;x++){let w;const S=x===t.length;S||(w=t[x]);const N=r.chars[w]||r.chars[" "];if(/(?:\s)/.test(w)||w==="\r"||w===`
`||S){if(!l&&e.wordWrap&&y(a.width+c.width)?(g(),m(c),S||a.charPositions.push(0)):(c.start=a.width,m(c),S||a.charPositions.push(0)),w==="\r"||w===`
`)g();else if(!S){const E=N.xAdvance+(N.kerning[o]||0)+d;a.width+=E,a.spaceWidth=E,a.spacesIndex.push(a.charPositions.length),a.chars.push(w)}}else{const k=N.kerning[o]||0,E=N.xAdvance+k+d;f&&y(a.width+c.width+E)&&(m(c),g()),c.positions[c.index++]=c.width+k,c.chars.push(w),c.width+=E}o=w}return g(),e.align==="center"?vNe(s):e.align==="right"?bNe(s):e.align==="justify"&&wNe(s),s}function vNe(t){for(let e=0;e<t.lines.length;e++){const r=t.lines[e],n=t.width/2-r.width/2;for(let s=0;s<r.charPositions.length;s++)r.charPositions[s]+=n}}function bNe(t){for(let e=0;e<t.lines.length;e++){const r=t.lines[e],n=t.width-r.width;for(let s=0;s<r.charPositions.length;s++)r.charPositions[s]+=n}}function wNe(t){const e=t.width;for(let r=0;r<t.lines.length;r++){const n=t.lines[r];let s=0,a=n.spacesIndex[s++],o=0;const l=n.spacesIndex.length,u=(e-n.width)/l;for(let d=0;d<n.charPositions.length;d++)d===a&&(a=n.spacesIndex[s++],o+=u),n.charPositions[d]+=o}}function jNe(t){if(t==="")return[];typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const s=t[r];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);if(s[0].length===0||s[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const a=s[0].charCodeAt(0),o=s[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(let l=a,c=o;l<=c;l++)e.push(String.fromCharCode(l))}else e.push(...Array.from(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}let g5=0;class SNe{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null},this.measureCache=EQ(1e3)}getFont(e,r){var o;let n=`${r.fontFamily}-bitmap`,s=!0;if(r._fill.fill&&!r._stroke?(n+=r._fill.fill.styleKey,s=!1):(r._stroke||r.dropShadow)&&(n=`${r.styleKey}-bitmap`,s=!1),!Fs.has(n)){const l=Object.create(r);l.lineHeight=0;const c=new ED({style:l,overrideFill:s,overrideSize:!0,...this.defaultOptions});g5++,g5>50&&Bs("BitmapText",`You have dynamically created ${g5} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),c.once("destroy",()=>{g5--,Fs.remove(n)}),Fs.set(n,c)}const a=Fs.get(n);return(o=a.ensureCharacters)==null||o.call(a,e),a}getLayout(e,r,n=!0){const s=this.getFont(e,r),a=`${e}-${r.styleKey}-${n}`;if(this.measureCache.has(a))return this.measureCache.get(a);const o=vS.graphemeSegmenter(e),l=yNe(o,r,s,n);return this.measureCache.set(a,l),l}measureText(e,r,n=!0){return this.getLayout(e,r,n)}install(...e){var u,d,h,p;let r=e[0];typeof r=="string"&&(r={name:r,style:e[1],chars:(u=e[2])==null?void 0:u.chars,resolution:(d=e[2])==null?void 0:d.resolution,padding:(h=e[2])==null?void 0:h.padding,skipKerning:(p=e[2])==null?void 0:p.skipKerning},mn(ss,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const n=r==null?void 0:r.name;if(!n)throw new Error("[BitmapFontManager] Property `name` is required.");r={...this.defaultOptions,...r};const s=r.style,a=s instanceof kN?s:new kN(s),o=r.dynamicFill??this._canUseTintForStyle(a),l=new ED({style:a,overrideFill:o,skipKerning:r.skipKerning,padding:r.padding,resolution:r.resolution,overrideSize:!1,textureStyle:r.textureStyle}),c=jNe(r.chars);return l.ensureCharacters(c.join("")),Fs.set(`${n}-bitmap`,l),l.once("destroy",()=>Fs.remove(`${n}-bitmap`)),l}uninstall(e){const r=`${e}-bitmap`,n=Fs.get(r);n&&n.destroy()}_canUseTintForStyle(e){return!e._stroke&&(!e.dropShadow||e.dropShadow.color===0)&&!e._fill.fill&&e._fill.color===16777215}}const TD=new SNe;class ZQ extends PQ{constructor(e,r){super();const{textures:n,data:s}=e;Object.keys(s.pages).forEach(a=>{const o=s.pages[parseInt(a,10)],l=n[o.id];this.pages.push({texture:l})}),Object.keys(s.chars).forEach(a=>{const o=s.chars[a],{frame:l,source:c,rotate:u}=n[o.page],d=us.transformRectCoords(o,l,u,new Ra),h=new Sn({frame:d,orig:new Ra(0,0,o.width,o.height),source:c,rotate:u});this.chars[a]={id:a.codePointAt(0),xOffset:o.xOffset,yOffset:o.yOffset,xAdvance:o.xAdvance,kerning:o.kerning??{},texture:h}}),this.baseRenderedFontSize=s.fontSize,this.baseMeasurementFontSize=s.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:s.fontSize},this.baseLineOffset=s.baseLineOffset,this.lineHeight=s.lineHeight,this.fontFamily=s.fontFamily,this.distanceField=s.distanceField??{type:"none",range:0},this.url=r}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:r}=this.pages[e];r.destroy(!0)}this.pages=null}static install(e){TD.install(e)}static uninstall(e){TD.uninstall(e)}}const QA={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const h in e){const p=e[h].match(/^[a-z]+/gm)[0],f=e[h].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),m={};for(const g in f){const y=f[g].split("="),x=y[0],w=y[1].replace(/"/gm,""),S=parseFloat(w),N=isNaN(S)?w:S;m[x]=N}r[p].push(m)}const n={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[s]=r.info,[a]=r.common,[o]=r.distanceField??[];o&&(n.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),n.fontSize=parseInt(s.size,10),n.fontFamily=s.face,n.lineHeight=parseInt(a.lineHeight,10);const l=r.page;for(let h=0;h<l.length;h++)n.pages.push({id:parseInt(l[h].id,10)||0,file:l[h].file});const c={};n.baseLineOffset=n.lineHeight-parseInt(a.base,10);const u=r.char;for(let h=0;h<u.length;h++){const p=u[h],f=parseInt(p.id,10);let m=p.letter??p.char??String.fromCharCode(f);m==="space"&&(m=" "),c[f]=m,n.chars[m]={id:f,page:parseInt(p.page,10)||0,x:parseInt(p.x,10),y:parseInt(p.y,10),width:parseInt(p.width,10),height:parseInt(p.height,10),xOffset:parseInt(p.xoffset,10),yOffset:parseInt(p.yoffset,10),xAdvance:parseInt(p.xadvance,10),kerning:{}}}const d=r.kerning||[];for(let h=0;h<d.length;h++){const p=parseInt(d[h].first,10),f=parseInt(d[h].second,10),m=parseInt(d[h].amount,10);n.chars[c[f]].kerning[c[p]]=m}return n}},ID={test(t){const e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},r=t.getElementsByTagName("info")[0],n=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("distanceField")[0];s&&(e.distanceField={type:s.getAttribute("fieldType"),range:parseInt(s.getAttribute("distanceRange"),10)});const a=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),l=t.getElementsByTagName("kerning");e.fontSize=parseInt(r.getAttribute("size"),10),e.fontFamily=r.getAttribute("face"),e.lineHeight=parseInt(n.getAttribute("lineHeight"),10);for(let u=0;u<a.length;u++)e.pages.push({id:parseInt(a[u].getAttribute("id"),10)||0,file:a[u].getAttribute("file")});const c={};e.baseLineOffset=e.lineHeight-parseInt(n.getAttribute("base"),10);for(let u=0;u<o.length;u++){const d=o[u],h=parseInt(d.getAttribute("id"),10);let p=d.getAttribute("letter")??d.getAttribute("char")??String.fromCharCode(h);p==="space"&&(p=" "),c[h]=p,e.chars[p]={id:h,page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xOffset:parseInt(d.getAttribute("xoffset"),10),yOffset:parseInt(d.getAttribute("yoffset"),10),xAdvance:parseInt(d.getAttribute("xadvance"),10),kerning:{}}}for(let u=0;u<l.length;u++){const d=parseInt(l[u].getAttribute("first"),10),h=parseInt(l[u].getAttribute("second"),10),p=parseInt(l[u].getAttribute("amount"),10);e.chars[c[h]].kerning[c[d]]=p}return e}},MD={test(t){return typeof t=="string"&&t.match(/<font(\s|>)/)?ID.test(Us.get().parseXML(t)):!1},parse(t){return ID.parse(Us.get().parseXML(t))}},NNe=[".xml",".fnt"],CNe={extension:{type:Mr.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof ZQ,getCacheableAssets(t,e){const r={};return t.forEach(n=>{r[n]=e,r[`${n}-bitmap`]=e}),r[`${e.fontFamily}-bitmap`]=e,r}},_Ne={extension:{type:Mr.LoadParser,priority:pm.Normal},name:"loadBitmapFont",id:"bitmap-font",test(t){return NNe.includes(jc.extname(t).toLowerCase())},async testParse(t){return QA.test(t)||MD.test(t)},async parse(t,e,r){const n=QA.test(t)?QA.parse(t):MD.parse(t),{src:s}=e,{pages:a}=n,o=[],l=n.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let h=0;h<a.length;++h){const p=a[h].file;let f=jc.join(jc.dirname(s),p);f=r8(f,s),o.push({src:f,data:l})}const c=await r.load(o),u=o.map(h=>c[h.src]);return new ZQ({data:n,textures:u},s)},async load(t,e){return await(await Us.get().fetch(t)).text()},async unload(t,e,r){await Promise.all(t.pages.map(n=>r.unload(n.texture.source._sourceOrigin))),t.destroy()}};class ANe{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const kNe={extension:{type:Mr.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof Sn),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((s,a)=>{r[n+(a===0?"":a+1)]=s})}),r}};async function QQ(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const PNe={extension:{type:Mr.DetectionParser,priority:1},test:async()=>QQ("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")},OD=["png","jpg","jpeg"],ENe={extension:{type:Mr.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...OD],remove:async t=>t.filter(e=>!OD.includes(e))},TNe="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function aC(t){return TNe?!1:document.createElement("video").canPlayType(t)!==""}const INe={extension:{type:Mr.DetectionParser,priority:0},test:async()=>aC("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")},MNe={extension:{type:Mr.DetectionParser,priority:0},test:async()=>aC("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")},ONe={extension:{type:Mr.DetectionParser,priority:0},test:async()=>aC("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")},LNe={extension:{type:Mr.DetectionParser,priority:0},test:async()=>QQ("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")},JQ=class bS{constructor(){this.loadOptions={...bS.defaultOptions},this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,l;let s=null,a=null;if((r.parser||r.loadParser)&&(a=this._parserHash[r.parser||r.loadParser],r.loadParser&&Bs(`[Assets] "loadParser" is deprecated, use "parser" instead for ${e}`),a||Bs(`[Assets] specified load parser "${r.parser||r.loadParser}" not found while loading ${e}`)),!a){for(let c=0;c<this.parsers.length;c++){const u=this.parsers[c];if(u.load&&((o=u.test)!=null&&o.call(u,e,r,this))){a=u;break}}if(!a)return Bs(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await a.load(e,r,this),n.parser=a;for(let c=0;c<this.parsers.length;c++){const u=this.parsers[c];u.parse&&u.parse&&await((l=u.testParse)==null?void 0:l.call(u,s,r,this))&&(s=await u.parse(s,r,this)||s,n.parser=u)}return s})(),n}async load(e,r){this._parsersValidated||this._validateParsers();const n=typeof r=="function"?{...bS.defaultOptions,...this.loadOptions,onProgress:r}:{...bS.defaultOptions,...this.loadOptions,...r||{}},{onProgress:s,onError:a,strategy:o,retryCount:l,retryDelay:c}=n;let u=0;const d={},h=CN(e),p=md(e,g=>({alias:[g],src:g,data:{}})),f=p.reduce((g,y)=>g+(y.progressSize||1),0),m=p.map(async g=>{const y=jc.toAbsolute(g.src);d[g.src]||(await this._loadAssetWithRetry(y,g,{onProgress:s,onError:a,strategy:o,retryCount:l,retryDelay:c},d),u+=g.progressSize||1,s&&s(u/f))});return await Promise.all(m),h?d[p[0].src]:d}async unload(e){const n=md(e,s=>({alias:[s],src:s})).map(async s=>{var l,c;const a=jc.toAbsolute(s.src),o=this.promiseCache[a];if(o){const u=await o.promise;delete this.promiseCache[a],await((c=(l=o.parser)==null?void 0:l.unload)==null?void 0:c.call(l,u,s,this))}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name||e.id).reduce((e,r)=>(!r.name&&!r.id?Bs("[Assets] parser should have an id"):(e[r.name]||e[r.id])&&Bs(`[Assets] parser id conflict "${r.id}"`),e[r.name]=r,r.id&&(e[r.id]=r),e),{})}async _loadAssetWithRetry(e,r,n,s){let a=0;const{onError:o,strategy:l,retryCount:c,retryDelay:u}=n,d=h=>new Promise(p=>setTimeout(p,h));for(;;)try{this.promiseCache[e]||(this.promiseCache[e]=this._getLoadPromiseAndParser(e,r)),s[r.src]=await this.promiseCache[e].promise;return}catch(h){delete this.promiseCache[e],delete s[r.src],a++;const p=l!=="retry"||a>c;if(l==="retry"&&!p){o&&o(h,r),await d(u);continue}if(l==="skip"){o&&o(h,r);return}throw o&&o(h,r),new Error(`[Loader.load] Failed to load ${e}.
${h}`)}}};JQ.defaultOptions={onProgress:void 0,onError:void 0,strategy:"throw",retryCount:3,retryDelay:250};let RNe=JQ;function lv(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function cv(t,e){const r=t.split("?")[0],n=jc.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const DNe=".json",FNe="application/json",BNe={extension:{type:Mr.LoadParser,priority:pm.Low},name:"loadJson",id:"json",test(t){return lv(t,FNe)||cv(t,DNe)},async load(t){return await(await Us.get().fetch(t)).json()}},$Ne=".txt",zNe="text/plain",UNe={name:"loadTxt",id:"text",extension:{type:Mr.LoadParser,priority:pm.Low,name:"loadTxt"},test(t){return lv(t,zNe)||cv(t,$Ne)},async load(t){return await(await Us.get().fetch(t)).text()}},WNe=["normal","bold","100","200","300","400","500","600","700","800","900"],GNe=[".ttf",".otf",".woff",".woff2"],HNe=["font/ttf","font/otf","font/woff","font/woff2"],VNe=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function qNe(t){const e=jc.extname(t),s=jc.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1));let a=s.length>0;for(const l of s)if(!l.match(VNe)){a=!1;break}let o=s.join(" ");return a||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const YNe=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function XNe(t){return YNe.test(t)?t:encodeURI(t)}const KNe={extension:{type:Mr.LoadParser,priority:pm.Low},name:"loadWebFont",id:"web-font",test(t){return lv(t,HNe)||cv(t,GNe)},async load(t,e){var n,s,a;const r=Us.get().getFontFaceSet();if(r){const o=[],l=((n=e.data)==null?void 0:n.family)??qNe(t),c=((a=(s=e.data)==null?void 0:s.weights)==null?void 0:a.filter(d=>WNe.includes(d)))??["normal"],u=e.data??{};for(let d=0;d<c.length;d++){const h=c[d],p=new FontFace(l,`url(${XNe(t)})`,{...u,weight:h});await p.load(),r.add(p),o.push(p)}return Fs.has(`${l}-and-url`)?Fs.get(`${l}-and-url`).entries.push({url:t,faces:o}):Fs.set(`${l}-and-url`,{entries:[{url:t,faces:o}]}),o.length===1?o[0]:o}return Bs("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){const e=Array.isArray(t)?t:[t],r=e[0].family,n=Fs.get(`${r}-and-url`),s=n.entries.find(a=>a.faces.some(o=>e.indexOf(o)!==-1));s.faces=s.faces.filter(a=>e.indexOf(a)===-1),s.faces.length===0&&(n.entries=n.entries.filter(a=>a!==s)),e.forEach(a=>{Us.get().getFontFaceSet().delete(a)}),n.entries.length===0&&Fs.remove(`${r}-and-url`)}};function RM(t,e=1){var n;const r=(n=av.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}function DM(t,e,r){t.label=r,t._sourceOrigin=r;const n=new Sn({source:t,label:r}),s=()=>{delete e.promiseCache[r],Fs.has(r)&&Fs.remove(r)};return n.source.once("destroy",()=>{e.promiseCache[r]&&(Bs("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),s())}),n.once("destroy",()=>{t.destroyed||(Bs("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),n}const ZNe=".svg",QNe="image/svg+xml",JNe={extension:{type:Mr.LoadParser,priority:pm.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return lv(t,QNe)||cv(t,ZNe)},async load(t,e,r){var n;return((n=e.data)==null?void 0:n.parseAsGraphicsContext)??this.config.parseAsGraphicsContext?t4e(t):e4e(t,e,r,this.config.crossOrigin)},unload(t){t.destroy(!0)}};async function e4e(t,e,r,n){var y,x,w;const s=await Us.get().fetch(t),a=Us.get().createImage();a.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(await s.text())}`,a.crossOrigin=n,await a.decode();const o=((y=e.data)==null?void 0:y.width)??a.width,l=((x=e.data)==null?void 0:x.height)??a.height,c=((w=e.data)==null?void 0:w.resolution)||RM(t),u=Math.ceil(o*c),d=Math.ceil(l*c),h=Us.get().createCanvas(u,d),p=h.getContext("2d");p.imageSmoothingEnabled=!0,p.imageSmoothingQuality="high",p.drawImage(a,0,0,o*c,l*c);const{parseAsGraphicsContext:f,...m}=e.data??{},g=new Og({resource:h,alphaMode:"premultiply-alpha-on-upload",resolution:c,...m});return DM(g,r,t)}async function t4e(t){const r=await(await Us.get().fetch(t)).text(),n=new au;return n.svg(r),n}const r4e=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let E0=null,x8=class{constructor(){E0||(E0=URL.createObjectURL(new Blob([r4e],{type:"application/javascript"}))),this.worker=new Worker(E0)}};x8.revokeObjectURL=function(){E0&&(URL.revokeObjectURL(E0),E0=null)};const n4e=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let T0=null;class eJ{constructor(){T0||(T0=URL.createObjectURL(new Blob([n4e],{type:"application/javascript"}))),this.worker=new Worker(T0)}}eJ.revokeObjectURL=function(){T0&&(URL.revokeObjectURL(T0),T0=null)};let LD=0,JA;class s4e{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new x8;r.addEventListener("message",n=>{r.terminate(),x8.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,r){var n;return this._run("loadImageBitmap",[e,(n=r==null?void 0:r.data)==null?void 0:n.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){JA===void 0&&(JA=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<JA&&(this._createdWorkers++,e=new eJ().worker,e.addEventListener("message",r=>{this._complete(r.data),this._returnWorker(r.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){this._resolveHash[e.uuid]&&(e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),delete this._resolveHash[e.uuid])}async _run(e,r){await this._initWorkers();const n=new Promise((s,a)=>{this._queue.push({id:e,arguments:r,resolve:s,reject:a})});return this._next(),n}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const r=this._queue.pop(),n=r.id;this._resolveHash[LD]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:LD++,id:n})}reset(){this._workerPool.forEach(e=>e.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:e})=>{e==null||e(new Error("WorkerManager has been reset before completion"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}const RD=new s4e,i4e=[".jpeg",".jpg",".png",".webp",".avif"],a4e=["image/jpeg","image/png","image/webp","image/avif"];async function o4e(t,e){var s;const r=await Us.get().fetch(t);if(!r.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${r.status} ${r.statusText}`);const n=await r.blob();return((s=e==null?void 0:e.data)==null?void 0:s.alphaMode)==="premultiplied-alpha"?createImageBitmap(n,{premultiplyAlpha:"none"}):createImageBitmap(n)}const tJ={name:"loadTextures",id:"texture",extension:{type:Mr.LoadParser,priority:pm.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return lv(t,a4e)||cv(t,i4e)},async load(t,e,r){var a;let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await RD.isImageBitmapSupported()?n=await RD.loadImageBitmap(t,e):n=await o4e(t,e):n=await new Promise((o,l)=>{n=Us.get().createImage(),n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?o(n):(n.onload=()=>{o(n)},n.onerror=l)});const s=new Og({resource:n,alphaMode:"premultiply-alpha-on-upload",resolution:((a=e.data)==null?void 0:a.resolution)||RM(t),...e.data});return DM(s,r,t)},unload(t){t.destroy(!0)}},l4e=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let ek,tk;function c4e(t,e,r){r===void 0&&!e.startsWith("data:")?t.crossOrigin=d4e(e):r!==!1&&(t.crossOrigin=typeof r=="string"?r:"anonymous")}function u4e(t){return new Promise((e,r)=>{t.addEventListener("canplaythrough",n),t.addEventListener("error",s),t.load();function n(){a(),e()}function s(o){a(),r(o)}function a(){t.removeEventListener("canplaythrough",n),t.removeEventListener("error",s)}})}function d4e(t,e=globalThis.location){if(t.startsWith("data:"))return"";e||(e=globalThis.location);const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function h4e(){const t=[],e=[];for(const r of l4e){const n=gb.MIME_TYPES[r.substring(1)]||`video/${r.substring(1)}`;aC(n)&&(t.push(r),e.includes(n)||e.push(n))}return{validVideoExtensions:t,validVideoMime:e}}const f4e={name:"loadVideo",id:"video",extension:{type:Mr.LoadParser,name:"loadVideo"},test(t){if(!ek||!tk){const{validVideoExtensions:n,validVideoMime:s}=h4e();ek=n,tk=s}const e=lv(t,tk),r=cv(t,ek);return e||r},async load(t,e,r){var c,u;const n={...gb.defaultOptions,resolution:((c=e.data)==null?void 0:c.resolution)||RM(t),alphaMode:((u=e.data)==null?void 0:u.alphaMode)||await sQ(),...e.data},s=document.createElement("video"),a={preload:n.autoLoad!==!1?"auto":void 0,"webkit-playsinline":n.playsinline!==!1?"":void 0,playsinline:n.playsinline!==!1?"":void 0,muted:n.muted===!0?"":void 0,loop:n.loop===!0?"":void 0,autoplay:n.autoPlay!==!1?"":void 0};Object.keys(a).forEach(d=>{const h=a[d];h!==void 0&&s.setAttribute(d,h)}),n.muted===!0&&(s.muted=!0),c4e(s,t,n.crossorigin);const o=document.createElement("source");let l;if(n.mime)l=n.mime;else if(t.startsWith("data:"))l=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const d=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();l=gb.MIME_TYPES[d]||`video/${d}`}return o.src=t,l&&(o.type=l),new Promise(d=>{const h=async()=>{const p=new gb({...n,resource:s});s.removeEventListener("canplay",h),e.data.preload&&await u4e(s),d(DM(p,r,t))};n.preload&&!n.autoPlay&&s.load(),s.addEventListener("canplay",h),s.appendChild(o)})},unload(t){t.destroy(!0)}},rJ={extension:{type:Mr.ResolveParser,name:"resolveTexture"},test:tJ.test,parse:t=>{var e;return{resolution:parseFloat(((e=av.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}},p4e={extension:{type:Mr.ResolveParser,priority:-2,name:"resolveJson"},test:t=>av.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:rJ.parse};class m4e{constructor(){this._detections=[],this._initialized=!1,this.resolver=new av,this.loader=new RNe,this.cache=Fs,this._backgroundLoader=new ANe(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var a,o;if(this._initialized){Bs("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((a=e.texturePreference)==null?void 0:a.resolution)??1,n=typeof r=="number"?[r]:r,s=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:n}}),e.preferences&&this.setPreferences(e.preferences),e.loadOptions&&(this.loader.loadOptions={...this.loader.loadOptions,...e.loadOptions})}add(e){this.resolver.add(e)}async load(e,r){this._initialized||await this.init();const n=CN(e),s=md(e).map(l=>{if(typeof l!="string"){const c=this.resolver.getAlias(l);return c.some(u=>!this.resolver.hasKey(u))&&this.add(l),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),a=this.resolver.resolve(s),o=await this._mapLoadToResolve(a,r);return n?o[s[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const s=this.resolver.resolveBundle(e),a={},o=Object.keys(s);let l=0;const c=[],u=()=>{r==null||r(c.reduce((h,p)=>h+p,0)/l)},d=o.map((h,p)=>{const f=s[h],m=Object.values(f),y=[...new Set(m.flat())].reduce((x,w)=>x+(w.progressSize||1),0);return c.push(0),l+=y,this._mapLoadToResolve(f,x=>{c[p]=x*y,u()}).then(x=>{a[h]=x})});return await Promise.all(d),n?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Fs.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Fs.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const a={};return n.forEach(o=>{const l=s[o.src],c=[o.src];o.alias&&c.push(...o.alias),c.forEach(u=>{a[u]=l}),Fs.set(c,l)}),a}async unload(e){this._initialized||await this.init();const r=md(e).map(s=>typeof s!="string"?s.src:s),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=md(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(s=>this._unloadFromResolved(r[s]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Fs.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,s)=>r.indexOf(n)===s),r}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Tp=new m4e;so.handleByList(Mr.LoadParser,Tp.loader.parsers).handleByList(Mr.ResolveParser,Tp.resolver.parsers).handleByList(Mr.CacheParser,Tp.cache.parsers).handleByList(Mr.DetectionParser,Tp.detections);so.add(kNe,ENe,PNe,LNe,INe,MNe,ONe,BNe,UNe,KNe,JNe,tJ,f4e,_Ne,CNe,rJ,p4e);const DD={loader:Mr.LoadParser,resolver:Mr.ResolveParser,cache:Mr.CacheParser,detection:Mr.DetectionParser};so.handle(Mr.Asset,t=>{const e=t.ref;Object.entries(DD).filter(([r])=>!!e[r]).forEach(([r,n])=>so.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(DD).filter(r=>!!e[r]).forEach(r=>so.remove(e[r]))});var g4e=`
in vec2 vTextureCoord;
in vec2 vFilterUv;

out vec4 finalColor;

uniform sampler2D uTexture;
uniform sampler2D uMapTexture;

uniform vec4 uInputClamp;
uniform highp vec4 uInputSize;
uniform mat2 uRotation;
uniform vec2 uScale;

void main()
{
    vec4 map = texture(uMapTexture, vFilterUv);
    
    vec2 offset = uInputSize.zw * (uRotation * (map.xy - 0.5)) * uScale; 

    finalColor = texture(uTexture, clamp(vTextureCoord + offset, uInputClamp.xy, uInputClamp.zw));
}
`,x4e=`in vec2 aPosition;
out vec2 vTextureCoord;
out vec2 vFilterUv;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

uniform mat3 uFilterMatrix;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( void )
{
  return ( uFilterMatrix * vec3( filterTextureCoord(), 1.0)  ).xy;
}


void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
    vFilterUv = getFilterCoord();
}
`,FD=`
struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct DisplacementUniforms {
  uFilterMatrix:mat3x3<f32>,
  uScale:vec2<f32>,
  uRotation:mat2x2<f32>
};



@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : DisplacementUniforms;
@group(1) @binding(1) var uMapTexture: texture_2d<f32>;
@group(1) @binding(2) var uMapSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{

  
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var map = textureSample(uMapTexture, uMapSampler, filterUv);

    var offset =  gfu.uInputSize.zw * (filterUniforms.uRotation * (map.xy - 0.5)) * filterUniforms.uScale; 
   
    return textureSample(uTexture, uSampler, clamp(uv + offset, gfu.uInputClamp.xy, gfu.uInputClamp.zw));
}`;class y4e extends Gje{constructor(...e){let r=e[0];r instanceof Ao&&(e[1]&&mn(ss,"DisplacementFilter now uses options object instead of params. {sprite, scale}"),r={sprite:r,scale:e[1]});const{sprite:n,scale:s,...a}=r;let o=s??20;typeof o=="number"&&(o=new ro(o,o));const l=new kM({uFilterMatrix:{value:new yn,type:"mat3x3<f32>"},uScale:{value:o,type:"vec2<f32>"},uRotation:{value:new Float32Array([0,0,0,0]),type:"mat2x2<f32>"}}),c=rC.from({vertex:x4e,fragment:g4e,name:"displacement-filter"}),u=ov.from({vertex:{source:FD,entryPoint:"mainVertex"},fragment:{source:FD,entryPoint:"mainFragment"}}),d=n.texture.source;super({...a,gpuProgram:u,glProgram:c,resources:{filterUniforms:l,uMapTexture:d,uMapSampler:d.style}}),this._sprite=r.sprite,this._sprite.renderable=!1}apply(e,r,n,s){const a=this.resources.filterUniforms.uniforms;e.calculateSpriteMatrix(a.uFilterMatrix,this._sprite);const o=this._sprite.worldTransform,l=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);l!==0&&c!==0&&(a.uRotation[0]=o.a/l,a.uRotation[1]=o.b/l,a.uRotation[2]=o.c/c,a.uRotation[3]=o.d/c),this.resources.uMapTexture=this._sprite.texture.source,e.applyFilter(this,r,n,s)}get scale(){return this.resources.filterUniforms.uniforms.uScale}}class m2 extends XZ{constructor(e){e instanceof au&&(e={context:e});const{context:r,roundPixels:n,...s}=e||{};super({label:"Graphics",...s}),this.renderPipeId="graphics",r?this._context=r:this._context=this._ownedContext=new au,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=n??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,r){return this.context[e](...r),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new m2(this._context.clone()):(this._ownedContext=null,new m2(this._context))}lineStyle(e,r,n){mn(ss,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const s={};return e&&(s.width=e),r&&(s.color=r),n&&(s.alpha=n),this.context.strokeStyle=s,this}beginFill(e,r){mn(ss,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const n={};return e!==void 0&&(n.color=e),r!==void 0&&(n.alpha=r),this.context.fillStyle=n,this}endFill(){mn(ss,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==au.defaultStrokeStyle.width||e.color!==au.defaultStrokeStyle.color||e.alpha!==au.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return mn(ss,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return mn(ss,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return mn(ss,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return mn(ss,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return mn(ss,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return mn(ss,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}so.add(jwe,Swe);async function v4e(t,e){try{const r=new Image;if(r.crossOrigin="anonymous",r.decoding="async",r.src=t,await new Promise((u,d)=>{r.onload=()=>u(),r.onerror=h=>d(h)}),!r.width||!r.height)throw new Error("Invalid garment image dimensions");const n=document.createElement("canvas");n.width=r.width,n.height=r.height;const s=n.getContext("2d");if(!s)throw new Error("Could not get 2D context");try{s.drawImage(r,0,0)}catch{return rk(r.width,r.height)}const a=s.getImageData(0,0,n.width,n.height),o=a.data;for(let u=0;u<o.length;u+=4){const d=o[u],h=o[u+1],p=o[u+2],f=o[u+3];let m=.299*d+.587*h+.114*p;m=128+(m-128)*e,m=Math.max(0,Math.min(255,m)),o[u]=m,o[u+1]=m,o[u+2]=m,o[u+3]=f}s.putImageData(a,0,0);let l;try{l=n.toDataURL("image/png")}catch{return rk(n.width,n.height)}return Sn.from(l)}catch{return rk(512,512)}}function rk(t,e){const r=document.createElement("canvas");r.width=t,r.height=e;const n=r.getContext("2d");return n.fillStyle="rgb(128,128,128)",n.fillRect(0,0,t,e),Sn.from(r.toDataURL("image/png"))}const nJ=({mockupImageUrl:t,activePlaceholder:e,placeholders:r,physicalWidth:n,physicalHeight:s,settings:a,onSettingsChange:o,onDesignUpload:l,designUrlsByPlaceholder:c={},onDesignTransformChange:u,getDesignTransform:d,getDesignBounds:h,onSelectPlaceholder:p,previewMode:f=!1,garmentTintHex:m,canvasElements:g=[],currentView:y="front",canvasPadding:x=40,PX_PER_INCH:w=72,enableGarmentTint:S=!1})=>{const N=b.useRef(null),C=b.useRef(null),[A,k]=b.useState(!1),[E,T]=b.useState({});Object.keys(c).length>0;const[R,I]=b.useState(null),[L,U]=b.useState(0),$=800,q=600,G=40,W=b.useRef({garmentSprite:null,designSprite:null,displacementSprite:null,displacementFilter:null,mask:null,designContainer:null,placeholderDesignLayer:null,canvasElementsLayer:null,placeholderContainer:null,pxPerInch:1,canvasElementSprites:new Map}),B=!0,[O,K]=b.useState(0),Y=b.useRef(null),D=ae=>{if(!ae||typeof ae!="string")return null;const ne=ae.trim().replace("#","");if(ne.length!==6)return null;const se=Number.parseInt(ne,16);return Number.isNaN(se)?null:se},Z=ae=>{const ne=ae.trim().replace("#",""),se=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(ne);return se?{r:Number.parseInt(se[1],16),g:Number.parseInt(se[2],16),b:Number.parseInt(se[3],16)}:{r:0,g:0,b:0}},ie=ae=>{if(!ae||typeof ae!="string")return!1;try{const ne=Z(ae);return(.2126*ne.r+.7152*ne.g+.0722*ne.b)/255<.5}catch{return!1}},he=.92,J=(ae,ne)=>ne?ae&&ie(ae)?"screen":"multiply":"normal";return b.useEffect(()=>{if(!N.current||C.current)return;const ae=new kQ,ne=document.createElement("canvas"),se=ne.getContext("webgl2",{preserveDrawingBuffer:!0});return ae.init({width:$,height:q,backgroundAlpha:0,preference:"webgl",view:ne,context:se||void 0}).then(()=>{N.current&&N.current.appendChild(ae.canvas),C.current=ae,k(!0)}).catch(Q=>{console.error("Failed to initialize WebGL preview:",Q)}),()=>{C.current&&(C.current.destroy({removeView:!0},{children:!0,texture:!0,textureSource:!0}),C.current=null,k(!1))}},[]),b.useEffect(()=>{if(!A||!C.current)return;const ae=t&&typeof t=="string"&&t.trim()!=="",ne=Y.current!==null;if(!ae){ne&&C.current?(console.warn("RealisticWebGLPreview: mockupImageUrl became invalid, clearing scene"),C.current.stage.removeChildren(),W.current.garmentSprite=null,W.current.designSprite=null,W.current.displacementSprite=null,W.current.displacementFilter=null,W.current.mask=null,W.current.designContainer=null,W.current.placeholderContainer=null,Y.current=null):console.warn("RealisticWebGLPreview: No valid mockupImageUrl provided (waiting):",t);return}if(Y.current===t&&W.current.garmentSprite)return;let se=!1;const Q=C.current,re=t;return(async()=>{try{console.log("RealisticWebGLPreview: Loading mockup image:",re);const ve=new Image;if(ve.crossOrigin="anonymous",await new Promise((We,Ge)=>{const ze=setTimeout(()=>{Ge(new Error(`Image load timeout: ${re}`))},1e4);ve.onload=()=>{clearTimeout(ze),console.log("RealisticWebGLPreview: Image loaded successfully:",re,ve.width,"x",ve.height),We()},ve.onerror=ot=>{clearTimeout(ze),console.error("RealisticWebGLPreview: Failed to load mockup image:",re,ot),Ge(new Error(`Failed to load image: ${re}`))},ve.src=re}),se)return;if(Y.current&&Y.current!==re)try{await Tp.unload(Y.current),console.log("RealisticWebGLPreview: Unloaded previous texture:",Y.current)}catch(We){console.warn("RealisticWebGLPreview: Failed to unload previous texture:",We)}console.log("RealisticWebGLPreview: Loading texture via PixiJS Assets...");const fe=await Tp.load(t);if(se)return;console.log("RealisticWebGLPreview: Texture loaded:",fe.width,"x",fe.height);const X=C.current;if(!X||X!==Q)return;if(!fe||fe.width===0||fe.height===0){console.error("Invalid texture dimensions:",fe);return}if(X.stage.removeChildren(),W.current.displacementFilter=null,W.current.displacementSprite){try{W.current.displacementSprite.destroy()}catch{}W.current.displacementSprite=null}const ce=new Ao(fe),Pe=$,ke=q,oe=Pe-G*2,Oe=ke-G*2,Ie=fe.width/fe.height;let He=oe,nt=He/Ie;if(nt>Oe&&(nt=Oe,He=Oe*Ie),ce.width=He,ce.height=nt,ce.x=G+(oe-He)/2,ce.y=G+(Oe-nt)/2,S&&m){const We=D(m);We!==null&&(ce.tint=We)}else ce.tint=16777215;const ft=new dc;ft.eventMode="static",ft.hitArea=new Ra(0,0,$,q),ft.on("pointerdown",We=>{We.target===ft&&p&&p(null)}),ft.addChild(ce),X.stage.addChild(ft);let Fe=1;if(n&&s&&n>0&&s>0){const We=oe/n,Ge=Oe/s;Fe=Math.min(We,Ge)}W.current.garmentSprite=ce,W.current.designSprite=null,W.current.displacementSprite=null,W.current.displacementFilter=null,W.current.mask=null;const Ae=new dc;Ae.sortableChildren=!0;const it=new dc;it.sortableChildren=!0,it.zIndex=0;const Ee=new dc;Ee.sortableChildren=!0,Ee.zIndex=1,Ae.addChild(it),Ae.addChild(Ee);const Re=new dc;X.stage.addChild(Ae),X.stage.addChild(Re),W.current.designContainer=Ae,W.current.placeholderDesignLayer=it,W.current.canvasElementsLayer=Ee,W.current.placeholderContainer=Re,W.current.pxPerInch=Fe,Y.current=re,K(We=>We+1),B&&console.log("[RealisticWebGLPreview] Garment loaded, containers ready:",{currentView:y,garmentTintHex:m,mockupUrl:re==null?void 0:re.slice(-20)})}catch(ve){console.error("Error loading garment texture:",ve),C.current&&C.current===Q&&(C.current.stage.removeChildren(),W.current.garmentSprite=null,W.current.designSprite=null,W.current.displacementSprite=null,W.current.displacementFilter=null,W.current.mask=null,W.current.designContainer=null,W.current.placeholderDesignLayer=null,W.current.canvasElementsLayer=null,W.current.placeholderContainer=null)}})(),()=>{se=!0}},[A,t,n,s]),b.useEffect(()=>{if(!A||!W.current.garmentSprite)return;const ae=W.current.garmentSprite;if(S&&m){const ne=D(m);ne!==null&&(ae.tint=ne)}else ae.tint=16777215},[S,m,A]),b.useEffect(()=>{if(!A||!C.current||!t)return;const ae=C.current;let ne=!1;return(async()=>{try{if(!t||typeof t!="string"||t.trim()===""){console.error("Invalid mockupImageUrl for displacement map:",t);return}const Q=await v4e(t,a.contrastBoost);if(ne)return;const re=W.current.garmentSprite;if(!re)return;(()=>{W.current.placeholderDesignLayer&&W.current.placeholderDesignLayer.children.forEach(ce=>{ce&&ce instanceof Ao&&ce.filters&&(ce.filters=null)}),W.current.canvasElementsLayer&&W.current.canvasElementsLayer.children.forEach(ce=>{ce&&ce instanceof Ao&&ce.filters&&(ce.filters=null)})})(),W.current.displacementSprite&&W.current.displacementSprite.destroy();const ve=new Ao(Q);ve.width=re.width,ve.height=re.height,ve.x=re.x,ve.y=re.y,ve.visible=!1,ve.alpha=0,ae.stage.addChild(ve);const fe=new y4e({sprite:ve,scale:{x:a.scaleX,y:a.scaleY}});W.current.displacementSprite=ve,W.current.displacementFilter=fe,(ce=>{W.current.placeholderDesignLayer&&W.current.placeholderDesignLayer.children.forEach(Pe=>{Pe&&Pe instanceof Ao&&Pe!==ve&&(Pe.filters=[ce])}),W.current.canvasElementsLayer&&W.current.canvasElementsLayer.children.forEach(Pe=>{Pe&&Pe instanceof Ao&&(Pe.filters=[ce])})})(fe),U(ce=>ce+1)}catch(Q){console.error("Error generating displacement map:",Q)}})(),()=>{ne=!0}},[A,t,a.contrastBoost,a.scaleX,a.scaleY]),b.useEffect(()=>{const ae=W.current.displacementFilter;if(!ae)return;(()=>{W.current.placeholderDesignLayer&&W.current.placeholderDesignLayer.children.forEach(se=>{se&&se instanceof Ao&&se!==W.current.displacementSprite&&(se.filters=[ae])}),W.current.canvasElementsLayer&&W.current.canvasElementsLayer.children.forEach(se=>{se&&se instanceof Ao&&(se.filters=[ae])})})()},[L]),b.useEffect(()=>{const ae=W.current.displacementFilter;ae&&ae.scale&&(typeof ae.scale.set=="function"?ae.scale.set(a.scaleX,a.scaleY):(ae.scale.x=a.scaleX,ae.scale.y=a.scaleY))},[a.scaleX,a.scaleY]),b.useEffect(()=>{if(!A||!C.current||!W.current.placeholderContainer||!W.current.garmentSprite){console.log("RealisticWebGLPreview: Skipping placeholder render - not ready",{appReady:A,hasApp:!!C.current,hasContainer:!!W.current.placeholderContainer,hasGarment:!!W.current.garmentSprite});return}const ae=W.current.placeholderContainer;if(ae.removeChildren(),f){console.log("RealisticWebGLPreview: Preview mode active - hiding placeholders");return}console.log("RealisticWebGLPreview: Rendering placeholders",{count:r.length,previewMode:f,placeholders:r.map(se=>({id:se.id,xIn:se.xIn,yIn:se.yIn}))});const ne=W.current.pxPerInch||1;if(r.length===0){console.log("RealisticWebGLPreview: No placeholders to render");return}r.forEach(se=>{const Q=e&&e.id===se.id,re=new m2,le=se.shapeType==="polygon"&&se.polygonPoints&&se.polygonPoints.length>=3;let ve,fe,X,ce,Pe=null;const ke=16502760,oe=.2,Oe=Q?14362487:16020150,Ie=1,He=1;if(le){Pe=se.polygonPoints.map(it=>({x:G+it.xIn*ne,y:G+it.yIn*ne})),re.beginPath();const[nt,...ft]=Pe;re.moveTo(nt.x,nt.y),ft.forEach(it=>re.lineTo(it.x,it.y)),re.closePath(),re.fill({color:ke,alpha:oe}),re.stroke({color:Oe,width:Ie,alpha:He});const Fe=Pe.map(it=>it.x),Ae=Pe.map(it=>it.y);ve=Math.min(...Fe),fe=Math.min(...Ae),X=Math.max(...Fe)-ve,ce=Math.max(...Ae)-fe}else ve=G+se.xIn*ne,fe=G+se.yIn*ne,X=se.widthIn*ne,ce=se.heightIn*ne,re.rect(ve,fe,X,ce),re.fill({color:ke,alpha:oe}),re.stroke({color:Oe,width:Ie,alpha:He});re.eventMode="static",re.cursor="pointer",re.on("pointerdown",nt=>{nt.stopPropagation(),console.log("Clicked placeholder:",se.id),p&&p(se.id)}),ae.addChild(re)})},[A,r,e,p,f]),b.useEffect(()=>{if(!A||!C.current||!t||!W.current.garmentSprite||!W.current.placeholderDesignLayer)return;let ae=!1;return(async()=>{var le;const se=W.current.placeholderDesignLayer;se.removeChildren(),console.log("[RealisticWebGLPreview] Loading placeholder designs:",{currentView:y,garmentTintHex:m,placeholdersCount:r.length});const Q=W.current.pxPerInch||1;I(null);const re=Object.keys(c).length>0?c:E;for(const ve of r){if(ae)return;const fe=re[ve.id];if(!fe)continue;const X=await Tp.load(fe);if(ae)return;const ce=new Ao(X),Pe=ve.shapeType==="polygon"&&ve.polygonPoints&&ve.polygonPoints.length>=3;let ke,oe,Oe,Ie,He=null;if(Pe){He=ve.polygonPoints.map(lt=>({x:G+lt.xIn*Q,y:G+lt.yIn*Q}));const Ee=He.map(lt=>lt.x),Re=He.map(lt=>lt.y),We=Math.min(...Ee),Ge=Math.max(...Ee),ze=Math.min(...Re),ot=Math.max(...Re);ke=We,oe=ze,Oe=Ge-We,Ie=ot-ze}else ke=G+ve.xIn*Q,oe=G+ve.yIn*Q,Oe=ve.widthIn*Q,Ie=ve.heightIn*Q;const nt=Math.min(Oe/X.width,Ie/X.height);ce.scale.set(nt),ce.anchor.set(.5),ce.x=ke+Oe/2,ce.y=oe+Ie/2;const ft=!!W.current.garmentSprite,Fe=J(m,ft);ce.blendMode=Fe,ce.alpha=ft?he:1;const Ae=new m2;if(Pe&&He&&He.length>=3){const[Ee,...Re]=He;Ae.moveTo(Ee.x,Ee.y);for(const We of Re)Ae.lineTo(We.x,We.y);Ae.closePath(),Ae.fill({color:16777215})}else Ae.rect(ke,oe,Oe,Ie),Ae.fill({color:16777215});se.addChild(Ae),se.addChild(ce),ce.mask=Ae,ce.zIndex=0,W.current.displacementFilter&&(ce.filters=[W.current.displacementFilter]);const it=()=>{if(!e||ve.id!==e.id)return;const Ee=X.width*ce.scale.x,Re=X.height*ce.scale.y,We=(ce.x-G-Ee/2)/Q,Ge=(ce.y-G-Re/2)/Q,ze=Ee/Q,ot=Re/Q;I({xIn:We,yIn:Ge,widthIn:ze,heightIn:ot})};if(it(),f)ce.eventMode="none",ce.cursor="default";else{ce.eventMode="static",ce.cursor="move";let Ee=!1,Re=0,We=0;const Ge=(ze,ot,lt)=>{const yt=X.width*lt/2,Pt=X.height*lt/2,ct=ke+yt,zt=ke+Oe-yt,jt=oe+Pt,At=oe+Ie-Pt,Ht=Math.min(zt,Math.max(ct,ze)),Vt=Math.min(At,Math.max(jt,ot));return{x:Ht,y:Vt}};ce.on("pointerdown",ze=>{Ee=!0;const ot=ze.global;Re=ot.x-ce.x,We=ot.y-ce.y,p&&p(ve.id),ze.stopPropagation()}),ce.on("pointerup",()=>{Ee=!1}),ce.on("pointerupoutside",()=>{Ee=!1}),ce.on("pointermove",ze=>{if(!Ee)return;const ot=ze.global,lt=ot.x-Re,yt=ot.y-We,{x:Pt,y:ct}=Ge(lt,yt,ce.scale.x);ce.x=Pt,ce.y=ct,it()}),ce.on("wheel",ze=>{const ot=ze.deltaY;if(!ot)return;const lt=1-ot*.001;let Pt=ce.scale.x*lt;Pt=Math.max(.1,Math.min(3,Pt));const{x:jt,y:At}=Ge(ce.x,ce.y,Pt);ce.scale.set(Pt),ce.x=jt,ce.y=At,it()})}}se.children.sort((ve,fe)=>{const X=ve.zIndex||0,ce=fe.zIndex||0;return X-ce}),console.log("[RealisticWebGLPreview] Placeholder designs loaded:",{currentView:y,garmentTintHex:m,placeholderDesignLayerSprites:se.children.length,canvasElementsLayerSprites:((le=W.current.canvasElementsLayer)==null?void 0:le.children.length)||0})})(),()=>{ae=!0}},[A,c,r,t,e,L,p,f,m,y]),b.useEffect(()=>{if(!A)return;const ae=ne=>{if(f){ne.eventMode="none";try{ne.cursor="default"}catch{}typeof ne.removeAllListeners=="function"&&ne.removeAllListeners()}else{ne.eventMode="static";try{ne.cursor="move"}catch{}}};W.current.placeholderDesignLayer&&W.current.placeholderDesignLayer.children.forEach(ae)},[f,A]),b.useEffect(()=>{if(console.log("[RealisticWebGLPreview] Canvas elements effect triggered:",{currentView:y,garmentTintHex:m,containersReady:O,appReady:A,hasApp:!!C.current,mockupImageUrl:t==null?void 0:t.slice(-20),hasGarmentSprite:!!W.current.garmentSprite,hasCanvasElementsLayer:!!W.current.canvasElementsLayer,totalCanvasElements:g.length,canvasElementsByView:g.reduce((se,Q)=>{const re=Q.view||"no-view";return se[re]=(se[re]||0)+1,se},{})}),!A||!C.current||!t||!W.current.garmentSprite||!W.current.canvasElementsLayer){console.log("[RealisticWebGLPreview] Canvas elements effect: early return - containers not ready");return}let ae=!1;return(async()=>{var X;const se=(y==null?void 0:y.toLowerCase())||"",Q=g.filter(ce=>{var ke;if(ce.type!=="image"||!ce.imageUrl||ce.visible===!1)return!1;const Pe=((ke=ce.view)==null?void 0:ke.toLowerCase())||"";return!ce.view||Pe===se}),re=W.current.canvasElementsLayer,le=W.current.canvasElementSprites;console.log("[RealisticWebGLPreview] Loading canvas elements:",{currentView:y,normalizedCurrentView:se,garmentTintHex:m,totalElements:g.length,filteredElements:Q.length});const ve=new Set(Q.map(ce=>ce.id));for(const[ce,Pe]of le.entries())if(!ve.has(ce))try{re.removeChild(Pe),Pe.destroy(),le.delete(ce)}catch{}if(!(Q.length===0||!W.current.garmentSprite)){for(const ce of Q){if(ae)return;if(ce.imageUrl){if(le.has(ce.id)){const Pe=le.get(ce.id);(Pe.anchor.x!==.5||Pe.anchor.y!==.5)&&Pe.anchor.set(.5,.5),ce.width&&ce.height&&(Pe.width=ce.width,Pe.height=ce.height);const ke=Pe.width,oe=Pe.height;Pe.x=ce.x+ke/2,Pe.y=ce.y+oe/2,ce.rotation!==void 0&&(Pe.rotation=ce.rotation*Math.PI/180),Pe.alpha=ce.opacity!==void 0?ce.opacity:1,ce.flipX?Pe.scale.x=Math.abs(Pe.scale.x)*-1:Pe.scale.x=Math.abs(Pe.scale.x),ce.flipY?Pe.scale.y=Math.abs(Pe.scale.y)*-1:Pe.scale.y=Math.abs(Pe.scale.y);continue}try{const Pe=await Tp.load(ce.imageUrl);if(ae)return;const ke=new Ao(Pe);ce.width&&ce.height?(ke.width=ce.width,ke.height=ce.height):Pe.width&&Pe.height&&(ke.width=Pe.width,ke.height=Pe.height),ke.anchor.set(.5,.5);const oe=ke.width,Oe=ke.height;ke.x=ce.x+oe/2,ke.y=ce.y+Oe/2,ce.rotation!==void 0&&(ke.rotation=ce.rotation*Math.PI/180),ce.flipX?ke.scale.x=-Math.abs(ke.scale.x):ke.scale.x=Math.abs(ke.scale.x),ce.flipY?ke.scale.y=-Math.abs(ke.scale.y):ke.scale.y=Math.abs(ke.scale.y);const Ie=!!W.current.garmentSprite;if(ce.blendMode)ke.blendMode=ce.blendMode,ke.alpha=ce.opacity!==void 0?ce.opacity:1;else{const He=J(m,Ie);ke.blendMode=He,ke.alpha=Ie?ce.opacity!==void 0?ce.opacity*he:he:ce.opacity!==void 0?ce.opacity:1}W.current.displacementFilter&&(ke.filters=[W.current.displacementFilter]),ke.zIndex=(ce.zIndex||0)+1e3,le.set(ce.id,ke),re.addChild(ke)}catch(Pe){ae||console.error(`Failed to load canvas element image: ${ce.imageUrl}`,Pe)}}}re.children.sort((ce,Pe)=>{const ke=ce.zIndex||0,oe=Pe.zIndex||0;return ke-oe}),console.log("[RealisticWebGLPreview] Canvas elements loaded:",{currentView:y,garmentTintHex:m,placeholderDesignLayerSprites:((X=W.current.placeholderDesignLayer)==null?void 0:X.children.length)||0,canvasElementsLayerSprites:re.children.length})}})(),()=>{if(ae=!0,W.current.canvasElementsLayer&&W.current.canvasElementSprites){const se=W.current.canvasElementsLayer,Q=W.current.canvasElementSprites;for(const[re,le]of Q.entries())try{se.removeChild(le),le.destroy()}catch{}Q.clear()}}},[A,t,g,y,m,L,O]),b.useEffect(()=>{if(u&&e){const ae=e.id,ne=W.current.designSprite;if(ne){const se=W.current.pxPerInch||1,Q=ne.width*ne.scale.x,re=ne.height*ne.scale.y,le=(ne.x-G-Q/2)/se,ve=(ne.y-G-re/2)/se,fe=ne.scale.x;u(ae,{x:le,y:ve,scale:fe})}}},[e,u,R]),i.jsx("div",{ref:N,style:{width:$,height:q}})},b4e=({onFileUpload:t,onUploadClick:e,imagePreview:r,onImageClick:n,selectedPlaceholderId:s,placeholders:a})=>i.jsxs("div",{className:"p-4 space-y-4",children:[a.length>1&&i.jsxs("div",{className:"p-3 bg-muted rounded-lg border",children:[i.jsx(je,{className:"text-xs font-semibold text-foreground mb-1 block",children:s?`Placeholder Selected: ${s.slice(0,8)}...`:"Select a placeholder on canvas first"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:s?"Click an image below to add it to the selected placeholder":"Click a placeholder on the canvas, then select an image"})]}),i.jsx(je,{className:"text-xs font-semibold uppercase text-muted-foreground mb-2 block",children:"Upload Image"}),i.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:t,className:"hidden",id:"file-upload"}),i.jsxs(pe,{variant:"default",className:"w-full justify-start gap-2",onClick:e,children:[i.jsx(ll,{className:"w-4 h-4"}),"Choose Files (Multiple)"]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.jsx("p",{children:"Supported formats: PNG, JPG, SVG"}),i.jsx("p",{children:"Max size: 100MB per file"}),i.jsx("p",{children:"Select multiple files at once"})]}),r&&r.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsxs(je,{className:"text-xs font-semibold uppercase text-muted-foreground mb-2 block",children:["Uploaded Images (",r.length,")"]}),i.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[400px] overflow-y-auto",children:r.map((o,l)=>i.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden border-2 border-border hover:border-primary cursor-pointer transition-colors group",onClick:()=>n(o),title:"Click to add to canvas",children:[i.jsx("img",{src:o,alt:`Uploaded Image ${l+1}`,className:"w-full h-full object-contain"}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to Add"})})]},l))})]})]}),w4e=()=>{var Ic,vl,uo,Eu,$f,zf,Mc,zd,va,Oc;const{id:t}=Do(),e=rs(),{user:r}=Ba(),n=b.useRef(null),s=b.useRef(null),a=b.useRef(null),[o,l]=b.useState([]),[c,u]=b.useState([]),[d,h]=b.useState(100),[p,f]=b.useState({x:0,y:0}),[m,g]=b.useState({width:800,height:1e3}),[y,x]=b.useState("select"),[w,S]=b.useState(""),[N,C]=b.useState("Arial"),[A,k]=b.useState(24),[E,T]=b.useState("#000000"),[R,I]=b.useState(!0),[L,U]=b.useState(!0),[$,q]=b.useState([]),[G,W]=b.useState(null),[B,O]=b.useState("product"),K=b.useRef(null);b.useEffect(()=>{K.current=G,console.log("selectedPlaceholderId updated:",G)},[G]);const[Y,D]=b.useState([]),[Z,ie]=b.useState(-1),he=50,[J,ae]=b.useState("front"),[ne,se]=b.useState(!1),[Q,re]=b.useState(!1),[le,ve]=b.useState(!1),[fe,X]=b.useState(null),ce=b.useRef(!1),[Pe,ke]=b.useState(!1);b.useEffect(()=>{ce.current=le},[le]),b.useCallback(async()=>{try{if(!t)return;const Se=localStorage.getItem("token"),De=await fetch(`${Fq}/api/auth/me/previews/${t}`,{method:"GET",headers:{"Content-Type":"application/json",...Se?{Authorization:`Bearer ${Se}`}:{}},credentials:"include"}),Le=await De.json().catch(()=>({}));if(De.ok&&(Le!=null&&Le.success)){const Xe=Le.data||{};Qt(Xe)}}catch(Se){console.error("Failed to fetch user preview images:",Se)}},[t]);const[oe,Oe]=b.useState({}),Ie=b.useCallback(Se=>oe[Se]||{},[oe]),He=b.useCallback(Se=>{const De=Ie(Se),Le=Object.keys(De).sort();return Le.length===0?"no-designs":Le.map(Xe=>{var kt;return`${Xe.slice(0,4)}-${((kt=De[Xe])==null?void 0:kt.slice(-10))||""}`}).join("_")},[Ie]),nt=b.useCallback((Se,De,Le)=>{Oe(Xe=>({...Xe,[Se]:{...Xe[Se]||{},[De]:Le}})),ke(!0),qt(Xe=>new Set([...Xe,Se])),console.log("Design changed for view, marking dirty:",Se)},[]),ft=b.useCallback((Se,De)=>{Oe(Le=>{const kt={...Le[Se]||{}};return delete kt[De],{...Le,[Se]:kt}}),ke(!0)},[]),[Fe,Ae]=b.useState(null),[it,Ee]=b.useState(!0),[Re,We]=b.useState({}),[Ge,ze]=b.useState({});Re[J],Ge[J];const[ot,lt]=b.useState([]),[yt,Pt]=b.useState([]),[ct,zt]=b.useState({}),[jt,At]=b.useState(!1),[Ht,Vt]=b.useState({scaleX:20,scaleY:20,contrastBoost:1.5}),[It,Qt]=b.useState({}),[Ut,Zt]=b.useState({}),[Te,vt]=b.useState(new Set),[Ct,qt]=b.useState(new Set),Nr=b.useCallback(Se=>{const De=fe||"no-color",Le=He(Se),Xe=o.filter(Jt=>Jt.view===Se||!Jt.view),kt=Xe.length>0?Xe.map(Jt=>{var ar;return`${Jt.id}-${Jt.type}-${((ar=Jt.imageUrl)==null?void 0:ar.slice(-10))||""}`}).join("|"):"no-elements",cr=`${Le}|${kt}`,pr=`${Ht.scaleX}|${Ht.scaleY}|${Ht.contrastBoost}`;return`${Se}|${De}|${cr}|${pr}`},[fe,He,o,Ht]),Or=b.useCallback(Se=>{Vt(Se),ke(!0),qt(De=>new Set([...De,J]))},[J]);b.useEffect(()=>{var Se;if((Se=Fe==null?void 0:Fe.design)!=null&&Se.views){const De=Fe.design.views.map(Le=>Le.key);vt(new Set(De)),console.log("[DesignEditor] Global color changed:",{primaryColorHex:fe,currentView:J,allViewKeys:De,elementsCount:o.length,elementsByView:{front:o.filter(Le=>Le.view==="front"||!Le.view).length,back:o.filter(Le=>Le.view==="back").length},designUrlsByPlaceholder:Object.keys(oe).reduce((Le,Xe)=>(Le[Xe]=Object.keys(oe[Xe]||{}).length,Le),{})})}},[fe,(Ic=Fe==null?void 0:Fe.design)==null?void 0:Ic.views]);const fr=[{icon:ll,label:"Upload",toolKey:"upload",onClick:()=>{x("upload"),U(!0)}},{icon:OV,label:"Text",toolKey:"text",onClick:()=>{x("text"),U(!0)}},{icon:_p,label:"Shapes",toolKey:"shapes",onClick:()=>{x("shapes"),U(!0)}},{icon:hI,label:"Graphics",toolKey:"graphics",onClick:()=>{x("graphics"),U(!0)}},{icon:pue,label:"Patterns",toolKey:"patterns",onClick:()=>{x("patterns"),U(!0)}},{icon:ca,label:"Logos",toolKey:"logos",onClick:()=>{x("logos"),U(!0)}},{icon:qy,label:"Library",toolKey:"library",onClick:()=>{x("library"),U(!0)}},{icon:oS,label:"Templates",toolKey:"templates",onClick:()=>{x("templates"),U(!0)}}],lr=800,br=600,er=40,bn=lr-er*2,ls=br-er*2;b.useEffect(()=>{g({width:lr,height:br})},[lr,br]);const Qs=b.useCallback((Se,De)=>{const Le=De.find(Xe=>Xe.key===Se);if(Le!=null&&Le.mockupImageUrl){const Xe=new window.Image;Xe.crossOrigin="anonymous",Xe.onload=()=>{We(Vn=>({...Vn,[Se]:Xe}));const kt=Xe.width/Xe.height,cr=bn,pr=ls;let Jt=cr,ar=cr/kt;ar>pr&&(ar=pr,Jt=pr*kt);const Qn=er+(cr-Jt)/2,Jn=er+(pr-ar)/2,ei={width:Jt,height:ar,x:Qn,y:Jn};ze(Vn=>({...Vn,[Se]:ei})),g({width:lr,height:br}),console.log(`Mockup image loaded for ${Se} view:`,{original:{width:Xe.width,height:Xe.height},displayed:ei,canvas:{width:lr,height:br}})},Xe.onerror=()=>{$e.error(`Failed to load mockup image for ${Se} view`),console.error(`Failed to load mockup for ${Se} view`),We(kt=>({...kt,[Se]:null})),ze(kt=>({...kt,[Se]:{width:0,height:0,x:0,y:0}}))},Xe.src=Le.mockupImageUrl}else console.warn(`No mockup image found for ${Se} view`),We(Xe=>({...Xe,[Se]:null})),ze(Xe=>({...Xe,[Se]:{width:0,height:0,x:0,y:0}}))},[bn,ls,er,lr,br]);b.useEffect(()=>{(async()=>{var De,Le,Xe,kt,cr;if(!t){Ee(!1);return}try{Ee(!0);const pr=await Di.getById(t);if(pr&&pr.data){console.log("Fetched product data:",{product:pr.data,design:pr.data.design,views:(De=pr.data.design)==null?void 0:De.views,physicalDimensions:(Le=pr.data.design)==null?void 0:Le.physicalDimensions}),Ae(pr.data);const Jt=((Xe=pr.data.design)==null?void 0:Xe.previewImages)||{};Jt&&typeof Jt=="object"&&Qt(Jt),(kt=pr.data.design)!=null&&kt.views&&Qs(J,pr.data.design.views),(cr=pr.data.design)!=null&&cr.displacementSettings&&Vt(pr.data.design.displacementSettings),ke(!1)}}catch(pr){console.error("Failed to fetch product:",pr),$e.error("Failed to load product data")}finally{Ee(!1)}})()},[t,lr,br,bn,ls,er,Qs]),b.useEffect(()=>{var Se;if((Se=Fe==null?void 0:Fe.design)!=null&&Se.views)if(!Re[J])console.log(`Loading mockup for view: ${J}`),Qs(J,Fe.design.views);else{console.log(`Using existing mockup for view: ${J}`);const Le=Ge[J];Le&&Le.width>0&&g({width:lr,height:br})}},[J,(vl=Fe==null?void 0:Fe.design)==null?void 0:vl.views,Qs,Re,Ge,lr,br]),b.useEffect(()=>{lt([]),Pt([])},[Fe==null?void 0:Fe._id]);const[ya,qi]=b.useState(!1),[za,zo]=b.useState(null),Hn=b.useMemo(()=>{var Se;return(Se=Fe==null?void 0:Fe.design)!=null&&Se.views?Fe.design.views.find(De=>De.key===J):null},[Fe,J]),Uo=20,Ec=24,Ni=b.useMemo(()=>{var cr,pr,Jt,ar;const Se=((pr=(cr=Fe==null?void 0:Fe.design)==null?void 0:cr.physicalDimensions)==null?void 0:pr.width)??Uo,De=((ar=(Jt=Fe==null?void 0:Fe.design)==null?void 0:Jt.physicalDimensions)==null?void 0:ar.height)??Ec;if(!Se||!De||Se<=0||De<=0)return console.warn("Could not determine physical dimensions, using hardcoded fallback PX_PER_INCH"),10;const Le=bn/Se,Xe=ls/De,kt=Math.min(Le,Xe);return console.log("Calculated PX_PER_INCH (DesignEditor):",{physicalWidth:Se,physicalHeight:De,effectiveCanvasWidth:bn,effectiveCanvasHeight:ls,scaleX:Le,scaleY:Xe,pxPerInch:kt}),kt},[(uo=Fe==null?void 0:Fe.design)==null?void 0:uo.physicalDimensions,bn,ls]),oo=b.useCallback(Se=>Se*Ni,[Ni]),Nn=b.useMemo(()=>{if(!(Hn!=null&&Hn.placeholders)||Hn.placeholders.length===0)return console.log("No placeholders found for current view"),[];const Se=Hn.placeholders.map(De=>{var Qn;const Le=De.scale??1,Xe=De.shapeType==="polygon"&&De.polygonPoints&&De.polygonPoints.length>=3,kt=er+oo(De.xIn),cr=er+oo(De.yIn),pr=oo(De.widthIn)*Le,Jt=oo(De.heightIn)*Le,ar=Xe?De.polygonPoints.map(Jn=>[er+oo(Jn.xIn)*Le,er+oo(Jn.yIn)*Le]).flat():void 0;return console.log(`Placeholder ${De.id} conversion (matching CanvasMockup):`,{input:{xIn:De.xIn,yIn:De.yIn,widthIn:De.widthIn,heightIn:De.heightIn,scale:Le,isPolygon:Xe,polygonPointsCount:(Qn=De.polygonPoints)==null?void 0:Qn.length},calculation:{PX_PER_INCH:Ni,canvasPadding:er,formula:`${er} + (${De.xIn} * ${Ni})`},output:{x:kt,y:cr,width:pr,height:Jt,rotation:De.rotationDeg||0,polygonPointsPx:ar}}),{id:De.id,x:kt,y:cr,width:pr,height:Jt,rotation:De.rotationDeg||0,scale:Le,lockSize:De.lockSize||!1,original:De,isPolygon:Xe,polygonPointsPx:ar}});return console.log("All placeholders converted:",Se),Se},[Hn,Ni,oo,er]),Tc=b.useMemo(()=>{if(Nn.length>0){const Se=Nn[0];return{x:Se.x,y:Se.y,width:Se.width,height:Se.height}}return{x:m.width*.1,y:m.height*.15,width:m.width*.8,height:m.height*.6}},[Nn,m]),Bd=b.useMemo(()=>{var Se;return(Se=Fe==null?void 0:Fe.design)!=null&&Se.views?Fe.design.views.map(De=>De.key):[]},[Fe]);b.useEffect(()=>{const Se=setInterval(()=>{lo()},3e4);return()=>clearInterval(Se)},[o]),b.useEffect(()=>{var Se;if(c.length===1&&s.current&&n.current){const De=n.current,Le=c[0],Xe=De.findOne(`#${Le}`);Xe&&(s.current.nodes([Xe]),(Se=s.current.getLayer())==null||Se.batchDraw())}else s.current&&s.current.nodes([])},[c]),b.useEffect(()=>{if(c.length>0&&!le){const Se=o.find(De=>De.id===c[0]);Se&&(Se.type==="image"||Se.type==="text")&&(O("properties"),I(!0))}},[c,le,o]);const lo=b.useCallback(()=>{const Se={elements:JSON.parse(JSON.stringify(o)),timestamp:Date.now()};D(De=>{const Le=De.slice(0,Z+1);return Le.push(Se),Le.length>he&&Le.shift(),Le}),ie(De=>Math.min(De+1,he-1))},[o,Z]),Ul=b.useCallback(()=>{Z>0&&(ie(Se=>Se-1),l(JSON.parse(JSON.stringify(Y[Z-1].elements))))},[Y,Z]),Bi=b.useCallback(()=>{Z<Y.length-1&&(ie(Se=>Se+1),l(JSON.parse(JSON.stringify(Y[Z+1].elements))))},[Y,Z]);b.useEffect(()=>{const Se=De=>{if(De.ctrlKey||De.metaKey)switch(De.key){case"z":De.preventDefault(),De.shiftKey?Bi():Ul();break;case"y":De.preventDefault(),Bi();break;case"c":De.preventDefault(),Wl();break;case"v":De.preventDefault(),Wo();break;case"d":De.preventDefault(),Ln();break;case"a":De.preventDefault(),un();break;case"g":De.preventDefault(),De.shiftKey?ci():Ua();break;case"0":De.preventDefault(),h(100);break;case"1":De.preventDefault(),Go();break;case"=":case"+":De.preventDefault(),h(Le=>Math.min(500,Le+10));break;case"-":De.preventDefault(),h(Le=>Math.max(10,Le-10));break}else De.key==="Delete"||De.key==="Backspace"?ku():De.key.startsWith("Arrow")&&(De.preventDefault(),gn(De.key))};return window.addEventListener("keydown",Se),()=>window.removeEventListener("keydown",Se)},[c,o]);const gl=Se=>{var Le;const De={...Se,id:Math.random().toString(36).substr(2,9),zIndex:o.length,visible:Se.visible!==!1,locked:Se.locked||!1,opacity:Se.opacity??1,rotation:Se.rotation||0};if(l(Xe=>[...Xe,De]),u([De.id]),ke(!0),De.view)qt(Xe=>new Set([...Xe,De.view]));else if((Le=Fe==null?void 0:Fe.design)!=null&&Le.views){const Xe=Fe.design.views.map(kt=>kt.key);qt(kt=>new Set([...kt,...Xe]))}return lo(),De.id},xl=(Se,De)=>{l(Le=>Le.map(kt=>{var cr;if(kt.id===Se){const pr={...kt,...De};if(pr.view)qt(Jt=>new Set([...Jt,pr.view]));else if((cr=Fe==null?void 0:Fe.design)!=null&&cr.views){const Jt=Fe.design.views.map(ar=>ar.key);qt(ar=>new Set([...ar,...Jt]))}return pr}return kt})),ke(!0)},ku=()=>{c.length>0&&(l(Se=>(Se.filter(Le=>c.includes(Le.id)).forEach(Le=>{var Xe;if(Le.view)qt(kt=>new Set([...kt,Le.view]));else if((Xe=Fe==null?void 0:Fe.design)!=null&&Xe.views){const kt=Fe.design.views.map(cr=>cr.key);qt(cr=>new Set([...cr,...kt]))}}),Se.filter(Le=>!c.includes(Le.id)))),u([]),ke(!0),lo())},Wl=()=>{$e.info("Copy functionality")},Wo=()=>{$e.info("Paste functionality")},Ln=()=>{const De=o.filter(Le=>c.includes(Le.id)).map(Le=>({...Le,id:Math.random().toString(36).substr(2,9),x:Le.x+20,y:Le.y+20,zIndex:o.length}));l(Le=>[...Le,...De]),u(De.map(Le=>Le.id)),lo()},un=()=>{u(o.map(Se=>Se.id))},Ua=()=>{c.length>1&&$e.info("Group functionality")},ci=()=>{$e.info("Ungroup functionality")},gn=Se=>{const Le={};Se==="ArrowLeft"&&(Le.x=-1),Se==="ArrowRight"&&(Le.x=1),Se==="ArrowUp"&&(Le.y=-1),Se==="ArrowDown"&&(Le.y=1),c.forEach(Xe=>{const kt=o.find(cr=>cr.id===Xe);kt&&xl(Xe,{x:(kt.x||0)+(Le.x||0),y:(kt.y||0)+(Le.y||0)})})},Go=()=>{h(100),f({x:0,y:0})},Gs=b.useCallback(Se=>{const De=new window.Image;De.crossOrigin="anonymous",De.onload=()=>{let Le=null;const Xe=K.current;console.log("addImageToCanvas - selectedPlaceholderId (from ref):",Xe),console.log("addImageToCanvas - selectedPlaceholderId (from state):",G),console.log("addImageToCanvas - available placeholders:",Nn.map(qn=>qn.id)),Xe&&(Le=Nn.find(qn=>qn.id===Xe)||null,console.log("Found placeholder by selectedPlaceholderId:",Le)),!Le&&Nn.length>0&&(Le=Nn[0],console.log("Using first placeholder as fallback:",Le));const kt=Le||Tc;console.log("Final target area for image:",{x:kt.x,y:kt.y,width:kt.width,height:kt.height,isPlaceholder:!!Le,placeholderId:Le==null?void 0:Le.id});const cr=De.width/De.height,pr=kt.width/kt.height;let Jt,ar;cr>pr?(Jt=kt.width,ar=kt.width/cr):(ar=kt.height,Jt=kt.height*cr),Jt=Math.min(Jt,kt.width),ar=Math.min(ar,kt.height);const Qn=kt.x+(kt.width-Jt)/2,Jn=kt.y+(kt.height-ar)/2,ei=(Le==null?void 0:Le.rotation)||0;console.log("Adding image to placeholder:",{placeholder:kt,imageSize:{width:De.width,height:De.height},finalSize:{width:Jt,height:ar},position:{x:Qn,y:Jn},rotation:ei});const Vn=gl({type:"image",imageUrl:Se,x:Qn,y:Jn,width:Jt,height:ar,rotation:ei,placeholderId:(Le==null?void 0:Le.id)||void 0,view:J});u([Vn]),O("properties"),I(!0),$e.success("Image added to canvas")},De.onerror=()=>{$e.error("Failed to load image")},De.src=Se},[Nn,Tc,gl]),Js=b.useCallback(Se=>{lt(De=>{if(De.includes(Se))return zt(Le=>{const Xe={...Le};return delete Xe[Se],Xe}),De.filter(Le=>Le!==Se);{const Le=De.filter(Xe=>Xe!==Se);return[Se,...Le]}}),ke(!0)},[]),Pu=b.useCallback(Se=>{Pt(De=>De.includes(Se)?De.filter(Le=>Le!==Se):[...De,Se])},[]),Wa=b.useCallback((Se,De)=>{zt(Le=>{const Xe=Le[Se]||[],kt=Xe.includes(De)?Xe.filter(cr=>cr!==De):[...Xe,De];return{...Le,[Se]:kt}})},[]),Hs=Se=>{const De=Se.target.files;if(!De||De.length===0)return;let Le=0;Array.from(De).forEach(Xe=>{const kt=Xe.type==="image/svg+xml"?20971520:104857600;if(Xe.size>kt){$e.error(`${Xe.name} exceeds ${kt/1024/1024}MB limit`);return}const cr=new FileReader;cr.onload=pr=>{var ar;const Jt=(ar=pr.target)==null?void 0:ar.result;q(Qn=>[...Qn,Jt]),Le++,Le===Array.from(De).length&&$e.success(`${De.length} image${De.length>1?"s":""} added to library`)},cr.onerror=()=>{$e.error(`Failed to read ${Xe.name}`)},cr.readAsDataURL(Xe)}),Se.target.value=""},co=(Se,De)=>{if(!Se.trim())return;const Le=K.current?Nn.find(kt=>kt.id===K.current):Nn.length>0?Nn[0]:null,Xe=Le||Tc;gl({type:"text",text:Se,x:Xe.x+Xe.width/2,y:Xe.y+Xe.height/2,fontSize:48,fontFamily:De,fill:"#000000",align:"center",view:J,placeholderId:(Le==null?void 0:Le.id)||void 0}),O("properties"),I(!0),$e.success("Text added")},Ph=Se=>{const De=K.current?Nn.find(kt=>kt.id===K.current):Nn.length>0?Nn[0]:null,Le=De||Tc,Xe=Math.min(100,Math.min(Le.width,Le.height)*.8);gl({type:"shape",shapeType:Se,x:Le.x+Le.width/2-Xe/2,y:Le.y+Le.height/2-Xe/2,width:Xe,height:Xe,fillColor:"#000000",strokeColor:"#000000",strokeWidth:2,view:J,placeholderId:(De==null?void 0:De.id)||void 0})},Ga=async(Se="png")=>{try{if(!a.current){$e.error("Preview is not available to export");return}let De=a.current.querySelector("canvas");if(!De){const kt=a.current.querySelectorAll("div");for(const cr of Array.from(kt))if(De=cr.querySelector("canvas"),De)break}if(!De){$e.error("Could not find preview canvas to export");return}const Le=Se==="png"?"image/png":"image/jpeg",Xe=1;await new Promise(requestAnimationFrame),await new Promise(requestAnimationFrame),De.toBlob(async kt=>{if(!kt){$e.error("Failed to generate image");return}const cr=URL.createObjectURL(kt),pr=document.createElement("a");pr.href=cr,pr.download=`preview.${Se}`,document.body.appendChild(pr),pr.click(),pr.remove(),URL.revokeObjectURL(cr),$e.success(`Preview exported as ${Se.toUpperCase()}`)},Le,Xe)}catch(De){console.error("Error exporting preview image:",De),$e.error("Error exporting preview image")}},$d=b.useCallback(async Se=>{try{if(!a.current)return console.warn("WebGL canvas ref not available"),null;await new Promise(Le=>setTimeout(Le,100));let De=a.current.querySelector("canvas");if(!De){const Le=a.current.querySelectorAll("div");for(const Xe of Array.from(Le))if(De=Xe.querySelector("canvas"),De)break}return De?new Promise(Le=>{De.toBlob(async Xe=>{if(!Xe){console.error("Failed to convert canvas to blob"),Le(null);return}try{const kt=new FormData,cr=Se?`preview-${Se}.png`:"preview.png";kt.append("image",Xe,cr);const pr="http://shelfmerch.in/api",Jt=localStorage.getItem("token"),ar={};Jt&&(ar.Authorization=`Bearer ${Jt}`);const Jn=await(await fetch(`${pr}/api/upload/image`,{method:"POST",headers:ar,body:kt})).json();Jn.success&&Jn.url?(console.log(`Preview image uploaded successfully for ${Se||"current"} view:`,Jn.url),Le(Jn.url)):(console.error("Failed to upload preview image:",Jn.message||"Unknown error"),Le(null))}catch(kt){console.error("Error uploading preview image:",kt),Le(null)}},"image/png",1)}):(console.warn("Canvas element not found in WebGL container"),null)}catch(De){return console.error("Error capturing preview image:",De),null}},[]);b.useCallback(async()=>{var Xe;const Se={},De=((Xe=Fe==null?void 0:Fe.design)==null?void 0:Xe.views)||[];if(De.length===0)return console.warn("No views available to capture"),Se;const Le=J;for(const kt of De){const cr=kt.key;$e.info(`Capturing preview for ${cr} view...`),ae(cr),await new Promise(Jt=>setTimeout(Jt,800)),await new Promise(requestAnimationFrame),await new Promise(requestAnimationFrame);const pr=await $d(cr);pr?(Se[cr]=pr,console.log(`Captured preview for ${cr}:`,pr)):console.warn(`Failed to capture preview for ${cr} view`)}return ae(Le),Se},[(Eu=Fe==null?void 0:Fe.design)==null?void 0:Eu.views,J,$d]),b.useEffect(()=>{if(!le||ya)return;const Se=Nr(J);if(!Ct.has(J))return;qt(Xe=>{const kt=new Set(Xe);return kt.delete(J),kt}),(async()=>{console.log(`Design image change detected for ${J} view, auto-saving preview...`),await new Promise(Xe=>setTimeout(Xe,500)),await new Promise(requestAnimationFrame),await new Promise(requestAnimationFrame),qi(!0);try{const Xe=await $d(J);if(Xe&&(console.log(`Auto-saved preview for ${J}:`,Xe),Zt(kt=>({...kt,[Se]:Xe})),Qt(kt=>({...kt,[J]:Xe})),za))try{const kt=o.filter(cr=>cr.view===J||!cr.view&&J==="front");await La.updateDesignPreview(za,{viewKey:J,previewUrl:Xe,elements:kt,designUrlsByPlaceholder:oe[J]||{}}),console.log(`Preview saved to backend for ${J}`)}catch(kt){console.error("Failed to save preview to backend:",kt)}}catch(Xe){console.error("Error auto-saving preview:",Xe)}finally{qi(!1)}})()},[le,J,Nr,Ct,$d,ya,za,o,oe]);const yl=b.useCallback(async()=>{var Se,De,Le,Xe,kt,cr,pr,Jt,ar,Qn,Jn,ei,Vn,qn;try{if(!r){$e.error("You must be logged in");return}if(!["merchant","superadmin"].includes(r.role)){$e.error("Only merchants or superadmins can publish");return}if(!Fe){$e.error("No product loaded");return}At(!0);const Tn=Fe._id||Fe.id,es=((Se=Fe.catalogue)==null?void 0:Se.basePrice)||0,bl=Fe.galleryImages||[],$i={views:((De=Fe.design)==null?void 0:De.views)||[],designUrlsByPlaceholder:oe,elements:o.map(Xi=>({...Xi})),savedPreviewImages:It,displacementSettings:Ht},zi=[];if(ot.forEach(Xi=>{(ct[Xi]||yt).forEach(Iu=>{zi.push({color:Xi,size:Iu,price:es})})}),zi.length===0&&ot.length>0){$e.error("Please select at least one size for your colors");return}const Tu={catalogProductId:Tn,sellingPrice:es,status:"draft",designData:{elements:o,designUrlsByPlaceholder:oe,views:((Le=Fe.design)==null?void 0:Le.views)||[],savedPreviewImages:It,displacementSettings:Ht,selectedColors:ot,selectedSizes:yt,selectedSizesByColor:ct,primaryColorHex:fe},title:(Xe=Fe==null?void 0:Fe.catalogue)==null?void 0:Xe.name,description:(kt=Fe==null?void 0:Fe.catalogue)==null?void 0:kt.description},Ci=await La.create(Tu);if(!Ci||!Ci.success){$e.error("Failed to create draft: "+((Ci==null?void 0:Ci.message)||"Unknown error"));return}const Gl=((pr=(cr=Ci.data)==null?void 0:cr.storeProduct)==null?void 0:pr._id)||((Jt=Ci.data)==null?void 0:Jt._id);if(!Gl){$e.error("Failed to get draft ID from server response");return}console.log("Draft created with storeProductId:",Gl);const Lc=((ar=Fe.design)==null?void 0:ar.sampleMockups)||[],Yi=Lc.length>0;console.log("Mockup Generation Init:",{hasSampleMockups:Yi,count:Lc.length,selectedColors:ot}),Yi?($e.success("Proceeding to library to select mockups."),e("/mockups-library",{state:{storeProductId:Gl,productId:Tn,baseSellingPrice:es,title:(Qn=Fe==null?void 0:Fe.catalogue)==null?void 0:Qn.name,description:(Jn=Fe==null?void 0:Fe.catalogue)==null?void 0:Jn.description,galleryImages:bl,designData:$i,variants:zi,sampleMockups:Lc,displacementSettings:(ei=Fe.design)==null?void 0:ei.displacementSettings}})):($e.success("Design ready. Continue in Listing editor to finish publishing."),e("/listing-editor",{state:{storeProductId:Gl,productId:Tn,baseSellingPrice:es,title:(Vn=Fe==null?void 0:Fe.catalogue)==null?void 0:Vn.name,description:(qn=Fe==null?void 0:Fe.catalogue)==null?void 0:qn.description,galleryImages:bl,designData:$i,variants:zi}}))}catch(Tn){console.error("Publish error:",Tn),$e.error((Tn==null?void 0:Tn.message)||"Failed to publish")}finally{At(!1)}},[r,Fe,o,J,ot,yt,ct,Nn,Ni,m,er,e,It,oe,Ht]),Bf=async()=>{try{if(!a.current||!t){$e.error("Preview is not available to save");return}let Se=a.current.querySelector("canvas");if(!Se){const De=a.current.querySelectorAll("div");for(const Le of Array.from(De))if(Se=Le.querySelector("canvas"),Se)break}if(!Se){$e.error("Could not find preview canvas to save");return}await new Promise(requestAnimationFrame),await new Promise(requestAnimationFrame),await new Promise((De,Le)=>{Se.toBlob(async Xe=>{if(!Xe){$e.error("Failed to generate image"),Le(new Error("blob null"));return}try{const kt=new FormData;kt.append("image",Xe,`preview-${J}.png`);const cr="http://shelfmerch.in/api",pr=localStorage.getItem("token"),Jt={};pr&&(Jt.Authorization=`Bearer ${pr}`);const ar=await fetch(`${cr}/api/upload/image`,{method:"POST",headers:Jt,body:kt,credentials:"include"}),Qn=await ar.json().catch(()=>({})),Jn=Qn==null?void 0:Qn.url;if(ar.ok&&(Qn!=null&&Qn.success)&&Jn){const ei={...It,[J]:Jn};Qt(ei);const Vn=await fetch(`${cr}/api/auth/me/previews/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",...pr?{Authorization:`Bearer ${pr}`}:{}},credentials:"include",body:JSON.stringify({previews:{[J]:Jn}})}),qn=await Vn.json().catch(()=>({}));if(Vn.ok&&(qn!=null&&qn.success)){$e.success("Preview saved"),ke(!1);const Tn=Nr(J);Zt(bl=>({...bl,[Tn]:Jn}));const es={...It,[J]:Jn};Qt(es),De()}else $e.error("Uploaded image, but failed to save to user previews"),De()}else $e.error("Failed to upload preview image"),De()}catch(kt){console.error("Error saving preview image:",kt),$e.error("Error saving preview image"),De()}},"image/png",1)})}catch(Se){console.error("Save error:",Se),$e.error("Failed to save")}};return i.jsxs("div",{className:"h-screen flex flex-col bg-background overflow-hidden",children:[i.jsxs("div",{className:"h-[60px] border-b flex items-center justify-between px-4 bg-background z-10",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:i.jsx(Ri,{className:"w-5 h-5"})}),i.jsx("div",{className:"w-px h-6 bg-border mx-2"}),i.jsx(pe,{variant:"ghost",size:"icon",onClick:Ul,disabled:Z<=0,children:i.jsx(LV,{className:"w-5 h-5"})}),i.jsx(pe,{variant:"ghost",size:"icon",onClick:Bi,disabled:Z>=Y.length-1,children:i.jsx(TV,{className:"w-5 h-5"})}),i.jsx("div",{className:"w-px h-6 bg-border mx-2"}),i.jsxs(pe,{variant:y==="select"?"default":"ghost",size:"sm",onClick:()=>x("select"),children:[i.jsx(nue,{className:"w-4 h-4 mr-2"}),"Select"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pe,{variant:le?"ghost":"default",size:"sm",onClick:()=>ve(!1),children:"Edit"}),i.jsx(pe,{variant:le?"default":"ghost",size:"sm",onClick:()=>{ve(!0)},children:"Preview"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(pe,{variant:"outline",size:"sm",onClick:Bf,children:[i.jsx(Kb,{className:"w-4 h-4 mr-2"}),"Save"]}),i.jsxs(pe,{variant:"default",size:"sm",onClick:()=>Ga("png"),children:[i.jsx(nf,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[!le&&i.jsx("aside",{className:"w-[80px] border-r flex flex-col",children:i.jsx(ul,{className:"flex-1",children:i.jsx("div",{className:"flex flex-col",children:fr.map(Se=>i.jsx(pe,{variant:y===Se.toolKey?"default":"outline",size:"icon",onClick:Se.onClick,className:"h-16 w-20 rounded-none  border-none",title:Se.label,children:i.jsx(Se.icon,{className:"w-10 h-10"})},Se.label))})})}),!le&&L&&i.jsx("div",{className:"w-[250px] border-r bg-background flex flex-col",children:i.jsxs(ul,{className:"flex-1",children:[y==="upload"&&i.jsx(b4e,{onFileUpload:Hs,onUploadClick:()=>{var Se;return(Se=document.getElementById("file-upload"))==null?void 0:Se.click()},imagePreview:$,onImageClick:Gs,selectedPlaceholderId:G,placeholders:Nn.map(Se=>({id:Se.id,x:Se.x,y:Se.y,width:Se.width,height:Se.height,rotation:Se.rotation}))}),y==="text"&&i.jsx(ywe,{onAddText:(Se,De)=>{S(Se),C(De),co(Se,De)},onClose:()=>U(!1)}),y==="shapes"&&i.jsx(A4e,{onAddShape:Ph,onAddAsset:Gs,selectedPlaceholderId:G,placeholders:Nn}),y==="library"&&i.jsx(E4e,{onAddAsset:Gs,selectedPlaceholderId:G,placeholders:Nn}),y==="graphics"&&i.jsx(k4e,{onAddAsset:Gs,selectedPlaceholderId:G,placeholders:Nn}),y==="patterns"&&i.jsx(T4e,{onAddAsset:Gs,category:"patterns",title:"Patterns",selectedPlaceholderId:G,placeholders:Nn}),y==="logos"&&i.jsx(P4e,{onAddAsset:Gs,selectedPlaceholderId:G,placeholders:Nn}),y==="templates"&&i.jsx(I4e,{})]})}),i.jsx("div",{className:"flex-1 min-h-0 flex flex-col items-center bg-muted/30 relative overflow-y-auto",children:it?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading product..."})]})}):Hn?i.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[i.jsxs("div",{ref:a,className:"relative bg-white shadow-lg",style:{transform:`scale(${d/100})`,transformOrigin:"center"},children:[le&&(()=>{const Se=Nr(J),De=Ut[Se],Le=Te.has(J),Xe=Ct.has(J);return!Le&&!Xe&&De?i.jsx("img",{src:De,alt:"Cached preview",className:"block max-w-full max-h-full",style:{display:"block",width:"100%",height:"100%",objectFit:"contain"}}):null})(),i.jsx(nJ,{mockupImageUrl:Hn!=null&&Hn.mockupImageUrl&&typeof Hn.mockupImageUrl=="string"&&Hn.mockupImageUrl.trim()!==""?Hn.mockupImageUrl:null,activePlaceholder:($f=Hn.placeholders)!=null&&$f.find(Se=>Se.id===G)?{...Hn.placeholders.find(Se=>Se.id===G),rotationDeg:((zf=Hn.placeholders.find(Se=>Se.id===G))==null?void 0:zf.rotationDeg)??0}:null,placeholders:(Hn.placeholders||[]).map(Se=>({...Se,rotationDeg:Se.rotationDeg??0})),physicalWidth:((zd=(Mc=Fe==null?void 0:Fe.design)==null?void 0:Mc.physicalDimensions)==null?void 0:zd.width)??Uo,physicalHeight:((Oc=(va=Fe==null?void 0:Fe.design)==null?void 0:va.physicalDimensions)==null?void 0:Oc.height)??Ec,settings:Ht,onSettingsChange:Or,onDesignUpload:(Se,De)=>{nt(J,Se,De)},designUrlsByPlaceholder:Ie(J),onSelectPlaceholder:Se=>{Se?(console.log("Placeholder selected via WebGL:",Se),W(Se),K.current=Se,$e.info(`Placeholder ${Se.slice(0,8)}... selected`)):(W(null),K.current=null)},previewMode:le,garmentTintHex:fe,enableGarmentTint:!0,canvasElements:o,currentView:J,canvasPadding:er,PX_PER_INCH:Ni},`preview-${J}-${Hn!=null&&Hn.mockupImageUrl?Hn.mockupImageUrl.slice(-20):"no-mockup"}-${He(J)}`),!le&&i.jsx("div",{className:"absolute inset-0 pointer-events-auto",children:i.jsxs(bM,{ref:n,width:m.width,height:m.height,onMouseDown:Se=>{Se.target===Se.target.getStage()&&u([])},onTouchStart:Se=>{Se.target===Se.target.getStage()&&u([])},children:[i.jsxs(fb,{listening:!1,children:[ne&&i.jsxs(i.Fragment,{children:[Array.from({length:Math.ceil(m.width/20)}).map((Se,De)=>i.jsx(Pi,{points:[De*20,0,De*20,m.height],stroke:"#e0e0e0",strokeWidth:.5},`v-${De}`)),Array.from({length:Math.ceil(m.height/20)}).map((Se,De)=>i.jsx(Pi,{points:[0,De*20,m.width,De*20],stroke:"#e0e0e0",strokeWidth:.5},`h-${De}`))]}),Q&&i.jsxs(i.Fragment,{children:[i.jsx(ac,{x:0,y:0,width:m.width,height:24,fill:"#f8fafc",stroke:"#e5e7eb",strokeWidth:1,listening:!1}),i.jsx(ac,{x:0,y:0,width:24,height:m.height,fill:"#f8fafc",stroke:"#e5e7eb",strokeWidth:1,listening:!1}),i.jsx(ah,{x:4,y:6,text:"in",fontSize:10,fill:"#64748b",listening:!1}),i.jsx(ah,{x:4,y:4,text:"in",fontSize:10,fill:"#64748b",listening:!1}),Array.from({length:Math.ceil((m.width-er*2)/Ni)+1}).map((Se,De)=>{const Le=Math.round(er+De*Ni);return i.jsxs(jN,{listening:!1,children:[i.jsx(Pi,{points:[Le,24,Le,14],stroke:"#94a3b8",strokeWidth:1}),i.jsx(ah,{x:Le+2,y:6,text:`${De}"`,fontSize:10,fill:"#64748b"})]},`rt-${De}`)}),Array.from({length:Math.ceil((m.height-er*2)/Ni)+1}).map((Se,De)=>{const Le=Math.round(er+De*Ni);return i.jsxs(jN,{listening:!1,children:[i.jsx(Pi,{points:[24,Le,14,Le],stroke:"#94a3b8",strokeWidth:1}),i.jsx(ah,{x:4,y:Le+2,text:`${De}"`,fontSize:10,fill:"#64748b"})]},`rl-${De}`)})]})]}),i.jsx(fb,{children:Nn.map(Se=>{const De=G===Se.id,Le=De?"#db2777":"#f472b6",Xe=De?"rgba(251, 207, 232, 0.25)":"rgba(251, 207, 232, 0.18)",kt={onClick:()=>{W(Se.id),K.current=Se.id,$e.info(`Placeholder ${Se.id.slice(0,8)}... selected`)},onTap:()=>{W(Se.id),K.current=Se.id,$e.info(`Placeholder ${Se.id.slice(0,8)}... selected`)}};return Se.isPolygon&&Se.polygonPointsPx&&Se.polygonPointsPx.length>=6?i.jsx(Pi,{points:Se.polygonPointsPx,closed:!0,stroke:Le,strokeWidth:1,fill:Xe,listening:!0,perfectDrawEnabled:!1,...kt},Se.id):i.jsx(ac,{x:Se.x,y:Se.y,width:Se.width,height:Se.height,stroke:Le,strokeWidth:1,fill:Xe,listening:!0,...kt},Se.id)})}),i.jsxs(fb,{children:[o.filter(Se=>Se.view===J&&Se.visible!==!1).sort((Se,De)=>(Se.zIndex||0)-(De.zIndex||0)).map(Se=>{const De=Se.placeholderId?Nn.find(Xe=>Xe.id===Se.placeholderId):void 0,Le=De?{x:De.x,y:De.y,width:De.width,height:De.height,isPolygon:De.isPolygon,polygonPointsPx:De.polygonPointsPx}:Tc;return Se.type==="image"?i.jsx(S4e,{element:Se,isSelected:c.includes(Se.id),onSelect:()=>u([Se.id]),onUpdate:Xe=>xl(Se.id,Xe),printArea:Le,isEditMode:!le&&!Se.locked},Se.id):Se.type==="text"?i.jsx(N4e,{element:Se,isSelected:c.includes(Se.id),onSelect:()=>u([Se.id]),onUpdate:Xe=>xl(Se.id,Xe),printArea:Le,isEditMode:!le&&!Se.locked},Se.id):null}),!le&&c.length===1&&(()=>{const Se=o.find(Vn=>Vn.id===c[0]);if(!Se||Se.type!=="image"||!Se.width||!Se.height)return null;const De=Se.placeholderId?Nn.find(Vn=>Vn.id===Se.placeholderId):void 0,Le=De?{x:De.x,y:De.y,width:De.width,height:De.height}:Tc;if(!Le)return null;const Xe=(Se.x||0)+(Se.width||0)/2,kt=(Se.y||0)+(Se.height||0)/2,cr=Math.max(Le.y,Math.min(kt,Le.y+Le.height)),pr=Math.max(Le.x,Math.min(Xe,Le.x+Le.width)),Jt=12,ar=(Se.height||0)/2,Qn=(Se.width||0)/2,Jn=Xe+Qn-Jt/2,ei=kt-ar-Jt/2;return i.jsxs(i.Fragment,{children:[i.jsx(Pi,{points:[Le.x,cr,Le.x+Le.width,cr],stroke:"#ef4444",strokeWidth:1,dash:[6,6],listening:!1}),i.jsx(Pi,{points:[pr,Le.y,pr,Le.y+Le.height],stroke:"#ef4444",strokeWidth:1,dash:[6,6],listening:!1}),i.jsx(ac,{x:Jn,y:kt-Jt/2,width:Jt,height:Jt,fill:"#22c55e",stroke:"#16a34a",strokeWidth:1,cornerRadius:2,draggable:!0,dragBoundFunc:Vn=>{const qn=kt-Jt/2,Tn=Le.x-Jt/2,es=Le.x+Le.width-Jt/2;return{x:Math.max(Tn,Math.min(Vn.x,es)),y:qn}},onDragMove:Vn=>{const qn=Vn.target.x()+Jt/2,Tn=Math.abs(qn-Xe);let es=Math.max(10,Math.min(Tn*2,Le.width));const bl=Math.max(Le.x,Math.min(Xe-es/2,Le.x+Le.width-es));xl(Se.id,{width:es,x:bl})}}),i.jsx(ac,{x:Xe-Jt/2,y:ei,width:Jt,height:Jt,fill:"#22c55e",stroke:"#16a34a",strokeWidth:1,cornerRadius:2,draggable:!0,dragBoundFunc:Vn=>{const qn=Xe-Jt/2,Tn=Le.y-Jt/2,es=Le.y+Le.height-Jt/2;return{x:qn,y:Math.max(Tn,Math.min(Vn.y,es))}},onDragMove:Vn=>{const qn=Vn.target.y()+Jt/2,Tn=Math.abs(qn-kt);let es=Math.max(10,Math.min(Tn*2,Le.height));const bl=Math.max(Le.y,Math.min(kt-es/2,Le.y+Le.height-es));xl(Se.id,{height:es,y:bl})}})]})})()]})]})})]}),Bd.length>0&&i.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 bg-background rounded-lg p-1 border shadow-lg",children:Bd.map(Se=>i.jsx(pe,{variant:J===Se?"default":"ghost",size:"sm",onClick:()=>{console.log("[DesignEditor] View switch:",{from:J,to:Se,previewMode:le,primaryColorHex:fe,elementsCount:o.length,elementsForNewView:o.filter(Le=>Le.view===Se||!Le.view).length,designUrlsForNewView:Object.keys(oe[Se]||{}).length});const De=ce.current;ae(Se),De!==le&&ve(De),W(null),K.current=null,u([])},children:Se.charAt(0).toUpperCase()+Se.slice(1)},Se))})]}):null}),!le&&R&&i.jsx("div",{className:"w-[350px] border-l bg-background flex flex-col h-full",children:i.jsxs(_c,{value:B,onValueChange:O,className:"flex-1 flex flex-col min-h-0",children:[i.jsxs(Fl,{className:"w-full rounded-none border-b flex-shrink-0",children:[i.jsx(Zr,{value:"product",className:"flex-1",children:"Product"}),i.jsx(Zr,{value:"properties",className:"flex-1",children:"Properties"}),i.jsx(Zr,{value:"layers",className:"flex-1",children:"Layers"})]}),i.jsx(sn,{value:"product",className:"flex-1 overflow-y-auto p-4 min-h-0",children:i.jsx(vwe,{product:Fe,isLoading:it,selectedColors:ot,selectedSizes:yt,selectedSizesByColor:ct,onColorToggle:Js,onSizeToggle:Pu,onSizeToggleForColor:Wa,onPrimaryColorHexChange:Se=>{X(Se),ke(!0)}})}),i.jsx(sn,{value:"properties",className:"flex-1 overflow-y-auto p-4 min-h-0",children:i.jsx(C4e,{selectedPlaceholderId:G,placeholders:Nn,designUrlsByPlaceholder:Ie(J),onDesignUpload:(Se,De)=>{nt(J,Se,De)},onDesignRemove:Se=>{ft(J,Se)},displacementSettings:Ht,onDisplacementSettingsChange:Or,selectedElementIds:c,elements:o,onElementUpdate:Se=>{c.forEach(De=>xl(De,Se)),lo()},PX_PER_INCH:Ni,canvasPadding:er})}),i.jsx(sn,{value:"layers",className:"flex-1 overflow-y-auto p-4 min-h-0",children:i.jsx(_4e,{placeholders:Nn,selectedPlaceholderId:G,onSelectPlaceholder:Se=>{W(Se),K.current=Se,u([])},designUrlsByPlaceholder:Ie(J),onDesignRemove:Se=>{ft(J,Se)},elements:o,selectedIds:c,onSelectElement:Se=>{u([Se]),W(null),K.current=null},onUpdate:xl,onDelete:Se=>{l(De=>De.filter(Le=>Le.id!==Se)),u(De=>De.filter(Le=>Le!==Se)),ke(!0),lo()},onReorder:Se=>{l(Se),ke(!0),lo()}})})]})})]}),!le&&i.jsxs("div",{className:"h-[50px] border-t flex items-center justify-between px-4 bg-background",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>h(Se=>Math.max(10,Se-10)),children:i.jsx(vue,{className:"w-4 h-4"})}),i.jsxs("span",{className:"text-sm w-16 text-center",children:[d,"%"]}),i.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>h(Se=>Math.min(500,Se+10)),children:i.jsx(yue,{className:"w-4 h-4"})}),i.jsx(pe,{variant:"ghost",size:"sm",onClick:Go,children:"Fit"}),i.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>h(100),children:"100%"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pe,{variant:ne?"default":"ghost",size:"icon",onClick:()=>se(!ne),children:i.jsx(SV,{className:"w-4 h-4"})}),i.jsx(pe,{variant:Q?"default":"ghost",size:"icon",onClick:()=>re(!Q),children:i.jsx(tu,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex items-center",children:i.jsx(pe,{variant:"default",className:"w-full",size:"lg",onClick:yl,disabled:jt,children:jt?"Publishing...":"Add Product"})})]})]})},j4e=t=>{const[e,r]=b.useState(null);return b.useEffect(()=>{if(!t){r(null);return}const n=new window.Image;n.crossOrigin="anonymous",n.onload=()=>r(n),n.onerror=()=>r(null),n.src=t},[t]),e},S4e=({element:t,isSelected:e,onSelect:r,onUpdate:n,printArea:s,isEditMode:a=!0})=>{const o=j4e(t.imageUrl);if(!o)return null;const l=N=>{let C=N.target.x(),A=N.target.y();s&&t.width&&t.height&&(C=Math.max(s.x,Math.min(C,s.x+s.width-t.width)),A=Math.max(s.y,Math.min(A,s.y+s.height-t.height))),n({x:C,y:A})},c=N=>{const C=N.target;let A=C.width()*C.scaleX(),k=C.height()*C.scaleY(),E=C.x(),T=C.y();s&&(A=Math.min(A,s.width),k=Math.min(k,s.height),E=Math.max(s.x,Math.min(E,s.x+s.width-A)),T=Math.max(s.y,Math.min(T,s.y+s.height-k))),n({x:E,y:T,width:A,height:k,rotation:C.rotation()}),C.scaleX(1),C.scaleY(1)},u=t.flipX?-1:1,d=t.flipY?-1:1,h=t.flipX?t.x+(t.width||0):t.x,p=t.flipY?t.y+(t.height||0):t.y,f={};t.brightness!==void 0&&t.brightness!==0&&(f.brightness=t.brightness/100),t.contrast!==void 0&&t.contrast!==0&&(f.contrast=t.contrast),t.saturation!==void 0&&t.saturation!==0&&(f.saturation=1+t.saturation/100),t.blur!==void 0&&t.blur>0&&(f.blurRadius=t.blur);const m={normal:"source-over",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","color-dodge":"color-dodge","color-burn":"color-burn","hard-light":"hard-light","soft-light":"soft-light",difference:"difference",exclusion:"exclusion",hue:"hue",saturation:"saturation",color:"color",luminosity:"luminosity"},g=t.blendMode&&m[t.blendMode]||"source-over",y=t.shadowOpacity!==void 0?t.shadowOpacity:t.shadowBlur&&t.shadowBlur>0?.5:0,x=t.shadowColor?(()=>{if(t.shadowColor.startsWith("#")){const N=Math.round(y*255).toString(16).padStart(2,"0");return t.shadowColor+N}return t.shadowColor})():`rgba(0, 0, 0, ${y})`,w=s&&t.width&&t.height?N=>{const C=Math.max(s.x,Math.min(N.x,s.x+s.width-t.width)),A=Math.max(s.y,Math.min(N.y,s.y+s.height-t.height));return{x:C,y:A}}:void 0,S={id:t.id,image:o,x:h,y:p,width:t.width,height:t.height,scaleX:u,scaleY:d,opacity:t.opacity!==void 0?t.opacity:1,rotation:t.rotation,draggable:a&&!t.locked,onClick:a?r:void 0,onDragEnd:a?l:void 0,onTransformEnd:a?c:void 0,dragBoundFunc:a?w:void 0,shadowBlur:t.shadowBlur||0,shadowOffsetX:t.shadowOffsetX||0,shadowOffsetY:t.shadowOffsetY||0,shadowColor:x,shadowOpacity:y,globalCompositeOperation:g,stroke:(t.borderWidth||0)>0?t.borderColor:void 0,strokeWidth:t.borderWidth||0,dash:t.borderStyle==="dashed"?[10,5]:void 0,...Object.keys(f).length>0?f:{}};if(s){if(s.isPolygon&&s.polygonPointsPx&&s.polygonPointsPx.length>=6){const N=s.polygonPointsPx;return i.jsx(jN,{clipFunc:C=>{C.beginPath(),C.moveTo(N[0],N[1]);for(let A=2;A<N.length;A+=2)C.lineTo(N[A],N[A+1]);C.closePath()},children:i.jsx(pb,{...S})})}return i.jsx(jN,{clipX:s.x,clipY:s.y,clipWidth:s.width,clipHeight:s.height,children:i.jsx(pb,{...S})})}return i.jsx(pb,{...S})},N4e=({element:t,isSelected:e,onSelect:r,onUpdate:n,printArea:s,isEditMode:a=!0})=>{const o=f=>{let m=f.target.x(),g=f.target.y();if(s&&t.width&&t.height){const y=t.width||100,x=t.height||t.fontSize||24;m=Math.max(s.x,Math.min(m,s.x+s.width-y)),g=Math.max(s.y,Math.min(g,s.y+s.height-x))}n({x:m,y:g})},l=f=>{var x,w,S;const m=f.target;let g=m.x(),y=m.y();if(s){const N=(((x=m.fontSize)==null?void 0:x.call(m))||t.fontSize||24)*m.scaleY(),C=(((w=t.text)==null?void 0:w.length)||0)*(N*.6),A=N;g=Math.max(s.x,Math.min(g,s.x+s.width-C)),y=Math.max(s.y,Math.min(y,s.y+s.height-A))}n({x:g,y,rotation:m.rotation(),fontSize:(((S=m.fontSize)==null?void 0:S.call(m))||t.fontSize||24)*m.scaleY()}),m.scaleX(1),m.scaleY(1)},c={normal:"source-over",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","color-dodge":"color-dodge","color-burn":"color-burn","hard-light":"hard-light","soft-light":"soft-light",difference:"difference",exclusion:"exclusion",hue:"hue",saturation:"saturation",color:"color",luminosity:"luminosity"},u=t.blendMode&&c[t.blendMode]||"source-over",d=t.shadowOpacity!==void 0?t.shadowOpacity:t.shadowBlur&&t.shadowBlur>0?.5:0,h=t.shadowColor?(()=>{if(t.shadowColor.startsWith("#")){const f=Math.round(d*255).toString(16).padStart(2,"0");return t.shadowColor+f}return t.shadowColor})():`rgba(0, 0, 0, ${d})`,p={id:t.id,x:t.x,y:t.y,text:t.text,fontSize:t.fontSize,fontFamily:t.fontFamily,fill:t.fill,opacity:t.opacity!==void 0?t.opacity:1,rotation:t.rotation,draggable:a&&!t.locked,onClick:a?r:void 0,onDragEnd:a?o:void 0,onTransformEnd:a?l:void 0,shadowBlur:t.shadowBlur||0,shadowOffsetX:t.shadowOffsetX||0,shadowOffsetY:t.shadowOffsetY||0,shadowColor:h,shadowOpacity:d,globalCompositeOperation:u};if(t.curved){const f=t.curveRadius||200,m=`M -${f},0 A ${f},${f} 0 0,1 ${f},0`;return i.jsx(T2e,{...p,data:m,align:t.align||"center",letterSpacing:t.letterSpacing})}return i.jsx(ah,{...p,align:t.align,letterSpacing:t.letterSpacing})},C4e=({selectedPlaceholderId:t,placeholders:e,designUrlsByPlaceholder:r,onDesignUpload:n,onDesignRemove:s,displacementSettings:a,onDisplacementSettingsChange:o,selectedElementIds:l,elements:c,onElementUpdate:u,PX_PER_INCH:d,canvasPadding:h})=>{const[p,f]=b.useState({});b.useRef(null),t&&e.find(g=>g.id===t);const m=l.length>0?c.find(g=>g.id===l[0]):null;if(m){const g=m,y=u;return i.jsxs("div",{className:"space-y-4",children:[g.type==="text"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(je,{children:"Text"}),i.jsx(rt,{value:g.text||"",onChange:x=>y({text:x.target.value})})]}),i.jsxs("div",{children:[i.jsx(je,{children:"Font Family"}),i.jsxs("select",{value:g.fontFamily||"Arial",onChange:x=>y({fontFamily:x.target.value}),className:"w-full px-3 py-2 border rounded-md bg-background",children:[i.jsx("option",{value:"Arial",children:"Arial"}),i.jsx("option",{value:"Helvetica",children:"Helvetica"}),i.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),i.jsx("option",{value:"Courier New",children:"Courier New"}),i.jsx("option",{value:"Georgia",children:"Georgia"}),i.jsx("option",{value:"Verdana",children:"Verdana"}),i.jsx("optgroup",{label:"Google Fonts",children:["ABeeZee","Abel","Abril Fatface","Acme","Aladin","Alex Brush","Anton","Bangers","Caveat","Cinzel","Comfortaa","Dancing Script","Great Vibes","Indie Flower","Lobster","Montserrat","Open Sans","Oswald","Pacifico","Playfair Display","Poppins","Raleway","Roboto","Rubik"].map(x=>i.jsx("option",{value:x,children:x},x))})]})]}),i.jsxs("div",{children:[i.jsx(je,{children:"Font Size"}),i.jsx(Pp,{value:[g.fontSize||24],onValueChange:([x])=>y({fontSize:x}),min:8,max:500,step:1})]}),i.jsxs("div",{children:[i.jsx(je,{children:"Letter Spacing"}),i.jsx(Pp,{value:[g.letterSpacing||0],onValueChange:([x])=>y({letterSpacing:x}),min:-10,max:50,step:1})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(je,{children:"Curved Text"}),i.jsx(Xs,{checked:g.curved||!1,onCheckedChange:x=>y({curved:x,curveRadius:x?g.curveRadius||200:void 0})})]}),g.curved&&i.jsxs("div",{children:[i.jsx(je,{children:"Curve Radius"}),i.jsx(Pp,{value:[g.curveRadius||200],onValueChange:([x])=>y({curveRadius:x}),min:50,max:1e3,step:10})]}),i.jsxs("div",{children:[i.jsx(je,{children:"Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(rt,{type:"color",value:g.fill||"#000000",onChange:x=>y({fill:x.target.value}),className:"w-16 h-10"}),i.jsx(rt,{value:g.fill||"#000000",onChange:x=>y({fill:x.target.value}),placeholder:"#000000"})]})]})]}),g.type==="image"&&i.jsx(i.Fragment,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm font-semibold",children:"Flip"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"flipH",className:"w-4 h-4",checked:g.flipX||!1,onChange:x=>y({flipX:x.target.checked})}),i.jsx(je,{htmlFor:"flipH",className:"text-xs cursor-pointer",children:" Horizontal"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"flipV",className:"w-4 h-4",checked:g.flipY||!1,onChange:x=>y({flipY:x.target.checked})}),i.jsx(je,{htmlFor:"flipV",className:"text-xs cursor-pointer",children:" Vertical"})]})]})]})}),i.jsxs("div",{children:[i.jsx(je,{children:"Rotation"}),i.jsx(Pp,{value:[g.rotation||0],onValueChange:([x])=>y({rotation:x}),min:-180,max:180,step:1})]})]})}return i.jsx("div",{className:"text-center text-muted-foreground py-8",children:i.jsx("p",{className:"text-sm",children:"Select a placeholder or element to edit properties"})})},_4e=({placeholders:t,selectedPlaceholderId:e,onSelectPlaceholder:r,designUrlsByPlaceholder:n,onDesignRemove:s,elements:a,selectedIds:o,onSelectElement:l,onUpdate:c,onDelete:u,onReorder:d})=>i.jsxs("div",{className:"space-y-4",children:[t.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-sm font-semibold uppercase text-muted-foreground",children:"Placeholders"}),i.jsx("div",{className:"space-y-2",children:t.map(h=>{const p=n[h.id],f=e===h.id;return i.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${f?"border-primary bg-primary/5":"hover:bg-muted"}`,onClick:()=>r(h.id),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:"w-8 h-8 rounded border bg-muted flex items-center justify-center flex-shrink-0",children:p?i.jsx("img",{src:p,alt:"Design",className:"w-full h-full object-contain rounded"}):i.jsx(aN,{className:"w-4 h-4 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"text-sm font-medium truncate",children:["Placeholder ",h.id.slice(0,8),"..."]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.original.widthIn.toFixed(1),'"  ',h.original.heightIn.toFixed(1),'"',p&&"  Design"]})]})]}),i.jsx("div",{className:"flex items-center gap-1",children:p&&i.jsx(pe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:m=>{m.stopPropagation(),s(h.id)},children:i.jsx(ol,{className:"w-3 h-3"})})})]})},h.id)})})]}),a.length>0&&i.jsxs("div",{className:"space-y-2 border-t pt-4",children:[i.jsx(je,{className:"text-sm font-semibold uppercase text-muted-foreground",children:"Canvas Elements"}),i.jsx("div",{className:"space-y-2",children:a.sort((h,p)=>(p.zIndex||0)-(h.zIndex||0)).map(h=>i.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${o.includes(h.id)?"border-primary bg-primary/5":"hover:bg-muted"}`,onClick:()=>l(h.id),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[h.type==="image"&&i.jsx(ca,{className:"w-4 h-4 flex-shrink-0"}),h.type==="text"&&i.jsx(OV,{className:"w-4 h-4 flex-shrink-0"}),h.type==="shape"&&i.jsx(aN,{className:"w-4 h-4 flex-shrink-0"}),i.jsx("span",{className:"text-sm font-medium truncate",children:h.type==="text"?h.text||"Text":`${h.type} ${h.id.slice(0,4)}`})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(pe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:p=>{p.stopPropagation(),c(h.id,{visible:h.visible===!1})},children:h.visible!==!1?i.jsx(gh,{className:"w-3 h-3"}):i.jsx(jV,{className:"w-3 h-3"})}),i.jsx(pe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:p=>{p.stopPropagation(),u(h.id)},children:i.jsx(ol,{className:"w-3 h-3"})})]})]})},h.id))})]}),t.length===0&&a.length===0&&i.jsx("div",{className:"text-center text-muted-foreground py-8",children:i.jsx("p",{className:"text-sm",children:"No placeholders or elements"})})]}),A4e=({onAddShape:t,onAddAsset:e,selectedPlaceholderId:r,placeholders:n})=>{const[s,a]=b.useState([]),[o,l]=b.useState(!1);return b.useEffect(()=>{(async()=>{l(!0);try{const u=new URLSearchParams;u.append("category","shapes"),u.append("limit","20");const h=await(await fetch(`${Pr}/assets?${u.toString()}`)).json();h.success?a(h.data||[]):console.error("Failed to fetch shape assets:",h.message)}catch(u){console.error("Failed to fetch shape assets:",u),$e.error("Failed to load shape assets")}finally{l(!1)}})()},[]),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"p-4 space-y-4",children:[n.length>1&&i.jsxs("div",{className:"p-3 bg-muted rounded-lg border",children:[i.jsx(je,{className:"text-xs font-semibold text-foreground mb-1 block",children:r?`Placeholder Selected: ${r.slice(0,8)}...`:"Select a placeholder on canvas first"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:r?"Click a shape below to add it to the selected placeholder":"Click a placeholder on the canvas, then select a shape"})]}),i.jsx(je,{className:"text-xs font-semibold uppercase text-muted-foreground mb-2 block",children:"Basic Shapes"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>t("rect"),className:"h-16 flex flex-col gap-1",children:[i.jsx(aN,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs",children:"Rectangle"})]}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>t("circle"),className:"h-16 flex flex-col gap-1",children:[i.jsx(uI,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs",children:"Circle"})]}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>t("triangle"),className:"h-16 flex flex-col gap-1",children:[i.jsx(hue,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs",children:"Triangle"})]}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>t("star"),className:"h-16 flex flex-col gap-1",children:[i.jsx(mc,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs",children:"Star"})]}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>t("heart"),className:"h-16 flex flex-col gap-1",children:[i.jsx(gw,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs",children:"Heart"})]})]})]}),i.jsxs("div",{className:"p-2 space-y-4",children:[n.length>1&&i.jsxs("div",{className:"p-2 bg-muted rounded-lg border mb-2",children:[i.jsx(je,{className:"text-xs font-semibold text-foreground mb-1 block",children:r?`Placeholder Selected: ${r.slice(0,8)}...`:"Select a placeholder on canvas first"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:r?"Click a shape below to add it to the selected placeholder":"Click a placeholder on the canvas, then select a shape"})]}),i.jsx(je,{className:"text-xs font-semibold uppercase text-muted-foreground mb-2 block",children:"Uploaded Shapes"}),o?i.jsx("div",{className:"flex items-center justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):s.length>0?i.jsx(ul,{className:"h-[300px]",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.map(c=>i.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden border-2 border-border hover:border-primary cursor-pointer transition-colors group",onClick:u=>{u.stopPropagation(),c.fileUrl&&e?e(c.fileUrl):c.fileUrl&&$e.error("Asset handler not available")},title:c.title,children:[c.previewUrl?i.jsx("img",{src:c.previewUrl,alt:c.title,className:"w-full h-full object-contain p-2"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(qy,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:c.title})})]},c._id))})}):i.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"No shape assets found"})]})]})},k4e=({onAddAsset:t,selectedPlaceholderId:e,placeholders:r})=>{const[n,s]=b.useState([]),[a,o]=b.useState(!0),[l,c]=b.useState("");return b.useEffect(()=>{(async()=>{o(!0);try{const d=new URLSearchParams;d.append("category","graphics"),l&&d.append("search",l),d.append("limit","50");const p=await(await fetch(`${Pr}/assets?${d.toString()}`)).json();p.success?s(p.data||[]):console.error("Failed to fetch graphics:",p.message)}catch(d){console.error("Failed to fetch graphics:",d),$e.error("Failed to load graphics")}finally{o(!1)}})()},[l]),i.jsxs("div",{className:"p-4 space-y-4",children:[r.length>1&&i.jsxs("div",{className:"p-3 bg-muted rounded-lg border",children:[i.jsx(je,{className:"text-xs font-semibold text-foreground mb-1 block",children:e?`Placeholder Selected: ${e.slice(0,8)}...`:"Select a placeholder on canvas first"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e?"Click a graphic below to add it to the selected placeholder":"Click a placeholder on the canvas, then select a graphic"})]}),i.jsx(je,{className:"text-xs font-semibold uppercase text-muted-foreground mb-2 block",children:"Graphics"}),i.jsx(rt,{placeholder:"Search graphics...",value:l,onChange:u=>c(u.target.value),className:"mb-2"}),a?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No graphics found"}):i.jsx(ul,{className:"h-[500px]",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(u=>i.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden border-2 border-border hover:border-primary cursor-pointer transition-colors group",onClick:d=>{d.stopPropagation(),u.fileUrl?t(u.fileUrl):$e.error("Asset file URL not available")},title:u.title,children:[u.previewUrl?i.jsx("img",{src:u.previewUrl,alt:u.title,className:"w-full h-full object-contain p-2"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(qy,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:u.title})})]},u._id))})})]})},P4e=({onAddAsset:t,selectedPlaceholderId:e,placeholders:r})=>{const[n,s]=b.useState([]),[a,o]=b.useState(!0),[l,c]=b.useState("");return b.useEffect(()=>{(async()=>{o(!0);try{const d=new URLSearchParams;d.append("category","logos"),l&&d.append("search",l),d.append("limit","50");const p=await(await fetch(`${Pr}/assets?${d.toString()}`)).json();p.success?s(p.data||[]):console.error("Failed to fetch logos:",p.message)}catch(d){console.error("Failed to fetch logos:",d),$e.error("Failed to load logos")}finally{o(!1)}})()},[l]),i.jsxs("div",{className:"p-4 space-y-4",children:[r.length>1&&i.jsxs("div",{className:"p-3 bg-muted rounded-lg border",children:[i.jsx(je,{className:"text-xs font-semibold text-foreground mb-1 block",children:e?`Placeholder Selected: ${e.slice(0,8)}...`:"Select a placeholder on canvas first"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e?"Click a logo below to add it to the selected placeholder":"Click a placeholder on the canvas, then select a logo"})]}),i.jsx(je,{className:"text-xs font-semibold uppercase text-muted-foreground mb-2 block",children:"Logos"}),i.jsx(rt,{placeholder:"Search logos...",value:l,onChange:u=>c(u.target.value),className:"mb-2"}),a?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No logos found"}):i.jsx(ul,{className:"h-[500px]",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.map(u=>i.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden border-2 border-border hover:border-primary cursor-pointer transition-colors group",onClick:d=>{d.stopPropagation(),u.fileUrl?t(u.fileUrl):$e.error("Asset file URL not available")},title:u.title,children:[u.previewUrl?i.jsx("img",{src:u.previewUrl,alt:u.title,className:"w-full h-full object-contain p-2"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(qy,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:u.title})})]},u._id))})})]})},E4e=({onAddAsset:t,selectedPlaceholderId:e,placeholders:r=[]})=>{const[n,s]=b.useState([]),[a,o]=b.useState([]),[l,c]=b.useState(!0),[u,d]=b.useState("graphics"),[h,p]=b.useState(""),f=[{value:"graphics",label:"Graphics"},{value:"patterns",label:"Patterns"},{value:"icons",label:"Icons"},{value:"shapes",label:"Shapes"},{value:"logos",label:"Logos"},{value:"all",label:"All"}];return b.useEffect(()=>{(async()=>{if(u==="all"){s([]),c(!1);return}c(!0);try{const g=new URLSearchParams;u&&g.append("category",u),h&&g.append("search",h),g.append("limit","20");const x=await(await fetch(`${Pr}/assets?${g.toString()}`)).json();x.success?s(x.data||[]):console.error("Failed to fetch assets:",x.message)}catch(g){console.error("Failed to fetch assets:",g),$e.error("Failed to load assets")}finally{c(!1)}})()},[u,h]),b.useEffect(()=>{(async()=>{var g;try{const x=await(await fetch(`${Pr}/assets?limit=200`)).json();x.success?(o(x.data||[]),console.log(`[LibraryPanel] Fetched ${((g=x.data)==null?void 0:g.length)||0} total assets`)):(console.error("[LibraryPanel] Failed to fetch all assets:",x.message),o([]))}catch(y){console.error("[LibraryPanel] Failed to fetch all assets:",y),o([])}})()},[]),i.jsxs("div",{className:"p-4 space-y-4",children:[r.length>1&&i.jsxs("div",{className:"p-3 bg-muted rounded-lg border",children:[i.jsx(je,{className:"text-xs font-semibold text-foreground mb-1 block",children:e?`Placeholder Selected: ${e.slice(0,8)}...`:"Select a placeholder on canvas first"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e?"Click an asset below to add it to the selected placeholder":"Click a placeholder on the canvas, then select an asset"})]}),i.jsx(je,{className:"text-xs font-semibold uppercase text-muted-foreground mb-2 block",children:"Asset Library"}),i.jsx(rt,{placeholder:"Search assets...",value:h,onChange:m=>p(m.target.value),className:"mb-2"}),i.jsx("div",{className:"flex gap-1 flex-wrap",children:f.map(m=>i.jsx(pe,{variant:u===m.value?"default":"outline",size:"sm",onClick:()=>d(m.value),className:"text-xs",children:m.label},m.value))}),l?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(()=>{const m=u==="all"?a:n,g=h?m.filter(y=>{var x;return(x=y.title)==null?void 0:x.toLowerCase().includes(h.toLowerCase())}):m;return g.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No assets found"}):i.jsx(ul,{className:"h-[500px]",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.map(y=>i.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden border-2 border-border hover:border-primary cursor-pointer transition-colors group",onClick:x=>{x.stopPropagation(),y.fileUrl?t(y.fileUrl):$e.error("Asset file URL not available")},title:y.title,children:[y.previewUrl?i.jsx("img",{src:y.previewUrl,alt:y.title,className:"w-full h-full object-contain p-2"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(qy,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:y.title})})]},y._id))})})})()]})},T4e=({onAddAsset:t,category:e,title:r,selectedPlaceholderId:n,placeholders:s})=>{const[a,o]=b.useState([]),[l,c]=b.useState(!0),[u,d]=b.useState("");return b.useEffect(()=>{(async()=>{c(!0);try{const p=new URLSearchParams;p.append("category",e),u&&p.append("search",u),p.append("limit","50");const m=await(await fetch(`${Pr}/assets?${p.toString()}`)).json();m.success?o(m.data||[]):console.error(`Failed to fetch ${e} assets:`,m.message)}catch(p){console.error(`Failed to fetch ${e} assets:`,p),$e.error(`Failed to load ${r.toLowerCase()}`)}finally{c(!1)}})()},[e,u,r]),i.jsxs("div",{className:"p-4 space-y-4",children:[s.length>1&&i.jsxs("div",{className:"p-3 bg-muted rounded-lg border",children:[i.jsx(je,{className:"text-xs font-semibold text-foreground mb-1 block",children:n?`Placeholder Selected: ${n.slice(0,8)}...`:"Select a placeholder on canvas first"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:n?`Click a ${r.toLowerCase()} below to add it to the selected placeholder`:"Click a placeholder on the canvas, then select a resource"})]}),i.jsx(je,{className:"text-xs font-semibold uppercase text-muted-foreground mb-2 block",children:r}),i.jsx(rt,{placeholder:`Search ${r.toLowerCase()}...`,value:u,onChange:h=>d(h.target.value),className:"mb-2"}),l?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground text-sm",children:["No ",r.toLowerCase()," found"]}):i.jsx(ul,{className:"h-[500px]",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map(h=>i.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden border-2 border-border hover:border-primary cursor-pointer transition-colors group",onClick:p=>{p.stopPropagation(),h.fileUrl?t(h.fileUrl):$e.error("Asset file URL not available")},title:h.title,children:[h.previewUrl?i.jsx("img",{src:h.previewUrl,alt:h.title,className:"w-full h-full object-contain p-2"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(qy,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:h.title})})]},h._id))})})]})},I4e=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0);return b.useEffect(()=>{(async()=>{n(!0);try{const o=await(await fetch(`${Pr}/assets?category=textTemplates&limit=20`)).json();o.success?e(o.data||[]):console.error("Failed to fetch templates:",o.message)}catch(a){console.error("Failed to fetch templates:",a),$e.error("Failed to load templates")}finally{n(!1)}})()},[]),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx(je,{className:"text-xs font-semibold uppercase text-muted-foreground mb-2 block",children:"Templates"}),r?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length===0?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("div",{className:"aspect-square bg-muted rounded-lg border-2 border-dashed flex items-center justify-center",children:i.jsx(oS,{className:"w-6 h-6 text-muted-foreground"})}),i.jsx("div",{className:"aspect-square bg-muted rounded-lg border-2 border-dashed flex items-center justify-center",children:i.jsx(oS,{className:"w-6 h-6 text-muted-foreground"})})]}),i.jsx("p",{className:"text-center text-xs text-muted-foreground py-4",children:"No templates available. Upload some in Admin panel."})]}):i.jsx(ul,{className:"h-[500px]",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(s=>i.jsxs("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden border-2 border-border hover:border-primary cursor-pointer transition-colors group",onClick:()=>{$e.info(`Add ${s.title} template functionality coming soon`)},title:s.title,children:[s.previewUrl?i.jsx("img",{src:s.previewUrl,alt:s.title,className:"w-full h-full object-contain p-2"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(oS,{className:"w-8 h-8 text-muted-foreground"})}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:s.title})})]},s._id))})})]})},M4e=Hy("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Rg=b.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:dt(M4e({variant:e}),t),...r}));Rg.displayName="Alert";const O4e=b.forwardRef(({className:t,...e},r)=>i.jsx("h5",{ref:r,className:dt("mb-1 font-medium leading-none tracking-tight",t),...e}));O4e.displayName="AlertTitle";const Dg=b.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:dt("text-sm [&_p]:leading-relaxed",t),...e}));Dg.displayName="AlertDescription";const L4e=()=>{var d,h;const[t,e]=b.useState(!1),{login:r,signup:n}=Ba(),s=rs(),a=Vi(),[o]=vw(),l=((h=(d=a.state)==null?void 0:d.from)==null?void 0:h.pathname)||"/dashboard";b.useEffect(()=>{const p=o.get("verified"),f=o.get("error");p==="true"?$e.success("Email verified successfully! You can now log in."):f&&(f==="invalid_token"?$e.error("Invalid verification token"):f==="invalid_or_expired_token"?$e.error("Verification token is invalid or has expired. Please request a new one."):f==="verification_failed"&&$e.error("Email verification failed. Please try again."))},[o]);const c=async p=>{var y,x,w,S;p.preventDefault(),e(!0);const f=new FormData(p.currentTarget),m=f.get("email"),g=f.get("password");try{await r(m,g),$e.success("Welcome back!"),s(l,{replace:!0})}catch(N){(x=(y=N==null?void 0:N.response)==null?void 0:y.data)!=null&&x.requiresVerification?$e.error("Please verify your email address before logging in. Check your inbox for the verification email."):$e.error(((S=(w=N==null?void 0:N.response)==null?void 0:w.data)==null?void 0:S.message)||"Invalid credentials")}finally{e(!1)}},u=async p=>{var x,w;p.preventDefault(),e(!0);const f=new FormData(p.currentTarget),m=f.get("email"),g=f.get("password"),y=f.get("name");try{await n(m,g,y),$e.success("Account created! Please check your email to verify your account.")}catch(S){$e.error(((w=(x=S==null?void 0:S.response)==null?void 0:x.data)==null?void 0:w.message)||"Failed to create account")}finally{e(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("h1",{className:"font-heading text-3xl font-bold text-foreground mb-2",children:["Shelf",i.jsx("span",{className:"text-primary",children:"Merch"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Start your print-on-demand business"})]}),i.jsxs("div",{className:"bg-card rounded-lg shadow-card p-6",children:[o.get("verified")==="true"&&i.jsxs(Rg,{className:"mb-4 border-green-500 bg-green-50",children:[i.jsx(al,{className:"h-4 w-4 text-green-600"}),i.jsx(Dg,{className:"text-green-800",children:"Email verified successfully! You can now log in."})]}),o.get("error")&&o.get("error")!=="invalid_credentials"&&i.jsxs(Rg,{className:"mb-4 border-red-500 bg-red-50",children:[i.jsx(ju,{className:"h-4 w-4 text-red-600"}),i.jsx(Dg,{className:"text-red-800",children:o.get("error")==="invalid_or_expired_token"?"Verification token is invalid or has expired. Please request a new one.":"Email verification failed. Please try again."})]}),i.jsxs(_c,{defaultValue:"login",className:"w-full",children:[i.jsxs(Fl,{className:"grid w-full grid-cols-2 mb-6",children:[i.jsx(Zr,{value:"login",children:"Log in"}),i.jsx(Zr,{value:"signup",children:"Sign up"})]}),i.jsx(sn,{value:"login",children:i.jsxs("form",{onSubmit:c,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"login-email",children:"Email"}),i.jsx(rt,{id:"login-email",name:"email",type:"email",placeholder:"you@example.com",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"login-password",children:"Password"}),i.jsx(rt,{id:"login-password",name:"password",type:"password",placeholder:"",required:!0})]}),i.jsx(pe,{type:"submit",className:"w-full",disabled:t,children:t?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Log in"})]})}),i.jsx(sn,{value:"signup",children:i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"signup-name",children:"Name"}),i.jsx(rt,{id:"signup-name",name:"name",type:"text",placeholder:"John Doe",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"signup-email",children:"Email"}),i.jsx(rt,{id:"signup-email",name:"email",type:"email",placeholder:"you@example.com",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"signup-password",children:"Password"}),i.jsx(rt,{id:"signup-password",name:"password",type:"password",placeholder:"",minLength:6,required:!0})]}),i.jsx(pe,{type:"submit",className:"w-full",disabled:t,children:t?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Sign up for Free"})]})})]})]})]})})},R4e=()=>{const[t]=vw(),e=rs(),[r,n]=b.useState("loading"),[s,a]=b.useState("");return b.useEffect(()=>{(async()=>{const l=t.get("token");if(!l){n("error"),a("Invalid verification token"),setTimeout(()=>{e("/auth?error=invalid_token")},3e3);return}try{const c=await fetch(`${Pr}/auth/verify-email?token=${l}`,{method:"GET",credentials:"include"}),u=await c.json();c.ok&&u.success?(n("success"),a("Email verified successfully! Redirecting to login..."),setTimeout(()=>{e("/auth?verified=true")},2e3)):(n("error"),a(u.message||"Verification failed. The token may be invalid or expired."),setTimeout(()=>{const d=u.error||"verification_failed";e(`/auth?error=${d}`)},3e3))}catch(c){console.error("Verification error:",c),n("error"),a("An error occurred during verification. Please try again."),setTimeout(()=>{e("/auth?error=verification_failed")},3e3)}})()},[t,e]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-card rounded-lg shadow-card p-8 text-center",children:[r==="loading"&&i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Verifying your email..."}),i.jsx("p",{className:"text-muted-foreground",children:"Please wait while we verify your email address."})]}),r==="success"&&i.jsxs(i.Fragment,{children:[i.jsx(al,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold mb-2 text-green-600",children:"Email Verified!"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:s}),i.jsx(Rg,{className:"border-green-500 bg-green-50",children:i.jsx(Dg,{className:"text-green-800",children:"Your email has been successfully verified. You can now log in to your account."})})]}),r==="error"&&i.jsxs(i.Fragment,{children:[i.jsx(ju,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold mb-2 text-red-600",children:"Verification Failed"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:s}),i.jsx(Rg,{className:"border-red-500 bg-red-50 mb-4",children:i.jsx(Dg,{className:"text-red-800",children:s||"The verification link is invalid or has expired. Please request a new verification email."})}),i.jsx(pe,{onClick:()=>e("/auth"),variant:"outline",children:"Go to Login"})]})]})})})};function D4e(t){const e=F4e(t),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find($4e);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return i.jsx(e,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return i.jsx(e,{...o,ref:s,children:a})});return r.displayName=`${t}.Slot`,r}function F4e(t){const e=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=U4e(s),l=z4e(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Af(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var B4e=Symbol("radix.slottable");function $4e(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===B4e}function z4e(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function U4e(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var y8=["Enter"," "],W4e=["ArrowDown","PageUp","Home"],sJ=["ArrowUp","PageDown","End"],G4e=[...W4e,...sJ],H4e={ltr:[...y8,"ArrowRight"],rtl:[...y8,"ArrowLeft"]},V4e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Tw="Menu",[g2,q4e,Y4e]=Wy(Tw),[rx,iJ]=ma(Tw,[Y4e,Zy,iv]),oC=Zy(),aJ=iv(),[X4e,nx]=rx(Tw),[K4e,Iw]=rx(Tw),oJ=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=t,l=oC(e),[c,u]=b.useState(null),d=b.useRef(!1),h=Li(a),p=am(s);return b.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),i.jsx(jI,{...l,children:i.jsx(X4e,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:u,children:i.jsx(K4e,{scope:e,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:n})})})};oJ.displayName=Tw;var Z4e="MenuAnchor",FM=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=oC(r);return i.jsx(SI,{...s,...n,ref:e})});FM.displayName=Z4e;var BM="MenuPortal",[Q4e,lJ]=rx(BM,{forceMount:void 0}),cJ=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,a=nx(BM,e);return i.jsx(Q4e,{scope:e,forceMount:r,children:i.jsx(Fa,{present:r||a.open,children:i.jsx(pw,{asChild:!0,container:s,children:n})})})};cJ.displayName=BM;var vu="MenuContent",[J4e,$M]=rx(vu),uJ=b.forwardRef((t,e)=>{const r=lJ(vu,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=nx(vu,t.__scopeMenu),o=Iw(vu,t.__scopeMenu);return i.jsx(g2.Provider,{scope:t.__scopeMenu,children:i.jsx(Fa,{present:n||a.open,children:i.jsx(g2.Slot,{scope:t.__scopeMenu,children:o.modal?i.jsx(e3e,{...s,ref:e}):i.jsx(t3e,{...s,ref:e})})})})}),e3e=b.forwardRef((t,e)=>{const r=nx(vu,t.__scopeMenu),n=b.useRef(null),s=Lr(e,n);return b.useEffect(()=>{const a=n.current;if(a)return ZI(a)},[]),i.jsx(zM,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ft(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),t3e=b.forwardRef((t,e)=>{const r=nx(vu,t.__scopeMenu);return i.jsx(zM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),r3e=D4e("MenuContent.ScrollLock"),zM=b.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,disableOutsideScroll:m,...g}=t,y=nx(vu,r),x=Iw(vu,r),w=oC(r),S=aJ(r),N=q4e(r),[C,A]=b.useState(null),k=b.useRef(null),E=Lr(e,k,y.onContentChange),T=b.useRef(0),R=b.useRef(""),I=b.useRef(0),L=b.useRef(null),U=b.useRef("right"),$=b.useRef(0),q=m?D3:b.Fragment,G=m?{as:r3e,allowPinchZoom:!0}:void 0,W=O=>{var ae,ne;const K=R.current+O,Y=N().filter(se=>!se.disabled),D=document.activeElement,Z=(ae=Y.find(se=>se.ref.current===D))==null?void 0:ae.textValue,ie=Y.map(se=>se.textValue),he=p3e(ie,K,Z),J=(ne=Y.find(se=>se.textValue===he))==null?void 0:ne.ref.current;(function se(Q){R.current=Q,window.clearTimeout(T.current),Q!==""&&(T.current=window.setTimeout(()=>se(""),1e3))})(K),J&&setTimeout(()=>J.focus())};b.useEffect(()=>()=>window.clearTimeout(T.current),[]),KI();const B=b.useCallback(O=>{var Y,D;return U.current===((Y=L.current)==null?void 0:Y.side)&&g3e(O,(D=L.current)==null?void 0:D.area)},[]);return i.jsx(J4e,{scope:r,searchRef:R,onItemEnter:b.useCallback(O=>{B(O)&&O.preventDefault()},[B]),onItemLeave:b.useCallback(O=>{var K;B(O)||((K=k.current)==null||K.focus(),A(null))},[B]),onTriggerLeave:b.useCallback(O=>{B(O)&&O.preventDefault()},[B]),pointerGraceTimerRef:I,onPointerGraceIntentChange:b.useCallback(O=>{L.current=O},[]),children:i.jsx(q,{...G,children:i.jsx(L3,{asChild:!0,trapped:s,onMountAutoFocus:Ft(a,O=>{var K;O.preventDefault(),(K=k.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Gy,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,children:i.jsx(jM,{asChild:!0,...S,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:A,onEntryFocus:Ft(c,O=>{x.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(NI,{role:"menu","aria-orientation":"vertical","data-state":_J(y.open),"data-radix-menu-content":"",dir:x.dir,...w,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:Ft(g.onKeyDown,O=>{const Y=O.target.closest("[data-radix-menu-content]")===O.currentTarget,D=O.ctrlKey||O.altKey||O.metaKey,Z=O.key.length===1;Y&&(O.key==="Tab"&&O.preventDefault(),!D&&Z&&W(O.key));const ie=k.current;if(O.target!==ie||!G4e.includes(O.key))return;O.preventDefault();const J=N().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);sJ.includes(O.key)&&J.reverse(),h3e(J)}),onBlur:Ft(t.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(T.current),R.current="")}),onPointerMove:Ft(t.onPointerMove,x2(O=>{const K=O.target,Y=$.current!==O.clientX;if(O.currentTarget.contains(K)&&Y){const D=O.clientX>$.current?"right":"left";U.current=D,$.current=O.clientX}}))})})})})})})});uJ.displayName=vu;var n3e="MenuGroup",UM=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(ir.div,{role:"group",...n,ref:e})});UM.displayName=n3e;var s3e="MenuLabel",dJ=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(ir.div,{...n,ref:e})});dJ.displayName=s3e;var PN="MenuItem",BD="menu.itemSelect",lC=b.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,a=b.useRef(null),o=Iw(PN,t.__scopeMenu),l=$M(PN,t.__scopeMenu),c=Lr(e,a),u=b.useRef(!1),d=()=>{const h=a.current;if(!r&&h){const p=new CustomEvent(BD,{bubbles:!0,cancelable:!0});h.addEventListener(BD,f=>n==null?void 0:n(f),{once:!0}),aI(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(hJ,{...s,ref:c,disabled:r,onClick:Ft(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),u.current=!0},onPointerUp:Ft(t.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Ft(t.onKeyDown,h=>{const p=l.searchRef.current!=="";r||p&&h.key===" "||y8.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});lC.displayName=PN;var hJ=b.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=t,o=$M(PN,r),l=aJ(r),c=b.useRef(null),u=Lr(e,c),[d,h]=b.useState(!1),[p,f]=b.useState("");return b.useEffect(()=>{const m=c.current;m&&f((m.textContent??"").trim())},[a.children]),i.jsx(g2.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:i.jsx(SM,{asChild:!0,...l,focusable:!n,children:i.jsx(ir.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Ft(t.onPointerMove,x2(m=>{n?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ft(t.onPointerLeave,x2(m=>o.onItemLeave(m))),onFocus:Ft(t.onFocus,()=>h(!0)),onBlur:Ft(t.onBlur,()=>h(!1))})})})}),i3e="MenuCheckboxItem",fJ=b.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return i.jsx(yJ,{scope:t.__scopeMenu,checked:r,children:i.jsx(lC,{role:"menuitemcheckbox","aria-checked":EN(r)?"mixed":r,...s,ref:e,"data-state":GM(r),onSelect:Ft(s.onSelect,()=>n==null?void 0:n(EN(r)?!0:!r),{checkForDefaultPrevented:!1})})})});fJ.displayName=i3e;var pJ="MenuRadioGroup",[a3e,o3e]=rx(pJ,{value:void 0,onValueChange:()=>{}}),mJ=b.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,a=Li(n);return i.jsx(a3e,{scope:t.__scopeMenu,value:r,onValueChange:a,children:i.jsx(UM,{...s,ref:e})})});mJ.displayName=pJ;var gJ="MenuRadioItem",xJ=b.forwardRef((t,e)=>{const{value:r,...n}=t,s=o3e(gJ,t.__scopeMenu),a=r===s.value;return i.jsx(yJ,{scope:t.__scopeMenu,checked:a,children:i.jsx(lC,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":GM(a),onSelect:Ft(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});xJ.displayName=gJ;var WM="MenuItemIndicator",[yJ,l3e]=rx(WM,{checked:!1}),vJ=b.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,a=l3e(WM,r);return i.jsx(Fa,{present:n||EN(a.checked)||a.checked===!0,children:i.jsx(ir.span,{...s,ref:e,"data-state":GM(a.checked)})})});vJ.displayName=WM;var c3e="MenuSeparator",bJ=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(ir.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});bJ.displayName=c3e;var u3e="MenuArrow",wJ=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=oC(r);return i.jsx(CI,{...s,...n,ref:e})});wJ.displayName=u3e;var d3e="MenuSub",[Xrt,jJ]=rx(d3e),q1="MenuSubTrigger",SJ=b.forwardRef((t,e)=>{const r=nx(q1,t.__scopeMenu),n=Iw(q1,t.__scopeMenu),s=jJ(q1,t.__scopeMenu),a=$M(q1,t.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(FM,{asChild:!0,...u,children:i.jsx(hJ,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":_J(r.open),...t,ref:Af(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ft(t.onPointerMove,x2(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ft(t.onPointerLeave,x2(h=>{var f,m;d();const p=(f=r.content)==null?void 0:f.getBoundingClientRect();if(p){const g=(m=r.content)==null?void 0:m.dataset.side,y=g==="right",x=y?-5:5,w=p[y?"left":"right"],S=p[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:w,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:w,y:p.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ft(t.onKeyDown,h=>{var f;const p=a.searchRef.current!=="";t.disabled||p&&h.key===" "||H4e[n.dir].includes(h.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),h.preventDefault())})})})});SJ.displayName=q1;var NJ="MenuSubContent",CJ=b.forwardRef((t,e)=>{const r=lJ(vu,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=nx(vu,t.__scopeMenu),o=Iw(vu,t.__scopeMenu),l=jJ(NJ,t.__scopeMenu),c=b.useRef(null),u=Lr(e,c);return i.jsx(g2.Provider,{scope:t.__scopeMenu,children:i.jsx(Fa,{present:n||a.open,children:i.jsx(g2.Slot,{scope:t.__scopeMenu,children:i.jsx(zM,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ft(t.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ft(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ft(t.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),p=V4e[o.dir].includes(d.key);h&&p&&(a.onOpenChange(!1),(f=l.trigger)==null||f.focus(),d.preventDefault())})})})})})});CJ.displayName=NJ;function _J(t){return t?"open":"closed"}function EN(t){return t==="indeterminate"}function GM(t){return EN(t)?"indeterminate":t?"checked":"unchecked"}function h3e(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function f3e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function p3e(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=f3e(t,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function m3e(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function g3e(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return m3e(r,e)}function x2(t){return e=>e.pointerType==="mouse"?t(e):void 0}var x3e=oJ,y3e=FM,v3e=cJ,b3e=uJ,w3e=UM,j3e=dJ,S3e=lC,N3e=fJ,C3e=mJ,_3e=xJ,A3e=vJ,k3e=bJ,P3e=wJ,E3e=SJ,T3e=CJ,cC="DropdownMenu",[I3e]=ma(cC,[iJ]),ml=iJ(),[M3e,AJ]=I3e(cC),kJ=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=ml(e),u=b.useRef(null),[d,h]=cl({prop:s,defaultProp:a??!1,onChange:o,caller:cC});return i.jsx(M3e,{scope:e,triggerId:vc(),triggerRef:u,contentId:vc(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(p=>!p),[h]),modal:l,children:i.jsx(x3e,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};kJ.displayName=cC;var PJ="DropdownMenuTrigger",EJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,a=AJ(PJ,r),o=ml(r);return i.jsx(y3e,{asChild:!0,...o,children:i.jsx(ir.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Af(e,a.triggerRef),onPointerDown:Ft(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ft(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});EJ.displayName=PJ;var O3e="DropdownMenuPortal",TJ=t=>{const{__scopeDropdownMenu:e,...r}=t,n=ml(e);return i.jsx(v3e,{...n,...r})};TJ.displayName=O3e;var IJ="DropdownMenuContent",MJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=AJ(IJ,r),a=ml(r),o=b.useRef(!1);return i.jsx(b3e,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:e,onCloseAutoFocus:Ft(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ft(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MJ.displayName=IJ;var L3e="DropdownMenuGroup",R3e=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ml(r);return i.jsx(w3e,{...s,...n,ref:e})});R3e.displayName=L3e;var D3e="DropdownMenuLabel",OJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ml(r);return i.jsx(j3e,{...s,...n,ref:e})});OJ.displayName=D3e;var F3e="DropdownMenuItem",LJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ml(r);return i.jsx(S3e,{...s,...n,ref:e})});LJ.displayName=F3e;var B3e="DropdownMenuCheckboxItem",RJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ml(r);return i.jsx(N3e,{...s,...n,ref:e})});RJ.displayName=B3e;var $3e="DropdownMenuRadioGroup",z3e=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ml(r);return i.jsx(C3e,{...s,...n,ref:e})});z3e.displayName=$3e;var U3e="DropdownMenuRadioItem",DJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ml(r);return i.jsx(_3e,{...s,...n,ref:e})});DJ.displayName=U3e;var W3e="DropdownMenuItemIndicator",FJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ml(r);return i.jsx(A3e,{...s,...n,ref:e})});FJ.displayName=W3e;var G3e="DropdownMenuSeparator",BJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ml(r);return i.jsx(k3e,{...s,...n,ref:e})});BJ.displayName=G3e;var H3e="DropdownMenuArrow",V3e=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ml(r);return i.jsx(P3e,{...s,...n,ref:e})});V3e.displayName=H3e;var q3e="DropdownMenuSubTrigger",$J=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ml(r);return i.jsx(E3e,{...s,...n,ref:e})});$J.displayName=q3e;var Y3e="DropdownMenuSubContent",zJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=ml(r);return i.jsx(T3e,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zJ.displayName=Y3e;var X3e=kJ,K3e=EJ,Z3e=TJ,UJ=MJ,WJ=OJ,GJ=LJ,HJ=RJ,VJ=DJ,qJ=FJ,YJ=BJ,XJ=$J,KJ=zJ;const HM=X3e,VM=K3e,Q3e=b.forwardRef(({className:t,inset:e,children:r,...n},s)=>i.jsxs(XJ,{ref:s,className:dt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,i.jsx(gs,{className:"ml-auto h-4 w-4"})]}));Q3e.displayName=XJ.displayName;const J3e=b.forwardRef(({className:t,...e},r)=>i.jsx(KJ,{ref:r,className:dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));J3e.displayName=KJ.displayName;const uC=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(Z3e,{children:i.jsx(UJ,{ref:n,sideOffset:e,className:dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));uC.displayName=UJ.displayName;const oh=b.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(GJ,{ref:n,className:dt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));oh.displayName=GJ.displayName;const eCe=b.forwardRef(({className:t,children:e,checked:r,...n},s)=>i.jsxs(HJ,{ref:s,className:dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(qJ,{children:i.jsx(Gi,{className:"h-4 w-4"})})}),e]}));eCe.displayName=HJ.displayName;const tCe=b.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(VJ,{ref:n,className:dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(qJ,{children:i.jsx(uI,{className:"h-2 w-2 fill-current"})})}),e]}));tCe.displayName=VJ.displayName;const ZJ=b.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(WJ,{ref:n,className:dt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));ZJ.displayName=WJ.displayName;const y2=b.forwardRef(({className:t,...e},r)=>i.jsx(YJ,{ref:r,className:dt("-mx-1 my-1 h-px bg-muted",t),...e}));y2.displayName=YJ.displayName;const mm=({children:t})=>{const{user:e,logout:r,isAdmin:n}=Ba(),{stores:s,selectedStore:a,selectStoreById:o,loading:l}=ev(),c=Vi(),u=d=>c.pathname===d||c.pathname.startsWith(d+"/");return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs("aside",{className:"fixed left-0 top-0 h-full w-64 border-r bg-card p-6",children:[i.jsx(_t,{to:"/",className:"flex items-center space-x-2 mb-4",children:i.jsxs("span",{className:"font-heading text-xl font-bold text-foreground",children:["Shelf",i.jsx("span",{className:"text-primary",children:"Merch"})]})}),i.jsx("div",{className:"pb-4 mb-4 border-b",children:l?i.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading stores..."}):s.length>0?i.jsxs(HM,{children:[i.jsx(VM,{asChild:!0,children:i.jsxs(pe,{variant:"ghost",className:"w-full justify-between px-2 py-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Lo,{className:"h-4 w-4"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-sm",children:(a==null?void 0:a.storeName)||"Select Store"}),a&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.subdomain,".shelfmerch.com"]})]})]}),i.jsx(gu,{className:"h-4 w-4"})]})}),i.jsxs(uC,{align:"start",className:"w-64",children:[i.jsx(ZJ,{children:"Switch Store"}),i.jsx(y2,{}),s.map(d=>{const h=a&&(a.id===d.id||a._id===d._id||a.id===d._id||a._id===d.id);return i.jsxs(oh,{onClick:()=>o(d.id||d._id||""),className:"flex items-center justify-between cursor-pointer",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:d.storeName}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[d.subdomain,".shelfmerch.com"]})]}),h&&i.jsx(Gi,{className:"h-4 w-4"})]},d.id||d._id)}),i.jsx(y2,{}),i.jsx(oh,{asChild:!0,children:i.jsxs(_t,{to:"/stores",className:"cursor-pointer",children:[i.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Manage Stores"]})})]})]}):i.jsxs("p",{className:"text-xs text-muted-foreground",children:["No stores yet. ",i.jsx(_t,{to:"/stores",className:"underline",children:"Create one"}),"."]})}),i.jsxs("nav",{className:"space-y-2",children:[i.jsx(pe,{variant:u("/dashboard")?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/dashboard",children:[i.jsx(Sr,{className:"mr-2 h-4 w-4"}),"My Products"]})}),i.jsx(pe,{variant:u("/orders")?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/orders",children:[i.jsx(pc,{className:"mr-2 h-4 w-4"}),"Orders"]})}),i.jsx(pe,{variant:u("/invoices")?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/invoices",children:[i.jsx(xu,{className:"mr-2 h-4 w-4"}),"Wallet & Invoices"]})}),i.jsx(pe,{variant:u("/customers")?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/customers",children:[i.jsx(xh,{className:"mr-2 h-4 w-4"}),"Customers"]})}),i.jsx(pe,{variant:u("/stores")?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/stores",children:[i.jsx(Lo,{className:"mr-2 h-4 w-4"}),"Manage Stores"]})}),i.jsx(pe,{variant:u("/analytics")?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/analytics",children:[i.jsx(kf,{className:"mr-2 h-4 w-4"}),"Analytics"]})}),n&&i.jsx(pe,{variant:u("/admin")?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/admin",children:[i.jsx(xh,{className:"mr-2 h-4 w-4"}),"Admin Panel"]})}),i.jsx(pe,{variant:u("/settings")?"secondary":"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/settings",children:[i.jsx(iy,{className:"mr-2 h-4 w-4"}),"Settings"]})})]}),i.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:i.jsxs("div",{className:"border-t pt-4 space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Signed in as"}),i.jsx("p",{className:"text-sm font-medium",children:e==null?void 0:e.email}),i.jsxs(pe,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive",onClick:r,children:[i.jsx(g3,{className:"mr-2 h-4 w-4"}),"Log out"]})]})})]}),i.jsx("main",{className:"ml-64 p-8",children:t})]})},rCe=()=>{const{selectedStore:t,stores:e}=ev(),r=rs(),[n,s]=b.useState([]),[a,o]=b.useState([]),[l,c]=b.useState(null),[u,d]=b.useState([]),[h,p]=b.useState([]),[f,m]=b.useState(null),[g,y]=b.useState(!1),[x,w]=b.useState({}),[S,N]=b.useState(!1),[C,A]=b.useState(null),[k,E]=b.useState([]),T=b.useMemo(()=>"products_storage",[]);b.useEffect(()=>{const q=()=>{const B=tv("default");if(s(B),T){const O=localStorage.getItem(T)||"",K=O?new Blob([O]).size:0,Y=5*1024*1024;c({used:K,limit:Y})}};q();const G=B=>{var K;const O=B;(!((K=O.detail)!=null&&K.type)||O.detail.type==="product")&&q()},W=()=>{q()};return window.addEventListener("shelfmerch-data-update",G),window.addEventListener("storage",W),()=>{window.removeEventListener("shelfmerch-data-update",G),window.removeEventListener("storage",W)}},[T]),b.useEffect(()=>{(async()=>{try{y(!0);const G=await La.list(x);if(G.success){let W=G.data||[];if(t){const B=t.id||t._id;W=W.filter(O=>{var Y,D,Z;const K=((D=(Y=O.storeId)==null?void 0:Y._id)==null?void 0:D.toString())||((Z=O.storeId)==null?void 0:Z.toString())||O.storeId;return K===B||K===t._id||K===t.id})}d(W)}}catch(G){console.error("Failed to load store products",G)}finally{y(!1)}})()},[x,t]),b.useEffect(()=>{let q=!0;return(async()=>{try{y(!0);const W=await cf.listForMerchant();if(q){let B=W||[];if(t){const O=t.id||t._id;B=W.filter(K=>{var D;const Y=(D=K.storeId)==null?void 0:D.toString();return Y===O||Y===t._id||Y===t.id})}p(B)}}catch(W){q&&m((W==null?void 0:W.message)||"Failed to load orders")}finally{q&&y(!1)}})(),()=>{q=!1}},[t]);const R=async(q,G)=>{try{const W=await La.update(q,G);W.success&&d(B=>B.map(O=>O._id===q?W.data:O))}catch(W){console.error("Update failed",W)}};console.log(h);const I=q=>{var G,W,B,O,K;if(e.length>1){A(q);const Y=(t==null?void 0:t.id)||(t==null?void 0:t._id)||((W=(G=q.storeId)==null?void 0:G._id)==null?void 0:W.toString())||((B=q.storeId)==null?void 0:B.toString())||((O=e[0])==null?void 0:O.id)||((K=e[0])==null?void 0:K._id);E(Y?[Y]:[]),N(!0)}else e.length===1?R(q._id,{status:"published"}):$e.error("Please create a store first")},L=async()=>{if(!(!C||k.length===0))try{const q=k.map(async G=>{var W;if(C.storeId===G)return R(C._id,{status:"published"});{const B={storeId:G,catalogProductId:C.catalogProductId,sellingPrice:C.sellingPrice,compareAtPrice:C.compareAtPrice,title:C.title,description:C.description,tags:C.tags,status:"published",galleryImages:C.galleryImages,designData:C.designData,variants:(W=C.variants)==null?void 0:W.map(K=>({catalogProductVariantId:K.catalogProductVariantId||K.id,sku:K.sku,sellingPrice:K.sellingPrice,isActive:K.isActive!==!1}))},O=await La.create(B);return O.success&&d(K=>[O.data,...K]),O}});await Promise.all(q)}catch(q){console.error("Publish failed",q)}finally{N(!1),A(null),E([])}},U=async q=>{try{(await La.delete(q)).success&&d(W=>W.filter(B=>B._id!==q))}catch(G){console.error("Delete failed",G)}},$=[{label:"Total Orders",value:`${h.length}`,icon:pc,color:"text-primary"},{label:"Products",value:`${u.length}`,icon:Sr,color:"text-blue-500"},{label:"Revenue",value:`$${h.reduce((q,G)=>q+(G.total||0),0).toFixed(2)}`,icon:p3,color:"text-green-500"},{label:"Profit",value:"$0",icon:kf,color:"text-purple-500"}];return i.jsx(mm,{children:i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-4 mb-2",children:i.jsx("h1",{className:"text-3xl font-bold",children:"Welcome back!"})}),i.jsx("p",{className:"text-muted-foreground",children:t?`Here's what's happening with ${t.storeName} today.`:"Select a store from the sidebar to view its dashboard."})]}),i.jsx(_t,{to:"/products",children:i.jsxs(pe,{size:"lg",className:"gap-2",children:[i.jsx(ha,{className:"h-5 w-5"}),"Create New Product"]})})]}),t&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:$.map(q=>i.jsx(Ze,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:q.label}),i.jsx("p",{className:"text-3xl font-bold",children:q.value})]}),i.jsx(q.icon,{className:`h-8 w-8 ${q.color}`})]})},q.label))}),!t&&i.jsxs(Ze,{className:"p-12 text-center mb-8",children:[i.jsx(Sr,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No Store Selected"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Select a store from the sidebar to view its dashboard."})]}),t&&u.length>0?i.jsxs(Ze,{className:"p-0 overflow-hidden",children:[i.jsxs("div",{className:"px-6 pt-6 pb-4 flex flex-col gap-2",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Your Products"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage drafts saved from the designer. Publish them to your storefront when ready."})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-t text-sm",children:[i.jsx("thead",{className:"bg-muted/60 text-muted-foreground",children:i.jsxs("tr",{className:"text-left",children:[i.jsx("th",{className:"px-6 py-3",children:i.jsx(Un,{checked:a.length===u.length&&u.length>0,onCheckedChange:q=>o(q?u.map(G=>G._id):[]),"aria-label":"Select all products"})}),i.jsx("th",{className:"px-2 py-3 font-medium",children:"Product"}),i.jsx("th",{className:"px-2 py-3 font-medium hidden md:table-cell",children:"Created"}),i.jsx("th",{className:"px-2 py-3 font-medium hidden lg:table-cell",children:"Price"}),i.jsx("th",{className:"px-2 py-3 font-medium hidden lg:table-cell",children:"Mockup"}),i.jsx("th",{className:"px-2 py-3 font-medium text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y",children:u.map(q=>{var K;const G=((K=q.designData)==null?void 0:K.previewImagesByView)||q.previewImagesByView||{},B=Object.values(G).filter(Y=>typeof Y=="string"&&Y.length>0)[0]||void 0,O=a.includes(q._id);return i.jsxs("tr",{className:"hover:bg-muted/20 transition-colors",children:[i.jsx("td",{className:"px-6 py-3 align-middle",children:i.jsx(Un,{checked:O,onCheckedChange:Y=>o(D=>Y?[...new Set([...D,q._id])]:D.filter(Z=>Z!==q._id)),"aria-label":`Select ${q.title||"Untitled"}`})}),i.jsx("td",{className:"px-2 py-4 align-middle",children:i.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>r(`/designer/${q.catalogProductId}`),onKeyDown:Y=>{(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),r(`/designer/${q.catalogProductId}`))},role:"button",tabIndex:0,children:[i.jsx("div",{className:"h-14 w-14 rounded-md border bg-muted overflow-hidden flex items-center justify-center",children:B?i.jsx("img",{src:B,alt:q.title||"Untitled",className:"h-full w-full object-cover"}):i.jsx(Sr,{className:"h-6 w-6 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium leading-tight line-clamp-1",children:q.title||"Untitled"}),i.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-1",children:["Status: ",q.status]})]})]})}),i.jsx("td",{className:"px-2 py-4 align-middle hidden md:table-cell text-muted-foreground",children:new Date(q.createdAt).toLocaleDateString()}),i.jsxs("td",{className:"px-2 py-4 align-middle hidden lg:table-cell text-muted-foreground",children:["$",(q.sellingPrice??0).toFixed(2)]}),i.jsx("td",{className:"px-2 py-4 align-middle hidden lg:table-cell text-muted-foreground",children:B?"Preview saved":"No mockup"}),i.jsx("td",{className:"px-2 py-4 align-middle",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[q.status==="draft"?i.jsx(pe,{size:"sm",variant:"outline",onClick:()=>I(q),children:"Publish"}):i.jsx(pe,{size:"sm",variant:"secondary",onClick:()=>R(q._id,{status:"draft"}),children:"Mark Draft"}),i.jsx(pe,{size:"sm",variant:"outline",onClick:()=>R(q._id,{isActive:!q.isActive}),children:q.isActive?"Deactivate":"Activate"}),i.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>r(`/designer/${q.catalogProductId}`),children:"Edit"}),i.jsx(pe,{size:"sm",variant:"destructive",onClick:()=>U(q._id),children:"Delete"})]})})]},q._id)})})]})}),a.length>0&&i.jsxs("div",{className:"border-t bg-muted/40 px-6 py-4 text-sm text-muted-foreground flex flex-wrap items-center gap-3",children:[i.jsxs("span",{children:[a.length," selected"]}),i.jsx("span",{className:"text-xs",children:"Use the actions above to publish, deactivate, or delete."})]})]}):t?i.jsxs(Ze,{className:"p-12 text-center",children:[i.jsx(Sr,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No products yet"}),i.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Start by creating your first product. Choose from our catalog and customize it with your designs."}),i.jsx(_t,{to:"/products",children:i.jsx(pe,{size:"lg",children:"Browse Product Catalog"})})]}):null,i.jsx(dl,{open:S,onOpenChange:N,children:i.jsxs(Fo,{children:[i.jsxs(Bo,{children:[i.jsx($o,{children:"Publish Product"}),i.jsxs(vh,{children:['Choose which stores to publish "',C==null?void 0:C.title,'" to.']})]}),i.jsx("div",{className:"py-4 space-y-3",children:e.map(q=>{const G=q.id||q._id||"";return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:`store-${G}`,checked:k.includes(G),onCheckedChange:W=>{E(B=>W?[...B,G]:B.filter(O=>O!==G))}}),i.jsxs("label",{htmlFor:`store-${G}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex items-center gap-2",children:[i.jsx("span",{children:q.storeName}),t&&(t.id===G||t._id===G)&&i.jsx(Ot,{variant:"secondary",className:"text-xs",children:"Current"})]})]},G)})}),i.jsxs(Xg,{children:[i.jsx(pe,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),i.jsxs(pe,{onClick:L,disabled:k.length===0,children:["Publish to ",k.length," Store",k.length!==1?"s":""]})]})]})})]})})},nCe=()=>{const{selectedStore:t}=ev(),[e,r]=b.useState([]),[n,s]=b.useState(!0),[a,o]=b.useState(null);b.useEffect(()=>{let c=!0;return(async()=>{try{s(!0);const d=await cf.listForMerchant();if(!c)return;let h=d||[];if(t){const p=t.id||t._id;h=h.filter(f=>{var g,y,x;const m=((y=(g=f.storeId)==null?void 0:g._id)==null?void 0:y.toString())||((x=f.storeId)==null?void 0:x.toString())||f.storeId;return m===p||m===t._id||m===t.id})}r(h)}catch(d){c&&o((d==null?void 0:d.message)||"Failed to load orders")}finally{c&&s(!1)}})(),()=>{c=!1}},[t]);const l=c=>{switch(c){case"paid":return"bg-green-500/10 text-green-500";case"fulfilled":return"bg-blue-500/10 text-blue-500";case"on-hold":return"bg-yellow-500/10 text-yellow-500";case"cancelled":return"bg-red-500/10 text-red-500";case"refunded":return"bg-purple-500/10 text-purple-500";default:return"bg-muted text-muted-foreground"}};return i.jsx(mm,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Orders"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Track and manage all your customer orders"})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(rt,{placeholder:"Search orders...",className:"pl-10"})]})}),a&&i.jsx("p",{className:"mb-4 text-sm text-destructive",children:a}),n?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading orders..."}):e.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No orders found yet."}):i.jsx(Ze,{className:"overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-muted/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Order ID"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Product"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Customer"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Amount"})]})}),i.jsx("tbody",{className:"divide-y",children:e.map(c=>i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[i.jsxs("td",{className:"px-6 py-4 text-sm font-medium",children:["#",c._id||c.id||"N/A"]}),i.jsx("td",{className:"px-6 py-4 text-sm",children:c.items&&c.items.length>0?c.items[0].productName||`${c.items.length} items`:"No items"}),i.jsx("td",{className:"px-6 py-4 text-sm",children:c.customerEmail}),i.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:c.createdAt?new Date(c.createdAt).toLocaleDateString():"-"}),i.jsx("td",{className:"px-6 py-4",children:i.jsx(Ot,{className:l(c.status),children:c.status})}),i.jsx("td",{className:"px-6 py-4 text-sm font-semibold",children:c.total!==void 0?`$${c.total.toFixed(2)}`:"-"})]},c._id||c.id||`order-${Math.random()}`))})]})})})]})})},QJ=t=>{if(uS.includes("localhost"))return`${uS}/store/${t}`;const e=new URL(uS).hostname;return`https://${t}.${e}`};var sCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iCe=sCe.reduce((t,e)=>{const r=LI(`Primitive.${e}`),n=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),aCe="Separator",$D="horizontal",oCe=["horizontal","vertical"],JJ=b.forwardRef((t,e)=>{const{decorative:r,orientation:n=$D,...s}=t,a=lCe(n)?n:$D,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(iCe.div,{"data-orientation":a,...l,...s,ref:e})});JJ.displayName=aCe;function lCe(t){return oCe.includes(t)}var eee=JJ;const ln=b.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>i.jsx(eee,{ref:s,decorative:r,orientation:e,className:dt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));ln.displayName=eee.displayName;const Ql=({name:t,icon:e,isNew:r})=>i.jsxs(pe,{variant:"outline",className:"h-14 justify-start px-4 gap-3 relative hover:border-primary/50 hover:bg-muted/50 transition-all group",children:[e||i.jsx("div",{className:"w-6 h-6 rounded-full bg-muted-foreground/20 flex items-center justify-center text-xs font-bold text-muted-foreground",children:"?"}),i.jsx("span",{className:"font-semibold text-lg",children:t}),r&&i.jsx(Ot,{variant:"secondary",className:"absolute top-2 right-2 text-[10px] h-4 px-1.5 bg-blue-100 text-blue-700 hover:bg-blue-100",children:"New"})]}),cCe=()=>{const{user:t,logout:e,isAdmin:r}=Ba(),n=rs(),a=Vi().state,[o,l]=b.useState([]),[c,u]=b.useState(!0),[d,h]=b.useState(!1),[p,f]=b.useState(!1),[m,g]=b.useState(!1),[y,x]=b.useState(""),[w,S]=b.useState(""),[N,C]=b.useState(!1);b.useEffect(()=>{(async()=>{try{u(!0);const R=await ua.listMyStores();R.success&&l(R.data||[])}catch(R){console.error("Error fetching stores:",R)}finally{u(!1)}})()},[]);const A=async()=>{var T;f(!0);try{const R=`Store ${new Date().toLocaleDateString().replace(/\//g,"-")}`,I=await ua.create({name:R,description:"My ShelfMerch Pop-Up Store"});if(!I.success||!I.data)throw new Error(I.message||"Failed to create store");const L=I.data;if($e.success("ShelfMerch Pop-Up store created!"),a&&a.productId&&a.variantRows){const U=$e.loading("Publishing product to your new store...");try{const $=a.variantRows.filter(W=>W.id).map(W=>({catalogProductVariantId:W.id,sku:W.sku,sellingPrice:W.retailPrice,isActive:!0})),q=a.baseSellingPrice??((T=a.variantRows[0])==null?void 0:T.retailPrice)??0,G=await La.create({storeId:L.id,catalogProductId:a.productId,sellingPrice:q,title:a.title,description:a.description,galleryImages:a.galleryImages,designData:a.designData,variants:$.length>0?$:void 0});$e.dismiss(U),G.success?($e.success("Product published successfully!"),n("/dashboard")):$e.error("Store created, but product publishing failed: "+G.message)}catch($){$e.dismiss(U),console.error("Publishing error",$),$e.error("Store created, but product publishing failed.")}}else n("/dashboard")}catch(R){console.error("Error launching store:",R),$e.error(R.message||"Failed to launch store")}finally{f(!1)}},k=T=>{$e.info(`Integration with ${T} is coming soon!`)},E=async()=>{if(!y.trim()){$e.error("Please enter a store name");return}C(!0);try{const T=await ua.create({name:y.trim(),description:w.trim()||"My ShelfMerch Store"});if(!T.success||!T.data)throw new Error(T.message||"Failed to create store");const R=T.data;$e.success("Store created successfully!");const I=await ua.listMyStores();I.success&&l(I.data||[]),x(""),S(""),g(!1)}catch(T){console.error("Error creating store:",T),$e.error(T.message||"Failed to create store")}finally{C(!1)}};return i.jsxs("div",{className:"min-h-screen bg-background flex",children:[i.jsxs("aside",{className:"hidden lg:block w-64 border-r bg-muted/10 p-6 space-y-8 sticky top-0 h-screen overflow-y-auto",children:[i.jsx(_t,{to:"/",className:"flex items-center space-x-2",children:i.jsxs("span",{className:"font-heading text-xl font-bold text-foreground",children:["Shelf",i.jsx("span",{className:"text-primary",children:"Merch"})]})}),i.jsxs("nav",{className:"space-y-2",children:[i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/dashboard",children:[i.jsx(Sr,{className:"mr-2 h-4 w-4"}),"My Products"]})}),i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/orders",children:[i.jsx(pc,{className:"mr-2 h-4 w-4"}),"Orders"]})}),i.jsxs(pe,{variant:"secondary",className:"w-full justify-start",children:[i.jsx(Lo,{className:"mr-2 h-4 w-4"}),"My Stores"]}),i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/analytics",children:[i.jsx(kf,{className:"mr-2 h-4 w-4"}),"Analytics"]})}),r&&i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/admin",children:[i.jsx(xh,{className:"mr-2 h-4 w-4"}),"Admin Panel"]})}),i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/settings",children:[i.jsx(iy,{className:"mr-2 h-4 w-4"}),"Settings"]})})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2 px-2",children:"Signed in as"}),i.jsx("p",{className:"text-sm font-medium px-2 truncate mb-4",children:t==null?void 0:t.email}),i.jsxs(pe,{variant:"ghost",className:"w-full justify-start text-destructive",onClick:e,children:[i.jsx(g3,{className:"mr-2 h-4 w-4"})," Log out"]})]})]}),i.jsx("main",{className:"flex-1 p-8 lg:p-12 max-w-[1600px] mx-auto overflow-y-auto",children:i.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[!c&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"My Stores"}),i.jsxs(pe,{onClick:()=>g(!0),className:"gap-2",children:[i.jsx(ha,{className:"h-4 w-4"}),"Create New Store"]})]}),o.length===0?i.jsxs(Ze,{className:"p-12 text-center",children:[i.jsx(Lo,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No stores yet"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Create your first store to start selling your products"}),i.jsxs(pe,{onClick:()=>g(!0),className:"gap-2",children:[i.jsx(ha,{className:"h-4 w-4"}),"Create Your First Store"]})]}):i.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:o.map(T=>i.jsxs(Ze,{className:"p-6 flex flex-col justify-between gap-4 border-l-4 border-l-primary",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg",children:T.storeName}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.subdomain,".shelfmerch.com"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[T.useBuilder&&i.jsxs(Ot,{variant:"secondary",className:"text-xs flex items-center gap-1 bg-green-100 text-green-700 border-green-200",children:[i.jsx(al,{className:"w-3 h-3"}),"Builder"]}),i.jsx(Ot,{variant:"outline",className:"text-xs",children:"Active"})]})]}),T.builderLastPublishedAt&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last published: ",new Date(T.builderLastPublishedAt).toLocaleDateString()]}),i.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pe,{variant:"outline",size:"sm",className:"flex-1",asChild:!0,children:i.jsxs("a",{href:QJ(T.subdomain),target:"_blank",rel:"noreferrer",children:[i.jsx(Vy,{className:"w-4 h-4 mr-2"}),"Visit Store"]})}),i.jsx(pe,{variant:"default",size:"sm",className:"flex-1",onClick:()=>$e.info("Dashboard coming soon"),children:"Dashboard"})]}),i.jsxs(pe,{variant:"secondary",size:"sm",className:"w-full",onClick:()=>n(`/stores/${T.id}/builder`),children:[i.jsx(EV,{className:"w-4 h-4 mr-2"}),"Customize Storefront"]})]})]},T.id))})]}),i.jsx(ln,{className:"my-8"}),i.jsx("div",{className:"text-center space-y-4",children:i.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Let's connect your store!"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"Already have a sales channel? Connect your store now."}),i.jsx("p",{className:"text-muted-foreground",children:"Choose a sales channel below to connect your store."}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[i.jsx("div",{onClick:()=>k("Etsy"),children:i.jsx(Ql,{name:"Etsy",icon:i.jsx("span",{className:"text-[#F1641E] font-serif font-bold text-xl",children:"Etsy"})})}),i.jsx("div",{onClick:()=>k("Shopify"),children:i.jsx(Ql,{name:"Shopify",icon:i.jsx(pc,{className:"text-[#95BF47] fill-current"})})}),i.jsx("div",{onClick:()=>k("TikTok"),children:i.jsx(Ql,{name:"TikTok",icon:i.jsx("span",{className:"font-bold text-xl bg-clip-text text-transparent bg-gradient-to-r from-[#25F4EE] to-[#FE2C55]",children:"TikTok"})})}),i.jsx("div",{onClick:()=>k("Amazon"),children:i.jsx(Ql,{name:"Amazon",icon:i.jsx("span",{className:"font-bold text-lg",children:"amazon"})})}),i.jsx("div",{onClick:()=>A(),children:i.jsx(Ql,{name:"ShelfMerch Pop-Up",icon:i.jsx(Lo,{className:"text-primary"})})}),i.jsx("div",{onClick:()=>k("eBay"),children:i.jsx(Ql,{name:"eBay",icon:i.jsxs("span",{className:"font-bold text-xl",children:[i.jsx("span",{className:"text-[#E53238]",children:"e"}),i.jsx("span",{className:"text-[#0064D2]",children:"B"}),i.jsx("span",{className:"text-[#F5AF02]",children:"a"}),i.jsx("span",{className:"text-[#86B817]",children:"y"})]})})}),i.jsx("div",{onClick:()=>k("Big Cartel"),children:i.jsx(Ql,{name:"Big Cartel",isNew:!0,icon:i.jsx(pc,{})})}),i.jsx("div",{onClick:()=>k("Squarespace"),children:i.jsx(Ql,{name:"Squarespace",icon:i.jsx("span",{className:"font-bold text-lg",children:"Squarespace"})})}),i.jsx("div",{onClick:()=>k("Wix"),children:i.jsx(Ql,{name:"Wix",icon:i.jsx("span",{className:"font-bold text-xl",children:"Wix"})})}),i.jsx("div",{onClick:()=>k("WooCommerce"),children:i.jsx(Ql,{name:"WooCommerce",icon:i.jsx("span",{className:"font-bold text-lg text-[#96588A]",children:"Woo"})})}),i.jsx("div",{onClick:()=>k("BigCommerce"),children:i.jsx(Ql,{name:"BigCommerce",icon:i.jsx("span",{className:"font-bold text-lg",children:"B"})})}),i.jsx("div",{onClick:()=>k("PrestaShop"),children:i.jsx(Ql,{name:"PrestaShop",icon:i.jsx(pc,{className:"text-[#DD2968]"})})}),i.jsx("div",{onClick:()=>k("API"),children:i.jsx(Ql,{name:"API",icon:i.jsx(iy,{})})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-semibold",children:"No sales channel yet? We're here to help."}),i.jsx("p",{className:"text-muted-foreground",children:"Choose a sales channel that fits your business and needs."}),i.jsxs("div",{className:"grid gap-6",children:[i.jsxs(Ze,{className:"p-8 bg-muted/30 border-none shadow-sm flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:["ShelfMerch ",i.jsx("span",{className:"font-normal text-muted-foreground",children:"Pop-Up"})]}),i.jsx(Ot,{variant:"secondary",className:"bg-white/50 text-xs font-normal border",children:"Beta version"})]}),i.jsxs("p",{className:"text-muted-foreground max-w-2xl",children:["Start selling right away. No need to create a website, just send out a unique link to your friends, family, or followers.",i.jsx("a",{href:"#",className:"underline ml-1",children:"Learn more"})]})]}),i.jsx(pe,{size:"lg",className:"shrink-0 bg-[#343A40] text-white hover:bg-[#212529]",onClick:A,disabled:p,children:p?"Launching...":"Launch Pop-Up store"})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(Ze,{className:"p-6 bg-orange-50/50 border-orange-100 flex flex-col justify-between space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-xl font-bold text-[#F1641E]",children:["Etsy ",i.jsx("span",{className:"text-foreground",children:"Etsy"})]}),i.jsx(Ot,{className:"bg-muted text-muted-foreground hover:bg-muted font-normal",children:"Easy"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Etsy provides a fast and easy way to get started selling and reach over 96 million active buyers worldwide."}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-green-600",children:""})," Easy to set up and start selling"]}),i.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-green-600",children:""})," Large audience and traffic"]}),i.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-green-600",children:""})," Low listing fees"]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(pe,{className:"bg-[#222] text-white hover:bg-black",onClick:()=>k("Etsy"),children:"Connect to Etsy"}),i.jsx(pe,{variant:"outline",className:"border-[#222] text-[#222]",children:"Sign up"})]})]}),i.jsxs(Ze,{className:"p-6 bg-green-50/50 border-green-100 flex flex-col justify-between space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xl font-bold text-[#95BF47]",children:"Shopify"}),i.jsx(Ot,{className:"bg-muted text-muted-foreground hover:bg-muted font-normal",children:"Medium"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Shopify is perfect for established sellers wanting to expand their brand and business with easy setup and store creation tools."}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-green-600",children:""})," 3-day free trial"]}),i.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-green-600",children:""})," SEO & marketing tools"]}),i.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-green-600",children:""})," Customizable storefronts"]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(pe,{className:"bg-[#008060] text-white hover:bg-[#004C3F]",onClick:()=>k("Shopify"),children:"Connect to Shopify"}),i.jsx(pe,{variant:"outline",className:"border-[#008060] text-[#008060]",children:"Sign up"})]})]})]})]})]})]})}),i.jsx(dl,{open:m,onOpenChange:g,children:i.jsxs(Fo,{className:"sm:max-w-[500px]",children:[i.jsxs(Bo,{children:[i.jsx($o,{children:"Create New Store"}),i.jsx(vh,{children:"Create a new store to start selling your products. You can create as many stores as you need."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"storeName",children:"Store Name *"}),i.jsx(rt,{id:"storeName",value:y,onChange:T=>x(T.target.value),placeholder:"My Awesome Store",disabled:N}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be the display name of your store"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"storeDescription",children:"Description"}),i.jsx(rt,{id:"storeDescription",value:w,onChange:T=>S(T.target.value),placeholder:"A brief description of your store (optional)",disabled:N})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[i.jsx(pe,{variant:"outline",className:"flex-1",onClick:()=>{g(!1),x(""),S("")},disabled:N,children:"Cancel"}),i.jsx(pe,{className:"flex-1 gap-2",onClick:E,disabled:N||!y.trim(),children:N?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ha,{className:"h-4 w-4"}),"Create Store"]})})]})]})})]})},uCe=()=>{const{selectedStore:t}=ev(),[e,r]=b.useState([]),[n,s]=b.useState(!1),[a,o]=b.useState(null);b.useEffect(()=>{(async()=>{if(!t){r([]);return}try{s(!0),o(null);const m=await cf.listForMerchant(),g=(m==null?void 0:m.data)||m||[],y=t.id||t._id,x=g.filter(w=>{var N,C,A,k;const S=((C=(N=w.storeId)==null?void 0:N._id)==null?void 0:C.toString())||((A=w.storeId)==null?void 0:A._id)||((k=w.storeId)==null?void 0:k.toString())||w.storeId;return S===y||S===t._id||S===t.id});r(x)}catch(m){o((m==null?void 0:m.message)||"Failed to load analytics data")}finally{s(!1)}})()},[t]);const l=b.useMemo(()=>e.reduce((f,m)=>f+(m.total||0),0),[e]),c=e.length,u=b.useMemo(()=>e.reduce((f,m)=>{const y=(m.items||[]).reduce((x,w)=>x+(w.quantity||0),0);return f+y},0),[e]),d=b.useMemo(()=>e.length===0?0:e.length,[e]),h=b.useMemo(()=>d===0?"+0%":"+"+Math.round(c/Math.max(d,1)*100)+"%",[d,c]),p=[{label:"Total Revenue",value:`$${l.toFixed(2)}`,change:"+0%",icon:p3},{label:"Orders",value:String(c),change:"+0%",icon:pc},{label:"Products Sold",value:String(u),change:"+0%",icon:Sr},{label:"Store Views",value:String(d),change:h,icon:gh}];return i.jsx(mm,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Analytics"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:t?`Performance and insights for ${t.storeName}.`:"Select a store on the dashboard to see analytics."})]}),a&&i.jsx("p",{className:"mb-4 text-sm text-destructive",children:a}),t&&!n&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:p.map(f=>i.jsxs(Ze,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(f.icon,{className:"h-8 w-8 text-primary"}),i.jsx("span",{className:"text-sm font-medium text-green-500",children:f.change})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:f.label}),i.jsx("p",{className:"text-3xl font-bold",children:f.value})]},f.label))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ze,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Over Time"}),i.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"Chart coming soon"})]}),i.jsxs(Ze,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Products"}),i.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"Chart coming soon"})]})]})]})})},dCe=()=>{var p;const{selectedStore:t,refreshStores:e}=ev(),{user:r}=Ba(),[n,s]=b.useState(""),[a,o]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(!1);b.useEffect(()=>{var f;t?(s(t.description||""),o(t.theme||""),c(((f=t.settings)==null?void 0:f.primaryColor)||"")):(s(""),o(""),c(""))},[t==null?void 0:t.id,t==null?void 0:t._id,t==null?void 0:t.description,t==null?void 0:t.theme,(p=t==null?void 0:t.settings)==null?void 0:p.primaryColor]);const h=async()=>{if(!t)return;const f=t.id||t._id;if(f)try{d(!0),await ua.update(f,{description:n,theme:a||void 0,settings:{primaryColor:l||void 0}}),$e.success("Store settings updated"),await e()}catch(m){$e.error((m==null?void 0:m.message)||"Failed to update store settings")}finally{d(!1)}};return i.jsx(mm,{children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and preferences"})]}),i.jsxs(Ze,{className:"p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Store Settings"}),t?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{htmlFor:"storeName",children:"Store Name"}),i.jsx(rt,{id:"storeName",value:t.storeName||"",disabled:!0})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"storeSubdomain",children:"Subdomain"}),i.jsx(rt,{id:"storeSubdomain",value:t.subdomain||"",disabled:!0})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"storeTheme",children:"Theme"}),i.jsx(rt,{id:"storeTheme",value:a,onChange:f=>o(f.target.value),placeholder:"e.g. modern"})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"primaryColor",children:"Primary Color (hex)"}),i.jsx(rt,{id:"primaryColor",value:l,onChange:f=>c(f.target.value),placeholder:"#000000"})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"storeDescription",children:"Description"}),i.jsx("textarea",{id:"storeDescription",className:"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",rows:3,value:n,onChange:f=>s(f.target.value)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Store name and subdomain are managed in the Stores section. You can edit descriptive details here."}),i.jsx(pe,{size:"sm",onClick:h,disabled:u,children:u?"Saving...":"Save Store Settings"})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a store on the dashboard to view its settings."})]}),i.jsxs(Ze,{className:"p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profile Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{htmlFor:"name",children:"Full Name"}),i.jsx(rt,{id:"name",defaultValue:r==null?void 0:r.name})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"email",children:"Email"}),i.jsx(rt,{id:"email",type:"email",defaultValue:r==null?void 0:r.email,disabled:!0})]}),i.jsx(pe,{children:"Save Changes"})]})]}),i.jsxs(Ze,{className:"p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Notifications"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Order Updates"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when orders are placed"})]}),i.jsx(pe,{variant:"outline",size:"sm",children:"Enable"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Marketing Emails"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive tips and updates from ShelfMerch"})]}),i.jsx(pe,{variant:"outline",size:"sm",children:"Enable"})]})]})]}),i.jsxs(Ze,{className:"p-6 border-destructive",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-destructive",children:"Danger Zone"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Once you delete your account, there is no going back. Please be certain."}),i.jsx(pe,{variant:"destructive",children:"Delete Account"})]})})]})]})})},hCe=()=>{const{selectedStore:t}=ev(),[e,r]=b.useState([]),[n,s]=b.useState(!1),[a,o]=b.useState(null),[l,c]=b.useState(""),[u,d]=b.useState("orderCount"),[h,p]=b.useState("desc"),[f,m]=b.useState(1),g=20;b.useEffect(()=>{(async()=>{if(!t){r([]);return}s(!0),o(null);try{const N=t.id||t._id;try{const E=await $q.listByStore(N),T=(E==null?void 0:E.data)||E||[];if(T&&Array.isArray(T)&&T.length>0){r(T),s(!1);return}}catch(E){if(E.status===404)console.log("Customers API endpoint not available, deriving from orders...");else throw E}const A=(await cf.listForMerchant()||[]).filter(E=>{var R,I,L;const T=((I=(R=E.storeId)==null?void 0:R._id)==null?void 0:I.toString())||((L=E.storeId)==null?void 0:L.toString())||E.storeId;return T===N||T===t._id||T===t.id}),k=new Map;A.forEach(E=>{var U,$;const T=E.customerEmail||((U=E.shippingAddress)==null?void 0:U.email)||"",R=(($=E.shippingAddress)==null?void 0:$.fullName)||E.customerName||"";if(!T)return;const I=T.toLowerCase(),L=k.get(I);L?(L.orderCount+=1,L.totalSpent+=E.total||0,E.createdAt&&(!L.lastSeenAt||new Date(E.createdAt)>new Date(L.lastSeenAt))&&(L.lastSeenAt=E.createdAt),E.createdAt&&(!L.createdAt||new Date(E.createdAt)<new Date(L.createdAt))&&(L.createdAt=E.createdAt)):k.set(I,{id:I,email:T,name:R,createdAt:E.createdAt,lastSeenAt:E.createdAt,orderCount:1,totalSpent:E.total||0})}),r(Array.from(k.values()))}catch(N){console.error("Failed to load customers:",N),o((N==null?void 0:N.message)||"Failed to load customers"),r([])}finally{s(!1)}})()},[t]);const y=b.useMemo(()=>{let S=e;if(l.trim()){const N=l.toLowerCase();S=S.filter(C=>C.email&&C.email.toLowerCase().includes(N)||C.name&&C.name.toLowerCase().includes(N))}return S=[...S].sort((N,C)=>{let A,k;switch(u){case"name":A=(N.name||"").toLowerCase(),k=(C.name||"").toLowerCase();break;case"email":A=(N.email||"").toLowerCase(),k=(C.email||"").toLowerCase();break;case"orderCount":A=N.orderCount||0,k=C.orderCount||0;break;case"totalSpent":A=N.totalSpent||0,k=C.totalSpent||0;break}return A<k?h==="asc"?-1:1:A>k?h==="asc"?1:-1:0}),S},[e,l,u,h]),x=Math.max(1,Math.ceil(y.length/g)),w=b.useMemo(()=>{const S=(f-1)*g;return y.slice(S,S+g)},[y,f]);return i.jsx(mm,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Customers"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:t?`Customers who have purchased from ${t.storeName}.`:"Select a store on the dashboard to view its customers."})]}),t&&i.jsxs("div",{className:"mb-6 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{className:"relative max-w-md w-full",children:[i.jsx(pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(rt,{placeholder:"Search customers by email or name...",className:"pl-10",value:l,onChange:S=>{m(1),c(S.target.value)}})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-muted-foreground",children:[i.jsx("span",{children:"Sort by:"}),i.jsx(pe,{type:"button",variant:u==="orderCount"?"secondary":"outline",size:"sm",onClick:()=>d("orderCount"),children:"Orders"}),i.jsx(pe,{type:"button",variant:u==="totalSpent"?"secondary":"outline",size:"sm",onClick:()=>d("totalSpent"),children:"Total Spent"}),i.jsx(pe,{type:"button",variant:u==="name"?"secondary":"outline",size:"sm",onClick:()=>d("name"),children:"Name"}),i.jsx(pe,{type:"button",variant:h==="desc"?"secondary":"outline",size:"sm",onClick:()=>p(h==="asc"?"desc":"asc"),children:h==="asc"?"Asc":"Desc"})]})]}),a&&i.jsx("p",{className:"mb-4 text-sm text-destructive",children:a}),t?n?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading customers..."}):y.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No customers found for this store."}):i.jsxs(Ze,{className:"overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Customer"}),i.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Orders"}),i.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Total Spent"}),i.jsx("th",{className:"px-6 py-3 text-left font-semibold hidden md:table-cell",children:"First Seen"}),i.jsx("th",{className:"px-6 py-3 text-left font-semibold hidden md:table-cell",children:"Last Seen"})]})}),i.jsx("tbody",{className:"divide-y",children:w.map(S=>{var N;return i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[i.jsx("td",{className:"px-6 py-3 align-middle",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:S.name||""}),i.jsx("span",{className:"text-xs text-muted-foreground",children:S.email})]})}),i.jsx("td",{className:"px-6 py-3 align-middle",children:i.jsx(Ot,{variant:"outline",children:S.orderCount})}),i.jsxs("td",{className:"px-6 py-3 align-middle font-medium",children:["$",((N=S.totalSpent)==null?void 0:N.toFixed(2))||"0.00"]}),i.jsx("td",{className:"px-6 py-3 align-middle text-xs text-muted-foreground hidden md:table-cell",children:S.createdAt?new Date(S.createdAt).toLocaleDateString():""}),i.jsx("td",{className:"px-6 py-3 align-middle text-xs text-muted-foreground hidden md:table-cell",children:S.lastSeenAt?new Date(S.lastSeenAt).toLocaleDateString():""})]},S.id)})})]})}),i.jsxs("div",{className:"flex items-center justify-between border-t bg-muted/40 px-4 py-2 text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Page ",f," of ",x,"  ",y.length," customer",y.length===1?"":"s"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pe,{type:"button",variant:"outline",size:"sm",disabled:f<=1,onClick:()=>m(S=>Math.max(1,S-1)),children:"Prev"}),i.jsx(pe,{type:"button",variant:"outline",size:"sm",disabled:f>=x,onClick:()=>m(S=>Math.min(x,S+1)),children:"Next"})]})]})]}):i.jsx(Ze,{className:"p-8 text-sm text-muted-foreground",children:"Select a store to see customer data."})]})})},Ei=b.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:dt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Ei.displayName="Textarea";var fCe=Symbol("radix.slottable");function pCe(t){const e=({children:r})=>i.jsx(i.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=fCe,e}var tee="AlertDialog",[mCe]=ma(tee,[LX]),Of=LX(),ree=t=>{const{__scopeAlertDialog:e,...r}=t,n=Of(e);return i.jsx(lM,{...n,...r,modal:!0})};ree.displayName=tee;var gCe="AlertDialogTrigger",nee=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Of(r);return i.jsx(cM,{...s,...n,ref:e})});nee.displayName=gCe;var xCe="AlertDialogPortal",see=t=>{const{__scopeAlertDialog:e,...r}=t,n=Of(e);return i.jsx(uM,{...n,...r})};see.displayName=xCe;var yCe="AlertDialogOverlay",iee=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Of(r);return i.jsx(Sw,{...s,...n,ref:e})});iee.displayName=yCe;var I0="AlertDialogContent",[vCe,bCe]=mCe(I0),wCe=pCe("AlertDialogContent"),aee=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,a=Of(r),o=b.useRef(null),l=Lr(e,o),c=b.useRef(null);return i.jsx(Yye,{contentName:I0,titleName:oee,docsSlug:"alert-dialog",children:i.jsx(vCe,{scope:r,cancelRef:c,children:i.jsxs(Nw,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Ft(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(wCe,{children:n}),i.jsx(SCe,{contentRef:o})]})})})});aee.displayName=I0;var oee="AlertDialogTitle",lee=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Of(r);return i.jsx(Cw,{...s,...n,ref:e})});lee.displayName=oee;var cee="AlertDialogDescription",uee=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Of(r);return i.jsx(_w,{...s,...n,ref:e})});uee.displayName=cee;var jCe="AlertDialogAction",dee=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Of(r);return i.jsx(Aw,{...s,...n,ref:e})});dee.displayName=jCe;var hee="AlertDialogCancel",fee=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=bCe(hee,r),a=Of(r),o=Lr(e,s);return i.jsx(Aw,{...a,...n,ref:o})});fee.displayName=hee;var SCe=({contentRef:t})=>{const e=`\`${I0}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${I0}\` by passing a \`${cee}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${I0}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},NCe=ree,CCe=nee,_Ce=see,pee=iee,mee=aee,gee=dee,xee=fee,yee=lee,vee=uee;const v8=NCe,ACe=CCe,kCe=_Ce,bee=b.forwardRef(({className:t,...e},r)=>i.jsx(pee,{className:dt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));bee.displayName=pee.displayName;const TN=b.forwardRef(({className:t,...e},r)=>i.jsxs(kCe,{children:[i.jsx(bee,{}),i.jsx(mee,{ref:r,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));TN.displayName=mee.displayName;const IN=({className:t,...e})=>i.jsx("div",{className:dt("flex flex-col space-y-2 text-center sm:text-left",t),...e});IN.displayName="AlertDialogHeader";const MN=({className:t,...e})=>i.jsx("div",{className:dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});MN.displayName="AlertDialogFooter";const ON=b.forwardRef(({className:t,...e},r)=>i.jsx(yee,{ref:r,className:dt("text-lg font-semibold",t),...e}));ON.displayName=yee.displayName;const LN=b.forwardRef(({className:t,...e},r)=>i.jsx(vee,{ref:r,className:dt("text-sm text-muted-foreground",t),...e}));LN.displayName=vee.displayName;const RN=b.forwardRef(({className:t,...e},r)=>i.jsx(gee,{ref:r,className:dt(P3(),t),...e}));RN.displayName=gee.displayName;const DN=b.forwardRef(({className:t,...e},r)=>i.jsx(xee,{ref:r,className:dt(P3({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));DN.displayName=xee.displayName;const To=b.forwardRef(({className:t,...e},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:dt("w-full caption-bottom text-sm",t),...e})}));To.displayName="Table";const Io=b.forwardRef(({className:t,...e},r)=>i.jsx("thead",{ref:r,className:dt("[&_tr]:border-b",t),...e}));Io.displayName="TableHeader";const Mo=b.forwardRef(({className:t,...e},r)=>i.jsx("tbody",{ref:r,className:dt("[&_tr:last-child]:border-0",t),...e}));Mo.displayName="TableBody";const PCe=b.forwardRef(({className:t,...e},r)=>i.jsx("tfoot",{ref:r,className:dt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));PCe.displayName="TableFooter";const An=b.forwardRef(({className:t,...e},r)=>i.jsx("tr",{ref:r,className:dt("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));An.displayName="TableRow";const Rt=b.forwardRef(({className:t,...e},r)=>i.jsx("th",{ref:r,className:dt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Rt.displayName="TableHead";const Lt=b.forwardRef(({className:t,...e},r)=>i.jsx("td",{ref:r,className:dt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Lt.displayName="TableCell";const ECe=b.forwardRef(({className:t,...e},r)=>i.jsx("caption",{ref:r,className:dt("mt-4 text-sm text-muted-foreground",t),...e}));ECe.displayName="TableCaption";const wee=({className:t,...e})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:dt("mx-auto flex w-full justify-center",t),...e});wee.displayName="Pagination";const jee=b.forwardRef(({className:t,...e},r)=>i.jsx("ul",{ref:r,className:dt("flex flex-row items-center gap-1",t),...e}));jee.displayName="PaginationContent";const wS=b.forwardRef(({className:t,...e},r)=>i.jsx("li",{ref:r,className:dt("",t),...e}));wS.displayName="PaginationItem";const dC=({className:t,isActive:e,size:r="icon",...n})=>i.jsx("a",{"aria-current":e?"page":void 0,className:dt(P3({variant:e?"outline":"ghost",size:r}),t),...n});dC.displayName="PaginationLink";const See=({className:t,...e})=>i.jsxs(dC,{"aria-label":"Go to previous page",size:"default",className:dt("gap-1 pl-2.5",t),...e,children:[i.jsx(nc,{className:"h-4 w-4"}),i.jsx("span",{children:"Previous"})]});See.displayName="PaginationPrevious";const Nee=({className:t,...e})=>i.jsxs(dC,{"aria-label":"Go to next page",size:"default",className:dt("gap-1 pr-2.5",t),...e,children:[i.jsx("span",{children:"Next"}),i.jsx(gs,{className:"h-4 w-4"})]});Nee.displayName="PaginationNext";var TCe=Array.isArray,Bl=TCe,ICe=typeof xj=="object"&&xj&&xj.Object===Object&&xj,Cee=ICe,MCe=Cee,OCe=typeof self=="object"&&self&&self.Object===Object&&self,LCe=MCe||OCe||Function("return this")(),_h=LCe,RCe=_h,DCe=RCe.Symbol,Mw=DCe,zD=Mw,_ee=Object.prototype,FCe=_ee.hasOwnProperty,BCe=_ee.toString,g1=zD?zD.toStringTag:void 0;function $Ce(t){var e=FCe.call(t,g1),r=t[g1];try{t[g1]=void 0;var n=!0}catch{}var s=BCe.call(t);return n&&(e?t[g1]=r:delete t[g1]),s}var zCe=$Ce,UCe=Object.prototype,WCe=UCe.toString;function GCe(t){return WCe.call(t)}var HCe=GCe,UD=Mw,VCe=zCe,qCe=HCe,YCe="[object Null]",XCe="[object Undefined]",WD=UD?UD.toStringTag:void 0;function KCe(t){return t==null?t===void 0?XCe:YCe:WD&&WD in Object(t)?VCe(t):qCe(t)}var Lf=KCe;function ZCe(t){return t!=null&&typeof t=="object"}var Rf=ZCe,QCe=Lf,JCe=Rf,e_e="[object Symbol]";function t_e(t){return typeof t=="symbol"||JCe(t)&&QCe(t)==e_e}var uv=t_e,r_e=Bl,n_e=uv,s_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i_e=/^\w*$/;function a_e(t,e){if(r_e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||n_e(t)?!0:i_e.test(t)||!s_e.test(t)||e!=null&&t in Object(e)}var qM=a_e;function o_e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var gm=o_e;const dv=On(gm);var l_e=Lf,c_e=gm,u_e="[object AsyncFunction]",d_e="[object Function]",h_e="[object GeneratorFunction]",f_e="[object Proxy]";function p_e(t){if(!c_e(t))return!1;var e=l_e(t);return e==d_e||e==h_e||e==u_e||e==f_e}var YM=p_e;const Hr=On(YM);var m_e=_h,g_e=m_e["__core-js_shared__"],x_e=g_e,nk=x_e,GD=function(){var t=/[^.]+$/.exec(nk&&nk.keys&&nk.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function y_e(t){return!!GD&&GD in t}var v_e=y_e,b_e=Function.prototype,w_e=b_e.toString;function j_e(t){if(t!=null){try{return w_e.call(t)}catch{}try{return t+""}catch{}}return""}var Aee=j_e,S_e=YM,N_e=v_e,C_e=gm,__e=Aee,A_e=/[\\^$.*+?()[\]{}|]/g,k_e=/^\[object .+?Constructor\]$/,P_e=Function.prototype,E_e=Object.prototype,T_e=P_e.toString,I_e=E_e.hasOwnProperty,M_e=RegExp("^"+T_e.call(I_e).replace(A_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O_e(t){if(!C_e(t)||N_e(t))return!1;var e=S_e(t)?M_e:k_e;return e.test(__e(t))}var L_e=O_e;function R_e(t,e){return t==null?void 0:t[e]}var D_e=R_e,F_e=L_e,B_e=D_e;function $_e(t,e){var r=B_e(t,e);return F_e(r)?r:void 0}var sx=$_e,z_e=sx,U_e=z_e(Object,"create"),hC=U_e,HD=hC;function W_e(){this.__data__=HD?HD(null):{},this.size=0}var G_e=W_e;function H_e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var V_e=H_e,q_e=hC,Y_e="__lodash_hash_undefined__",X_e=Object.prototype,K_e=X_e.hasOwnProperty;function Z_e(t){var e=this.__data__;if(q_e){var r=e[t];return r===Y_e?void 0:r}return K_e.call(e,t)?e[t]:void 0}var Q_e=Z_e,J_e=hC,eAe=Object.prototype,tAe=eAe.hasOwnProperty;function rAe(t){var e=this.__data__;return J_e?e[t]!==void 0:tAe.call(e,t)}var nAe=rAe,sAe=hC,iAe="__lodash_hash_undefined__";function aAe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=sAe&&e===void 0?iAe:e,this}var oAe=aAe,lAe=G_e,cAe=V_e,uAe=Q_e,dAe=nAe,hAe=oAe;function hv(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hv.prototype.clear=lAe;hv.prototype.delete=cAe;hv.prototype.get=uAe;hv.prototype.has=dAe;hv.prototype.set=hAe;var fAe=hv;function pAe(){this.__data__=[],this.size=0}var mAe=pAe;function gAe(t,e){return t===e||t!==t&&e!==e}var XM=gAe,xAe=XM;function yAe(t,e){for(var r=t.length;r--;)if(xAe(t[r][0],e))return r;return-1}var fC=yAe,vAe=fC,bAe=Array.prototype,wAe=bAe.splice;function jAe(t){var e=this.__data__,r=vAe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():wAe.call(e,r,1),--this.size,!0}var SAe=jAe,NAe=fC;function CAe(t){var e=this.__data__,r=NAe(e,t);return r<0?void 0:e[r][1]}var _Ae=CAe,AAe=fC;function kAe(t){return AAe(this.__data__,t)>-1}var PAe=kAe,EAe=fC;function TAe(t,e){var r=this.__data__,n=EAe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var IAe=TAe,MAe=mAe,OAe=SAe,LAe=_Ae,RAe=PAe,DAe=IAe;function fv(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fv.prototype.clear=MAe;fv.prototype.delete=OAe;fv.prototype.get=LAe;fv.prototype.has=RAe;fv.prototype.set=DAe;var pC=fv,FAe=sx,BAe=_h,$Ae=FAe(BAe,"Map"),KM=$Ae,VD=fAe,zAe=pC,UAe=KM;function WAe(){this.size=0,this.__data__={hash:new VD,map:new(UAe||zAe),string:new VD}}var GAe=WAe;function HAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var VAe=HAe,qAe=VAe;function YAe(t,e){var r=t.__data__;return qAe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var mC=YAe,XAe=mC;function KAe(t){var e=XAe(this,t).delete(t);return this.size-=e?1:0,e}var ZAe=KAe,QAe=mC;function JAe(t){return QAe(this,t).get(t)}var eke=JAe,tke=mC;function rke(t){return tke(this,t).has(t)}var nke=rke,ske=mC;function ike(t,e){var r=ske(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var ake=ike,oke=GAe,lke=ZAe,cke=eke,uke=nke,dke=ake;function pv(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pv.prototype.clear=oke;pv.prototype.delete=lke;pv.prototype.get=cke;pv.prototype.has=uke;pv.prototype.set=dke;var ZM=pv,kee=ZM,hke="Expected a function";function QM(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(hke);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=t.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(QM.Cache||kee),r}QM.Cache=kee;var Pee=QM;const fke=On(Pee);var pke=Pee,mke=500;function gke(t){var e=pke(t,function(n){return r.size===mke&&r.clear(),n}),r=e.cache;return e}var xke=gke,yke=xke,vke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bke=/\\(\\)?/g,wke=yke(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vke,function(r,n,s,a){e.push(s?a.replace(bke,"$1"):n||r)}),e}),jke=wke;function Ske(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var JM=Ske,qD=Mw,Nke=JM,Cke=Bl,_ke=uv,YD=qD?qD.prototype:void 0,XD=YD?YD.toString:void 0;function Eee(t){if(typeof t=="string")return t;if(Cke(t))return Nke(t,Eee)+"";if(_ke(t))return XD?XD.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ake=Eee,kke=Ake;function Pke(t){return t==null?"":kke(t)}var Tee=Pke,Eke=Bl,Tke=qM,Ike=jke,Mke=Tee;function Oke(t,e){return Eke(t)?t:Tke(t,e)?[t]:Ike(Mke(t))}var Iee=Oke,Lke=uv;function Rke(t){if(typeof t=="string"||Lke(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gC=Rke,Dke=Iee,Fke=gC;function Bke(t,e){e=Dke(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Fke(e[r++])];return r&&r==n?t:void 0}var eO=Bke,$ke=eO;function zke(t,e,r){var n=t==null?void 0:$ke(t,e);return n===void 0?r:n}var Mee=zke;const Sc=On(Mee);function Uke(t){return t==null}var Wke=Uke;const en=On(Wke);var Gke=Lf,Hke=Bl,Vke=Rf,qke="[object String]";function Yke(t){return typeof t=="string"||!Hke(t)&&Vke(t)&&Gke(t)==qke}var Xke=Yke;const Fg=On(Xke);var Oee={exports:{}},os={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tO=Symbol.for("react.element"),rO=Symbol.for("react.portal"),xC=Symbol.for("react.fragment"),yC=Symbol.for("react.strict_mode"),vC=Symbol.for("react.profiler"),bC=Symbol.for("react.provider"),wC=Symbol.for("react.context"),Kke=Symbol.for("react.server_context"),jC=Symbol.for("react.forward_ref"),SC=Symbol.for("react.suspense"),NC=Symbol.for("react.suspense_list"),CC=Symbol.for("react.memo"),_C=Symbol.for("react.lazy"),Zke=Symbol.for("react.offscreen"),Lee;Lee=Symbol.for("react.module.reference");function _u(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tO:switch(t=t.type,t){case xC:case vC:case yC:case SC:case NC:return t;default:switch(t=t&&t.$$typeof,t){case Kke:case wC:case jC:case _C:case CC:case bC:return t;default:return e}}case rO:return e}}}os.ContextConsumer=wC;os.ContextProvider=bC;os.Element=tO;os.ForwardRef=jC;os.Fragment=xC;os.Lazy=_C;os.Memo=CC;os.Portal=rO;os.Profiler=vC;os.StrictMode=yC;os.Suspense=SC;os.SuspenseList=NC;os.isAsyncMode=function(){return!1};os.isConcurrentMode=function(){return!1};os.isContextConsumer=function(t){return _u(t)===wC};os.isContextProvider=function(t){return _u(t)===bC};os.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tO};os.isForwardRef=function(t){return _u(t)===jC};os.isFragment=function(t){return _u(t)===xC};os.isLazy=function(t){return _u(t)===_C};os.isMemo=function(t){return _u(t)===CC};os.isPortal=function(t){return _u(t)===rO};os.isProfiler=function(t){return _u(t)===vC};os.isStrictMode=function(t){return _u(t)===yC};os.isSuspense=function(t){return _u(t)===SC};os.isSuspenseList=function(t){return _u(t)===NC};os.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xC||t===vC||t===yC||t===SC||t===NC||t===Zke||typeof t=="object"&&t!==null&&(t.$$typeof===_C||t.$$typeof===CC||t.$$typeof===bC||t.$$typeof===wC||t.$$typeof===jC||t.$$typeof===Lee||t.getModuleId!==void 0)};os.typeOf=_u;Oee.exports=os;var Qke=Oee.exports,Jke=Lf,ePe=Rf,tPe="[object Number]";function rPe(t){return typeof t=="number"||ePe(t)&&Jke(t)==tPe}var Ree=rPe;const nPe=On(Ree);var sPe=Ree;function iPe(t){return sPe(t)&&t!=+t}var aPe=iPe;const Ow=On(aPe);var rl=function(e){return e===0?0:e>0?1:-1},ig=function(e){return Fg(e)&&e.indexOf("%")===e.length-1},Wt=function(e){return nPe(e)&&!Ow(e)},oPe=function(e){return en(e)},da=function(e){return Wt(e)||Fg(e)},lPe=0,mv=function(e){var r=++lPe;return"".concat(e||"").concat(r)},nl=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Wt(e)&&!Fg(e))return n;var a;if(ig(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Ow(a)&&(a=n),s&&a>r&&(a=r),a},gp=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},cPe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},cc=function(e,r){return Wt(e)&&Wt(r)?function(n){return e+n*(r-e)}:function(){return r}};function FN(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Sc(n,e))===r})}var uPe=function(e,r){return Wt(e)&&Wt(r)?e-r:Fg(e)&&Fg(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function M0(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function b8(t){"@babel/helpers - typeof";return b8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b8(t)}var dPe=["viewBox","children"],hPe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KD=["points","pathLength"],sk={svg:dPe,polygon:KD,polyline:KD},nO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],BN=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!dv(n))return null;var s={};return Object.keys(n).forEach(function(a){nO.includes(a)&&(s[a]=r||function(o){return n[a](n,o)})}),s},fPe=function(e,r,n){return function(s){return e(r,n,s),null}},Bg=function(e,r,n){if(!dv(e)||b8(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(a){var o=e[a];nO.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=fPe(o,r,n))}),s},pPe=["children"],mPe=["children"];function ZD(t,e){if(t==null)return{};var r=gPe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function w8(t){"@babel/helpers - typeof";return w8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w8(t)}var QD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ff=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},JD=null,ik=null,sO=function t(e){if(e===JD&&Array.isArray(ik))return ik;var r=[];return b.Children.forEach(e,function(n){en(n)||(Qke.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),ik=r,JD=e,r};function Nc(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return ff(s)}):n=[ff(e)],sO(t).forEach(function(s){var a=Sc(s,"type.displayName")||Sc(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function ic(t,e){var r=Nc(t,e);return r&&r[0]}var eF=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!Wt(n)||n<=0||!Wt(s)||s<=0)},xPe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yPe=function(e){return e&&e.type&&Fg(e.type)&&xPe.indexOf(e.type)>=0},vPe=function(e){return e&&w8(e)==="object"&&"clipDot"in e},bPe=function(e,r,n,s){var a,o=(a=sk==null?void 0:sk[s])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Hr(e)&&(s&&o.includes(r)||hPe.includes(r))||n&&nO.includes(r)},Br=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(b.isValidElement(e)&&(s=e.props),!dv(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;bPe((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=s[o])}),a},j8=function t(e,r){if(e===r)return!0;var n=b.Children.count(e);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return tF(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=e[s],o=r[s];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!tF(a,o))return!1}return!0},tF=function(e,r){if(en(e)&&en(r))return!0;if(!en(e)&&!en(r)){var n=e.props||{},s=n.children,a=ZD(n,pPe),o=r.props||{},l=o.children,c=ZD(o,mPe);return s&&l?M0(a,c)&&j8(s,l):!s&&!l?M0(a,c):!1}return!1},rF=function(e,r){var n=[],s={};return sO(e).forEach(function(a,o){if(yPe(a))n.push(a);else if(a){var l=ff(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var h=u(a,l,o);n.push(h),s[l]=!0}}}),n},wPe=function(e){var r=e&&e.type;return r&&QD[r]?QD[r]:null},jPe=function(e,r){return sO(r).indexOf(e)},SPe=["children","width","height","viewBox","className","style","title","desc"];function S8(){return S8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S8.apply(this,arguments)}function NPe(t,e){if(t==null)return{};var r=CPe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function N8(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=NPe(t,SPe),d=s||{width:r,height:n,x:0,y:0},h=nn("recharts-surface",a);return xe.createElement("svg",S8({},Br(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),xe.createElement("title",null,l),xe.createElement("desc",null,c),e)}var _Pe=["children","className"];function C8(){return C8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C8.apply(this,arguments)}function APe(t,e){if(t==null)return{};var r=kPe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Wn=xe.forwardRef(function(t,e){var r=t.children,n=t.className,s=APe(t,_Pe),a=nn("recharts-layer",n);return xe.createElement("g",C8({className:a},Br(s,!0),{ref:e}),r)}),wd=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function PPe(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(s);++n<s;)a[n]=t[n+e];return a}var EPe=PPe,TPe=EPe;function IPe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:TPe(t,e,r)}var MPe=IPe,OPe="\\ud800-\\udfff",LPe="\\u0300-\\u036f",RPe="\\ufe20-\\ufe2f",DPe="\\u20d0-\\u20ff",FPe=LPe+RPe+DPe,BPe="\\ufe0e\\ufe0f",$Pe="\\u200d",zPe=RegExp("["+$Pe+OPe+FPe+BPe+"]");function UPe(t){return zPe.test(t)}var Dee=UPe;function WPe(t){return t.split("")}var GPe=WPe,Fee="\\ud800-\\udfff",HPe="\\u0300-\\u036f",VPe="\\ufe20-\\ufe2f",qPe="\\u20d0-\\u20ff",YPe=HPe+VPe+qPe,XPe="\\ufe0e\\ufe0f",KPe="["+Fee+"]",_8="["+YPe+"]",A8="\\ud83c[\\udffb-\\udfff]",ZPe="(?:"+_8+"|"+A8+")",Bee="[^"+Fee+"]",$ee="(?:\\ud83c[\\udde6-\\uddff]){2}",zee="[\\ud800-\\udbff][\\udc00-\\udfff]",QPe="\\u200d",Uee=ZPe+"?",Wee="["+XPe+"]?",JPe="(?:"+QPe+"(?:"+[Bee,$ee,zee].join("|")+")"+Wee+Uee+")*",e6e=Wee+Uee+JPe,t6e="(?:"+[Bee+_8+"?",_8,$ee,zee,KPe].join("|")+")",r6e=RegExp(A8+"(?="+A8+")|"+t6e+e6e,"g");function n6e(t){return t.match(r6e)||[]}var s6e=n6e,i6e=GPe,a6e=Dee,o6e=s6e;function l6e(t){return a6e(t)?o6e(t):i6e(t)}var c6e=l6e,u6e=MPe,d6e=Dee,h6e=c6e,f6e=Tee;function p6e(t){return function(e){e=f6e(e);var r=d6e(e)?h6e(e):void 0,n=r?r[0]:e.charAt(0),s=r?u6e(r,1).join(""):e.slice(1);return n[t]()+s}}var m6e=p6e,g6e=m6e,x6e=g6e("toUpperCase"),y6e=x6e;const AC=On(y6e);function Ns(t){return function(){return t}}const Gee=Math.cos,$N=Math.sin,Rd=Math.sqrt,zN=Math.PI,kC=2*zN,k8=Math.PI,P8=2*k8,Hm=1e-6,v6e=P8-Hm;function Hee(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function b6e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Hee;const r=10**e;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class w6e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Hee:b6e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,a,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,s,a){if(e=+e,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=s-r,d=o-e,h=l-r,p=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Hm)if(!(Math.abs(h*c-u*d)>Hm)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,m=s-l,g=c*c+u*u,y=f*f+m*m,x=Math.sqrt(g),w=Math.sqrt(p),S=a*Math.tan((k8-Math.acos((g+p-y)/(2*x*w)))/2),N=S/w,C=S/x;Math.abs(N-1)>Hm&&this._append`L${e+N*d},${r+N*h}`,this._append`A${a},${a},0,0,${+(h*f>d*m)},${this._x1=e+C*c},${this._y1=r+C*u}`}}arc(e,r,n,s,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=e+l,d=r+c,h=1^o,p=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Hm||Math.abs(this._y1-d)>Hm)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%P8+P8),p>v6e?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:p>Hm&&this._append`A${n},${n},0,${+(p>=k8)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function iO(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new w6e(e)}function aO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Vee(t){this._context=t}Vee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function PC(t){return new Vee(t)}function qee(t){return t[0]}function Yee(t){return t[1]}function Xee(t,e){var r=Ns(!0),n=null,s=PC,a=null,o=iO(l);t=typeof t=="function"?t:t===void 0?qee:Ns(t),e=typeof e=="function"?e:e===void 0?Yee:Ns(e);function l(c){var u,d=(c=aO(c)).length,h,p=!1,f;for(n==null&&(a=s(f=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(h,u,c),+e(h,u,c));if(f)return a=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ns(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ns(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ns(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function x5(t,e,r){var n=null,s=Ns(!0),a=null,o=PC,l=null,c=iO(u);t=typeof t=="function"?t:t===void 0?qee:Ns(+t),e=typeof e=="function"?e:Ns(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Yee:Ns(+r);function u(h){var p,f,m,g=(h=aO(h)).length,y,x=!1,w,S=new Array(g),N=new Array(g);for(a==null&&(l=o(w=c())),p=0;p<=g;++p){if(!(p<g&&s(y=h[p],p,h))===x)if(x=!x)f=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=p-1;m>=f;--m)l.point(S[m],N[m]);l.lineEnd(),l.areaEnd()}x&&(S[p]=+t(y,p,h),N[p]=+e(y,p,h),l.point(n?+n(y,p,h):S[p],r?+r(y,p,h):N[p]))}if(w)return l=null,w+""||null}function d(){return Xee().defined(s).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ns(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ns(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ns(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ns(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ns(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ns(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Ns(!!h),u):s},u.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),u):a},u}class Kee{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function j6e(t){return new Kee(t,!0)}function S6e(t){return new Kee(t,!1)}const oO={draw(t,e){const r=Rd(e/zN);t.moveTo(r,0),t.arc(0,0,r,0,kC)}},N6e={draw(t,e){const r=Rd(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Zee=Rd(1/3),C6e=Zee*2,_6e={draw(t,e){const r=Rd(e/C6e),n=r*Zee;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},A6e={draw(t,e){const r=Rd(e),n=-r/2;t.rect(n,n,r,r)}},k6e=.8908130915292852,Qee=$N(zN/10)/$N(7*zN/10),P6e=$N(kC/10)*Qee,E6e=-Gee(kC/10)*Qee,T6e={draw(t,e){const r=Rd(e*k6e),n=P6e*r,s=E6e*r;t.moveTo(0,-r),t.lineTo(n,s);for(let a=1;a<5;++a){const o=kC*a/5,l=Gee(o),c=$N(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},ak=Rd(3),I6e={draw(t,e){const r=-Rd(e/(ak*3));t.moveTo(0,r*2),t.lineTo(-ak*r,-r),t.lineTo(ak*r,-r),t.closePath()}},Zc=-.5,Qc=Rd(3)/2,E8=1/Rd(12),M6e=(E8/2+1)*3,O6e={draw(t,e){const r=Rd(e/M6e),n=r/2,s=r*E8,a=n,o=r*E8+r,l=-a,c=o;t.moveTo(n,s),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Zc*n-Qc*s,Qc*n+Zc*s),t.lineTo(Zc*a-Qc*o,Qc*a+Zc*o),t.lineTo(Zc*l-Qc*c,Qc*l+Zc*c),t.lineTo(Zc*n+Qc*s,Zc*s-Qc*n),t.lineTo(Zc*a+Qc*o,Zc*o-Qc*a),t.lineTo(Zc*l+Qc*c,Zc*c-Qc*l),t.closePath()}};function L6e(t,e){let r=null,n=iO(s);t=typeof t=="function"?t:Ns(t||oO),e=typeof e=="function"?e:Ns(e===void 0?64:+e);function s(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ns(a),s):t},s.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ns(+a),s):e},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function UN(){}function WN(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Jee(t){this._context=t}Jee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:WN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:WN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R6e(t){return new Jee(t)}function ete(t){this._context=t}ete.prototype={areaStart:UN,areaEnd:UN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:WN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function D6e(t){return new ete(t)}function tte(t){this._context=t}tte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:WN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function F6e(t){return new tte(t)}function rte(t){this._context=t}rte.prototype={areaStart:UN,areaEnd:UN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function B6e(t){return new rte(t)}function nF(t){return t<0?-1:1}function sF(t,e,r){var n=t._x1-t._x0,s=e-t._x1,a=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(a*s+o*n)/(n+s);return(nF(a)+nF(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function iF(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ok(t,e,r){var n=t._x0,s=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,s+l*e,a-l,o-l*r,a,o)}function GN(t){this._context=t}GN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ok(this,this._t0,iF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ok(this,iF(this,r=sF(this,t,e)),r);break;default:ok(this,this._t0,r=sF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function nte(t){this._context=new ste(t)}(nte.prototype=Object.create(GN.prototype)).point=function(t,e){GN.prototype.point.call(this,e,t)};function ste(t){this._context=t}ste.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,a){this._context.bezierCurveTo(e,t,n,r,a,s)}};function $6e(t){return new GN(t)}function z6e(t){return new nte(t)}function ite(t){this._context=t}ite.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=aF(t),s=aF(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aF(t){var e,r=t.length-1,n,s=new Array(r),a=new Array(r),o=new Array(r);for(s[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/a[e];for(a[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-s[e+1];return[s,a]}function U6e(t){return new ite(t)}function EC(t,e){this._context=t,this._t=e}EC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function W6e(t){return new EC(t,.5)}function G6e(t){return new EC(t,0)}function H6e(t){return new EC(t,1)}function fy(t,e){if((o=t.length)>1)for(var r=1,n,s,a=t[e[0]],o,l=a.length;r<o;++r)for(s=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function T8(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function V6e(t,e){return t[e]}function q6e(t){const e=[];return e.key=t,e}function Y6e(){var t=Ns([]),e=T8,r=fy,n=V6e;function s(a){var o=Array.from(t.apply(this,arguments),q6e),l,c=o.length,u=-1,d;for(const h of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,a)]).data=h;for(l=0,d=aO(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ns(Array.from(a)),s):t},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ns(+a),s):n},s.order=function(a){return arguments.length?(e=a==null?T8:typeof a=="function"?a:Ns(Array.from(a)),s):e},s.offset=function(a){return arguments.length?(r=a??fy,s):r},s}function X6e(t,e){if((n=t.length)>0){for(var r,n,s=0,a=t[0].length,o;s<a;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}fy(t,e)}}function K6e(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,a=n.length;r<a;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}fy(t,e)}}function Z6e(t,e){if(!(!((o=t.length)>0)||!((a=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],h=d[n][1]||0,p=d[n-1][1]||0,f=(h-p)/2,m=0;m<l;++m){var g=t[e[m]],y=g[n][1]||0,x=g[n-1][1]||0;f+=y-x}c+=h,u+=f*h}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,fy(t,e)}}function v2(t){"@babel/helpers - typeof";return v2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v2(t)}var Q6e=["type","size","sizeType"];function I8(){return I8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I8.apply(this,arguments)}function oF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(r),!0).forEach(function(n){J6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J6e(t,e,r){return e=e8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e8e(t){var e=t8e(t,"string");return v2(e)=="symbol"?e:e+""}function t8e(t,e){if(v2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(v2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r8e(t,e){if(t==null)return{};var r=n8e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function n8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ate={symbolCircle:oO,symbolCross:N6e,symbolDiamond:_6e,symbolSquare:A6e,symbolStar:T6e,symbolTriangle:I6e,symbolWye:O6e},s8e=Math.PI/180,i8e=function(e){var r="symbol".concat(AC(e));return ate[r]||oO},a8e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*s8e;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},o8e=function(e,r){ate["symbol".concat(AC(e))]=r},lO=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,a=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=r8e(e,Q6e),u=lF(lF({},c),{},{type:n,size:a,sizeType:l}),d=function(){var y=i8e(n),x=L6e().type(y).size(a8e(a,l,n));return x()},h=u.className,p=u.cx,f=u.cy,m=Br(u,!0);return p===+p&&f===+f&&a===+a?xe.createElement("path",I8({},m,{className:nn("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(f,")"),d:d()})):null};lO.registerSymbol=o8e;function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function M8(){return M8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M8.apply(this,arguments)}function cF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function l8e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(r),!0).forEach(function(n){b2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lte(n.key),n)}}function d8e(t,e,r){return e&&u8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h8e(t,e,r){return e=HN(e),f8e(t,ote()?Reflect.construct(e,r||[],HN(t).constructor):e.apply(t,r))}function f8e(t,e){if(e&&(py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p8e(t)}function p8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ote(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ote=function(){return!!t})()}function HN(t){return HN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},HN(t)}function m8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O8(t,e)}function O8(t,e){return O8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},O8(t,e)}function b2(t,e,r){return e=lte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lte(t){var e=g8e(t,"string");return py(e)=="symbol"?e:e+""}function g8e(t,e){if(py(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jc=32,cO=function(t){function e(){return c8e(this,e),h8e(this,e,arguments)}return m8e(e,t),d8e(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=Jc/2,o=Jc/6,l=Jc/3,c=n.inactive?s:n.color;if(n.type==="plainline")return xe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Jc,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return xe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Jc,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return xe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Jc/8,"h").concat(Jc,"v").concat(Jc*3/4,"h").concat(-Jc,"z"),className:"recharts-legend-icon"});if(xe.isValidElement(n.legendIcon)){var u=l8e({},n);return delete u.legendIcon,xe.cloneElement(n.legendIcon,u)}return xe.createElement(lO,{fill:c,cx:a,cy:a,size:Jc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Jc,height:Jc},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(f,m){var g=f.formatter||c,y=nn(b2(b2({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",f.inactive));if(f.type==="none")return null;var x=Hr(f.value)?null:f.value;wd(!Hr(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=f.inactive?u:f.color;return xe.createElement("li",M8({className:y,style:h,key:"legend-item-".concat(m)},Bg(n.props,f,m)),xe.createElement(N8,{width:o,height:o,viewBox:d,style:p},n.renderIcon(f)),xe.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(x,f,m):x))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return xe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);b2(cO,"displayName","Legend");b2(cO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var x8e=pC;function y8e(){this.__data__=new x8e,this.size=0}var v8e=y8e;function b8e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var w8e=b8e;function j8e(t){return this.__data__.get(t)}var S8e=j8e;function N8e(t){return this.__data__.has(t)}var C8e=N8e,_8e=pC,A8e=KM,k8e=ZM,P8e=200;function E8e(t,e){var r=this.__data__;if(r instanceof _8e){var n=r.__data__;if(!A8e||n.length<P8e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new k8e(n)}return r.set(t,e),this.size=r.size,this}var T8e=E8e,I8e=pC,M8e=v8e,O8e=w8e,L8e=S8e,R8e=C8e,D8e=T8e;function gv(t){var e=this.__data__=new I8e(t);this.size=e.size}gv.prototype.clear=M8e;gv.prototype.delete=O8e;gv.prototype.get=L8e;gv.prototype.has=R8e;gv.prototype.set=D8e;var cte=gv,F8e="__lodash_hash_undefined__";function B8e(t){return this.__data__.set(t,F8e),this}var $8e=B8e;function z8e(t){return this.__data__.has(t)}var U8e=z8e,W8e=ZM,G8e=$8e,H8e=U8e;function VN(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new W8e;++e<r;)this.add(t[e])}VN.prototype.add=VN.prototype.push=G8e;VN.prototype.has=H8e;var ute=VN;function V8e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var dte=V8e;function q8e(t,e){return t.has(e)}var hte=q8e,Y8e=ute,X8e=dte,K8e=hte,Z8e=1,Q8e=2;function J8e(t,e,r,n,s,a){var o=r&Z8e,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var h=-1,p=!0,f=r&Q8e?new Y8e:void 0;for(a.set(t,e),a.set(e,t);++h<l;){var m=t[h],g=e[h];if(n)var y=o?n(g,m,h,e,t,a):n(m,g,h,t,e,a);if(y!==void 0){if(y)continue;p=!1;break}if(f){if(!X8e(e,function(x,w){if(!K8e(f,w)&&(m===x||s(m,x,r,n,a)))return f.push(w)})){p=!1;break}}else if(!(m===g||s(m,g,r,n,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var fte=J8e,eEe=_h,tEe=eEe.Uint8Array,rEe=tEe;function nEe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var sEe=nEe;function iEe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var uO=iEe,uF=Mw,dF=rEe,aEe=XM,oEe=fte,lEe=sEe,cEe=uO,uEe=1,dEe=2,hEe="[object Boolean]",fEe="[object Date]",pEe="[object Error]",mEe="[object Map]",gEe="[object Number]",xEe="[object RegExp]",yEe="[object Set]",vEe="[object String]",bEe="[object Symbol]",wEe="[object ArrayBuffer]",jEe="[object DataView]",hF=uF?uF.prototype:void 0,lk=hF?hF.valueOf:void 0;function SEe(t,e,r,n,s,a,o){switch(r){case jEe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case wEe:return!(t.byteLength!=e.byteLength||!a(new dF(t),new dF(e)));case hEe:case fEe:case gEe:return aEe(+t,+e);case pEe:return t.name==e.name&&t.message==e.message;case xEe:case vEe:return t==e+"";case mEe:var l=lEe;case yEe:var c=n&uEe;if(l||(l=cEe),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=dEe,o.set(t,e);var d=oEe(l(t),l(e),n,s,a,o);return o.delete(t),d;case bEe:if(lk)return lk.call(t)==lk.call(e)}return!1}var NEe=SEe;function CEe(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var pte=CEe,_Ee=pte,AEe=Bl;function kEe(t,e,r){var n=e(t);return AEe(t)?n:_Ee(n,r(t))}var PEe=kEe;function EEe(t,e){for(var r=-1,n=t==null?0:t.length,s=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[s++]=o)}return a}var TEe=EEe;function IEe(){return[]}var MEe=IEe,OEe=TEe,LEe=MEe,REe=Object.prototype,DEe=REe.propertyIsEnumerable,fF=Object.getOwnPropertySymbols,FEe=fF?function(t){return t==null?[]:(t=Object(t),OEe(fF(t),function(e){return DEe.call(t,e)}))}:LEe,BEe=FEe;function $Ee(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var zEe=$Ee,UEe=Lf,WEe=Rf,GEe="[object Arguments]";function HEe(t){return WEe(t)&&UEe(t)==GEe}var VEe=HEe,pF=VEe,qEe=Rf,mte=Object.prototype,YEe=mte.hasOwnProperty,XEe=mte.propertyIsEnumerable,KEe=pF(function(){return arguments}())?pF:function(t){return qEe(t)&&YEe.call(t,"callee")&&!XEe.call(t,"callee")},dO=KEe,qN={exports:{}};function ZEe(){return!1}var QEe=ZEe;qN.exports;(function(t,e){var r=_h,n=QEe,s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(qN,qN.exports);var gte=qN.exports,JEe=9007199254740991,eTe=/^(?:0|[1-9]\d*)$/;function tTe(t,e){var r=typeof t;return e=e??JEe,!!e&&(r=="number"||r!="symbol"&&eTe.test(t))&&t>-1&&t%1==0&&t<e}var hO=tTe,rTe=9007199254740991;function nTe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rTe}var fO=nTe,sTe=Lf,iTe=fO,aTe=Rf,oTe="[object Arguments]",lTe="[object Array]",cTe="[object Boolean]",uTe="[object Date]",dTe="[object Error]",hTe="[object Function]",fTe="[object Map]",pTe="[object Number]",mTe="[object Object]",gTe="[object RegExp]",xTe="[object Set]",yTe="[object String]",vTe="[object WeakMap]",bTe="[object ArrayBuffer]",wTe="[object DataView]",jTe="[object Float32Array]",STe="[object Float64Array]",NTe="[object Int8Array]",CTe="[object Int16Array]",_Te="[object Int32Array]",ATe="[object Uint8Array]",kTe="[object Uint8ClampedArray]",PTe="[object Uint16Array]",ETe="[object Uint32Array]",Rs={};Rs[jTe]=Rs[STe]=Rs[NTe]=Rs[CTe]=Rs[_Te]=Rs[ATe]=Rs[kTe]=Rs[PTe]=Rs[ETe]=!0;Rs[oTe]=Rs[lTe]=Rs[bTe]=Rs[cTe]=Rs[wTe]=Rs[uTe]=Rs[dTe]=Rs[hTe]=Rs[fTe]=Rs[pTe]=Rs[mTe]=Rs[gTe]=Rs[xTe]=Rs[yTe]=Rs[vTe]=!1;function TTe(t){return aTe(t)&&iTe(t.length)&&!!Rs[sTe(t)]}var ITe=TTe;function MTe(t){return function(e){return t(e)}}var xte=MTe,YN={exports:{}};YN.exports;(function(t,e){var r=Cee,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(YN,YN.exports);var OTe=YN.exports,LTe=ITe,RTe=xte,mF=OTe,gF=mF&&mF.isTypedArray,DTe=gF?RTe(gF):LTe,yte=DTe,FTe=zEe,BTe=dO,$Te=Bl,zTe=gte,UTe=hO,WTe=yte,GTe=Object.prototype,HTe=GTe.hasOwnProperty;function VTe(t,e){var r=$Te(t),n=!r&&BTe(t),s=!r&&!n&&zTe(t),a=!r&&!n&&!s&&WTe(t),o=r||n||s||a,l=o?FTe(t.length,String):[],c=l.length;for(var u in t)(e||HTe.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||UTe(u,c)))&&l.push(u);return l}var qTe=VTe,YTe=Object.prototype;function XTe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||YTe;return t===r}var KTe=XTe;function ZTe(t,e){return function(r){return t(e(r))}}var vte=ZTe,QTe=vte,JTe=QTe(Object.keys,Object),eIe=JTe,tIe=KTe,rIe=eIe,nIe=Object.prototype,sIe=nIe.hasOwnProperty;function iIe(t){if(!tIe(t))return rIe(t);var e=[];for(var r in Object(t))sIe.call(t,r)&&r!="constructor"&&e.push(r);return e}var aIe=iIe,oIe=YM,lIe=fO;function cIe(t){return t!=null&&lIe(t.length)&&!oIe(t)}var Lw=cIe,uIe=qTe,dIe=aIe,hIe=Lw;function fIe(t){return hIe(t)?uIe(t):dIe(t)}var TC=fIe,pIe=PEe,mIe=BEe,gIe=TC;function xIe(t){return pIe(t,gIe,mIe)}var yIe=xIe,xF=yIe,vIe=1,bIe=Object.prototype,wIe=bIe.hasOwnProperty;function jIe(t,e,r,n,s,a){var o=r&vIe,l=xF(t),c=l.length,u=xF(e),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var p=l[h];if(!(o?p in e:wIe.call(e,p)))return!1}var f=a.get(t),m=a.get(e);if(f&&m)return f==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var y=o;++h<c;){p=l[h];var x=t[p],w=e[p];if(n)var S=o?n(w,x,p,e,t,a):n(x,w,p,t,e,a);if(!(S===void 0?x===w||s(x,w,r,n,a):S)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var N=t.constructor,C=e.constructor;N!=C&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof C=="function"&&C instanceof C)&&(g=!1)}return a.delete(t),a.delete(e),g}var SIe=jIe,NIe=sx,CIe=_h,_Ie=NIe(CIe,"DataView"),AIe=_Ie,kIe=sx,PIe=_h,EIe=kIe(PIe,"Promise"),TIe=EIe,IIe=sx,MIe=_h,OIe=IIe(MIe,"Set"),bte=OIe,LIe=sx,RIe=_h,DIe=LIe(RIe,"WeakMap"),FIe=DIe,L8=AIe,R8=KM,D8=TIe,F8=bte,B8=FIe,wte=Lf,xv=Aee,yF="[object Map]",BIe="[object Object]",vF="[object Promise]",bF="[object Set]",wF="[object WeakMap]",jF="[object DataView]",$Ie=xv(L8),zIe=xv(R8),UIe=xv(D8),WIe=xv(F8),GIe=xv(B8),Vm=wte;(L8&&Vm(new L8(new ArrayBuffer(1)))!=jF||R8&&Vm(new R8)!=yF||D8&&Vm(D8.resolve())!=vF||F8&&Vm(new F8)!=bF||B8&&Vm(new B8)!=wF)&&(Vm=function(t){var e=wte(t),r=e==BIe?t.constructor:void 0,n=r?xv(r):"";if(n)switch(n){case $Ie:return jF;case zIe:return yF;case UIe:return vF;case WIe:return bF;case GIe:return wF}return e});var HIe=Vm,ck=cte,VIe=fte,qIe=NEe,YIe=SIe,SF=HIe,NF=Bl,CF=gte,XIe=yte,KIe=1,_F="[object Arguments]",AF="[object Array]",y5="[object Object]",ZIe=Object.prototype,kF=ZIe.hasOwnProperty;function QIe(t,e,r,n,s,a){var o=NF(t),l=NF(e),c=o?AF:SF(t),u=l?AF:SF(e);c=c==_F?y5:c,u=u==_F?y5:u;var d=c==y5,h=u==y5,p=c==u;if(p&&CF(t)){if(!CF(e))return!1;o=!0,d=!1}if(p&&!d)return a||(a=new ck),o||XIe(t)?VIe(t,e,r,n,s,a):qIe(t,e,c,r,n,s,a);if(!(r&KIe)){var f=d&&kF.call(t,"__wrapped__"),m=h&&kF.call(e,"__wrapped__");if(f||m){var g=f?t.value():t,y=m?e.value():e;return a||(a=new ck),s(g,y,r,n,a)}}return p?(a||(a=new ck),YIe(t,e,r,n,s,a)):!1}var JIe=QIe,eMe=JIe,PF=Rf;function jte(t,e,r,n,s){return t===e?!0:t==null||e==null||!PF(t)&&!PF(e)?t!==t&&e!==e:eMe(t,e,r,n,jte,s)}var pO=jte,tMe=cte,rMe=pO,nMe=1,sMe=2;function iMe(t,e,r,n){var s=r.length,a=s,o=!n;if(t==null)return!a;for(t=Object(t);s--;){var l=r[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){l=r[s];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var h=new tMe;if(n)var p=n(u,d,c,t,e,h);if(!(p===void 0?rMe(d,u,nMe|sMe,n,h):p))return!1}}return!0}var aMe=iMe,oMe=gm;function lMe(t){return t===t&&!oMe(t)}var Ste=lMe,cMe=Ste,uMe=TC;function dMe(t){for(var e=uMe(t),r=e.length;r--;){var n=e[r],s=t[n];e[r]=[n,s,cMe(s)]}return e}var hMe=dMe;function fMe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Nte=fMe,pMe=aMe,mMe=hMe,gMe=Nte;function xMe(t){var e=mMe(t);return e.length==1&&e[0][2]?gMe(e[0][0],e[0][1]):function(r){return r===t||pMe(r,t,e)}}var yMe=xMe;function vMe(t,e){return t!=null&&e in Object(t)}var bMe=vMe,wMe=Iee,jMe=dO,SMe=Bl,NMe=hO,CMe=fO,_Me=gC;function AMe(t,e,r){e=wMe(e,t);for(var n=-1,s=e.length,a=!1;++n<s;){var o=_Me(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=s?a:(s=t==null?0:t.length,!!s&&CMe(s)&&NMe(o,s)&&(SMe(t)||jMe(t)))}var kMe=AMe,PMe=bMe,EMe=kMe;function TMe(t,e){return t!=null&&EMe(t,e,PMe)}var IMe=TMe,MMe=pO,OMe=Mee,LMe=IMe,RMe=qM,DMe=Ste,FMe=Nte,BMe=gC,$Me=1,zMe=2;function UMe(t,e){return RMe(t)&&DMe(e)?FMe(BMe(t),e):function(r){var n=OMe(r,t);return n===void 0&&n===e?LMe(r,t):MMe(e,n,$Me|zMe)}}var WMe=UMe;function GMe(t){return t}var yv=GMe;function HMe(t){return function(e){return e==null?void 0:e[t]}}var VMe=HMe,qMe=eO;function YMe(t){return function(e){return qMe(e,t)}}var XMe=YMe,KMe=VMe,ZMe=XMe,QMe=qM,JMe=gC;function eOe(t){return QMe(t)?KMe(JMe(t)):ZMe(t)}var tOe=eOe,rOe=yMe,nOe=WMe,sOe=yv,iOe=Bl,aOe=tOe;function oOe(t){return typeof t=="function"?t:t==null?sOe:typeof t=="object"?iOe(t)?nOe(t[0],t[1]):rOe(t):aOe(t)}var Ah=oOe;function lOe(t,e,r,n){for(var s=t.length,a=r+(n?1:-1);n?a--:++a<s;)if(e(t[a],a,t))return a;return-1}var Cte=lOe;function cOe(t){return t!==t}var uOe=cOe;function dOe(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}var hOe=dOe,fOe=Cte,pOe=uOe,mOe=hOe;function gOe(t,e,r){return e===e?mOe(t,e,r):fOe(t,pOe,r)}var xOe=gOe,yOe=xOe;function vOe(t,e){var r=t==null?0:t.length;return!!r&&yOe(t,e,0)>-1}var bOe=vOe;function wOe(t,e,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(e,t[n]))return!0;return!1}var jOe=wOe;function SOe(){}var NOe=SOe,uk=bte,COe=NOe,_Oe=uO,AOe=1/0,kOe=uk&&1/_Oe(new uk([,-0]))[1]==AOe?function(t){return new uk(t)}:COe,POe=kOe,EOe=ute,TOe=bOe,IOe=jOe,MOe=hte,OOe=POe,LOe=uO,ROe=200;function DOe(t,e,r){var n=-1,s=TOe,a=t.length,o=!0,l=[],c=l;if(r)o=!1,s=IOe;else if(a>=ROe){var u=e?null:OOe(t);if(u)return LOe(u);o=!1,s=MOe,c=new EOe}else c=e?[]:l;e:for(;++n<a;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;e&&c.push(h),l.push(d)}else s(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var FOe=DOe,BOe=Ah,$Oe=FOe;function zOe(t,e){return t&&t.length?$Oe(t,BOe(e)):[]}var UOe=zOe;const EF=On(UOe);function _te(t,e,r){return e===!0?EF(t,r):Hr(e)?EF(t,e):t}function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}var WOe=["ref"];function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Hh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){IC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kte(n.key),n)}}function HOe(t,e,r){return e&&IF(t.prototype,e),r&&IF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VOe(t,e,r){return e=XN(e),qOe(t,Ate()?Reflect.construct(e,r||[],XN(t).constructor):e.apply(t,r))}function qOe(t,e){if(e&&(my(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YOe(t)}function YOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ate(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ate=function(){return!!t})()}function XN(t){return XN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},XN(t)}function XOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$8(t,e)}function $8(t,e){return $8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$8(t,e)}function IC(t,e,r){return e=kte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kte(t){var e=KOe(t,"string");return my(e)=="symbol"?e:e+""}function KOe(t,e){if(my(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(my(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZOe(t,e){if(t==null)return{};var r=QOe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JOe(t){return t.value}function e7e(t,e){if(xe.isValidElement(t))return xe.cloneElement(t,e);if(typeof t=="function")return xe.createElement(t,e);e.ref;var r=ZOe(e,WOe);return xe.createElement(cO,r)}var MF=1,O0=function(t){function e(){var r;GOe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=VOe(this,e,[].concat(s)),IC(r,"lastBoundingBox",{width:-1,height:-1}),r}return XOe(e,t),HOe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>MF||Math.abs(s.height-this.lastBoundingBox.height)>MF)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hh({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,h,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var f=this.getBBoxSnapshot();h={left:((u||0)-f.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();p={top:((d||0)-m.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Hh(Hh({},h),p)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,h=Hh(Hh({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return xe.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){n.wrapperNode=f}},e7e(a,Hh(Hh({},this.props),{},{payload:_te(d,u,JOe)})))}}],[{key:"getWithHeight",value:function(n,s){var a=Hh(Hh({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Wt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(b.PureComponent);IC(O0,"displayName","Legend");IC(O0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var OF=Mw,t7e=dO,r7e=Bl,LF=OF?OF.isConcatSpreadable:void 0;function n7e(t){return r7e(t)||t7e(t)||!!(LF&&t&&t[LF])}var s7e=n7e,i7e=pte,a7e=s7e;function Pte(t,e,r,n,s){var a=-1,o=t.length;for(r||(r=a7e),s||(s=[]);++a<o;){var l=t[a];e>0&&r(l)?e>1?Pte(l,e-1,r,n,s):i7e(s,l):n||(s[s.length]=l)}return s}var Ete=Pte;function o7e(t){return function(e,r,n){for(var s=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++s];if(r(a[c],c,a)===!1)break}return e}}var l7e=o7e,c7e=l7e,u7e=c7e(),d7e=u7e,h7e=d7e,f7e=TC;function p7e(t,e){return t&&h7e(t,e,f7e)}var Tte=p7e,m7e=Lw;function g7e(t,e){return function(r,n){if(r==null)return r;if(!m7e(r))return t(r,n);for(var s=r.length,a=e?s:-1,o=Object(r);(e?a--:++a<s)&&n(o[a],a,o)!==!1;);return r}}var x7e=g7e,y7e=Tte,v7e=x7e,b7e=v7e(y7e),mO=b7e,w7e=mO,j7e=Lw;function S7e(t,e){var r=-1,n=j7e(t)?Array(t.length):[];return w7e(t,function(s,a,o){n[++r]=e(s,a,o)}),n}var Ite=S7e;function N7e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var C7e=N7e,RF=uv;function _7e(t,e){if(t!==e){var r=t!==void 0,n=t===null,s=t===t,a=RF(t),o=e!==void 0,l=e===null,c=e===e,u=RF(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&t<e||u&&r&&s&&!n&&!a||l&&r&&s||!o&&s||!c)return-1}return 0}var A7e=_7e,k7e=A7e;function P7e(t,e,r){for(var n=-1,s=t.criteria,a=e.criteria,o=s.length,l=r.length;++n<o;){var c=k7e(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var E7e=P7e,dk=JM,T7e=eO,I7e=Ah,M7e=Ite,O7e=C7e,L7e=xte,R7e=E7e,D7e=yv,F7e=Bl;function B7e(t,e,r){e.length?e=dk(e,function(a){return F7e(a)?function(o){return T7e(o,a.length===1?a[0]:a)}:a}):e=[D7e];var n=-1;e=dk(e,L7e(I7e));var s=M7e(t,function(a,o,l){var c=dk(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return O7e(s,function(a,o){return R7e(a,o,r)})}var $7e=B7e;function z7e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var U7e=z7e,W7e=U7e,DF=Math.max;function G7e(t,e,r){return e=DF(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,a=DF(n.length-e,0),o=Array(a);++s<a;)o[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(o),W7e(t,this,l)}}var H7e=G7e;function V7e(t){return function(){return t}}var q7e=V7e,Y7e=sx,X7e=function(){try{var t=Y7e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Mte=X7e,K7e=q7e,FF=Mte,Z7e=yv,Q7e=FF?function(t,e){return FF(t,"toString",{configurable:!0,enumerable:!1,value:K7e(e),writable:!0})}:Z7e,J7e=Q7e,eLe=800,tLe=16,rLe=Date.now;function nLe(t){var e=0,r=0;return function(){var n=rLe(),s=tLe-(n-r);if(r=n,s>0){if(++e>=eLe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var sLe=nLe,iLe=J7e,aLe=sLe,oLe=aLe(iLe),lLe=oLe,cLe=yv,uLe=H7e,dLe=lLe;function hLe(t,e){return dLe(uLe(t,e,cLe),t+"")}var fLe=hLe,pLe=XM,mLe=Lw,gLe=hO,xLe=gm;function yLe(t,e,r){if(!xLe(r))return!1;var n=typeof e;return(n=="number"?mLe(r)&&gLe(e,r.length):n=="string"&&e in r)?pLe(r[e],t):!1}var MC=yLe,vLe=Ete,bLe=$7e,wLe=fLe,BF=MC,jLe=wLe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&BF(t,e[0],e[1])?e=[]:r>2&&BF(e[0],e[1],e[2])&&(e=[e[0]]),bLe(t,vLe(e,1),[])}),SLe=jLe;const gO=On(SLe);function w2(t){"@babel/helpers - typeof";return w2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w2(t)}function z8(){return z8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z8.apply(this,arguments)}function NLe(t,e){return kLe(t)||ALe(t,e)||_Le(t,e)||CLe()}function CLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Le(t,e){if(t){if(typeof t=="string")return $F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $F(t,e)}}function $F(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ALe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kLe(t){if(Array.isArray(t))return t}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){PLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PLe(t,e,r){return e=ELe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ELe(t){var e=TLe(t,"string");return w2(e)=="symbol"?e:e+""}function TLe(t,e){if(w2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(w2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ILe(t){return Array.isArray(t)&&da(t[0])&&da(t[1])?t.join(" ~ "):t}var MLe=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,a=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,p=e.itemSorter,f=e.wrapperClassName,m=e.labelClassName,g=e.label,y=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,S=function(){if(d&&d.length){var L={padding:0,margin:0},U=(p?gO(d,p):d).map(function($,q){if($.type==="none")return null;var G=hk({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),W=$.formatter||h||ILe,B=$.value,O=$.name,K=B,Y=O;if(W&&K!=null&&Y!=null){var D=W(B,O,$,q,d);if(Array.isArray(D)){var Z=NLe(D,2);K=Z[0],Y=Z[1]}else K=D}return xe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:G},da(Y)?xe.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,da(Y)?xe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,xe.createElement("span",{className:"recharts-tooltip-item-value"},K),xe.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return xe.createElement("ul",{className:"recharts-tooltip-item-list",style:L},U)}return null},N=hk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=hk({margin:0},u),A=!en(g),k=A?g:"",E=nn("recharts-default-tooltip",f),T=nn("recharts-tooltip-label",m);A&&y&&d!==void 0&&d!==null&&(k=y(g,d));var R=w?{role:"status","aria-live":"assertive"}:{};return xe.createElement("div",z8({className:E,style:N},R),xe.createElement("p",{className:T,style:C},xe.isValidElement(k)?k:"".concat(k)),S())};function j2(t){"@babel/helpers - typeof";return j2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j2(t)}function v5(t,e,r){return e=OLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OLe(t){var e=LLe(t,"string");return j2(e)=="symbol"?e:e+""}function LLe(t,e){if(j2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(j2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x1="recharts-tooltip-wrapper",RLe={visibility:"hidden"};function DLe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return nn(x1,v5(v5(v5(v5({},"".concat(x1,"-right"),Wt(r)&&e&&Wt(e.x)&&r>=e.x),"".concat(x1,"-left"),Wt(r)&&e&&Wt(e.x)&&r<e.x),"".concat(x1,"-bottom"),Wt(n)&&e&&Wt(e.y)&&n>=e.y),"".concat(x1,"-top"),Wt(n)&&e&&Wt(e.y)&&n<e.y))}function UF(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&Wt(a[n]))return a[n];var d=r[n]-l-s,h=r[n]+s;if(e[n])return o[n]?d:h;if(o[n]){var p=d,f=c[n];return p<f?Math.max(h,c[n]):Math.max(d,c[n])}var m=h+l,g=c[n]+u;return m>g?Math.max(d,c[n]):Math.max(h,c[n])}function FLe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function BLe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=UF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=UF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=FLe({translateX:d,translateY:h,useTranslate3d:l})):u=RLe,{cssProperties:u,cssClasses:DLe({translateX:d,translateY:h,coordinate:r})}}function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function GF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(n){W8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lte(n.key),n)}}function ULe(t,e,r){return e&&zLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WLe(t,e,r){return e=KN(e),GLe(t,Ote()?Reflect.construct(e,r||[],KN(t).constructor):e.apply(t,r))}function GLe(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HLe(t)}function HLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ote(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ote=function(){return!!t})()}function KN(t){return KN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},KN(t)}function VLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U8(t,e)}function U8(t,e){return U8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},U8(t,e)}function W8(t,e,r){return e=Lte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lte(t){var e=qLe(t,"string");return gy(e)=="symbol"?e:e+""}function qLe(t,e){if(gy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HF=1,YLe=function(t){function e(){var r;$Le(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=WLe(this,e,[].concat(s)),W8(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),W8(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return VLe(e,t),ULe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>HF||Math.abs(n.height-this.state.lastBoundingBox.height)>HF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,h=s.hasPayload,p=s.isAnimationActive,f=s.offset,m=s.position,g=s.reverseDirection,y=s.useTranslate3d,x=s.viewBox,w=s.wrapperStyle,S=BLe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),N=S.cssClasses,C=S.cssProperties,A=GF(GF({transition:p&&a?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return xe.createElement("div",{tabIndex:-1,className:N,style:A,ref:function(E){n.wrapperNode=E}},u)}}])}(b.PureComponent),XLe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ix={isSsr:XLe()};function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function VF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(r),!0).forEach(function(n){xO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dte(n.key),n)}}function QLe(t,e,r){return e&&ZLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JLe(t,e,r){return e=ZN(e),eRe(t,Rte()?Reflect.construct(e,r||[],ZN(t).constructor):e.apply(t,r))}function eRe(t,e){if(e&&(xy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tRe(t)}function tRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rte=function(){return!!t})()}function ZN(t){return ZN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ZN(t)}function rRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G8(t,e)}function G8(t,e){return G8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},G8(t,e)}function xO(t,e,r){return e=Dte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dte(t){var e=nRe(t,"string");return xy(e)=="symbol"?e:e+""}function nRe(t,e){if(xy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sRe(t){return t.dataKey}function iRe(t,e){return xe.isValidElement(t)?xe.cloneElement(t,e):typeof t=="function"?xe.createElement(t,e):xe.createElement(MLe,e)}var oc=function(t){function e(){return KLe(this,e),JLe(this,e,arguments)}return rRe(e,t),QLe(e,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,h=s.filterNull,p=s.isAnimationActive,f=s.offset,m=s.payload,g=s.payloadUniqBy,y=s.position,x=s.reverseDirection,w=s.useTranslate3d,S=s.viewBox,N=s.wrapperStyle,C=m??[];h&&C.length&&(C=_te(m.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),g,sRe));var A=C.length>0;return xe.createElement(YLe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:a,coordinate:d,hasPayload:A,offset:f,position:y,reverseDirection:x,useTranslate3d:w,viewBox:S,wrapperStyle:N},iRe(u,qF(qF({},this.props),{},{payload:C})))}}])}(b.PureComponent);xO(oc,"displayName","Tooltip");xO(oc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ix.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var aRe=_h,oRe=function(){return aRe.Date.now()},lRe=oRe,cRe=/\s/;function uRe(t){for(var e=t.length;e--&&cRe.test(t.charAt(e)););return e}var dRe=uRe,hRe=dRe,fRe=/^\s+/;function pRe(t){return t&&t.slice(0,hRe(t)+1).replace(fRe,"")}var mRe=pRe,gRe=mRe,YF=gm,xRe=uv,XF=NaN,yRe=/^[-+]0x[0-9a-f]+$/i,vRe=/^0b[01]+$/i,bRe=/^0o[0-7]+$/i,wRe=parseInt;function jRe(t){if(typeof t=="number")return t;if(xRe(t))return XF;if(YF(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=YF(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=gRe(t);var r=vRe.test(t);return r||bRe.test(t)?wRe(t.slice(2),r?2:8):yRe.test(t)?XF:+t}var Fte=jRe,SRe=gm,fk=lRe,KF=Fte,NRe="Expected a function",CRe=Math.max,_Re=Math.min;function ARe(t,e,r){var n,s,a,o,l,c,u=0,d=!1,h=!1,p=!0;if(typeof t!="function")throw new TypeError(NRe);e=KF(e)||0,SRe(r)&&(d=!!r.leading,h="maxWait"in r,a=h?CRe(KF(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function f(A){var k=n,E=s;return n=s=void 0,u=A,o=t.apply(E,k),o}function m(A){return u=A,l=setTimeout(x,e),d?f(A):o}function g(A){var k=A-c,E=A-u,T=e-k;return h?_Re(T,a-E):T}function y(A){var k=A-c,E=A-u;return c===void 0||k>=e||k<0||h&&E>=a}function x(){var A=fk();if(y(A))return w(A);l=setTimeout(x,g(A))}function w(A){return l=void 0,p&&n?f(A):(n=s=void 0,o)}function S(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function N(){return l===void 0?o:w(fk())}function C(){var A=fk(),k=y(A);if(n=arguments,s=this,c=A,k){if(l===void 0)return m(c);if(h)return clearTimeout(l),l=setTimeout(x,e),f(c)}return l===void 0&&(l=setTimeout(x,e)),o}return C.cancel=S,C.flush=N,C}var kRe=ARe,PRe=kRe,ERe=gm,TRe="Expected a function";function IRe(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(TRe);return ERe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),PRe(t,e,{leading:n,maxWait:e,trailing:s})}var MRe=IRe;const Bte=On(MRe);function S2(t){"@babel/helpers - typeof";return S2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S2(t)}function ZF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function b5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(r),!0).forEach(function(n){ORe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ORe(t,e,r){return e=LRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LRe(t){var e=RRe(t,"string");return S2(e)=="symbol"?e:e+""}function RRe(t,e){if(S2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(S2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DRe(t,e){return zRe(t)||$Re(t,e)||BRe(t,e)||FRe()}function FRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BRe(t,e){if(t){if(typeof t=="string")return QF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QF(t,e)}}function QF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Re(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zRe(t){if(Array.isArray(t))return t}var w5=b.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,p=t.maxHeight,f=t.children,m=t.debounce,g=m===void 0?0:m,y=t.id,x=t.className,w=t.onResize,S=t.style,N=S===void 0?{}:S,C=b.useRef(null),A=b.useRef();A.current=w,b.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var k=b.useState({containerWidth:s.width,containerHeight:s.height}),E=DRe(k,2),T=E[0],R=E[1],I=b.useCallback(function(U,$){R(function(q){var G=Math.round(U),W=Math.round($);return q.containerWidth===G&&q.containerHeight===W?q:{containerWidth:G,containerHeight:W}})},[]);b.useEffect(function(){var U=function(O){var K,Y=O[0].contentRect,D=Y.width,Z=Y.height;I(D,Z),(K=A.current)===null||K===void 0||K.call(A,D,Z)};g>0&&(U=Bte(U,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(U),q=C.current.getBoundingClientRect(),G=q.width,W=q.height;return I(G,W),$.observe(C.current),function(){$.disconnect()}},[I,g]);var L=b.useMemo(function(){var U=T.containerWidth,$=T.containerHeight;if(U<0||$<0)return null;wd(ig(o)||ig(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),wd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=ig(o)?U:o,G=ig(c)?$:c;r&&r>0&&(q?G=q/r:G&&(q=G*r),p&&G>p&&(G=p)),wd(q>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,G,o,c,d,h,r);var W=!Array.isArray(f)&&ff(f.type).endsWith("Chart");return xe.Children.map(f,function(B){return xe.isValidElement(B)?b.cloneElement(B,b5({width:q,height:G},W?{style:b5({height:"100%",width:"100%",maxHeight:G,maxWidth:q},B.props.style)}:{})):B})},[r,f,c,p,h,d,T,o]);return xe.createElement("div",{id:y?"".concat(y):void 0,className:nn("recharts-responsive-container",x),style:b5(b5({},N),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:p}),ref:C},L)}),OC=function(e){return null};OC.displayName="Cell";function N2(t){"@babel/helpers - typeof";return N2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N2(t)}function JF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function H8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JF(Object(r),!0).forEach(function(n){URe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function URe(t,e,r){return e=WRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WRe(t){var e=GRe(t,"string");return N2(e)=="symbol"?e:e+""}function GRe(t,e){if(N2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(N2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ux={widthCache:{},cacheCount:0},HRe=2e3,VRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eB="recharts_measurement_span";function qRe(t){var e=H8({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var vb=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ix.isSsr)return{width:0,height:0};var n=qRe(r),s=JSON.stringify({text:e,copyStyle:n});if(Ux.widthCache[s])return Ux.widthCache[s];try{var a=document.getElementById(eB);a||(a=document.createElement("span"),a.setAttribute("id",eB),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=H8(H8({},VRe),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Ux.widthCache[s]=c,++Ux.cacheCount>HRe&&(Ux.cacheCount=0,Ux.widthCache={}),c}catch{return{width:0,height:0}}},YRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function C2(t){"@babel/helpers - typeof";return C2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C2(t)}function QN(t,e){return QRe(t)||ZRe(t,e)||KRe(t,e)||XRe()}function XRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KRe(t,e){if(t){if(typeof t=="string")return tB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tB(t,e)}}function tB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function QRe(t){if(Array.isArray(t))return t}function JRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t9e(n.key),n)}}function e9e(t,e,r){return e&&rB(t.prototype,e),r&&rB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function t9e(t){var e=r9e(t,"string");return C2(e)=="symbol"?e:e+""}function r9e(t,e){if(C2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(C2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,n9e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,s9e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$te={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},i9e=Object.keys($te),p0="NaN";function a9e(t,e){return t*$te[e]}var j5=function(){function t(e,r){JRe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!n9e.test(r)&&(this.num=NaN,this.unit=""),i9e.includes(r)&&(this.num=a9e(e,r),this.unit="px")}return e9e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=s9e.exec(r))!==null&&n!==void 0?n:[],a=QN(s,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function zte(t){if(t.includes(p0))return p0;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=nB.exec(e))!==null&&r!==void 0?r:[],s=QN(n,4),a=s[1],o=s[2],l=s[3],c=j5.parse(a??""),u=j5.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return p0;e=e.replace(nB,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=sB.exec(e))!==null&&h!==void 0?h:[],f=QN(p,4),m=f[1],g=f[2],y=f[3],x=j5.parse(m??""),w=j5.parse(y??""),S=g==="+"?x.add(w):x.subtract(w);if(S.isNaN())return p0;e=e.replace(sB,S.toString())}return e}var iB=/\(([^()]*)\)/;function o9e(t){for(var e=t;e.includes("(");){var r=iB.exec(e),n=QN(r,2),s=n[1];e=e.replace(iB,zte(s))}return e}function l9e(t){var e=t.replace(/\s+/g,"");return e=o9e(e),e=zte(e),e}function c9e(t){try{return l9e(t)}catch{return p0}}function pk(t){var e=c9e(t.slice(5,-1));return e===p0?"":e}var u9e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],d9e=["dx","dy","angle","className","breakAll"];function V8(){return V8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V8.apply(this,arguments)}function aB(t,e){if(t==null)return{};var r=h9e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oB(t,e){return g9e(t)||m9e(t,e)||p9e(t,e)||f9e()}function f9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p9e(t,e){if(t){if(typeof t=="string")return lB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lB(t,e)}}function lB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m9e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function g9e(t){if(Array.isArray(t))return t}var Ute=/[ \f\n\r\t\v\u2028\u2029]+/,Wte=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var a=[];en(r)||(n?a=r.toString().split(""):a=r.toString().split(Ute));var o=a.map(function(c){return{word:c,width:vb(c,s).width}}),l=n?0:vb("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},x9e=function(e,r,n,s,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Wt(o),h=l,p=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(G,W){var B=W.word,O=W.width,K=G[G.length-1];if(K&&(s==null||a||K.width+O+n<Number(s)))K.words.push(B),K.width+=O+n;else{var Y={words:[B],width:O};G.push(Y)}return G},[])},f=p(r),m=function(q){return q.reduce(function(G,W){return G.width>W.width?G:W})};if(!d)return f;for(var g="",y=function(q){var G=h.slice(0,q),W=Wte({breakAll:u,style:c,children:G+g}).wordsWithComputedWidth,B=p(W),O=B.length>o||m(B).width>Number(s);return[O,B]},x=0,w=h.length-1,S=0,N;x<=w&&S<=h.length-1;){var C=Math.floor((x+w)/2),A=C-1,k=y(A),E=oB(k,2),T=E[0],R=E[1],I=y(C),L=oB(I,1),U=L[0];if(!T&&!U&&(x=C+1),T&&U&&(w=C-1),!T&&U){N=R;break}S++}return N||f},cB=function(e){var r=en(e)?[]:e.toString().split(Ute);return[{words:r}]},y9e=function(e){var r=e.width,n=e.scaleToFit,s=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!ix.isSsr){var c,u,d=Wte({breakAll:o,children:s,style:a});if(d){var h=d.wordsWithComputedWidth,p=d.spaceWidth;c=h,u=p}else return cB(s);return x9e({breakAll:o,children:s,maxLines:l,style:a},c,u,r,n)}return cB(s)},uB="#808080",$g=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,p=e.textAnchor,f=p===void 0?"start":p,m=e.verticalAnchor,g=m===void 0?"end":m,y=e.fill,x=y===void 0?uB:y,w=aB(e,u9e),S=b.useMemo(function(){return y9e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),N=w.dx,C=w.dy,A=w.angle,k=w.className,E=w.breakAll,T=aB(w,d9e);if(!da(n)||!da(a))return null;var R=n+(Wt(N)?N:0),I=a+(Wt(C)?C:0),L;switch(g){case"start":L=pk("calc(".concat(u,")"));break;case"middle":L=pk("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:L=pk("calc(".concat(S.length-1," * -").concat(l,")"));break}var U=[];if(h){var $=S[0].width,q=w.width;U.push("scale(".concat((Wt(q)?q/$:1)/$,")"))}return A&&U.push("rotate(".concat(A,", ").concat(R,", ").concat(I,")")),U.length&&(T.transform=U.join(" ")),xe.createElement("text",V8({},Br(T,!0),{x:R,y:I,className:nn("recharts-text",k),textAnchor:f,fill:x.includes("url")?uB:x}),S.map(function(G,W){var B=G.words.join(E?"":" ");return xe.createElement("tspan",{x:R,dy:W===0?L:l,key:"".concat(B,"-").concat(W)},B)}))};function Xp(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function v9e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yO(t){let e,r,n;t.length!==2?(e=Xp,r=(l,c)=>Xp(t(l),c),n=(l,c)=>t(l)-c):(e=t===Xp||t===v9e?t:b9e,r=t,n=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=s(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:s,center:o,right:a}}function b9e(){return 0}function Gte(t){return t===null?NaN:+t}function*w9e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const j9e=yO(Xp),Rw=j9e.right;yO(Gte).center;class dB extends Map{constructor(e,r=C9e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(hB(this,e))}has(e){return super.has(hB(this,e))}set(e,r){return super.set(S9e(this,e),r)}delete(e){return super.delete(N9e(this,e))}}function hB({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function S9e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function N9e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function C9e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _9e(t=Xp){if(t===Xp)return Hte;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Hte(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const A9e=Math.sqrt(50),k9e=Math.sqrt(10),P9e=Math.sqrt(2);function JN(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),o=a>=A9e?10:a>=k9e?5:a>=P9e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?JN(t,e,r*2):[l,c,u]}function q8(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,a,o]=n?JN(e,t,r):JN(t,e,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function Y8(t,e,r){return e=+e,t=+t,r=+r,JN(t,e,r)[2]}function X8(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?Y8(e,t,r):Y8(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function fB(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function pB(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Vte(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?Hte:_9e(s);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),f=Math.max(r,Math.floor(e-u*h/c+p)),m=Math.min(n,Math.floor(e+(c-u)*h/c+p));Vte(t,e,f,m,s)}const a=t[e];let o=r,l=n;for(y1(t,r,e),s(t[n],a)>0&&y1(t,r,n);o<l;){for(y1(t,o,l),++o,--l;s(t[o],a)<0;)++o;for(;s(t[l],a)>0;)--l}s(t[r],a)===0?y1(t,r,l):(++l,y1(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function y1(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function E9e(t,e,r){if(t=Float64Array.from(w9e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return pB(t);if(e>=1)return fB(t);var n,s=(n-1)*e,a=Math.floor(s),o=fB(Vte(t,a).subarray(0,a+1)),l=pB(t.subarray(a+1));return o+(l-o)*(s-a)}}function T9e(t,e,r=Gte){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,a=Math.floor(s),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(s-a)}}function I9e(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(s);++n<s;)a[n]=t+n*r;return a}function Au(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Df(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const K8=Symbol("implicit");function vO(){var t=new dB,e=[],r=[],n=K8;function s(a){let o=t.get(a);if(o===void 0){if(n!==K8)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return s.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new dB;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return vO(e,r).unknown(n)},Au.apply(s,arguments),s}function _2(){var t=vO().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var p=e().length,f=s<n,m=f?s:n,g=f?n:s;a=(g-m)/Math.max(1,p-c+u*2),l&&(a=Math.floor(a)),m+=(g-m-a*(p-c))*d,o=a*(1-c),l&&(m=Math.round(m),o=Math.round(o));var y=I9e(p).map(function(x){return m+a*x});return r(f?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([n,s]=p,n=+n,s=+s,h()):[n,s]},t.rangeRound=function(p){return[n,s]=p,n=+n,s=+s,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(l=!!p,h()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),h()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),h()):d},t.copy=function(){return _2(e(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Au.apply(h(),arguments)}function qte(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return qte(e())},t}function bb(){return qte(_2.apply(null,arguments).paddingInner(1))}function bO(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Yte(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Dw(){}var A2=.7,e4=1/A2,L0="\\s*([+-]?\\d+)\\s*",k2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",M9e=/^#([0-9a-f]{3,8})$/,O9e=new RegExp(`^rgb\\(${L0},${L0},${L0}\\)$`),L9e=new RegExp(`^rgb\\(${ph},${ph},${ph}\\)$`),R9e=new RegExp(`^rgba\\(${L0},${L0},${L0},${k2}\\)$`),D9e=new RegExp(`^rgba\\(${ph},${ph},${ph},${k2}\\)$`),F9e=new RegExp(`^hsl\\(${k2},${ph},${ph}\\)$`),B9e=new RegExp(`^hsla\\(${k2},${ph},${ph},${k2}\\)$`),mB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bO(Dw,P2,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gB,formatHex:gB,formatHex8:$9e,formatHsl:z9e,formatRgb:xB,toString:xB});function gB(){return this.rgb().formatHex()}function $9e(){return this.rgb().formatHex8()}function z9e(){return Xte(this).formatHsl()}function xB(){return this.rgb().formatRgb()}function P2(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=M9e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?yB(e):r===3?new Ol(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?S5(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?S5(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=O9e.exec(t))?new Ol(e[1],e[2],e[3],1):(e=L9e.exec(t))?new Ol(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=R9e.exec(t))?S5(e[1],e[2],e[3],e[4]):(e=D9e.exec(t))?S5(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=F9e.exec(t))?wB(e[1],e[2]/100,e[3]/100,1):(e=B9e.exec(t))?wB(e[1],e[2]/100,e[3]/100,e[4]):mB.hasOwnProperty(t)?yB(mB[t]):t==="transparent"?new Ol(NaN,NaN,NaN,0):null}function yB(t){return new Ol(t>>16&255,t>>8&255,t&255,1)}function S5(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ol(t,e,r,n)}function U9e(t){return t instanceof Dw||(t=P2(t)),t?(t=t.rgb(),new Ol(t.r,t.g,t.b,t.opacity)):new Ol}function Z8(t,e,r,n){return arguments.length===1?U9e(t):new Ol(t,e,r,n??1)}function Ol(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}bO(Ol,Z8,Yte(Dw,{brighter(t){return t=t==null?e4:Math.pow(e4,t),new Ol(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?A2:Math.pow(A2,t),new Ol(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ol(yg(this.r),yg(this.g),yg(this.b),t4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vB,formatHex:vB,formatHex8:W9e,formatRgb:bB,toString:bB}));function vB(){return`#${ag(this.r)}${ag(this.g)}${ag(this.b)}`}function W9e(){return`#${ag(this.r)}${ag(this.g)}${ag(this.b)}${ag((isNaN(this.opacity)?1:this.opacity)*255)}`}function bB(){const t=t4(this.opacity);return`${t===1?"rgb(":"rgba("}${yg(this.r)}, ${yg(this.g)}, ${yg(this.b)}${t===1?")":`, ${t})`}`}function t4(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yg(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ag(t){return t=yg(t),(t<16?"0":"")+t.toString(16)}function wB(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new gd(t,e,r,n)}function Xte(t){if(t instanceof gd)return new gd(t.h,t.s,t.l,t.opacity);if(t instanceof Dw||(t=P2(t)),!t)return new gd;if(t instanceof gd)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-s,c=(a+s)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new gd(o,l,c,t.opacity)}function G9e(t,e,r,n){return arguments.length===1?Xte(t):new gd(t,e,r,n??1)}function gd(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}bO(gd,G9e,Yte(Dw,{brighter(t){return t=t==null?e4:Math.pow(e4,t),new gd(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?A2:Math.pow(A2,t),new gd(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new Ol(mk(t>=240?t-240:t+120,s,n),mk(t,s,n),mk(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new gd(jB(this.h),N5(this.s),N5(this.l),t4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=t4(this.opacity);return`${t===1?"hsl(":"hsla("}${jB(this.h)}, ${N5(this.s)*100}%, ${N5(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jB(t){return t=(t||0)%360,t<0?t+360:t}function N5(t){return Math.max(0,Math.min(1,t||0))}function mk(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const wO=t=>()=>t;function H9e(t,e){return function(r){return t+r*e}}function V9e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function q9e(t){return(t=+t)==1?Kte:function(e,r){return r-e?V9e(e,r,t):wO(isNaN(e)?r:e)}}function Kte(t,e){var r=e-t;return r?H9e(t,r):wO(isNaN(t)?e:t)}const SB=function t(e){var r=q9e(e);function n(s,a){var o=r((s=Z8(s)).r,(a=Z8(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=Kte(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=t,n}(1);function Y9e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=t[s]*(1-a)+e[s]*a;return n}}function X9e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function K9e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)s[o]=vv(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=s[o](l);return a}}function Z9e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function r4(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Q9e(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=vv(t[s],e[s]):n[s]=e[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var Q8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gk=new RegExp(Q8.source,"g");function J9e(t){return function(){return t}}function eDe(t){return function(e){return t(e)+""}}function tDe(t,e){var r=Q8.lastIndex=gk.lastIndex=0,n,s,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=Q8.exec(t))&&(s=gk.exec(e));)(a=s.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:r4(n,s)})),r=gk.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?eDe(c[0].x):J9e(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function vv(t,e){var r=typeof e,n;return e==null||r==="boolean"?wO(e):(r==="number"?r4:r==="string"?(n=P2(e))?(e=n,SB):tDe:e instanceof P2?SB:e instanceof Date?Z9e:X9e(e)?Y9e:Array.isArray(e)?K9e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Q9e:r4)(t,e)}function jO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function rDe(t,e){e===void 0&&(e=t,t=vv);for(var r=0,n=e.length-1,s=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function nDe(t){return function(){return t}}function n4(t){return+t}var NB=[0,1];function sl(t){return t}function J8(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:nDe(isNaN(e)?NaN:.5)}function sDe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function iDe(t,e,r){var n=t[0],s=t[1],a=e[0],o=e[1];return s<n?(n=J8(s,n),a=r(o,a)):(n=J8(n,s),a=r(a,o)),function(l){return a(n(l))}}function aDe(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=J8(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=Rw(t,l,1,n)-1;return a[c](s[c](l))}}function Fw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function LC(){var t=NB,e=NB,r=vv,n,s,a,o=sl,l,c,u;function d(){var p=Math.min(t.length,e.length);return o!==sl&&(o=sDe(t[0],t[p-1])),l=p>2?aDe:iDe,c=u=null,h}function h(p){return p==null||isNaN(p=+p)?a:(c||(c=l(t.map(n),e,r)))(n(o(p)))}return h.invert=function(p){return o(s((u||(u=l(e,t.map(n),r4)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,n4),d()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),r=jO,d()},h.clamp=function(p){return arguments.length?(o=p?!0:sl,d()):o!==sl},h.interpolate=function(p){return arguments.length?(r=p,d()):r},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,f){return n=p,s=f,d()}}function SO(){return LC()(sl,sl)}function oDe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function s4(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function yy(t){return t=s4(Math.abs(t)),t?t[1]:NaN}function lDe(t,e){return function(r,n){for(var s=r.length,a=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function cDe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var uDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function E2(t){if(!(e=uDe.exec(t)))throw new Error("invalid format: "+t);var e;return new NO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}E2.prototype=NO.prototype;function NO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}NO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dDe(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var Zte;function hDe(t,e){var r=s4(t,e);if(!r)return t+"";var n=r[0],s=r[1],a=s-(Zte=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+s4(t,Math.max(0,e+a-1))[0]}function CB(t,e){var r=s4(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const _B={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:oDe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>CB(t*100,e),r:CB,s:hDe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function AB(t){return t}var kB=Array.prototype.map,PB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fDe(t){var e=t.grouping===void 0||t.thousands===void 0?AB:lDe(kB.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?AB:cDe(kB.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=E2(h);var p=h.fill,f=h.align,m=h.sign,g=h.symbol,y=h.zero,x=h.width,w=h.comma,S=h.precision,N=h.trim,C=h.type;C==="n"?(w=!0,C="g"):_B[C]||(S===void 0&&(S=12),N=!0,C="g"),(y||p==="0"&&f==="=")&&(y=!0,p="0",f="=");var A=g==="$"?r:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",k=g==="$"?n:/[%p]/.test(C)?o:"",E=_B[C],T=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function R(I){var L=A,U=k,$,q,G;if(C==="c")U=E(I)+U,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?c:E(Math.abs(I),S),N&&(I=dDe(I)),W&&+I==0&&m!=="+"&&(W=!1),L=(W?m==="("?m:l:m==="-"||m==="("?"":m)+L,U=(C==="s"?PB[8+Zte/3]:"")+U+(W&&m==="("?")":""),T){for($=-1,q=I.length;++$<q;)if(G=I.charCodeAt($),48>G||G>57){U=(G===46?s+I.slice($+1):I.slice($))+U,I=I.slice(0,$);break}}}w&&!y&&(I=e(I,1/0));var B=L.length+I.length+U.length,O=B<x?new Array(x-B+1).join(p):"";switch(w&&y&&(I=e(O+I,O.length?x-U.length:1/0),O=""),f){case"<":I=L+I+U+O;break;case"=":I=L+O+I+U;break;case"^":I=O.slice(0,B=O.length>>1)+L+I+U+O.slice(B);break;default:I=O+L+I+U;break}return a(I)}return R.toString=function(){return h+""},R}function d(h,p){var f=u((h=E2(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(yy(p)/3)))*3,g=Math.pow(10,-m),y=PB[8+m/3];return function(x){return f(g*x)+y}}return{format:u,formatPrefix:d}}var C5,CO,Qte;pDe({thousands:",",grouping:[3],currency:["$",""]});function pDe(t){return C5=fDe(t),CO=C5.format,Qte=C5.formatPrefix,C5}function mDe(t){return Math.max(0,-yy(Math.abs(t)))}function gDe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yy(e)/3)))*3-yy(Math.abs(t)))}function xDe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yy(e)-yy(t))+1}function Jte(t,e,r,n){var s=X8(t,e,r),a;switch(n=E2(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=gDe(s,o))&&(n.precision=a),Qte(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=xDe(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=mDe(s))&&(n.precision=a-(n.type==="%")*2);break}}return CO(n)}function xm(t){var e=t.domain;return t.ticks=function(r){var n=e();return q8(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return Jte(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,a=n.length-1,o=n[s],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=Y8(o,l,r),u===c)return n[s]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function i4(){var t=SO();return t.copy=function(){return Fw(t,i4())},Au.apply(t,arguments),xm(t)}function ere(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,n4),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return ere(t).unknown(e)},t=arguments.length?Array.from(t,n4):[0,1],xm(r)}function tre(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],a=t[n],o;return a<s&&(o=r,r=n,n=o,o=s,s=a,a=o),t[r]=e.floor(s),t[n]=e.ceil(a),t}function EB(t){return Math.log(t)}function TB(t){return Math.exp(t)}function yDe(t){return-Math.log(-t)}function vDe(t){return-Math.exp(-t)}function bDe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wDe(t){return t===10?bDe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jDe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function IB(t){return(e,r)=>-t(-e,r)}function _O(t){const e=t(EB,TB),r=e.domain;let n=10,s,a;function o(){return s=jDe(n),a=wDe(n),r()[0]<0?(s=IB(s),a=IB(a),t(yDe,vDe)):t(EB,TB),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let p=s(u),f=s(d),m,g;const y=l==null?10:+l;let x=[];if(!(n%1)&&f-p<y){if(p=Math.floor(p),f=Math.ceil(f),u>0){for(;p<=f;++p)for(m=1;m<n;++m)if(g=p<0?m/a(-p):m*a(p),!(g<u)){if(g>d)break;x.push(g)}}else for(;p<=f;++p)for(m=n-1;m>=1;--m)if(g=p>0?m/a(-p):m*a(p),!(g<u)){if(g>d)break;x.push(g)}x.length*2<y&&(x=q8(u,d,y))}else x=q8(p,f,Math.min(f-p,y)).map(a);return h?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=E2(c)).precision==null&&(c.trim=!0),c=CO(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let h=d/a(Math.round(s(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(tre(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),e}function rre(){const t=_O(LC()).domain([1,10]);return t.copy=()=>Fw(t,rre()).base(t.base()),Au.apply(t,arguments),t}function MB(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function OB(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function AO(t){var e=1,r=t(MB(e),OB(e));return r.constant=function(n){return arguments.length?t(MB(e=+n),OB(e)):e},xm(r)}function nre(){var t=AO(LC());return t.copy=function(){return Fw(t,nre()).constant(t.constant())},Au.apply(t,arguments)}function LB(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function SDe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function NDe(t){return t<0?-t*t:t*t}function kO(t){var e=t(sl,sl),r=1;function n(){return r===1?t(sl,sl):r===.5?t(SDe,NDe):t(LB(r),LB(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},xm(e)}function PO(){var t=kO(LC());return t.copy=function(){return Fw(t,PO()).exponent(t.exponent())},Au.apply(t,arguments),t}function CDe(){return PO.apply(null,arguments).exponent(.5)}function RB(t){return Math.sign(t)*t*t}function _De(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function sre(){var t=SO(),e=[0,1],r=!1,n;function s(a){var o=_De(t(a));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(a){return t.invert(RB(a))},s.domain=function(a){return arguments.length?(t.domain(a),s):t.domain()},s.range=function(a){return arguments.length?(t.range((e=Array.from(a,n4)).map(RB)),s):e.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(t.clamp(a),s):t.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return sre(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Au.apply(s,arguments),xm(s)}function ire(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=T9e(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Rw(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Xp),s()},a.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return ire().domain(t).range(e).unknown(n)},Au.apply(a,arguments)}function are(){var t=0,e=1,r=1,n=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[Rw(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return are().domain([t,e]).range(s).unknown(a)},Au.apply(xm(o),arguments)}function ore(){var t=[.5],e=[0,1],r,n=1;function s(a){return a!=null&&a<=a?e[Rw(t,a,0,n)]:r}return s.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return ore().domain(t).range(e).unknown(r)},Au.apply(s,arguments)}const xk=new Date,yk=new Date;function xa(t,e,r,n){function s(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(t(a=new Date(+a)),a),s.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},s.filter=a=>xa(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(s.count=(a,o)=>(xk.setTime(+a),yk.setTime(+o),t(xk),t(yk),Math.floor(r(xk,yk))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?o=>n(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const a4=xa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);a4.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xa(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):a4);a4.range;const sf=1e3,pu=sf*60,af=pu*60,Sf=af*24,EO=Sf*7,DB=Sf*30,vk=Sf*365,og=xa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*sf)},(t,e)=>(e-t)/sf,t=>t.getUTCSeconds());og.range;const TO=xa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sf)},(t,e)=>{t.setTime(+t+e*pu)},(t,e)=>(e-t)/pu,t=>t.getMinutes());TO.range;const IO=xa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*pu)},(t,e)=>(e-t)/pu,t=>t.getUTCMinutes());IO.range;const MO=xa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sf-t.getMinutes()*pu)},(t,e)=>{t.setTime(+t+e*af)},(t,e)=>(e-t)/af,t=>t.getHours());MO.range;const OO=xa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*af)},(t,e)=>(e-t)/af,t=>t.getUTCHours());OO.range;const Bw=xa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pu)/Sf,t=>t.getDate()-1);Bw.range;const RC=xa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Sf,t=>t.getUTCDate()-1);RC.range;const lre=xa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Sf,t=>Math.floor(t/Sf));lre.range;function ax(t){return xa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*pu)/EO)}const DC=ax(0),o4=ax(1),ADe=ax(2),kDe=ax(3),vy=ax(4),PDe=ax(5),EDe=ax(6);DC.range;o4.range;ADe.range;kDe.range;vy.range;PDe.range;EDe.range;function ox(t){return xa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/EO)}const FC=ox(0),l4=ox(1),TDe=ox(2),IDe=ox(3),by=ox(4),MDe=ox(5),ODe=ox(6);FC.range;l4.range;TDe.range;IDe.range;by.range;MDe.range;ODe.range;const LO=xa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LO.range;const RO=xa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RO.range;const Nf=xa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Nf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Nf.range;const Cf=xa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Cf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Cf.range;function cre(t,e,r,n,s,a){const o=[[og,1,sf],[og,5,5*sf],[og,15,15*sf],[og,30,30*sf],[a,1,pu],[a,5,5*pu],[a,15,15*pu],[a,30,30*pu],[s,1,af],[s,3,3*af],[s,6,6*af],[s,12,12*af],[n,1,Sf],[n,2,2*Sf],[r,1,EO],[e,1,DB],[e,3,3*DB],[t,1,vk]];function l(u,d,h){const p=d<u;p&&([u,d]=[d,u]);const f=h&&typeof h.range=="function"?h:c(u,d,h),m=f?f.range(u,+d+1):[];return p?m.reverse():m}function c(u,d,h){const p=Math.abs(d-u)/h,f=yO(([,,y])=>y).right(o,p);if(f===o.length)return t.every(X8(u/vk,d/vk,h));if(f===0)return a4.every(Math.max(X8(u,d,h),1));const[m,g]=o[p/o[f-1][2]<o[f][2]/p?f-1:f];return m.every(g)}return[l,c]}const[LDe,RDe]=cre(Cf,RO,FC,lre,OO,IO),[DDe,FDe]=cre(Nf,LO,DC,Bw,MO,TO);function bk(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function wk(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function v1(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function BDe(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=b1(s),d=w1(s),h=b1(a),p=w1(a),f=b1(o),m=w1(o),g=b1(l),y=w1(l),x=b1(c),w=w1(c),S={a:W,A:B,b:O,B:K,c:null,d:WB,e:WB,f:lFe,g:yFe,G:bFe,H:iFe,I:aFe,j:oFe,L:ure,m:cFe,M:uFe,p:Y,q:D,Q:VB,s:qB,S:dFe,u:hFe,U:fFe,V:pFe,w:mFe,W:gFe,x:null,X:null,y:xFe,Y:vFe,Z:wFe,"%":HB},N={a:Z,A:ie,b:he,B:J,c:null,d:GB,e:GB,f:CFe,g:LFe,G:DFe,H:jFe,I:SFe,j:NFe,L:hre,m:_Fe,M:AFe,p:ae,q:ne,Q:VB,s:qB,S:kFe,u:PFe,U:EFe,V:TFe,w:IFe,W:MFe,x:null,X:null,y:OFe,Y:RFe,Z:FFe,"%":HB},C={a:R,A:I,b:L,B:U,c:$,d:zB,e:zB,f:tFe,g:$B,G:BB,H:UB,I:UB,j:ZDe,L:eFe,m:KDe,M:QDe,p:T,q:XDe,Q:nFe,s:sFe,S:JDe,u:GDe,U:HDe,V:VDe,w:WDe,W:qDe,x:q,X:G,y:$B,Y:BB,Z:YDe,"%":rFe};S.x=A(r,S),S.X=A(n,S),S.c=A(e,S),N.x=A(r,N),N.X=A(n,N),N.c=A(e,N);function A(se,Q){return function(re){var le=[],ve=-1,fe=0,X=se.length,ce,Pe,ke;for(re instanceof Date||(re=new Date(+re));++ve<X;)se.charCodeAt(ve)===37&&(le.push(se.slice(fe,ve)),(Pe=FB[ce=se.charAt(++ve)])!=null?ce=se.charAt(++ve):Pe=ce==="e"?" ":"0",(ke=Q[ce])&&(ce=ke(re,Pe)),le.push(ce),fe=ve+1);return le.push(se.slice(fe,ve)),le.join("")}}function k(se,Q){return function(re){var le=v1(1900,void 0,1),ve=E(le,se,re+="",0),fe,X;if(ve!=re.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Q&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(fe=wk(v1(le.y,0,1)),X=fe.getUTCDay(),fe=X>4||X===0?l4.ceil(fe):l4(fe),fe=RC.offset(fe,(le.V-1)*7),le.y=fe.getUTCFullYear(),le.m=fe.getUTCMonth(),le.d=fe.getUTCDate()+(le.w+6)%7):(fe=bk(v1(le.y,0,1)),X=fe.getDay(),fe=X>4||X===0?o4.ceil(fe):o4(fe),fe=Bw.offset(fe,(le.V-1)*7),le.y=fe.getFullYear(),le.m=fe.getMonth(),le.d=fe.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),X="Z"in le?wk(v1(le.y,0,1)).getUTCDay():bk(v1(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(X+5)%7:le.w+le.U*7-(X+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,wk(le)):bk(le)}}function E(se,Q,re,le){for(var ve=0,fe=Q.length,X=re.length,ce,Pe;ve<fe;){if(le>=X)return-1;if(ce=Q.charCodeAt(ve++),ce===37){if(ce=Q.charAt(ve++),Pe=C[ce in FB?Q.charAt(ve++):ce],!Pe||(le=Pe(se,re,le))<0)return-1}else if(ce!=re.charCodeAt(le++))return-1}return le}function T(se,Q,re){var le=u.exec(Q.slice(re));return le?(se.p=d.get(le[0].toLowerCase()),re+le[0].length):-1}function R(se,Q,re){var le=f.exec(Q.slice(re));return le?(se.w=m.get(le[0].toLowerCase()),re+le[0].length):-1}function I(se,Q,re){var le=h.exec(Q.slice(re));return le?(se.w=p.get(le[0].toLowerCase()),re+le[0].length):-1}function L(se,Q,re){var le=x.exec(Q.slice(re));return le?(se.m=w.get(le[0].toLowerCase()),re+le[0].length):-1}function U(se,Q,re){var le=g.exec(Q.slice(re));return le?(se.m=y.get(le[0].toLowerCase()),re+le[0].length):-1}function $(se,Q,re){return E(se,e,Q,re)}function q(se,Q,re){return E(se,r,Q,re)}function G(se,Q,re){return E(se,n,Q,re)}function W(se){return o[se.getDay()]}function B(se){return a[se.getDay()]}function O(se){return c[se.getMonth()]}function K(se){return l[se.getMonth()]}function Y(se){return s[+(se.getHours()>=12)]}function D(se){return 1+~~(se.getMonth()/3)}function Z(se){return o[se.getUTCDay()]}function ie(se){return a[se.getUTCDay()]}function he(se){return c[se.getUTCMonth()]}function J(se){return l[se.getUTCMonth()]}function ae(se){return s[+(se.getUTCHours()>=12)]}function ne(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Q=A(se+="",S);return Q.toString=function(){return se},Q},parse:function(se){var Q=k(se+="",!1);return Q.toString=function(){return se},Q},utcFormat:function(se){var Q=A(se+="",N);return Q.toString=function(){return se},Q},utcParse:function(se){var Q=k(se+="",!0);return Q.toString=function(){return se},Q}}}var FB={"-":"",_:" ",0:"0"},$a=/^\s*\d+/,$De=/^%/,zDe=/[\\^$*+?|[\]().{}]/g;function Gn(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(e)+s:s)}function UDe(t){return t.replace(zDe,"\\$&")}function b1(t){return new RegExp("^(?:"+t.map(UDe).join("|")+")","i")}function w1(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function WDe(t,e,r){var n=$a.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function GDe(t,e,r){var n=$a.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function HDe(t,e,r){var n=$a.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function VDe(t,e,r){var n=$a.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function qDe(t,e,r){var n=$a.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function BB(t,e,r){var n=$a.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function $B(t,e,r){var n=$a.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function YDe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function XDe(t,e,r){var n=$a.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function KDe(t,e,r){var n=$a.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function zB(t,e,r){var n=$a.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function ZDe(t,e,r){var n=$a.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function UB(t,e,r){var n=$a.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function QDe(t,e,r){var n=$a.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function JDe(t,e,r){var n=$a.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function eFe(t,e,r){var n=$a.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function tFe(t,e,r){var n=$a.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rFe(t,e,r){var n=$De.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function nFe(t,e,r){var n=$a.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function sFe(t,e,r){var n=$a.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function WB(t,e){return Gn(t.getDate(),e,2)}function iFe(t,e){return Gn(t.getHours(),e,2)}function aFe(t,e){return Gn(t.getHours()%12||12,e,2)}function oFe(t,e){return Gn(1+Bw.count(Nf(t),t),e,3)}function ure(t,e){return Gn(t.getMilliseconds(),e,3)}function lFe(t,e){return ure(t,e)+"000"}function cFe(t,e){return Gn(t.getMonth()+1,e,2)}function uFe(t,e){return Gn(t.getMinutes(),e,2)}function dFe(t,e){return Gn(t.getSeconds(),e,2)}function hFe(t){var e=t.getDay();return e===0?7:e}function fFe(t,e){return Gn(DC.count(Nf(t)-1,t),e,2)}function dre(t){var e=t.getDay();return e>=4||e===0?vy(t):vy.ceil(t)}function pFe(t,e){return t=dre(t),Gn(vy.count(Nf(t),t)+(Nf(t).getDay()===4),e,2)}function mFe(t){return t.getDay()}function gFe(t,e){return Gn(o4.count(Nf(t)-1,t),e,2)}function xFe(t,e){return Gn(t.getFullYear()%100,e,2)}function yFe(t,e){return t=dre(t),Gn(t.getFullYear()%100,e,2)}function vFe(t,e){return Gn(t.getFullYear()%1e4,e,4)}function bFe(t,e){var r=t.getDay();return t=r>=4||r===0?vy(t):vy.ceil(t),Gn(t.getFullYear()%1e4,e,4)}function wFe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Gn(e/60|0,"0",2)+Gn(e%60,"0",2)}function GB(t,e){return Gn(t.getUTCDate(),e,2)}function jFe(t,e){return Gn(t.getUTCHours(),e,2)}function SFe(t,e){return Gn(t.getUTCHours()%12||12,e,2)}function NFe(t,e){return Gn(1+RC.count(Cf(t),t),e,3)}function hre(t,e){return Gn(t.getUTCMilliseconds(),e,3)}function CFe(t,e){return hre(t,e)+"000"}function _Fe(t,e){return Gn(t.getUTCMonth()+1,e,2)}function AFe(t,e){return Gn(t.getUTCMinutes(),e,2)}function kFe(t,e){return Gn(t.getUTCSeconds(),e,2)}function PFe(t){var e=t.getUTCDay();return e===0?7:e}function EFe(t,e){return Gn(FC.count(Cf(t)-1,t),e,2)}function fre(t){var e=t.getUTCDay();return e>=4||e===0?by(t):by.ceil(t)}function TFe(t,e){return t=fre(t),Gn(by.count(Cf(t),t)+(Cf(t).getUTCDay()===4),e,2)}function IFe(t){return t.getUTCDay()}function MFe(t,e){return Gn(l4.count(Cf(t)-1,t),e,2)}function OFe(t,e){return Gn(t.getUTCFullYear()%100,e,2)}function LFe(t,e){return t=fre(t),Gn(t.getUTCFullYear()%100,e,2)}function RFe(t,e){return Gn(t.getUTCFullYear()%1e4,e,4)}function DFe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?by(t):by.ceil(t),Gn(t.getUTCFullYear()%1e4,e,4)}function FFe(){return"+0000"}function HB(){return"%"}function VB(t){return+t}function qB(t){return Math.floor(+t/1e3)}var Wx,pre,mre;BFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BFe(t){return Wx=BDe(t),pre=Wx.format,Wx.parse,mre=Wx.utcFormat,Wx.utcParse,Wx}function $Fe(t){return new Date(t)}function zFe(t){return t instanceof Date?+t:+new Date(+t)}function DO(t,e,r,n,s,a,o,l,c,u){var d=SO(),h=d.invert,p=d.domain,f=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),w=u("%b %d"),S=u("%B"),N=u("%Y");function C(A){return(c(A)<A?f:l(A)<A?m:o(A)<A?g:a(A)<A?y:n(A)<A?s(A)<A?x:w:r(A)<A?S:N)(A)}return d.invert=function(A){return new Date(h(A))},d.domain=function(A){return arguments.length?p(Array.from(A,zFe)):p().map($Fe)},d.ticks=function(A){var k=p();return t(k[0],k[k.length-1],A??10)},d.tickFormat=function(A,k){return k==null?C:u(k)},d.nice=function(A){var k=p();return(!A||typeof A.range!="function")&&(A=e(k[0],k[k.length-1],A??10)),A?p(tre(k,A)):d},d.copy=function(){return Fw(d,DO(t,e,r,n,s,a,o,l,c,u))},d}function UFe(){return Au.apply(DO(DDe,FDe,Nf,LO,DC,Bw,MO,TO,og,pre).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WFe(){return Au.apply(DO(LDe,RDe,Cf,RO,FC,RC,OO,IO,og,mre).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function BC(){var t=0,e=1,r,n,s,a,o=sl,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(a(h)-r)*s,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),s=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(p){var f,m;return arguments.length?([f,m]=p,o=h(f,m),u):[o(0),o(1)]}}return u.range=d(vv),u.rangeRound=d(jO),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(t),n=h(e),s=r===n?0:1/(n-r),u}}function ym(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gre(){var t=xm(BC()(sl));return t.copy=function(){return ym(t,gre())},Df.apply(t,arguments)}function xre(){var t=_O(BC()).domain([1,10]);return t.copy=function(){return ym(t,xre()).base(t.base())},Df.apply(t,arguments)}function yre(){var t=AO(BC());return t.copy=function(){return ym(t,yre()).constant(t.constant())},Df.apply(t,arguments)}function FO(){var t=kO(BC());return t.copy=function(){return ym(t,FO()).exponent(t.exponent())},Df.apply(t,arguments)}function GFe(){return FO.apply(null,arguments).exponent(.5)}function vre(){var t=[],e=sl;function r(n){if(n!=null&&!isNaN(n=+n))return e((Rw(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Xp),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>E9e(t,a/n))},r.copy=function(){return vre(e).domain(t)},Df.apply(r,arguments)}function $C(){var t=0,e=.5,r=1,n=1,s,a,o,l,c,u=sl,d,h=!1,p;function f(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-a)*(n*g<n*a?l:c),u(h?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e,r]=g,s=d(t=+t),a=d(e=+e),o=d(r=+r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,f):[t,e,r]},f.clamp=function(g){return arguments.length?(h=!!g,f):h},f.interpolator=function(g){return arguments.length?(u=g,f):u};function m(g){return function(y){var x,w,S;return arguments.length?([x,w,S]=y,u=rDe(g,[x,w,S]),f):[u(0),u(.5),u(1)]}}return f.range=m(vv),f.rangeRound=m(jO),f.unknown=function(g){return arguments.length?(p=g,f):p},function(g){return d=g,s=g(t),a=g(e),o=g(r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,f}}function bre(){var t=xm($C()(sl));return t.copy=function(){return ym(t,bre())},Df.apply(t,arguments)}function wre(){var t=_O($C()).domain([.1,1,10]);return t.copy=function(){return ym(t,wre()).base(t.base())},Df.apply(t,arguments)}function jre(){var t=AO($C());return t.copy=function(){return ym(t,jre()).constant(t.constant())},Df.apply(t,arguments)}function BO(){var t=kO($C());return t.copy=function(){return ym(t,BO()).exponent(t.exponent())},Df.apply(t,arguments)}function HFe(){return BO.apply(null,arguments).exponent(.5)}const YB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_2,scaleDiverging:bre,scaleDivergingLog:wre,scaleDivergingPow:BO,scaleDivergingSqrt:HFe,scaleDivergingSymlog:jre,scaleIdentity:ere,scaleImplicit:K8,scaleLinear:i4,scaleLog:rre,scaleOrdinal:vO,scalePoint:bb,scalePow:PO,scaleQuantile:ire,scaleQuantize:are,scaleRadial:sre,scaleSequential:gre,scaleSequentialLog:xre,scaleSequentialPow:FO,scaleSequentialQuantile:vre,scaleSequentialSqrt:GFe,scaleSequentialSymlog:yre,scaleSqrt:CDe,scaleSymlog:nre,scaleThreshold:ore,scaleTime:UFe,scaleUtc:WFe,tickFormat:Jte},Symbol.toStringTag,{value:"Module"}));var VFe=uv;function qFe(t,e,r){for(var n=-1,s=t.length;++n<s;){var a=t[n],o=e(a);if(o!=null&&(l===void 0?o===o&&!VFe(o):r(o,l)))var l=o,c=a}return c}var zC=qFe;function YFe(t,e){return t>e}var Sre=YFe,XFe=zC,KFe=Sre,ZFe=yv;function QFe(t){return t&&t.length?XFe(t,ZFe,KFe):void 0}var JFe=QFe;const UC=On(JFe);function eBe(t,e){return t<e}var Nre=eBe,tBe=zC,rBe=Nre,nBe=yv;function sBe(t){return t&&t.length?tBe(t,nBe,rBe):void 0}var iBe=sBe;const WC=On(iBe);var aBe=JM,oBe=Ah,lBe=Ite,cBe=Bl;function uBe(t,e){var r=cBe(t)?aBe:lBe;return r(t,oBe(e))}var dBe=uBe,hBe=Ete,fBe=dBe;function pBe(t,e){return hBe(fBe(t,e),1)}var mBe=pBe;const gBe=On(mBe);var xBe=pO;function yBe(t,e){return xBe(t,e)}var vBe=yBe;const $w=On(vBe);var bv=1e9,bBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zO,Zs=!0,Su="[DecimalError] ",vg=Su+"Invalid argument: ",$O=Su+"Exponent out of range: ",wv=Math.floor,qm=Math.pow,wBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hc,Pa=1e7,Ds=7,Cre=9007199254740991,c4=wv(Cre/Ds),hr={};hr.absoluteValue=hr.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};hr.comparedTo=hr.cmp=function(t){var e,r,n,s,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};hr.decimalPlaces=hr.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ds;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};hr.dividedBy=hr.div=function(t){return pf(this,new this.constructor(t))};hr.dividedToIntegerBy=hr.idiv=function(t){var e=this,r=e.constructor;return xs(pf(e,new r(t),0,1),r.precision)};hr.equals=hr.eq=function(t){return!this.cmp(t)};hr.exponent=function(){return Hi(this)};hr.greaterThan=hr.gt=function(t){return this.cmp(t)>0};hr.greaterThanOrEqualTo=hr.gte=function(t){return this.cmp(t)>=0};hr.isInteger=hr.isint=function(){return this.e>this.d.length-2};hr.isNegative=hr.isneg=function(){return this.s<0};hr.isPositive=hr.ispos=function(){return this.s>0};hr.isZero=function(){return this.s===0};hr.lessThan=hr.lt=function(t){return this.cmp(t)<0};hr.lessThanOrEqualTo=hr.lte=function(t){return this.cmp(t)<1};hr.logarithm=hr.log=function(t){var e,r=this,n=r.constructor,s=n.precision,a=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(hc))throw Error(Su+"NaN");if(r.s<1)throw Error(Su+(r.s?"NaN":"-Infinity"));return r.eq(hc)?new n(0):(Zs=!1,e=pf(T2(r,a),T2(t,a),a),Zs=!0,xs(e,s))};hr.minus=hr.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kre(e,t):_re(e,(t.s=-t.s,t))};hr.modulo=hr.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(Su+"NaN");return r.s?(Zs=!1,e=pf(r,t,0,1).times(t),Zs=!0,r.minus(e)):xs(new n(r),s)};hr.naturalExponential=hr.exp=function(){return Are(this)};hr.naturalLogarithm=hr.ln=function(){return T2(this)};hr.negated=hr.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};hr.plus=hr.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_re(e,t):kre(e,(t.s=-t.s,t))};hr.precision=hr.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(vg+t);if(e=Hi(s)+1,n=s.d.length-1,r=n*Ds+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};hr.squareRoot=hr.sqrt=function(){var t,e,r,n,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Su+"NaN")}for(t=Hi(l),Zs=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=lh(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=wv((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(a=n,n=a.plus(pf(l,a,o+2)).times(.5),lh(a.d).slice(0,o)===(e=lh(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(xs(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return Zs=!0,xs(n,r)};hr.times=hr.mul=function(t){var e,r,n,s,a,o,l,c,u,d=this,h=d.constructor,p=d.d,f=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=p.length,u=f.length,c<u&&(a=p,p=f,f=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,s=c+n;s>n;)l=a[s]+f[n]*p[s-n-1]+e,a[s--]=l%Pa|0,e=l/Pa|0;a[s]=(a[s]+e)%Pa|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Zs?xs(t,h.precision):t};hr.toDecimalPlaces=hr.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(bh(t,0,bv),e===void 0?e=n.rounding:bh(e,0,8),xs(r,t+Hi(r)+1,e))};hr.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=zg(n,!0):(bh(t,0,bv),e===void 0?e=s.rounding:bh(e,0,8),n=xs(new s(n),t+1,e),r=zg(n,!0,t+1)),r};hr.toFixed=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?zg(s):(bh(t,0,bv),e===void 0?e=a.rounding:bh(e,0,8),n=xs(new a(s),t+Hi(s)+1,e),r=zg(n.abs(),!1,t+Hi(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};hr.toInteger=hr.toint=function(){var t=this,e=t.constructor;return xs(new e(t),Hi(t)+1,e.rounding)};hr.toNumber=function(){return+this};hr.toPower=hr.pow=function(t){var e,r,n,s,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(hc);if(l=new c(l),!l.s){if(t.s<1)throw Error(Su+"Infinity");return l}if(l.eq(hc))return l;if(n=c.precision,t.eq(hc))return xs(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=d<0?-d:d)<=Cre){for(s=new c(hc),e=Math.ceil(n/Ds+4),Zs=!1;r%2&&(s=s.times(l),KB(s.d,e)),r=wv(r/2),r!==0;)l=l.times(l),KB(l.d,e);return Zs=!0,t.s<0?new c(hc).div(s):xs(s,n)}}else if(a<0)throw Error(Su+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Zs=!1,s=t.times(T2(l,n+u)),Zs=!0,s=Are(s),s.s=a,s};hr.toPrecision=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?(r=Hi(s),n=zg(s,r<=a.toExpNeg||r>=a.toExpPos)):(bh(t,1,bv),e===void 0?e=a.rounding:bh(e,0,8),s=xs(new a(s),t,e),r=Hi(s),n=zg(s,t<=r||r<=a.toExpNeg,t)),n};hr.toSignificantDigits=hr.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(bh(t,1,bv),e===void 0?e=n.rounding:bh(e,0,8)),xs(new n(r),t,e)};hr.toString=hr.valueOf=hr.val=hr.toJSON=hr[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Hi(t),r=t.constructor;return zg(t,e<=r.toExpNeg||e>=r.toExpPos)};function _re(t,e){var r,n,s,a,o,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Zs?xs(e,h):e;if(c=t.d,u=e.d,o=t.e,s=e.e,c=c.slice(),a=o-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(h/Ds),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Pa|0,c[a]%=Pa;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,Zs?xs(e,h):e}function bh(t,e,r){if(t!==~~t||t<e||t>r)throw Error(vg+t)}function lh(t){var e,r,n,s=t.length-1,a="",o=t[0];if(s>0){for(a+=o,e=1;e<s;e++)n=t[e]+"",r=Ds-n.length,r&&(a+=up(r)),a+=n;o=t[e],n=o+"",r=Ds-n.length,r&&(a+=up(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var pf=function(){function t(n,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+o,n[l]=a%Pa|0,o=a/Pa|0;return o&&n.unshift(o),n}function e(n,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var o=0;a--;)n[a]-=o,o=n[a]<s[a]?1:0,n[a]=o*Pa+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,o){var l,c,u,d,h,p,f,m,g,y,x,w,S,N,C,A,k,E,T=n.constructor,R=n.s==s.s?1:-1,I=n.d,L=s.d;if(!n.s)return new T(n);if(!s.s)throw Error(Su+"Division by zero");for(c=n.e-s.e,k=L.length,C=I.length,f=new T(R),m=f.d=[],u=0;L[u]==(I[u]||0);)++u;if(L[u]>(I[u]||0)&&--c,a==null?w=a=T.precision:o?w=a+(Hi(n)-Hi(s))+1:w=a,w<0)return new T(0);if(w=w/Ds+2|0,u=0,k==1)for(d=0,L=L[0],w++;(u<C||d)&&w--;u++)S=d*Pa+(I[u]||0),m[u]=S/L|0,d=S%L|0;else{for(d=Pa/(L[0]+1)|0,d>1&&(L=t(L,d),I=t(I,d),k=L.length,C=I.length),N=k,g=I.slice(0,k),y=g.length;y<k;)g[y++]=0;E=L.slice(),E.unshift(0),A=L[0],L[1]>=Pa/2&&++A;do d=0,l=e(L,g,k,y),l<0?(x=g[0],k!=y&&(x=x*Pa+(g[1]||0)),d=x/A|0,d>1?(d>=Pa&&(d=Pa-1),h=t(L,d),p=h.length,y=g.length,l=e(h,g,p,y),l==1&&(d--,r(h,k<p?E:L,p))):(d==0&&(l=d=1),h=L.slice()),p=h.length,p<y&&h.unshift(0),r(g,h,y),l==-1&&(y=g.length,l=e(L,g,k,y),l<1&&(d++,r(g,k<y?E:L,y))),y=g.length):l===0&&(d++,g=[0]),m[u++]=d,l&&g[0]?g[y++]=I[N]||0:(g=[I[N]],y=1);while((N++<C||g[0]!==void 0)&&w--)}return m[0]||m.shift(),f.e=c,xs(f,o?a+Hi(f)+1:a)}}();function Are(t,e){var r,n,s,a,o,l,c=0,u=0,d=t.constructor,h=d.precision;if(Hi(t)>16)throw Error($O+Hi(t));if(!t.s)return new d(hc);for(Zs=!1,l=h,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(qm(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(hc),d.precision=l;;){if(s=xs(s.times(t),l),r=r.times(++c),o=a.plus(pf(s,r,l)),lh(o.d).slice(0,l)===lh(a.d).slice(0,l)){for(;u--;)a=xs(a.times(a),l);return d.precision=h,e==null?(Zs=!0,xs(a,h)):a}a=o}}function Hi(t){for(var e=t.e*Ds,r=t.d[0];r>=10;r/=10)e++;return e}function jk(t,e,r){if(e>t.LN10.sd())throw Zs=!0,r&&(t.precision=r),Error(Su+"LN10 precision limit exceeded");return xs(new t(t.LN10),e)}function up(t){for(var e="";t--;)e+="0";return e}function T2(t,e){var r,n,s,a,o,l,c,u,d,h=1,p=10,f=t,m=f.d,g=f.constructor,y=g.precision;if(f.s<1)throw Error(Su+(f.s?"NaN":"-Infinity"));if(f.eq(hc))return new g(0);if(e==null?(Zs=!1,u=y):u=e,f.eq(10))return e==null&&(Zs=!0),jk(g,u);if(u+=p,g.precision=u,r=lh(m),n=r.charAt(0),a=Hi(f),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=lh(f.d),n=r.charAt(0),h++;a=Hi(f),n>1?(f=new g("0."+r),a++):f=new g(n+"."+r.slice(1))}else return c=jk(g,u+2,y).times(a+""),f=T2(new g(n+"."+r.slice(1)),u-p).plus(c),g.precision=y,e==null?(Zs=!0,xs(f,y)):f;for(l=o=f=pf(f.minus(hc),f.plus(hc),u),d=xs(f.times(f),u),s=3;;){if(o=xs(o.times(d),u),c=l.plus(pf(o,new g(s),u)),lh(c.d).slice(0,u)===lh(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(jk(g,u+2,y).times(a+""))),l=pf(l,new g(h),u),g.precision=y,e==null?(Zs=!0,xs(l,y)):l;l=c,s+=2}}function XB(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=wv(r/Ds),t.d=[],n=(r+1)%Ds,r<0&&(n+=Ds),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=Ds;n<s;)t.d.push(+e.slice(n,n+=Ds));e=e.slice(n),n=Ds-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),Zs&&(t.e>c4||t.e<-c4))throw Error($O+r)}else t.s=0,t.e=0,t.d=[0];return t}function xs(t,e,r){var n,s,a,o,l,c,u,d,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Ds,s=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Ds),a=h.length,d>=a)return t;for(u=a=h[d],o=1;a>=10;a/=10)o++;n%=Ds,s=n-Ds+o}if(r!==void 0&&(a=qm(10,o-s-1),l=u/a%10|0,c=e<0||h[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/qm(10,o-s):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(a=Hi(t),h.length=1,e=e-a-1,h[0]=qm(10,(Ds-e%Ds)%Ds),t.e=wv(-e/Ds)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=qm(10,Ds-n),h[d]=s>0?(u/qm(10,o-s)%qm(10,s)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==Pa&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=Pa)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Zs&&(t.e>c4||t.e<-c4))throw Error($O+Hi(t));return t}function kre(t,e){var r,n,s,a,o,l,c,u,d,h,p=t.constructor,f=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Zs?xs(e,f):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),s=Math.max(Math.ceil(f/Ds),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=h.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){d=c[s]<h[s];break}o=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(a=s;a&&c[--a]===0;)c[a]=Pa-1;--c[a],c[s]+=Pa}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Zs?xs(e,f):e):new p(0)}function zg(t,e,r){var n,s=Hi(t),a=lh(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+up(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+up(-s-1)+a,r&&(n=r-o)>0&&(a+=up(n))):s>=o?(a+=up(s+1-o),r&&(n=r-s-1)>0&&(a=a+"."+up(n))):((n=s+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(a+="."),a+=up(n))),t.s<0?"-"+a:a}function KB(t,e){if(t.length>e)return t.length=e,!0}function Pre(t){var e,r,n;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(vg+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return XB(o,a.toString())}else if(typeof a!="string")throw Error(vg+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,wBe.test(a))XB(o,a);else throw Error(vg+a)}if(s.prototype=hr,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Pre,s.config=s.set=jBe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function jBe(t){if(!t||typeof t!="object")throw Error(Su+"Object expected");var e,r,n,s=["precision",1,bv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(wv(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(vg+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vg+r+": "+n);return this}var zO=Pre(bBe);hc=new zO(1);const ds=zO;function SBe(t){return ABe(t)||_Be(t)||CBe(t)||NBe()}function NBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CBe(t,e){if(t){if(typeof t=="string")return eE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eE(t,e)}}function _Be(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ABe(t){if(Array.isArray(t))return eE(t)}function eE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kBe=function(e){return e},Ere={},Tre=function(e){return e===Ere},ZB=function(e){return function r(){return arguments.length===0||arguments.length===1&&Tre(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},PBe=function t(e,r){return e===1?r:ZB(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==Ere}).length;return o>=e?r.apply(void 0,s):t(e-o,ZB(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(h){return Tre(h)?c.shift():h});return r.apply(void 0,SBe(d).concat(c))}))})},GC=function(e){return PBe(e.length,e)},tE=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},EBe=GC(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),TBe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return kBe;var s=r.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},rE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Ire=function(e){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function IBe(t){var e;return t===0?e=1:e=Math.floor(new ds(t).abs().log(10).toNumber())+1,e}function MBe(t,e,r){for(var n=new ds(t),s=0,a=[];n.lt(e)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var OBe=GC(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),LBe=GC(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),RBe=GC(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const HC={rangeStep:MBe,getDigitCount:IBe,interpolateNumber:OBe,uninterpolateNumber:LBe,uninterpolateTruncation:RBe};function nE(t){return BBe(t)||FBe(t)||Mre(t)||DBe()}function DBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FBe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function BBe(t){if(Array.isArray(t))return sE(t)}function I2(t,e){return UBe(t)||zBe(t,e)||Mre(t,e)||$Be()}function $Be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mre(t,e){if(t){if(typeof t=="string")return sE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sE(t,e)}}function sE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zBe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw a}}return r}}function UBe(t){if(Array.isArray(t))return t}function Ore(t){var e=I2(t,2),r=e[0],n=e[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function Lre(t,e,r){if(t.lte(0))return new ds(0);var n=HC.getDigitCount(t.toNumber()),s=new ds(10).pow(n),a=t.div(s),o=n!==1?.05:.1,l=new ds(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return e?c:new ds(Math.ceil(c))}function WBe(t,e,r){var n=1,s=new ds(t);if(!s.isint()&&r){var a=Math.abs(t);a<1?(n=new ds(10).pow(HC.getDigitCount(t)-1),s=new ds(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new ds(Math.floor(t)))}else t===0?s=new ds(Math.floor((e-1)/2)):r||(s=new ds(Math.floor(t)));var o=Math.floor((e-1)/2),l=TBe(EBe(function(c){return s.add(new ds(c-o).mul(n)).toNumber()}),tE);return l(0,e)}function Rre(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ds(0),tickMin:new ds(0),tickMax:new ds(0)};var a=Lre(new ds(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new ds(0):(o=new ds(t).add(e).div(2),o=o.sub(new ds(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new ds(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?Rre(t,e,r,n,s+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new ds(l).mul(a)),tickMax:o.add(new ds(c).mul(a))})}function GBe(t){var e=I2(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=Ore([r,n]),c=I2(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(nE(tE(0,s-1).map(function(){return 1/0}))):[].concat(nE(tE(0,s-1).map(function(){return-1/0})),[d]);return r>n?rE(h):h}if(u===d)return WBe(u,s,a);var p=Rre(u,d,o,a),f=p.step,m=p.tickMin,g=p.tickMax,y=HC.rangeStep(m,g.add(new ds(.1).mul(f)),f);return r>n?rE(y):y}function HBe(t,e){var r=I2(t,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Ore([n,s]),l=I2(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(e,2),h=Lre(new ds(u).sub(c).div(d-1),a,0),p=[].concat(nE(HC.rangeStep(new ds(c),new ds(u).sub(new ds(.99).mul(h)),h)),[u]);return n>s?rE(p):p}var VBe=Ire(GBe),qBe=Ire(HBe),YBe="Invariant failed";function Ug(t,e){throw new Error(YBe)}var XBe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function u4(){return u4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u4.apply(this,arguments)}function KBe(t,e){return e$e(t)||JBe(t,e)||QBe(t,e)||ZBe()}function ZBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QBe(t,e){if(t){if(typeof t=="string")return QB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QB(t,e)}}function QB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function e$e(t){if(Array.isArray(t))return t}function t$e(t,e){if(t==null)return{};var r=r$e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function n$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bre(n.key),n)}}function i$e(t,e,r){return e&&s$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a$e(t,e,r){return e=d4(e),o$e(t,Dre()?Reflect.construct(e,r||[],d4(t).constructor):e.apply(t,r))}function o$e(t,e){if(e&&(wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l$e(t)}function l$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dre=function(){return!!t})()}function d4(t){return d4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d4(t)}function c$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iE(t,e)}function iE(t,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},iE(t,e)}function Fre(t,e,r){return e=Bre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bre(t){var e=u$e(t,"string");return wy(e)=="symbol"?e:e+""}function u$e(t,e){if(wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zw=function(t){function e(){return n$e(this,e),a$e(this,e,arguments)}return c$e(e,t),i$e(e,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,p=t$e(n,XBe),f=Br(p,!1);this.props.direction==="x"&&d.type!=="number"&&Ug();var m=c.map(function(g){var y=u(g,l),x=y.x,w=y.y,S=y.value,N=y.errorVal;if(!N)return null;var C=[],A,k;if(Array.isArray(N)){var E=KBe(N,2);A=E[0],k=E[1]}else A=k=N;if(a==="vertical"){var T=d.scale,R=w+s,I=R+o,L=R-o,U=T(S-A),$=T(S+k);C.push({x1:$,y1:I,x2:$,y2:L}),C.push({x1:U,y1:R,x2:$,y2:R}),C.push({x1:U,y1:I,x2:U,y2:L})}else if(a==="horizontal"){var q=h.scale,G=x+s,W=G-o,B=G+o,O=q(S-A),K=q(S+k);C.push({x1:W,y1:K,x2:B,y2:K}),C.push({x1:G,y1:O,x2:G,y2:K}),C.push({x1:W,y1:O,x2:B,y2:O})}return xe.createElement(Wn,u4({className:"recharts-errorBar",key:"bar-".concat(C.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},f),C.map(function(Y){return xe.createElement("line",u4({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return xe.createElement(Wn,{className:"recharts-errorBars"},m)}}])}(xe.Component);Fre(zw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Fre(zw,"displayName","ErrorBar");function M2(t){"@babel/helpers - typeof";return M2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M2(t)}function JB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Rm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(r),!0).forEach(function(n){d$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d$e(t,e,r){return e=h$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h$e(t){var e=f$e(t,"string");return M2(e)=="symbol"?e:e+""}function f$e(t,e){if(M2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(M2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $re=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,a=e.legendContent,o=ic(r,O0);if(!o)return null;var l=O0.defaultProps,c=l!==void 0?Rm(Rm({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,h){var p=h.item,f=h.props,m=f.sectors||f.data||[];return d.concat(m.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var h=d.item,p=h.type.defaultProps,f=p!==void 0?Rm(Rm({},p),h.props):{},m=f.dataKey,g=f.name,y=f.legendType,x=f.hide;return{inactive:x,dataKey:m,type:c.iconType||y||"square",color:UO(h),value:g||m,payload:f}}),Rm(Rm(Rm({},c),O0.getWithHeight(o,s)),{},{payload:u,item:o})};function O2(t){"@babel/helpers - typeof";return O2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O2(t)}function e$(t){return x$e(t)||g$e(t)||m$e(t)||p$e()}function p$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m$e(t,e){if(t){if(typeof t=="string")return aE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(t,e)}}function g$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x$e(t){if(Array.isArray(t))return aE(t)}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(r),!0).forEach(function(n){R0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R0(t,e,r){return e=y$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y$e(t){var e=v$e(t,"string");return O2(e)=="symbol"?e:e+""}function v$e(t,e){if(O2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(O2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oa(t,e,r){return en(t)||en(e)?r:da(e)?Sc(t,e,r):Hr(e)?e(t):r}function wb(t,e,r,n){var s=gBe(t,function(l){return oa(l,e)});if(r==="number"){var a=s.filter(function(l){return Wt(l)||parseFloat(l)});return a.length?[WC(a),UC(a)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!en(l)}):s;return o.map(function(l){return da(l)||l instanceof Date?l:""})}var b$e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,h=s[u].coordinate,p=u>=l-1?s[0].coordinate:s[u+1].coordinate,f=void 0;if(rl(h-d)!==rl(p-h)){var m=[];if(rl(p-h)===rl(c[1]-c[0])){f=p;var g=h+c[1]-c[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{f=d;var y=p+c[1]-c[0];m[0]=Math.min(h,(y+h)/2),m[1]=Math.max(h,(y+h)/2)}var x=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){o=s[u].index;break}}else{var w=Math.min(d,p),S=Math.max(d,p);if(e>(w+h)/2&&e<=(S+h)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2&&e<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&e>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},UO=function(e){var r,n=e,s=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ji(ji({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},w$e=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,h=Object.keys(d),p=0,f=h.length;p<f;p++){var m=d[h[p]],g=m.items,y=m.cateAxisId,x=g.filter(function(k){return ff(k.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,S=w!==void 0?ji(ji({},w),x[0].props):x[0].props,N=S.barSize,C=S[y];o[C]||(o[C]=[]);var A=en(N)?r:N;o[C].push({item:x[0],stackList:x.slice(1),barSize:en(A)?void 0:nl(A,n,0)})}}return o},j$e=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=nl(r,s,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,f=s/c,m=o.reduce(function(N,C){return N+C.barSize||0},0);m+=(c-1)*u,m>=s&&(m-=(c-1)*u,u=0),m>=s&&f>0&&(p=!0,f*=.9,m=c*f);var g=(s-m)/2>>0,y={offset:g-u,size:0};d=o.reduce(function(N,C){var A={item:C.item,position:{offset:y.offset+y.size+u,size:p?f:C.barSize}},k=[].concat(e$(N),[A]);return y=k[k.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){k.push({item:E,position:y})}),k},h)}else{var x=nl(n,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var w=(s-2*x-(c-1)*u)/c;w>1&&(w>>=0);var S=l===+l?Math.min(w,l):w;d=o.reduce(function(N,C,A){var k=[].concat(e$(N),[{item:C.item,position:{offset:x+(w+u)*A+(w-S)/2,size:S}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){k.push({item:E,position:k[k.length-1].position})}),k},h)}return d},S$e=function(e,r,n,s){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=$re({children:a,legendWidth:c});if(u){var d=s||{},h=d.width,p=d.height,f=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&f!=="center"&&Wt(e[f]))return ji(ji({},e),{},R0({},f,e[f]+(h||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&m!=="middle"&&Wt(e[m]))return ji(ji({},e),{},R0({},m,e[m]+(p||0)))}return e},N$e=function(e,r,n){return en(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},zre=function(e,r,n,s,a){var o=r.props.children,l=Nc(o,zw).filter(function(u){return N$e(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=oa(d,n);if(en(h))return u;var p=Array.isArray(h)?[WC(h),UC(h)]:[h,h],f=c.reduce(function(m,g){var y=oa(d,g,0),x=p[0]-Math.abs(Array.isArray(y)?y[0]:y),w=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},C$e=function(e,r,n,s,a){var o=r.map(function(l){return zre(e,l,n,a,s)}).filter(function(l){return!en(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Ure=function(e,r,n,s,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&zre(e,c,u,s)||wb(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Wre=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Gre=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},of=function(e,r,n){if(!e)return null;var s=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?rl(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var p=a?a.indexOf(h):h;return{coordinate:s(p)+u,value:h,offset:u}});return d.filter(function(h){return!Ow(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:s(h)+u,value:h,index:p,offset:u}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(h){return{coordinate:s(h)+u,value:h,offset:u}}):s.domain().map(function(h,p){return{coordinate:s(h)+u,value:a?a[h]:h,index:p,offset:u}})},Sk=new WeakMap,_5=function(e,r){if(typeof r!="function")return e;Sk.has(e)||Sk.set(e,new WeakMap);var n=Sk.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},Hre=function(e,r,n){var s=e.scale,a=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:_2(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:i4(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:bb(),realScaleType:"point"}:a==="category"?{scale:_2(),realScaleType:"band"}:{scale:i4(),realScaleType:"linear"};if(Fg(s)){var c="scale".concat(AC(s));return{scale:(YB[c]||bb)(),realScaleType:YB[c]?c:"point"}}return Hr(s)?{scale:s}:{scale:bb(),realScaleType:"point"}},r$=1e-4,Vre=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),a=Math.min(s[0],s[1])-r$,o=Math.max(s[0],s[1])+r$,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},_$e=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},A$e=function(e,r){if(!r||r.length!==2||!Wt(r[0])||!Wt(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Wt(e[0])||e[0]<n)&&(a[0]=n),(!Wt(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},k$e=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,o=0,l=0;l<r;++l){var c=Ow(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},P$e=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,o=0;o<r;++o){var l=Ow(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},E$e={sign:k$e,expand:X6e,none:fy,silhouette:K6e,wiggle:Z6e,positive:P$e},T$e=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),a=E$e[n],o=Y6e().keys(s).value(function(l,c){return+oa(l,c,0)}).order(T8).offset(a);return o(e)},I$e=function(e,r,n,s,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,p){var f,m=(f=p.type)!==null&&f!==void 0&&f.defaultProps?ji(ji({},p.type.defaultProps),p.props):p.props,g=m.stackId,y=m.hide;if(y)return h;var x=m[n],w=h[x]||{hasStack:!1,stackGroups:{}};if(da(g)){var S=w.stackGroups[g]||{numericAxisId:n,cateAxisId:s,items:[]};S.items.push(p),w.hasStack=!0,w.stackGroups[g]=S}else w.stackGroups[mv("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[p]};return ji(ji({},h),{},R0({},x,w))},c),d={};return Object.keys(u).reduce(function(h,p){var f=u[p];if(f.hasStack){var m={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,y){var x=f.stackGroups[y];return ji(ji({},g),{},R0({},y,{numericAxisId:n,cateAxisId:s,items:x.items,stackedData:T$e(e,x.items,a)}))},m)}return ji(ji({},h),{},R0({},p,f))},d)},qre=function(e,r){var n=r.realScaleType,s=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=VBe(u,a,l);return e.domain([WC(d),UC(d)]),{niceTicks:d}}if(a&&s==="number"){var h=e.domain(),p=qBe(h,a,l);return{niceTicks:p}}return null};function n$(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!en(s[e.dataKey])){var l=FN(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=oa(s,en(o)?e.dataKey:o);return en(c)?null:e.scale(c)}var s$=function(e){var r=e.axis,n=e.ticks,s=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=oa(o,r.dataKey,r.domain[l]);return en(c)?null:r.scale(c)-a/2+s},M$e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},O$e=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ji(ji({},e.type.defaultProps),e.props):e.props,a=s.stackId;if(da(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},L$e=function(e){return e.reduce(function(r,n){return[WC(n.concat([r[0]]).filter(Wt)),UC(n.concat([r[1]]).filter(Wt))]},[1/0,-1/0])},Yre=function(e,r,n){return Object.keys(e).reduce(function(s,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var h=L$e(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},i$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,a$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oE=function(e,r,n){if(Hr(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(Wt(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(i$.test(e[0])){var a=+i$.exec(e[0])[1];s[0]=r[0]-a}else Hr(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(Wt(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(a$.test(e[1])){var o=+a$.exec(e[1])[1];s[1]=r[1]+o}else Hr(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},h4=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var a=gO(r,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},o$=function(e,r,n){return!e||!e.length||$w(e,Sc(n,"type.defaultProps.domain"))?r:e},Xre=function(e,r){var n=e.type.defaultProps?ji(ji({},e.type.defaultProps),e.props):e.props,s=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return ji(ji({},Br(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:UO(e),value:oa(r,s),type:c,payload:r,chartType:u,hide:d})};function L2(t){"@babel/helpers - typeof";return L2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L2(t)}function l$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Zh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l$(Object(r),!0).forEach(function(n){Kre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kre(t,e,r){return e=R$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R$e(t){var e=D$e(t,"string");return L2(e)=="symbol"?e:e+""}function D$e(t,e){if(L2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(L2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F$e(t,e){return U$e(t)||z$e(t,e)||$$e(t,e)||B$e()}function B$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $$e(t,e){if(t){if(typeof t=="string")return c$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c$(t,e)}}function c$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function U$e(t){if(Array.isArray(t))return t}var f4=Math.PI/180,W$e=function(e){return e*180/Math.PI},As=function(e,r,n,s){return{x:e+Math.cos(-f4*s)*n,y:r+Math.sin(-f4*s)*n}},Zre=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},G$e=function(e,r,n,s,a){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=nl(e.cx,o,o/2),h=nl(e.cy,l,l/2),p=Zre(o,l,n),f=nl(e.innerRadius,p,0),m=nl(e.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(y,x){var w=r[x],S=w.domain,N=w.reversed,C;if(en(w.range))s==="angleAxis"?C=[c,u]:s==="radiusAxis"&&(C=[f,m]),N&&(C=[C[1],C[0]]);else{C=w.range;var A=C,k=F$e(A,2);c=k[0],u=k[1]}var E=Hre(w,a),T=E.realScaleType,R=E.scale;R.domain(S).range(C),Vre(R);var I=qre(R,Zh(Zh({},w),{},{realScaleType:T})),L=Zh(Zh(Zh({},w),I),{},{range:C,radius:m,realScaleType:T,scale:R,cx:d,cy:h,innerRadius:f,outerRadius:m,startAngle:c,endAngle:u});return Zh(Zh({},y),{},Kre({},x,L))},{})},H$e=function(e,r){var n=e.x,s=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-o,2))},V$e=function(e,r){var n=e.x,s=e.y,a=r.cx,o=r.cy,l=H$e({x:n,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:W$e(u),angleInRadian:u}},q$e=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(s,a);return{startAngle:r-o*360,endAngle:n-o*360}},Y$e=function(e,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(a,o);return e+l*360},u$=function(e,r){var n=e.x,s=e.y,a=V$e({x:n,y:s},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=q$e(r),h=d.startAngle,p=d.endAngle,f=l,m;if(h<=p){for(;f>p;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=p}else{for(;f>h;)f-=360;for(;f<p;)f+=360;m=f>=p&&f<=h}return m?Zh(Zh({},r),{},{radius:o,angle:Y$e(f,r)}):null},Qre=function(e){return!b.isValidElement(e)&&!Hr(e)&&typeof e!="boolean"?e.className:""};function R2(t){"@babel/helpers - typeof";return R2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R2(t)}var X$e=["offset"];function K$e(t){return eze(t)||J$e(t)||Q$e(t)||Z$e()}function Z$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q$e(t,e){if(t){if(typeof t=="string")return lE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lE(t,e)}}function J$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eze(t){if(Array.isArray(t))return lE(t)}function lE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tze(t,e){if(t==null)return{};var r=rze(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(r),!0).forEach(function(n){nze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nze(t,e,r){return e=sze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sze(t){var e=ize(t,"string");return R2(e)=="symbol"?e:e+""}function ize(t,e){if(R2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(R2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D2(){return D2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D2.apply(this,arguments)}var aze=function(e){var r=e.value,n=e.formatter,s=en(e.children)?r:e.children;return Hr(n)?n(s):s},oze=function(e,r){var n=rl(r-e),s=Math.min(Math.abs(r-e),360);return n*s},lze=function(e,r,n){var s=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,h=c.innerRadius,p=c.outerRadius,f=c.startAngle,m=c.endAngle,g=c.clockWise,y=(h+p)/2,x=oze(f,m),w=x>=0?1:-1,S,N;s==="insideStart"?(S=f+w*o,N=g):s==="insideEnd"?(S=m-w*o,N=!g):s==="end"&&(S=m+w*o,N=g),N=x<=0?N:!N;var C=As(u,d,y,S),A=As(u,d,y,S+(N?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(A.x,",").concat(A.y),E=en(e.id)?mv("recharts-radial-line-"):e.id;return xe.createElement("text",D2({},n,{dominantBaseline:"central",className:nn("recharts-radial-bar-label",l)}),xe.createElement("defs",null,xe.createElement("path",{id:E,d:k})),xe.createElement("textPath",{xlinkHref:"#".concat(E)},r))},cze=function(e){var r=e.viewBox,n=e.offset,s=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,p=(d+h)/2;if(s==="outside"){var f=As(o,l,u+n,p),m=f.x,g=f.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=As(o,l,y,p),w=x.x,S=x.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},uze=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,p=h*s,f=h>0?"end":"start",m=h>0?"start":"end",g=u>=0?1:-1,y=g*s,x=g>0?"end":"start",w=g>0?"start":"end";if(a==="top"){var S={x:l+u/2,y:c-h*s,textAnchor:"middle",verticalAnchor:f};return sa(sa({},S),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var N={x:l+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:m};return sa(sa({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var C={x:l-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return sa(sa({},C),n?{width:Math.max(C.x-n.x,0),height:d}:{})}if(a==="right"){var A={x:l+u+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return sa(sa({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return a==="insideLeft"?sa({x:l+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},k):a==="insideRight"?sa({x:l+u-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideTop"?sa({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:m},k):a==="insideBottom"?sa({x:l+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:f},k):a==="insideTopLeft"?sa({x:l+y,y:c+p,textAnchor:w,verticalAnchor:m},k):a==="insideTopRight"?sa({x:l+u-y,y:c+p,textAnchor:x,verticalAnchor:m},k):a==="insideBottomLeft"?sa({x:l+y,y:c+d-p,textAnchor:w,verticalAnchor:f},k):a==="insideBottomRight"?sa({x:l+u-y,y:c+d-p,textAnchor:x,verticalAnchor:f},k):dv(a)&&(Wt(a.x)||ig(a.x))&&(Wt(a.y)||ig(a.y))?sa({x:l+nl(a.x,u),y:c+nl(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):sa({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},dze=function(e){return"cx"in e&&Wt(e.cx)};function Oa(t){var e=t.offset,r=e===void 0?5:e,n=tze(t,X$e),s=sa({offset:r},n),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,h=d===void 0?"":d,p=s.textBreakAll;if(!a||en(l)&&en(c)&&!b.isValidElement(u)&&!Hr(u))return null;if(b.isValidElement(u))return b.cloneElement(u,s);var f;if(Hr(u)){if(f=b.createElement(u,s),b.isValidElement(f))return f}else f=aze(s);var m=dze(a),g=Br(s,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return lze(s,f,g);var y=m?cze(s):uze(s);return xe.createElement($g,D2({className:nn("recharts-label",h)},g,y,{breakAll:p}),f)}Oa.displayName="Label";var Jre=function(e){var r=e.cx,n=e.cy,s=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,p=e.y,f=e.top,m=e.left,g=e.width,y=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(Wt(g)&&Wt(y)){if(Wt(h)&&Wt(p))return{x:h,y:p,width:g,height:y};if(Wt(f)&&Wt(m))return{x:f,y:m,width:g,height:y}}return Wt(h)&&Wt(p)?{x:h,y:p,width:0,height:0}:Wt(r)&&Wt(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},hze=function(e,r){return e?e===!0?xe.createElement(Oa,{key:"label-implicit",viewBox:r}):da(e)?xe.createElement(Oa,{key:"label-implicit",viewBox:r,value:e}):b.isValidElement(e)?e.type===Oa?b.cloneElement(e,{key:"label-implicit",viewBox:r}):xe.createElement(Oa,{key:"label-implicit",content:e,viewBox:r}):Hr(e)?xe.createElement(Oa,{key:"label-implicit",content:e,viewBox:r}):dv(e)?xe.createElement(Oa,D2({viewBox:r},e,{key:"label-implicit"})):null:null},fze=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=Jre(e),o=Nc(s,Oa).map(function(c,u){return b.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=hze(e.label,r||a);return[l].concat(K$e(o))};Oa.parseViewBox=Jre;Oa.renderCallByParent=fze;function pze(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var mze=pze;const gze=On(mze);function F2(t){"@babel/helpers - typeof";return F2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F2(t)}var xze=["valueAccessor"],yze=["data","dataKey","clockWise","id","textBreakAll"];function vze(t){return Sze(t)||jze(t)||wze(t)||bze()}function bze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wze(t,e){if(t){if(typeof t=="string")return cE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cE(t,e)}}function jze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sze(t){if(Array.isArray(t))return cE(t)}function cE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p4(){return p4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p4.apply(this,arguments)}function h$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function f$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(r),!0).forEach(function(n){Nze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nze(t,e,r){return e=Cze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cze(t){var e=_ze(t,"string");return F2(e)=="symbol"?e:e+""}function _ze(t,e){if(F2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(F2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p$(t,e){if(t==null)return{};var r=Aze(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kze=function(e){return Array.isArray(e.value)?gze(e.value):e.value};function mf(t){var e=t.valueAccessor,r=e===void 0?kze:e,n=p$(t,xze),s=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=p$(n,yze);return!s||!s.length?null:xe.createElement(Wn,{className:"recharts-label-list"},s.map(function(d,h){var p=en(a)?r(d,h):oa(d&&d.payload,a),f=en(l)?{}:{id:"".concat(l,"-").concat(h)};return xe.createElement(Oa,p4({},Br(d,!0),u,f,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:Oa.parseViewBox(en(o)?d:f$(f$({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}mf.displayName="LabelList";function Pze(t,e){return t?t===!0?xe.createElement(mf,{key:"labelList-implicit",data:e}):xe.isValidElement(t)||Hr(t)?xe.createElement(mf,{key:"labelList-implicit",data:e,content:t}):dv(t)?xe.createElement(mf,p4({data:e},t,{key:"labelList-implicit"})):null:null}function Eze(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=Nc(n,mf).map(function(o,l){return b.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var a=Pze(t.label,e);return[a].concat(vze(s))}mf.renderCallByParent=Eze;function B2(t){"@babel/helpers - typeof";return B2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B2(t)}function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uE.apply(this,arguments)}function m$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function g$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(r),!0).forEach(function(n){Tze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tze(t,e,r){return e=Ize(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ize(t){var e=Mze(t,"string");return B2(e)=="symbol"?e:e+""}function Mze(t,e){if(B2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(B2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oze=function(e,r){var n=rl(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},A5=function(e){var r=e.cx,n=e.cy,s=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,h=Math.asin(c/d)/f4,p=u?a:a+o*h,f=As(r,n,d,p),m=As(r,n,s,p),g=u?a-o*h:a,y=As(r,n,d*Math.cos(h*f4),g);return{center:f,circleTangency:m,lineTangency:y,theta:h}},ene=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Oze(o,l),u=o+c,d=As(r,n,a,o),h=As(r,n,a,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var f=As(r,n,s,o),m=As(r,n,s,u);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Lze=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=rl(d-u),p=A5({cx:r,cy:n,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),f=p.circleTangency,m=p.lineTangency,g=p.theta,y=A5({cx:r,cy:n,radius:a,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,w=y.lineTangency,S=y.theta,N=c?Math.abs(u-d):Math.abs(u-d)-g-S;if(N<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ene({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var C="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(s>0){var A=A5({cx:r,cy:n,radius:s,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=A.circleTangency,E=A.lineTangency,T=A.theta,R=A5({cx:r,cy:n,radius:s,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=R.circleTangency,L=R.lineTangency,U=R.theta,$=c?Math.abs(u-d):Math.abs(u-d)-T-U;if($<0&&o===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+($>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},Rze={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tne=function(e){var r=g$(g$({},Rze),e),n=r.cx,s=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,p=r.className;if(o<a||d===h)return null;var f=nn("recharts-sector",p),m=o-a,g=nl(l,m,0,!0),y;return g>0&&Math.abs(d-h)<360?y=Lze({cx:n,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):y=ene({cx:n,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:h}),xe.createElement("path",uE({},Br(r,!0),{className:f,d:y,role:"img"}))};function $2(t){"@babel/helpers - typeof";return $2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$2(t)}function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dE.apply(this,arguments)}function x$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function y$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x$(Object(r),!0).forEach(function(n){Dze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dze(t,e,r){return e=Fze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fze(t){var e=Bze(t,"string");return $2(e)=="symbol"?e:e+""}function Bze(t,e){if($2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v$={curveBasisClosed:D6e,curveBasisOpen:F6e,curveBasis:R6e,curveBumpX:j6e,curveBumpY:S6e,curveLinearClosed:B6e,curveLinear:PC,curveMonotoneX:$6e,curveMonotoneY:z6e,curveNatural:U6e,curveStep:W6e,curveStepAfter:H6e,curveStepBefore:G6e},k5=function(e){return e.x===+e.x&&e.y===+e.y},j1=function(e){return e.x},S1=function(e){return e.y},$ze=function(e,r){if(Hr(e))return e;var n="curve".concat(AC(e));return(n==="curveMonotone"||n==="curveBump")&&r?v$["".concat(n).concat(r==="vertical"?"Y":"X")]:v$[n]||PC},zze=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,a=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=$ze(n,l),h=u?a.filter(function(g){return k5(g)}):a,p;if(Array.isArray(o)){var f=u?o.filter(function(g){return k5(g)}):o,m=h.map(function(g,y){return y$(y$({},g),{},{base:f[y]})});return l==="vertical"?p=x5().y(S1).x1(j1).x0(function(g){return g.base.x}):p=x5().x(j1).y1(S1).y0(function(g){return g.base.y}),p.defined(k5).curve(d),p(m)}return l==="vertical"&&Wt(o)?p=x5().y(S1).x1(j1).x0(o):Wt(o)?p=x5().x(j1).y1(S1).y0(o):p=Xee().x(j1).y(S1),p.defined(k5).curve(d),p(h)},m4=function(e){var r=e.className,n=e.points,s=e.path,a=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?zze(e):s;return b.createElement("path",dE({},Br(e,!1),BN(e),{className:nn("recharts-curve",r),d:o,ref:a}))},rne={exports:{}},Uze="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wze=Uze,Gze=Wze;function nne(){}function sne(){}sne.resetWarningCache=nne;var Hze=function(){function t(n,s,a,o,l,c){if(c!==Gze){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sne,resetWarningCache:nne};return r.PropTypes=r,r};rne.exports=Hze();var Vze=rne.exports;const ts=On(Vze),{getOwnPropertyNames:qze,getOwnPropertySymbols:Yze}=Object,{hasOwnProperty:Xze}=Object.prototype;function Nk(t,e){return function(n,s,a){return t(n,s,a)&&e(n,s,a)}}function P5(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);const{cache:a}=s,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=t(r,n,s);return a.delete(r),a.delete(n),c}}function Kze(t){return t!=null?t[Symbol.toStringTag]:void 0}function b$(t){return qze(t).concat(Yze(t))}const Zze=Object.hasOwn||((t,e)=>Xze.call(t,e));function lx(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Qze="__v",Jze="__o",eUe="_owner",{getOwnPropertyDescriptor:w$,keys:j$}=Object;function tUe(t,e){return t.byteLength===e.byteLength&&g4(new Uint8Array(t),new Uint8Array(e))}function rUe(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function nUe(t,e){return t.byteLength===e.byteLength&&g4(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function sUe(t,e){return lx(t.getTime(),e.getTime())}function iUe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function aUe(t,e){return t===e}function S$(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const s=new Array(n),a=t.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const u=e.entries();let d=!1,h=0;for(;(l=u.next())&&!l.done;){if(s[h]){h++;continue}const p=o.value,f=l.value;if(r.equals(p[0],f[0],c,h,t,e,r)&&r.equals(p[1],f[1],p[0],f[0],t,e,r)){d=s[h]=!0;break}h++}if(!d)return!1;c++}return!0}const oUe=lx;function lUe(t,e,r){const n=j$(t);let s=n.length;if(j$(e).length!==s)return!1;for(;s-- >0;)if(!ine(t,e,r,n[s]))return!1;return!0}function N1(t,e,r){const n=b$(t);let s=n.length;if(b$(e).length!==s)return!1;let a,o,l;for(;s-- >0;)if(a=n[s],!ine(t,e,r,a)||(o=w$(t,a),l=w$(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function cUe(t,e){return lx(t.valueOf(),e.valueOf())}function uUe(t,e){return t.source===e.source&&t.flags===e.flags}function N$(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const s=new Array(n),a=t.values();let o,l;for(;(o=a.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function g4(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function dUe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ine(t,e,r,n){return(n===eUe||n===Jze||n===Qze)&&(t.$$typeof||e.$$typeof)?!0:Zze(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const hUe="[object ArrayBuffer]",fUe="[object Arguments]",pUe="[object Boolean]",mUe="[object DataView]",gUe="[object Date]",xUe="[object Error]",yUe="[object Map]",vUe="[object Number]",bUe="[object Object]",wUe="[object RegExp]",jUe="[object Set]",SUe="[object String]",NUe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},CUe="[object URL]",_Ue=Object.prototype.toString;function AUe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:h,areTypedArraysEqual:p,areUrlsEqual:f,unknownTagComparators:m}){return function(y,x,w){if(y===x)return!0;if(y==null||x==null)return!1;const S=typeof y;if(S!==typeof x)return!1;if(S!=="object")return S==="number"?l(y,x,w):S==="function"?a(y,x,w):!1;const N=y.constructor;if(N!==x.constructor)return!1;if(N===Object)return c(y,x,w);if(Array.isArray(y))return e(y,x,w);if(N===Date)return n(y,x,w);if(N===RegExp)return d(y,x,w);if(N===Map)return o(y,x,w);if(N===Set)return h(y,x,w);const C=_Ue.call(y);if(C===gUe)return n(y,x,w);if(C===wUe)return d(y,x,w);if(C===yUe)return o(y,x,w);if(C===jUe)return h(y,x,w);if(C===bUe)return typeof y.then!="function"&&typeof x.then!="function"&&c(y,x,w);if(C===CUe)return f(y,x,w);if(C===xUe)return s(y,x,w);if(C===fUe)return c(y,x,w);if(NUe[C])return p(y,x,w);if(C===hUe)return t(y,x,w);if(C===mUe)return r(y,x,w);if(C===pUe||C===vUe||C===SUe)return u(y,x,w);if(m){let A=m[C];if(!A){const k=Kze(y);k&&(A=m[k])}if(A)return A(y,x,w)}return!1}}function kUe({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:tUe,areArraysEqual:r?N1:rUe,areDataViewsEqual:nUe,areDatesEqual:sUe,areErrorsEqual:iUe,areFunctionsEqual:aUe,areMapsEqual:r?Nk(S$,N1):S$,areNumbersEqual:oUe,areObjectsEqual:r?N1:lUe,arePrimitiveWrappersEqual:cUe,areRegExpsEqual:uUe,areSetsEqual:r?Nk(N$,N1):N$,areTypedArraysEqual:r?Nk(g4,N1):g4,areUrlsEqual:dUe,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const s=P5(n.areArraysEqual),a=P5(n.areMapsEqual),o=P5(n.areObjectsEqual),l=P5(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function PUe(t){return function(e,r,n,s,a,o,l){return t(e,r,l)}}function EUe({circular:t,comparator:e,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=r();return e(l,c,{cache:u,equals:n,meta:d,strict:s})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const a={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return e(l,c,a)}}const TUe=vm();vm({strict:!0});vm({circular:!0});vm({circular:!0,strict:!0});vm({createInternalComparator:()=>lx});vm({strict:!0,createInternalComparator:()=>lx});vm({circular:!0,createInternalComparator:()=>lx});vm({circular:!0,createInternalComparator:()=>lx,strict:!0});function vm(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:s=!1}=t,a=kUe(t),o=AUe(a),l=r?r(o):PUe(o);return EUe({circular:e,comparator:o,createState:n,equals:l,strict:s})}function IUe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function C$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>e?(t(a),r=-1):IUe(s)};requestAnimationFrame(n)}function hE(t){"@babel/helpers - typeof";return hE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hE(t)}function MUe(t){return DUe(t)||RUe(t)||LUe(t)||OUe()}function OUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LUe(t,e){if(t){if(typeof t=="string")return _$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _$(t,e)}}function _$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DUe(t){if(Array.isArray(t))return t}function FUe(){var t={},e=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=MUe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){C$(s.bind(null,u),c);return}s(c),C$(s.bind(null,u));return}hE(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function z2(t){"@babel/helpers - typeof";return z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z2(t)}function A$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function k$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(r),!0).forEach(function(n){ane(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ane(t,e,r){return e=BUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BUe(t){var e=$Ue(t,"string");return z2(e)==="symbol"?e:String(e)}function $Ue(t,e){if(z2(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(z2(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zUe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},UUe=function(e){return e},WUe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jb=function(e,r){return Object.keys(r).reduce(function(n,s){return k$(k$({},n),{},ane({},s,e(s,r[s])))},{})},P$=function(e,r,n){return e.map(function(s){return"".concat(WUe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function GUe(t,e){return qUe(t)||VUe(t,e)||one(t,e)||HUe()}function HUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qUe(t){if(Array.isArray(t))return t}function YUe(t){return ZUe(t)||KUe(t)||one(t)||XUe()}function XUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function one(t,e){if(t){if(typeof t=="string")return fE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fE(t,e)}}function KUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZUe(t){if(Array.isArray(t))return fE(t)}function fE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var x4=1e-4,lne=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},cne=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},E$=function(e,r){return function(n){var s=lne(e,r);return cne(s,n)}},QUe=function(e,r){return function(n){var s=lne(e,r),a=[].concat(YUe(s.map(function(o,l){return o*l}).slice(1)),[0]);return cne(a,n)}},T$=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=GUe(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var h=E$(s,o),p=E$(a,l),f=QUe(s,o),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var w=x>1?1:x,S=w,N=0;N<8;++N){var C=h(S)-w,A=f(S);if(Math.abs(C-w)<x4||A<x4)return p(S);S=m(S-C/A)}return p(S)};return g.isStepper=!1,g},JUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,a=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(d,h,p){var f=-(d-h)*n,m=p*a,g=p+(f-m)*l/1e3,y=p*l/1e3+d;return Math.abs(y-h)<x4&&Math.abs(g)<x4?[h,0]:[y,g]};return c.isStepper=!0,c.dt=l,c},eWe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return T$(s);case"spring":return JUe();default:if(s.split("(")[0]==="cubic-bezier")return T$(s)}return typeof s=="function"?s:null};function U2(t){"@babel/helpers - typeof";return U2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U2(t)}function I$(t){return nWe(t)||rWe(t)||une(t)||tWe()}function tWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nWe(t){if(Array.isArray(t))return mE(t)}function M$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(r),!0).forEach(function(n){pE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pE(t,e,r){return e=sWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sWe(t){var e=iWe(t,"string");return U2(e)==="symbol"?e:String(e)}function iWe(t,e){if(U2(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(U2(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aWe(t,e){return cWe(t)||lWe(t,e)||une(t,e)||oWe()}function oWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function une(t,e){if(t){if(typeof t=="string")return mE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mE(t,e)}}function mE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lWe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function cWe(t){if(Array.isArray(t))return t}var y4=function(e,r,n){return e+(r-e)*n},gE=function(e){var r=e.from,n=e.to;return r!==n},uWe=function t(e,r,n){var s=jb(function(a,o){if(gE(o)){var l=e(o.from,o.to,o.velocity),c=aWe(l,2),u=c[0],d=c[1];return eo(eo({},o),{},{from:u,velocity:d})}return o},r);return n<1?jb(function(a,o){return gE(o)?eo(eo({},o),{},{velocity:y4(o.velocity,s[a].velocity,n),from:y4(o.from,s[a].from,n)}):o},r):t(e,s,n-1)};const dWe=function(t,e,r,n,s){var a=zUe(t,e),o=a.reduce(function(y,x){return eo(eo({},y),{},pE({},x,[t[x],e[x]]))},{}),l=a.reduce(function(y,x){return eo(eo({},y),{},pE({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,h=function(){return null},p=function(){return jb(function(x,w){return w.from},l)},f=function(){return!Object.values(l).filter(gE).length},m=function(x){u||(u=x);var w=x-u,S=w/r.dt;l=uWe(r,l,S),s(eo(eo(eo({},t),e),p())),u=x,f()||(c=requestAnimationFrame(h))},g=function(x){d||(d=x);var w=(x-d)/n,S=jb(function(C,A){return y4.apply(void 0,I$(A).concat([r(w)]))},o);if(s(eo(eo(eo({},t),e),S)),w<1)c=requestAnimationFrame(h);else{var N=jb(function(C,A){return y4.apply(void 0,I$(A).concat([r(1)]))},o);s(eo(eo(eo({},t),e),N))}};return h=r.isStepper?m:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}var hWe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function fWe(t,e){if(t==null)return{};var r=pWe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pWe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Ck(t){return yWe(t)||xWe(t)||gWe(t)||mWe()}function mWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gWe(t,e){if(t){if(typeof t=="string")return xE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xE(t,e)}}function xWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yWe(t){if(Array.isArray(t))return xE(t)}function xE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function td(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O$(Object(r),!0).forEach(function(n){Y1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y1(t,e,r){return e=dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dne(n.key),n)}}function wWe(t,e,r){return e&&bWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dne(t){var e=jWe(t,"string");return jy(e)==="symbol"?e:String(e)}function jWe(t,e){if(jy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yE(t,e)}function yE(t,e){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yE(t,e)}function NWe(t){var e=CWe();return function(){var n=v4(t),s;if(e){var a=v4(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return vE(this,s)}}function vE(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bE(t)}function bE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CWe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v4(t){return v4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v4(t)}var wh=function(t){SWe(r,t);var e=NWe(r);function r(n,s){var a;vWe(this,r),a=e.call(this,n,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,p=o.children,f=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(bE(a)),a.changeStyle=a.changeStyle.bind(bE(a)),!l||f<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:d}),vE(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof p=="function")return a.state={style:u},vE(a);a.state={style:c?Y1({},c,u):u}}else a.state={style:{}};return a}return wWe(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,p=this.state.style;if(l){if(!o){var f={style:c?Y1({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(f);return}if(!(TUe(s.to,d)&&s.canBegin&&s.isActive)){var m=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?h:s.to;if(this.state&&p){var y={style:c?Y1({},c,g):g};(c&&p[c]!==g||!c&&p!==g)&&this.setState(y)}this.runAnimation(td(td({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,h=s.onAnimationEnd,p=s.onAnimationStart,f=dWe(o,l,eWe(u),c,this.changeStyle),m=function(){a.stopJSAnimation=f()};this.manager.start([p,d,m,c,h])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,h=u.duration,p=h===void 0?0:h,f=function(g,y,x){if(x===0)return g;var w=y.duration,S=y.easing,N=S===void 0?"ease":S,C=y.style,A=y.properties,k=y.onAnimationEnd,E=x>0?o[x-1]:y,T=A||Object.keys(C);if(typeof N=="function"||N==="spring")return[].concat(Ck(g),[a.runJSAnimation.bind(a,{from:E.style,to:C,duration:w,easing:N}),w]);var R=P$(T,w,N),I=td(td(td({},E.style),C),{},{transition:R});return[].concat(Ck(g),[I,w,k]).filter(UUe)};return this.manager.start([c].concat(Ck(o.reduce(f,[d,Math.max(p,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=FUe());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,h=s.onAnimationEnd,p=s.steps,f=s.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var g=l?Y1({},l,c):c,y=P$(Object.keys(g),o,u);m.start([d,a,td(td({},g),{},{transition:y}),o,h])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=fWe(s,hWe),u=b.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var h=function(f){var m=f.props,g=m.style,y=g===void 0?{}:g,x=m.className,w=b.cloneElement(f,td(td({},c),{},{style:td(td({},y),d),className:x}));return w};return u===1?h(b.Children.only(a)):xe.createElement("div",null,b.Children.map(a,function(p){return h(p)}))}}]),r}(b.PureComponent);wh.displayName="Animate";wh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wh.propTypes={from:ts.oneOfType([ts.object,ts.string]),to:ts.oneOfType([ts.object,ts.string]),attributeName:ts.string,duration:ts.number,begin:ts.number,easing:ts.oneOfType([ts.string,ts.func]),steps:ts.arrayOf(ts.shape({duration:ts.number.isRequired,style:ts.object.isRequired,easing:ts.oneOfType([ts.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ts.func]),properties:ts.arrayOf("string"),onAnimationEnd:ts.func})),children:ts.oneOfType([ts.node,ts.func]),isActive:ts.bool,canBegin:ts.bool,onAnimationEnd:ts.func,shouldReAnimate:ts.bool,onAnimationStart:ts.func,onAnimationReStart:ts.func};function W2(t){"@babel/helpers - typeof";return W2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W2(t)}function b4(){return b4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b4.apply(this,arguments)}function _We(t,e){return EWe(t)||PWe(t,e)||kWe(t,e)||AWe()}function AWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kWe(t,e){if(t){if(typeof t=="string")return L$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L$(t,e)}}function L$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PWe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function EWe(t){if(Array.isArray(t))return t}function R$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function D$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R$(Object(r),!0).forEach(function(n){TWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TWe(t,e,r){return e=IWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IWe(t){var e=MWe(t,"string");return W2(e)=="symbol"?e:e+""}function MWe(t,e){if(W2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(W2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F$=function(e,r,n,s,a){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],p=0,f=4;p<f;p++)h[p]=a[p]>o?o:a[p];d="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),d+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*h[1])),d+="L ".concat(e+n,",").concat(r+s-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+s)),d+="L ".concat(e+c*h[3],",").concat(r+s),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+s-l*h[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);d="M ".concat(e,",").concat(r+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+c*m,",").concat(r,`
            L `).concat(e+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*m,`
            L `).concat(e+n,",").concat(r+s-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-c*m,",").concat(r+s,`
            L `).concat(e+c*m,",").concat(r+s,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(r+s-l*m," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},OWe=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),h=Math.min(o,o+c),p=Math.max(o,o+c);return n>=u&&n<=d&&s>=h&&s<=p}return!1},LWe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WO=function(e){var r=D$(D$({},LWe),e),n=b.useRef(),s=b.useState(-1),a=_We(s,2),o=a[0],l=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,p=r.radius,f=r.className,m=r.animationEasing,g=r.animationDuration,y=r.animationBegin,x=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var S=nn("recharts-rectangle",f);return w?xe.createElement(wh,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:g,animationEasing:m,isActive:w},function(N){var C=N.width,A=N.height,k=N.x,E=N.y;return xe.createElement(wh,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:x,easing:m},xe.createElement("path",b4({},Br(r,!0),{className:S,d:F$(k,E,C,A,p),ref:n})))}):xe.createElement("path",b4({},Br(r,!0),{className:S,d:F$(c,u,d,h,p)}))},RWe=["points","className","baseLinePoints","connectNulls"];function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m0.apply(this,arguments)}function DWe(t,e){if(t==null)return{};var r=FWe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B$(t){return UWe(t)||zWe(t)||$We(t)||BWe()}function BWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $We(t,e){if(t){if(typeof t=="string")return wE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wE(t,e)}}function zWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UWe(t){if(Array.isArray(t))return wE(t)}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $$=function(e){return e&&e.x===+e.x&&e.y===+e.y},WWe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){$$(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),$$(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Sb=function(e,r){var n=WWe(e);r&&(n=[n.reduce(function(a,o){return[].concat(B$(a),B$(o))},[])]);var s=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},GWe=function(e,r,n){var s=Sb(e,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Sb(r.reverse(),n).slice(1))},HWe=function(e){var r=e.points,n=e.className,s=e.baseLinePoints,a=e.connectNulls,o=DWe(e,RWe);if(!r||!r.length)return null;var l=nn("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=GWe(r,s,a);return xe.createElement("g",{className:l},xe.createElement("path",m0({},Br(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?xe.createElement("path",m0({},Br(o,!0),{fill:"none",d:Sb(r,a)})):null,c?xe.createElement("path",m0({},Br(o,!0),{fill:"none",d:Sb(s,a)})):null)}var d=Sb(r,a);return xe.createElement("path",m0({},Br(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jE.apply(this,arguments)}var VC=function(e){var r=e.cx,n=e.cy,s=e.r,a=e.className,o=nn("recharts-dot",a);return r===+r&&n===+n&&s===+s?b.createElement("circle",jE({},Br(e,!1),BN(e),{className:o,cx:r,cy:n,r:s})):null};function G2(t){"@babel/helpers - typeof";return G2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G2(t)}var VWe=["x","y","top","left","width","height","className"];function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SE.apply(this,arguments)}function z$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qWe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z$(Object(r),!0).forEach(function(n){YWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YWe(t,e,r){return e=XWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XWe(t){var e=KWe(t,"string");return G2(e)=="symbol"?e:e+""}function KWe(t,e){if(G2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(G2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZWe(t,e){if(t==null)return{};var r=QWe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var JWe=function(e,r,n,s,a,o){return"M".concat(e,",").concat(a,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},eGe=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,p=e.height,f=p===void 0?0:p,m=e.className,g=ZWe(e,VWe),y=qWe({x:n,y:a,top:l,left:u,width:h,height:f},g);return!Wt(n)||!Wt(a)||!Wt(h)||!Wt(f)||!Wt(l)||!Wt(u)?null:xe.createElement("path",SE({},Br(y,!0),{className:nn("recharts-cross",m),d:JWe(n,a,h,f,l,u)}))},tGe=zC,rGe=Sre,nGe=Ah;function sGe(t,e){return t&&t.length?tGe(t,nGe(e),rGe):void 0}var iGe=sGe;const aGe=On(iGe);var oGe=zC,lGe=Ah,cGe=Nre;function uGe(t,e){return t&&t.length?oGe(t,lGe(e),cGe):void 0}var dGe=uGe;const hGe=On(dGe);var fGe=["cx","cy","angle","ticks","axisLine"],pGe=["ticks","tick","angle","tickFormatter","stroke"];function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nb.apply(this,arguments)}function U$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Dm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(r),!0).forEach(function(n){qC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W$(t,e){if(t==null)return{};var r=mGe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fne(n.key),n)}}function xGe(t,e,r){return e&&G$(t.prototype,e),r&&G$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yGe(t,e,r){return e=w4(e),vGe(t,hne()?Reflect.construct(e,r||[],w4(t).constructor):e.apply(t,r))}function vGe(t,e){if(e&&(Sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bGe(t)}function bGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hne=function(){return!!t})()}function w4(t){return w4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w4(t)}function wGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},NE(t,e)}function qC(t,e,r){return e=fne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t){var e=jGe(t,"string");return Sy(e)=="symbol"?e:e+""}function jGe(t,e){if(Sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YC=function(t){function e(){return gGe(this,e),yGe(this,e,arguments)}return wGe(e,t),xGe(e,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return As(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=aGe(l,function(d){return d.coordinate||0}),u=hGe(l,function(d){return d.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=W$(n,fGe),d=l.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),h=As(s,a,d[0],o),p=As(s,a,d[1],o),f=Dm(Dm(Dm({},Br(u,!1)),{},{fill:"none"},Br(c,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return xe.createElement("line",Nb({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=W$(s,pGe),h=this.getTickTextAnchor(),p=Br(d,!1),f=Br(o,!1),m=a.map(function(g,y){var x=n.getTickValueCoord(g),w=Dm(Dm(Dm(Dm({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},p),{},{stroke:"none",fill:u},f),{},{index:y},x),{},{payload:g});return xe.createElement(Wn,Nb({className:nn("recharts-polar-radius-axis-tick",Qre(o)),key:"tick-".concat(g.coordinate)},Bg(n.props,g,y)),e.renderTickItem(o,w,c?c(g.value,y):g.value))});return xe.createElement(Wn,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.axisLine,o=n.tick;return!s||!s.length?null:xe.createElement(Wn,{className:nn("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Oa.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return xe.isValidElement(n)?o=xe.cloneElement(n,s):Hr(n)?o=n(s):o=xe.createElement($g,Nb({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(b.PureComponent);qC(YC,"displayName","PolarRadiusAxis");qC(YC,"axisType","radiusAxis");qC(YC,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zm.apply(this,arguments)}function H$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Fm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H$(Object(r),!0).forEach(function(n){XC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mne(n.key),n)}}function NGe(t,e,r){return e&&V$(t.prototype,e),r&&V$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CGe(t,e,r){return e=j4(e),_Ge(t,pne()?Reflect.construct(e,r||[],j4(t).constructor):e.apply(t,r))}function _Ge(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AGe(t)}function AGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pne=function(){return!!t})()}function j4(t){return j4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j4(t)}function kGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CE(t,e)}function CE(t,e){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CE(t,e)}function XC(t,e,r){return e=mne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mne(t){var e=PGe(t,"string");return Ny(e)=="symbol"?e:e+""}function PGe(t,e){if(Ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EGe=Math.PI/180,q$=1e-5,KC=function(t){function e(){return SGe(this,e),CGe(this,e,arguments)}return kGe(e,t),NGe(e,[{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,h=As(a,o,l,n.coordinate),p=As(a,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,a=Math.cos(-n.coordinate*EGe),o;return a>q$?o=s==="outer"?"start":"end":a<-q$?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Fm(Fm({},Br(this.props,!1)),{},{fill:"none"},Br(l,!1));if(c==="circle")return xe.createElement(VC,Zm({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:a,r:o}));var d=this.props.ticks,h=d.map(function(p){return As(s,a,o,p.coordinate)});return xe.createElement(HWe,Zm({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Br(this.props,!1),h=Br(o,!1),p=Fm(Fm({},d),{},{fill:"none"},Br(l,!1)),f=a.map(function(m,g){var y=n.getTickLineCoord(m),x=n.getTickTextAnchor(m),w=Fm(Fm(Fm({textAnchor:x},d),{},{stroke:"none",fill:u},h),{},{index:g,payload:m,x:y.x2,y:y.y2});return xe.createElement(Wn,Zm({className:nn("recharts-polar-angle-axis-tick",Qre(o)),key:"tick-".concat(m.coordinate)},Bg(n.props,m,g)),l&&xe.createElement("line",Zm({className:"recharts-polar-angle-axis-tick-line"},p,y)),o&&e.renderTickItem(o,w,c?c(m.value,g):m.value))});return xe.createElement(Wn,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!s||!s.length?null:xe.createElement(Wn,{className:nn("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,a){var o;return xe.isValidElement(n)?o=xe.cloneElement(n,s):Hr(n)?o=n(s):o=xe.createElement($g,Zm({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(b.PureComponent);XC(KC,"displayName","PolarAngleAxis");XC(KC,"axisType","angleAxis");XC(KC,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var TGe=vte,IGe=TGe(Object.getPrototypeOf,Object),MGe=IGe,OGe=Lf,LGe=MGe,RGe=Rf,DGe="[object Object]",FGe=Function.prototype,BGe=Object.prototype,gne=FGe.toString,$Ge=BGe.hasOwnProperty,zGe=gne.call(Object);function UGe(t){if(!RGe(t)||OGe(t)!=DGe)return!1;var e=LGe(t);if(e===null)return!0;var r=$Ge.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&gne.call(r)==zGe}var WGe=UGe;const GGe=On(WGe);var HGe=Lf,VGe=Rf,qGe="[object Boolean]";function YGe(t){return t===!0||t===!1||VGe(t)&&HGe(t)==qGe}var XGe=YGe;const KGe=On(XGe);function H2(t){"@babel/helpers - typeof";return H2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H2(t)}function S4(){return S4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S4.apply(this,arguments)}function ZGe(t,e){return tHe(t)||eHe(t,e)||JGe(t,e)||QGe()}function QGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JGe(t,e){if(t){if(typeof t=="string")return Y$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y$(t,e)}}function Y$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eHe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tHe(t){if(Array.isArray(t))return t}function X$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function K$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X$(Object(r),!0).forEach(function(n){rHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rHe(t,e,r){return e=nHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nHe(t){var e=sHe(t,"string");return H2(e)=="symbol"?e:e+""}function sHe(t,e){if(H2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(H2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z$=function(e,r,n,s,a){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-s,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},iHe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aHe=function(e){var r=K$(K$({},iHe),e),n=b.useRef(),s=b.useState(-1),a=ZGe(s,2),o=a[0],l=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,p=r.height,f=r.className,m=r.animationEasing,g=r.animationDuration,y=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||p!==+p||d===0&&h===0||p===0)return null;var w=nn("recharts-trapezoid",f);return x?xe.createElement(wh,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:p,x:c,y:u},duration:g,animationEasing:m,isActive:x},function(S){var N=S.upperWidth,C=S.lowerWidth,A=S.height,k=S.x,E=S.y;return xe.createElement(wh,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:m},xe.createElement("path",S4({},Br(r,!0),{className:w,d:Z$(k,E,N,C,A),ref:n})))}):xe.createElement("g",null,xe.createElement("path",S4({},Br(r,!0),{className:w,d:Z$(c,u,d,h,p)})))},oHe=["option","shapeType","propTransformer","activeClassName","isActive"];function V2(t){"@babel/helpers - typeof";return V2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V2(t)}function lHe(t,e){if(t==null)return{};var r=cHe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function N4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q$(Object(r),!0).forEach(function(n){uHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uHe(t,e,r){return e=dHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dHe(t){var e=hHe(t,"string");return V2(e)=="symbol"?e:e+""}function hHe(t,e){if(V2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(V2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fHe(t,e){return N4(N4({},e),t)}function pHe(t,e){return t==="symbols"}function J$(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return xe.createElement(WO,r);case"trapezoid":return xe.createElement(aHe,r);case"sector":return xe.createElement(tne,r);case"symbols":if(pHe(e))return xe.createElement(lO,r);break;default:return null}}function mHe(t){return b.isValidElement(t)?t.props:t}function xne(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?fHe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=lHe(t,oHe),u;if(b.isValidElement(e))u=b.cloneElement(e,N4(N4({},c),mHe(e)));else if(Hr(e))u=e(c);else if(GGe(e)&&!KGe(e)){var d=s(e,c);u=xe.createElement(J$,{shapeType:r,elementProps:d})}else{var h=c;u=xe.createElement(J$,{shapeType:r,elementProps:h})}return l?xe.createElement(Wn,{className:o},u):u}function ZC(t,e){return e!=null&&"trapezoids"in t.props}function QC(t,e){return e!=null&&"sectors"in t.props}function q2(t,e){return e!=null&&"points"in t.props}function gHe(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&a}function xHe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function yHe(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function vHe(t,e){var r;return ZC(t,e)?r=gHe:QC(t,e)?r=xHe:q2(t,e)&&(r=yHe),r}function bHe(t,e){var r;return ZC(t,e)?r="trapezoids":QC(t,e)?r="sectors":q2(t,e)&&(r="points"),r}function wHe(t,e){if(ZC(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(QC(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return q2(t,e)?e.payload:{}}function jHe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=bHe(r,e),a=wHe(r,e),o=n.filter(function(c,u){var d=$w(a,c),h=r.props[s].filter(function(m){var g=vHe(r,e);return g(m,e)}),p=r.props[s].indexOf(h[h.length-1]),f=u===p;return d&&f}),l=n.indexOf(o[o.length-1]);return l}var jS;function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function g0(){return g0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g0.apply(this,arguments)}function ez(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ss(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(r),!0).forEach(function(n){cu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vne(n.key),n)}}function NHe(t,e,r){return e&&tz(t.prototype,e),r&&tz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CHe(t,e,r){return e=C4(e),_He(t,yne()?Reflect.construct(e,r||[],C4(t).constructor):e.apply(t,r))}function _He(t,e){if(e&&(Cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AHe(t)}function AHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yne=function(){return!!t})()}function C4(t){return C4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C4(t)}function kHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_E(t,e)}function cu(t,e,r){return e=vne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vne(t){var e=PHe(t,"string");return Cy(e)=="symbol"?e:e+""}function PHe(t,e){if(Cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ff=function(t){function e(r){var n;return SHe(this,e),n=CHe(this,e,[r]),cu(n,"pieRef",null),cu(n,"sectorRefs",[]),cu(n,"id",mv("recharts-pie-")),cu(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Hr(s)&&s()}),cu(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Hr(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return kHe(e,t),NHe(e,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=Br(this.props,!1),h=Br(o,!1),p=Br(l,!1),f=o&&o.offsetRadius||20,m=n.map(function(g,y){var x=(g.startAngle+g.endAngle)/2,w=As(g.cx,g.cy,g.outerRadius+f,x),S=Ss(Ss(Ss(Ss({},d),g),{},{stroke:"none"},h),{},{index:y,textAnchor:e.getTextAnchor(w.x,g.cx)},w),N=Ss(Ss(Ss(Ss({},d),g),{},{fill:"none",stroke:g.fill},p),{},{index:y,points:[As(g.cx,g.cy,g.outerRadius,x),w]}),C=c;return en(c)&&en(u)?C="value":en(c)&&(C=u),xe.createElement(Wn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(o,S,oa(g,C)))});return xe.createElement(Wn,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=s.isActiveIndex(d),p=c&&s.hasActiveIndex()?c:null,f=h?o:p,m=Ss(Ss({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return xe.createElement(Wn,g0({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Bg(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),xe.createElement(xne,g0({option:f,isActive:h,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,h=this.state,p=h.prevSectors,f=h.prevIsAnimationActive;return xe.createElement(wh,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,y=[],x=a&&a[0],w=x.startAngle;return a.forEach(function(S,N){var C=p&&p[N],A=N>0?Sc(S,"paddingAngle",0):0;if(C){var k=cc(C.endAngle-C.startAngle,S.endAngle-S.startAngle),E=Ss(Ss({},S),{},{startAngle:w+A,endAngle:w+k(g)+A});y.push(E),w=E.endAngle}else{var T=S.endAngle,R=S.startAngle,I=cc(0,T-R),L=I(g),U=Ss(Ss({},S),{},{startAngle:w+A,endAngle:w+L+A});y.push(U),w=U.endAngle}}),xe.createElement(Wn,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!$w(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,h=s.innerRadius,p=s.outerRadius,f=s.isAnimationActive,m=this.state.isAnimationFinished;if(a||!o||!o.length||!Wt(u)||!Wt(d)||!Wt(h)||!Wt(p))return null;var g=nn("recharts-pie",l);return xe.createElement(Wn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Oa.renderCallByParent(this.props,null,!1),(!f||m)&&mf.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,a){if(xe.isValidElement(n))return xe.cloneElement(n,s);if(Hr(n))return n(s);var o=nn("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return xe.createElement(m4,g0({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,a){if(xe.isValidElement(n))return xe.cloneElement(n,s);var o=a;if(Hr(n)&&(o=n(s),xe.isValidElement(o)))return o;var l=nn("recharts-pie-label-text",typeof n!="boolean"&&!Hr(n)?n.className:"");return xe.createElement($g,g0({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);jS=Ff;cu(Ff,"displayName","Pie");cu(Ff,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ix.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});cu(Ff,"parseDeltaAngle",function(t,e){var r=rl(e-t),n=Math.min(Math.abs(e-t),360);return r*n});cu(Ff,"getRealPieData",function(t){var e=t.data,r=t.children,n=Br(t,!1),s=Nc(r,OC);return e&&e.length?e.map(function(a,o){return Ss(Ss(Ss({payload:a},n),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return Ss(Ss({},n),a.props)}):[]});cu(Ff,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,s=e.width,a=e.height,o=Zre(s,a),l=n+nl(t.cx,s,s/2),c=r+nl(t.cy,a,a/2),u=nl(t.innerRadius,o,0),d=nl(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});cu(Ff,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ss(Ss({},e.type.defaultProps),e.props):e.props,s=jS.getRealPieData(n);if(!s||!s.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,p=n.tooltipType,f=Math.abs(n.minAngle),m=jS.parseCoordinateOfPie(n,r),g=jS.parseDeltaAngle(o,l),y=Math.abs(g),x=u;en(u)&&en(h)?(wd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):en(u)&&(wd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=h);var w=s.filter(function(E){return oa(E,x,0)!==0}).length,S=(y>=360?w:w-1)*c,N=y-w*f-S,C=s.reduce(function(E,T){var R=oa(T,x,0);return E+(Wt(R)?R:0)},0),A;if(C>0){var k;A=s.map(function(E,T){var R=oa(E,x,0),I=oa(E,d,T),L=(Wt(R)?R:0)/C,U;T?U=k.endAngle+rl(g)*c*(R!==0?1:0):U=o;var $=U+rl(g)*((R!==0?f:0)+L*N),q=(U+$)/2,G=(m.innerRadius+m.outerRadius)/2,W=[{name:I,value:R,payload:E,dataKey:x,type:p}],B=As(m.cx,m.cy,G,q);return k=Ss(Ss(Ss({percent:L,cornerRadius:a,name:I,tooltipPayload:W,midAngle:q,middleRadius:G,tooltipPosition:B},E),m),{},{value:oa(E,x),startAngle:U,endAngle:$,payload:E,paddingAngle:rl(g)*c}),k})}return Ss(Ss({},m),{},{sectors:A,data:s})});var EHe=Math.ceil,THe=Math.max;function IHe(t,e,r,n){for(var s=-1,a=THe(EHe((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++s]=t,t+=r;return o}var MHe=IHe,OHe=Fte,rz=1/0,LHe=17976931348623157e292;function RHe(t){if(!t)return t===0?t:0;if(t=OHe(t),t===rz||t===-rz){var e=t<0?-1:1;return e*LHe}return t===t?t:0}var bne=RHe,DHe=MHe,FHe=MC,_k=bne;function BHe(t){return function(e,r,n){return n&&typeof n!="number"&&FHe(e,r,n)&&(r=n=void 0),e=_k(e),r===void 0?(r=e,e=0):r=_k(r),n=n===void 0?e<r?1:-1:_k(n),DHe(e,r,n,t)}}var $He=BHe,zHe=$He,UHe=zHe(),WHe=UHe;const _4=On(WHe);function Y2(t){"@babel/helpers - typeof";return Y2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y2(t)}function nz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(r),!0).forEach(function(n){wne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wne(t,e,r){return e=GHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GHe(t){var e=HHe(t,"string");return Y2(e)=="symbol"?e:e+""}function HHe(t,e){if(Y2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Y2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VHe=["Webkit","Moz","O","ms"],qHe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),s=VHe.reduce(function(a,o){return sz(sz({},a),{},wne({},o+n,r))},{});return s[e]=r,s};function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function A4(){return A4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A4.apply(this,arguments)}function iz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ak(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(r),!0).forEach(function(n){rc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function az(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sne(n.key),n)}}function XHe(t,e,r){return e&&az(t.prototype,e),r&&az(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KHe(t,e,r){return e=k4(e),ZHe(t,jne()?Reflect.construct(e,r||[],k4(t).constructor):e.apply(t,r))}function ZHe(t,e){if(e&&(_y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QHe(t)}function QHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jne=function(){return!!t})()}function k4(t){return k4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k4(t)}function JHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},AE(t,e)}function rc(t,e,r){return e=Sne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sne(t){var e=eVe(t,"string");return _y(e)=="symbol"?e:e+""}function eVe(t,e){if(_y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tVe=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=bb().domain(_4(0,c)).range([a,a+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},oz=function(e){return e.changedTouches&&!!e.changedTouches.length},Ay=function(t){function e(r){var n;return YHe(this,e),n=KHe(this,e,[r]),rc(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),rc(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),rc(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),rc(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),rc(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),rc(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),rc(n,"handleSlideDragStart",function(s){var a=oz(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return JHe(e,t),XHe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(s,a),p=Math.max(s,a),f=e.getIndexInRange(o,h),m=e.getIndexInRange(o,p);return{startIndex:f-f%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=oa(a[n],l,n);return Hr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,p=c.startIndex,f=c.endIndex,m=c.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-h-l,u+d-h-o):g<0&&(g=Math.max(g,u-o,u-l));var y=this.getIndex({startX:o+g,endX:l+g});(y.startIndex!==p||y.endIndex!==f)&&m&&m(y),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=oz(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,h=d.x,p=d.width,f=d.travellerWidth,m=d.onChange,g=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,h+p-f-u):w<0&&(w=Math.max(w,h-u)),x[o]=u+w;var S=this.getIndex(x),N=S.startIndex,C=S.endIndex,A=function(){var E=y.length-1;return o==="startX"&&(l>c?N%g===0:C%g===0)||l<c&&C===E||o==="endX"&&(l>c?C%g===0:N%g===0)||l>c&&C===E};this.setState(rc(rc({},o,u+w),"brushMoveStartX",n.pageX),function(){m&&A()&&m(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],h=l.indexOf(d);if(h!==-1){var p=h+n;if(!(p===-1||p>=l.length)){var f=l[p];s==="startX"&&f>=u||s==="endX"&&f<=c||this.setState(rc({},s,f),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return xe.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=b.Children.only(u);return h?xe.cloneElement(h,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,p=c.traveller,f=c.ariaLabel,m=c.data,g=c.startIndex,y=c.endIndex,x=Math.max(n,this.props.x),w=Ak(Ak({},Br(this.props,!1)),{},{x,y:u,width:d,height:h}),S=f||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[y])===null||o===void 0?void 0:o.name);return xe.createElement(Wn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,w))}},{key:"renderSlide",value:function(n,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,h=Math.max(Math.abs(s-n)-u,0);return xe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,p=d.endX,f=5,m={pointerEvents:"none",fill:u};return xe.createElement(Wn,{className:"recharts-brush-texts"},xe.createElement($g,A4({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-f,y:o+l/2},m),this.getTextOfTick(s)),xe.createElement($g,A4({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+c+f,y:o+l/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,p=this.state,f=p.startX,m=p.endX,g=p.isTextActive,y=p.isSlideMoving,x=p.isTravellerMoving,w=p.isTravellerFocused;if(!s||!s.length||!Wt(l)||!Wt(c)||!Wt(u)||!Wt(d)||u<=0||d<=0)return null;var S=nn("recharts-brush",a),N=xe.Children.count(o)===1,C=qHe("userSelect","none");return xe.createElement(Wn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(f,m),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(m,"endX"),(g||y||x||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return xe.createElement(xe.Fragment,null,xe.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),xe.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),xe.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return xe.isValidElement(n)?a=xe.cloneElement(n,s):Hr(n)?a=n(s):a=e.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return Ak({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?tVe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var p=s.scale.domain().map(function(f){return s.scale(f)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(b.PureComponent);rc(Ay,"displayName","Brush");rc(Ay,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rVe=mO;function nVe(t,e){var r;return rVe(t,function(n,s,a){return r=e(n,s,a),!r}),!!r}var sVe=nVe,iVe=dte,aVe=Ah,oVe=sVe,lVe=Bl,cVe=MC;function uVe(t,e,r){var n=lVe(t)?iVe:oVe;return r&&cVe(t,e,r)&&(e=void 0),n(t,aVe(e))}var dVe=uVe;const hVe=On(dVe);var mh=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},lz=Mte;function fVe(t,e,r){e=="__proto__"&&lz?lz(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var pVe=fVe,mVe=pVe,gVe=Tte,xVe=Ah;function yVe(t,e){var r={};return e=xVe(e),gVe(t,function(n,s,a){mVe(r,s,e(n,s,a))}),r}var vVe=yVe;const bVe=On(vVe);function wVe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var jVe=wVe,SVe=mO;function NVe(t,e){var r=!0;return SVe(t,function(n,s,a){return r=!!e(n,s,a),r}),r}var CVe=NVe,_Ve=jVe,AVe=CVe,kVe=Ah,PVe=Bl,EVe=MC;function TVe(t,e,r){var n=PVe(t)?_Ve:AVe;return r&&EVe(t,e,r)&&(e=void 0),n(t,kVe(e))}var IVe=TVe;const Nne=On(IVe);var MVe=["x","y"];function X2(t){"@babel/helpers - typeof";return X2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X2(t)}function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kE.apply(this,arguments)}function cz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function C1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cz(Object(r),!0).forEach(function(n){OVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OVe(t,e,r){return e=LVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LVe(t){var e=RVe(t,"string");return X2(e)=="symbol"?e:e+""}function RVe(t,e){if(X2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DVe(t,e){if(t==null)return{};var r=FVe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BVe(t,e){var r=t.x,n=t.y,s=DVe(t,MVe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),h="".concat(e.width||s.width),p=parseInt(h,10);return C1(C1(C1(C1(C1({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function uz(t){return xe.createElement(xne,kE({shapeType:"rectangle",propTransformer:BVe,activeClassName:"recharts-active-bar"},t))}var $Ve=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var a=Wt(n)||oPe(n);return a?e(n,s):(a||Ug(),r)}},zVe=["value","background"],Cne;function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function UVe(t,e){if(t==null)return{};var r=WVe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function P4(){return P4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P4.apply(this,arguments)}function dz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dz(Object(r),!0).forEach(function(n){Ip(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ane(n.key),n)}}function HVe(t,e,r){return e&&hz(t.prototype,e),r&&hz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VVe(t,e,r){return e=E4(e),qVe(t,_ne()?Reflect.construct(e,r||[],E4(t).constructor):e.apply(t,r))}function qVe(t,e){if(e&&(ky(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YVe(t)}function YVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ne=function(){return!!t})()}function E4(t){return E4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E4(t)}function XVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},PE(t,e)}function Ip(t,e,r){return e=Ane(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ane(t){var e=KVe(t,"string");return ky(e)=="symbol"?e:e+""}function KVe(t,e){if(ky(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cx=function(t){function e(){var r;GVe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=VVe(this,e,[].concat(s)),Ip(r,"state",{isAnimationFinished:!1}),Ip(r,"id",mv("recharts-bar-")),Ip(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ip(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return XVe(e,t),HVe(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Br(this.props,!1);return n&&n.map(function(h,p){var f=p===c,m=f?u:o,g=Ui(Ui(Ui({},d),h),{},{isActive:f,option:m,index:p,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return xe.createElement(Wn,P4({className:"recharts-bar-rectangle"},Bg(s.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(p)}),xe.createElement(uz,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,h=s.animationId,p=this.state.prevData;return xe.createElement(wh,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var m=f.t,g=a.map(function(y,x){var w=p&&p[x];if(w){var S=cc(w.x,y.x),N=cc(w.y,y.y),C=cc(w.width,y.width),A=cc(w.height,y.height);return Ui(Ui({},y),{},{x:S(m),y:N(m),width:C(m),height:A(m)})}if(o==="horizontal"){var k=cc(0,y.height),E=k(m);return Ui(Ui({},y),{},{y:y.y+y.height-E,height:E})}var T=cc(0,y.width),R=T(m);return Ui(Ui({},y),{},{width:R})});return xe.createElement(Wn,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!$w(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=Br(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,p=UVe(u,zVe);if(!h)return null;var f=Ui(Ui(Ui(Ui(Ui({},p),{},{fill:"#eee"},h),c),Bg(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return xe.createElement(uz,P4({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},f))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=Nc(d,zw);if(!h)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,f=function(y,x){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:oa(y,x)}},m={clipPath:n?"url(#clipPath-".concat(s,")"):null};return xe.createElement(Wn,m,h.map(function(g){return xe.cloneElement(g,{key:"error-bar-".concat(s,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,p=n.height,f=n.isAnimationActive,m=n.background,g=n.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,x=nn("recharts-bar",o),w=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,N=w||S,C=en(g)?this.id:g;return xe.createElement(Wn,{className:x},w||S?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(C)},xe.createElement("rect",{x:w?u:u-h/2,y:S?d:d-p/2,width:w?h:h*2,height:S?p:p*2}))):null,xe.createElement(Wn,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(C,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,C),(!f||y)&&mf.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(b.PureComponent);Cne=cx;Ip(cx,"displayName","Bar");Ip(cx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ix.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ip(cx,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,p=t.offset,f=_$e(n,r);if(!f)return null;var m=e.layout,g=r.type.defaultProps,y=g!==void 0?Ui(Ui({},g),r.props):r.props,x=y.dataKey,w=y.children,S=y.minPointSize,N=m==="horizontal"?o:a,C=u?N.scale.domain():null,A=M$e({numericAxis:N}),k=Nc(w,OC),E=h.map(function(T,R){var I,L,U,$,q,G;u?I=A$e(u[d+R],C):(I=oa(T,x),Array.isArray(I)||(I=[A,I]));var W=$Ve(S,Cne.defaultProps.minPointSize)(I[1],R);if(m==="horizontal"){var B,O=[o.scale(I[0]),o.scale(I[1])],K=O[0],Y=O[1];L=s$({axis:a,ticks:l,bandSize:s,offset:f.offset,entry:T,index:R}),U=(B=Y??K)!==null&&B!==void 0?B:void 0,$=f.size;var D=K-Y;if(q=Number.isNaN(D)?0:D,G={x:L,y:o.y,width:$,height:o.height},Math.abs(W)>0&&Math.abs(q)<Math.abs(W)){var Z=rl(q||W)*(Math.abs(W)-Math.abs(q));U-=Z,q+=Z}}else{var ie=[a.scale(I[0]),a.scale(I[1])],he=ie[0],J=ie[1];if(L=he,U=s$({axis:o,ticks:c,bandSize:s,offset:f.offset,entry:T,index:R}),$=J-he,q=f.size,G={x:a.x,y:U,width:a.width,height:q},Math.abs(W)>0&&Math.abs($)<Math.abs(W)){var ae=rl($||W)*(Math.abs(W)-Math.abs($));$+=ae}}return Ui(Ui(Ui({},T),{},{x:L,y:U,width:$,height:q,value:u?I:I[1],payload:T,background:G},k&&k[R]&&k[R].props),{},{tooltipPayload:[Xre(r,T)],tooltipPosition:{x:L+$/2,y:U+q/2}})});return Ui({data:E,layout:m},p)});function K2(t){"@babel/helpers - typeof";return K2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K2(t)}function ZVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kne(n.key),n)}}function QVe(t,e,r){return e&&fz(t.prototype,e),r&&fz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pz(Object(r),!0).forEach(function(n){JC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JC(t,e,r){return e=kne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kne(t){var e=JVe(t,"string");return K2(e)=="symbol"?e:e+""}function JVe(t,e){if(K2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(K2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pne=function(e,r,n,s,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!ic(u,cx);return d.reduce(function(f,m){var g=r[m],y=g.orientation,x=g.domain,w=g.padding,S=w===void 0?{}:w,N=g.mirror,C=g.reversed,A="".concat(y).concat(N?"Mirror":""),k,E,T,R,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var L=x[1]-x[0],U=1/0,$=g.categoricalDomain.sort(uPe);if($.forEach(function(ie,he){he>0&&(U=Math.min((ie||0)-($[he-1]||0),U))}),Number.isFinite(U)){var q=U/L,G=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(k=q*G/2),g.padding==="no-gap"){var W=nl(e.barCategoryGap,q*G),B=q*G/2;k=B-W-(B-W)/G*W}}}s==="xAxis"?E=[n.left+(S.left||0)+(k||0),n.left+n.width-(S.right||0)-(k||0)]:s==="yAxis"?E=c==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(k||0),n.top+n.height-(S.bottom||0)-(k||0)]:E=g.range,C&&(E=[E[1],E[0]]);var O=Hre(g,a,p),K=O.scale,Y=O.realScaleType;K.domain(x).range(E),Vre(K);var D=qre(K,hd(hd({},g),{},{realScaleType:Y}));s==="xAxis"?(I=y==="top"&&!N||y==="bottom"&&N,T=n.left,R=h[A]-I*g.height):s==="yAxis"&&(I=y==="left"&&!N||y==="right"&&N,T=h[A]-I*g.width,R=n.top);var Z=hd(hd(hd({},g),D),{},{realScaleType:Y,x:T,y:R,scale:K,width:s==="xAxis"?n.width:g.width,height:s==="yAxis"?n.height:g.height});return Z.bandSize=h4(Z,D),!g.hide&&s==="xAxis"?h[A]+=(I?-1:1)*Z.height:g.hide||(h[A]+=(I?-1:1)*Z.width),hd(hd({},f),{},JC({},m,Z))},{})},Ene=function(e,r){var n=e.x,s=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(s,o),width:Math.abs(a-n),height:Math.abs(o-s)}},eqe=function(e){var r=e.x1,n=e.y1,s=e.x2,a=e.y2;return Ene({x:r,y:n},{x:s,y:a})},Tne=function(){function t(e){ZVe(this,t),this.scale=e}return QVe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])}();JC(Tne,"EPS",1e-4);var GO=function(e){var r=Object.keys(e).reduce(function(n,s){return hd(hd({},n),{},JC({},s,Tne.create(e[s])))},{});return hd(hd({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return bVe(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Nne(s,function(a,o){return r[o].isInRange(a)})}})};function tqe(t){return(t%180+180)%180}var rqe=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=tqe(s),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},nqe=Ah,sqe=Lw,iqe=TC;function aqe(t){return function(e,r,n){var s=Object(e);if(!sqe(e)){var a=nqe(r);e=iqe(e),r=function(l){return a(s[l],l,s)}}var o=t(e,r,n);return o>-1?s[a?e[o]:o]:void 0}}var oqe=aqe,lqe=bne;function cqe(t){var e=lqe(t),r=e%1;return e===e?r?e-r:e:0}var uqe=cqe,dqe=Cte,hqe=Ah,fqe=uqe,pqe=Math.max;function mqe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var s=r==null?0:fqe(r);return s<0&&(s=pqe(n+s,0)),dqe(t,hqe(e),s)}var gqe=mqe,xqe=oqe,yqe=gqe,vqe=xqe(yqe),bqe=vqe;const wqe=On(bqe);var jqe=fke(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),HO=b.createContext(void 0),VO=b.createContext(void 0),Ine=b.createContext(void 0),Mne=b.createContext({}),One=b.createContext(void 0),Lne=b.createContext(0),Rne=b.createContext(0),mz=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=jqe(a);return xe.createElement(HO.Provider,{value:n},xe.createElement(VO.Provider,{value:s},xe.createElement(Mne.Provider,{value:a},xe.createElement(Ine.Provider,{value:d},xe.createElement(One.Provider,{value:o},xe.createElement(Lne.Provider,{value:u},xe.createElement(Rne.Provider,{value:c},l)))))))},Sqe=function(){return b.useContext(One)},Dne=function(e){var r=b.useContext(HO);r==null&&Ug();var n=r[e];return n==null&&Ug(),n},Nqe=function(){var e=b.useContext(HO);return gp(e)},Cqe=function(){var e=b.useContext(VO),r=wqe(e,function(n){return Nne(n.domain,Number.isFinite)});return r||gp(e)},Fne=function(e){var r=b.useContext(VO);r==null&&Ug();var n=r[e];return n==null&&Ug(),n},_qe=function(){var e=b.useContext(Ine);return e},Aqe=function(){return b.useContext(Mne)},qO=function(){return b.useContext(Rne)},YO=function(){return b.useContext(Lne)};function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function kqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$ne(n.key),n)}}function Eqe(t,e,r){return e&&Pqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tqe(t,e,r){return e=T4(e),Iqe(t,Bne()?Reflect.construct(e,r||[],T4(t).constructor):e.apply(t,r))}function Iqe(t,e){if(e&&(Py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mqe(t)}function Mqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bne=function(){return!!t})()}function T4(t){return T4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T4(t)}function Oqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},EE(t,e)}function gz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function xz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gz(Object(r),!0).forEach(function(n){XO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XO(t,e,r){return e=$ne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ne(t){var e=Lqe(t,"string");return Py(e)=="symbol"?e:e+""}function Lqe(t,e){if(Py(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rqe(t,e){return $qe(t)||Bqe(t,e)||Fqe(t,e)||Dqe()}function Dqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fqe(t,e){if(t){if(typeof t=="string")return yz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yz(t,e)}}function yz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function $qe(t){if(Array.isArray(t))return t}function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TE.apply(this,arguments)}var zqe=function(e,r){var n;return xe.isValidElement(e)?n=xe.cloneElement(e,r):Hr(e)?n=e(r):n=xe.createElement("line",TE({},r,{className:"recharts-reference-line-line"})),n},Uqe=function(e,r,n,s,a,o,l,c,u){var d=a.x,h=a.y,p=a.width,f=a.height;if(n){var m=u.y,g=e.y.apply(m,{position:o});if(mh(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:d+p,y:g},{x:d,y:g}];return c==="left"?y.reverse():y}if(r){var x=u.x,w=e.x.apply(x,{position:o});if(mh(u,"discard")&&!e.x.isInRange(w))return null;var S=[{x:w,y:h+f},{x:w,y:h}];return l==="top"?S.reverse():S}if(s){var N=u.segment,C=N.map(function(A){return e.apply(A,{position:o})});return mh(u,"discard")&&hVe(C,function(A){return!e.isInRange(A)})?null:C}return null};function Wqe(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Sqe(),d=Dne(s),h=Fne(a),p=_qe();if(!u||!p)return null;wd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=GO({x:d.scale,y:h.scale}),m=da(e),g=da(r),y=n&&n.length===2,x=Uqe(f,m,g,y,p,t.position,d.orientation,h.orientation,t);if(!x)return null;var w=Rqe(x,2),S=w[0],N=S.x,C=S.y,A=w[1],k=A.x,E=A.y,T=mh(t,"hidden")?"url(#".concat(u,")"):void 0,R=xz(xz({clipPath:T},Br(t,!0)),{},{x1:N,y1:C,x2:k,y2:E});return xe.createElement(Wn,{className:nn("recharts-reference-line",l)},zqe(o,R),Oa.renderCallByParent(t,eqe({x1:N,y1:C,x2:k,y2:E})))}var KO=function(t){function e(){return kqe(this,e),Tqe(this,e,arguments)}return Oqe(e,t),Eqe(e,[{key:"render",value:function(){return xe.createElement(Wqe,this.props)}}])}(xe.Component);XO(KO,"displayName","ReferenceLine");XO(KO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IE.apply(this,arguments)}function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function vz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(r),!0).forEach(function(n){e_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Une(n.key),n)}}function Vqe(t,e,r){return e&&Hqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qqe(t,e,r){return e=I4(e),Yqe(t,zne()?Reflect.construct(e,r||[],I4(t).constructor):e.apply(t,r))}function Yqe(t,e){if(e&&(Ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xqe(t)}function Xqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zne=function(){return!!t})()}function I4(t){return I4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I4(t)}function Kqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}function ME(t,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ME(t,e)}function e_(t,e,r){return e=Une(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Une(t){var e=Zqe(t,"string");return Ey(e)=="symbol"?e:e+""}function Zqe(t,e){if(Ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qqe=function(e){var r=e.x,n=e.y,s=e.xAxis,a=e.yAxis,o=GO({x:s.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return mh(e,"discard")&&!o.isInRange(l)?null:l},t_=function(t){function e(){return Gqe(this,e),qqe(this,e,arguments)}return Kqe(e,t),Vqe(e,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=da(s),d=da(a);if(wd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=Qqe(this.props);if(!h)return null;var p=h.x,f=h.y,m=this.props,g=m.shape,y=m.className,x=mh(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=bz(bz({clipPath:x},Br(this.props,!0)),{},{cx:p,cy:f});return xe.createElement(Wn,{className:nn("recharts-reference-dot",y)},e.renderDot(g,w),Oa.renderCallByParent(this.props,{x:p-o,y:f-o,width:2*o,height:2*o}))}}])}(xe.Component);e_(t_,"displayName","ReferenceDot");e_(t_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});e_(t_,"renderDot",function(t,e){var r;return xe.isValidElement(t)?r=xe.cloneElement(t,e):Hr(t)?r=t(e):r=xe.createElement(VC,IE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OE.apply(this,arguments)}function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(r),!0).forEach(function(n){r_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eYe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gne(n.key),n)}}function tYe(t,e,r){return e&&eYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rYe(t,e,r){return e=M4(e),nYe(t,Wne()?Reflect.construct(e,r||[],M4(t).constructor):e.apply(t,r))}function nYe(t,e){if(e&&(Ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sYe(t)}function sYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wne=function(){return!!t})()}function M4(t){return M4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M4(t)}function iYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LE(t,e)}function LE(t,e){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},LE(t,e)}function r_(t,e,r){return e=Gne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gne(t){var e=aYe(t,"string");return Ty(e)=="symbol"?e:e+""}function aYe(t,e){if(Ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oYe=function(e,r,n,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var p=GO({x:d.scale,y:h.scale}),f={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},m={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(u,{position:"end"}):p.y.rangeMax};return mh(a,"discard")&&(!p.isInRange(f)||!p.isInRange(m))?null:Ene(f,m)},n_=function(t){function e(){return Jqe(this,e),rYe(this,e,arguments)}return iYe(e,t),tYe(e,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;wd(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=da(s),p=da(a),f=da(o),m=da(l),g=this.props.shape;if(!h&&!p&&!f&&!m&&!g)return null;var y=oYe(h,p,f,m,this.props);if(!y&&!g)return null;var x=mh(this.props,"hidden")?"url(#".concat(d,")"):void 0;return xe.createElement(Wn,{className:nn("recharts-reference-area",c)},e.renderRect(g,jz(jz({clipPath:x},Br(this.props,!0)),y)),Oa.renderCallByParent(this.props,y))}}])}(xe.Component);r_(n_,"displayName","ReferenceArea");r_(n_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});r_(n_,"renderRect",function(t,e){var r;return xe.isValidElement(t)?r=xe.cloneElement(t,e):Hr(t)?r=t(e):r=xe.createElement(WO,OE({},e,{className:"recharts-reference-area-rect"})),r});function Hne(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function lYe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return rqe(n,r)}function cYe(t,e,r){var n=r==="width",s=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?s:a,end:n?s+o:a+l}:{start:n?s+o:a+l,end:n?s:a}}function O4(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-s)<=0}function uYe(t,e){return Hne(t,e+1)}function dYe(t,e,r,n,s){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,h=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:Hne(n,u)};var g=c,y,x=function(){return y===void 0&&(y=r(m,g)),y},w=m.coordinate,S=c===0||O4(t,w,x,d,l);S||(c=0,d=o,u+=1),S&&(d=w+t*(x()/2+s),c+=u)},p;u<=a.length;)if(p=h(),p)return p.v;return[]}function Z2(t){"@babel/helpers - typeof";return Z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z2(t)}function Sz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ko(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(r),!0).forEach(function(n){hYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hYe(t,e,r){return e=fYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fYe(t){var e=pYe(t,"string");return Z2(e)=="symbol"?e:e+""}function pYe(t,e){if(Z2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Z2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mYe(t,e,r,n,s){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(p){var f=a[p],m,g=function(){return m===void 0&&(m=r(f,p)),m};if(p===o-1){var y=t*(f.coordinate+t*g()/2-c);a[p]=f=ko(ko({},f),{},{tickCoord:y>0?f.coordinate-y*t:f.coordinate})}else a[p]=f=ko(ko({},f),{},{tickCoord:f.coordinate});var x=O4(t,f.tickCoord,g,l,c);x&&(c=f.tickCoord-t*(g()/2+s),a[p]=ko(ko({},f),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function gYe(t,e,r,n,s,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=n[l-1],h=r(d,l-1),p=t*(d.coordinate+t*h/2-u);o[l-1]=d=ko(ko({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate});var f=O4(t,d.tickCoord,function(){return h},c,u);f&&(u=d.tickCoord-t*(h/2+s),o[l-1]=ko(ko({},d),{},{isShow:!0}))}for(var m=a?l-1:l,g=function(w){var S=o[w],N,C=function(){return N===void 0&&(N=r(S,w)),N};if(w===0){var A=t*(S.coordinate-t*C()/2-c);o[w]=S=ko(ko({},S),{},{tickCoord:A<0?S.coordinate-A*t:S.coordinate})}else o[w]=S=ko(ko({},S),{},{tickCoord:S.coordinate});var k=O4(t,S.tickCoord,C,c,u);k&&(c=S.tickCoord+t*(C()/2+s),o[w]=ko(ko({},S),{},{isShow:!0}))},y=0;y<m;y++)g(y);return o}function ZO(t,e,r){var n=t.tick,s=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!s||!s.length||!n)return[];if(Wt(c)||ix.isSsr)return uYe(s,typeof c=="number"&&Wt(c)?c:0);var p=[],f=l==="top"||l==="bottom"?"width":"height",m=d&&f==="width"?vb(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(S,N){var C=Hr(u)?u(S.value,N):S.value;return f==="width"?lYe(vb(C,{fontSize:e,letterSpacing:r}),m,h):vb(C,{fontSize:e,letterSpacing:r})[f]},y=s.length>=2?rl(s[1].coordinate-s[0].coordinate):1,x=cYe(a,y,f);return c==="equidistantPreserveStart"?dYe(y,x,g,s,o):(c==="preserveStart"||c==="preserveStartEnd"?p=gYe(y,x,g,s,o,c==="preserveStartEnd"):p=mYe(y,x,g,s,o),p.filter(function(w){return w.isShow}))}var xYe=["viewBox"],yYe=["viewBox"],vYe=["ticks"];function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x0.apply(this,arguments)}function Nz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(r),!0).forEach(function(n){QO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kk(t,e){if(t==null)return{};var r=bYe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bYe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qne(n.key),n)}}function jYe(t,e,r){return e&&Cz(t.prototype,e),r&&Cz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SYe(t,e,r){return e=L4(e),NYe(t,Vne()?Reflect.construct(e,r||[],L4(t).constructor):e.apply(t,r))}function NYe(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CYe(t)}function CYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vne=function(){return!!t})()}function L4(t){return L4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L4(t)}function _Ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RE(t,e)}function RE(t,e){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},RE(t,e)}function QO(t,e,r){return e=qne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qne(t){var e=AYe(t,"string");return Iy(e)=="symbol"?e:e+""}function AYe(t,e){if(Iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jv=function(t){function e(r){var n;return wYe(this,e),n=SYe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return _Ye(e,t),jYe(e,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,o=kk(n,xYe),l=this.props,c=l.viewBox,u=kk(l,yYe);return!M0(a,c)||!M0(o,u)||!M0(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,h=s.mirror,p=s.tickMargin,f,m,g,y,x,w,S=h?-1:1,N=n.tickSize||d,C=Wt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":f=m=n.coordinate,y=o+ +!h*c,g=y-S*N,w=g-S*p,x=C;break;case"left":g=y=n.coordinate,m=a+ +!h*l,f=m-S*N,x=f-S*p,w=C;break;case"right":g=y=n.coordinate,m=a+ +h*l,f=m+S*N,x=f+S*p,w=C;break;default:f=m=n.coordinate,y=o+ +h*c,g=y+S*N,w=g+S*p,x=C;break}return{line:{x1:f,y1:g,x2:m,y2:y},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=na(na(na({},Br(this.props,!1)),Br(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);h=na(na({},h),{},{x1:s,y1:a+p*l,x2:s+o,y2:a+p*l})}else{var f=+(c==="left"&&!u||c==="right"&&u);h=na(na({},h),{},{x1:s+f*o,y1:a,x2:s+f*o,y2:a+l})}return xe.createElement("line",x0({},h,{className:nn("recharts-cartesian-axis-line",Sc(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,p=l.unit,f=ZO(na(na({},this.props),{},{ticks:n}),s,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Br(this.props,!1),x=Br(d,!1),w=na(na({},y),{},{fill:"none"},Br(c,!1)),S=f.map(function(N,C){var A=o.getTickLineCoord(N),k=A.line,E=A.tick,T=na(na(na(na({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:u},x),E),{},{index:C,payload:N,visibleTicksCount:f.length,tickFormatter:h});return xe.createElement(Wn,x0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Bg(o.props,N,C)),c&&xe.createElement("line",x0({},w,k,{className:nn("recharts-cartesian-axis-tick-line",Sc(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(Hr(h)?h(N.value,C):N.value).concat(p||"")))});return xe.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var h=this.props,p=h.ticks,f=kk(h,vYe),m=p;return Hr(c)&&(m=p&&p.length>0?c(this.props):c(f)),o<=0||l<=0||!m||!m.length?null:xe.createElement(Wn,{className:nn("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Oa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var o,l=nn(s.className,"recharts-cartesian-axis-tick-value");return xe.isValidElement(n)?o=xe.cloneElement(n,na(na({},s),{},{className:l})):Hr(n)?o=n(na(na({},s),{},{className:l})):o=xe.createElement($g,x0({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(b.Component);QO(jv,"displayName","CartesianAxis");QO(jv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kYe=["x1","y1","x2","y2","key"],PYe=["offset"];function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function _z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Oo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(r),!0).forEach(function(n){EYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EYe(t,e,r){return e=TYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TYe(t){var e=IYe(t,"string");return Wg(e)=="symbol"?e:e+""}function IYe(t,e){if(Wg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lg.apply(this,arguments)}function Az(t,e){if(t==null)return{};var r=MYe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MYe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var OYe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return xe.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Yne(t,e){var r;if(xe.isValidElement(t))r=xe.cloneElement(t,e);else if(Hr(t))r=t(e);else{var n=e.x1,s=e.y1,a=e.x2,o=e.y2,l=e.key,c=Az(e,kYe),u=Br(c,!1);u.offset;var d=Az(u,PYe);r=xe.createElement("line",lg({},d,{x1:n,y1:s,x2:a,y2:o,fill:"none",key:l}))}return r}function LYe(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,a=t.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=Oo(Oo({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return Yne(s,u)});return xe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function RYe(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,a=t.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=Oo(Oo({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return Yne(s,u)});return xe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function DYe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(p){return Math.round(p+s-s)}).sort(function(p,f){return p-f});s!==d[0]&&d.unshift(0);var h=d.map(function(p,f){var m=!d[f+1],g=m?s+o-p:d[f+1]-p;if(g<=0)return null;var y=f%e.length;return xe.createElement("rect",{key:"react-".concat(f),y:p,x:n,height:g,width:a,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function FYe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,f){return p-f});a!==d[0]&&d.unshift(0);var h=d.map(function(p,f){var m=!d[f+1],g=m?a+l-p:d[f+1]-p;if(g<=0)return null;var y=f%n.length;return xe.createElement("rect",{key:"react-".concat(f),x:p,y:o,width:g,height:c,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var BYe=function(e,r){var n=e.xAxis,s=e.width,a=e.height,o=e.offset;return Gre(ZO(Oo(Oo(Oo({},jv.defaultProps),n),{},{ticks:of(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,r)},$Ye=function(e,r){var n=e.yAxis,s=e.width,a=e.height,o=e.offset;return Gre(ZO(Oo(Oo(Oo({},jv.defaultProps),n),{},{ticks:of(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,r)},Gx={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function SS(t){var e,r,n,s,a,o,l=qO(),c=YO(),u=Aqe(),d=Oo(Oo({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Gx.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Gx.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Gx.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:Gx.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Gx.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Gx.verticalFill,x:Wt(t.x)?t.x:u.left,y:Wt(t.y)?t.y:u.top,width:Wt(t.width)?t.width:u.width,height:Wt(t.height)?t.height:u.height}),h=d.x,p=d.y,f=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,x=d.verticalValues,w=Nqe(),S=Cqe();if(!Wt(f)||f<=0||!Wt(m)||m<=0||!Wt(h)||h!==+h||!Wt(p)||p!==+p)return null;var N=d.verticalCoordinatesGenerator||BYe,C=d.horizontalCoordinatesGenerator||$Ye,A=d.horizontalPoints,k=d.verticalPoints;if((!A||!A.length)&&Hr(C)){var E=y&&y.length,T=C({yAxis:S?Oo(Oo({},S),{},{ticks:E?y:S.ticks}):void 0,width:l,height:c,offset:u},E?!0:g);wd(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wg(T),"]")),Array.isArray(T)&&(A=T)}if((!k||!k.length)&&Hr(N)){var R=x&&x.length,I=N({xAxis:w?Oo(Oo({},w),{},{ticks:R?x:w.ticks}):void 0,width:l,height:c,offset:u},R?!0:g);wd(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wg(I),"]")),Array.isArray(I)&&(k=I)}return xe.createElement("g",{className:"recharts-cartesian-grid"},xe.createElement(OYe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),xe.createElement(LYe,lg({},d,{offset:u,horizontalPoints:A,xAxis:w,yAxis:S})),xe.createElement(RYe,lg({},d,{offset:u,verticalPoints:k,xAxis:w,yAxis:S})),xe.createElement(DYe,lg({},d,{horizontalPoints:A})),xe.createElement(FYe,lg({},d,{verticalPoints:k})))}SS.displayName="CartesianGrid";var zYe=["type","layout","connectNulls","ref"],UYe=["key"];function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function kz(t,e){if(t==null)return{};var r=WYe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WYe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cb.apply(this,arguments)}function Pz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(r),!0).forEach(function(n){fd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hx(t){return qYe(t)||VYe(t)||HYe(t)||GYe()}function GYe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HYe(t,e){if(t){if(typeof t=="string")return DE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(t,e)}}function VYe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qYe(t){if(Array.isArray(t))return DE(t)}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ez(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kne(n.key),n)}}function XYe(t,e,r){return e&&Ez(t.prototype,e),r&&Ez(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KYe(t,e,r){return e=R4(e),ZYe(t,Xne()?Reflect.construct(e,r||[],R4(t).constructor):e.apply(t,r))}function ZYe(t,e){if(e&&(My(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QYe(t)}function QYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xne=function(){return!!t})()}function R4(t){return R4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R4(t)}function JYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FE(t,e)}function FE(t,e){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},FE(t,e)}function fd(t,e,r){return e=Kne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kne(t){var e=eXe(t,"string");return My(e)=="symbol"?e:e+""}function eXe(t,e){if(My(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oy=function(t){function e(){var r;YYe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=KYe(this,e,[].concat(s)),fd(r,"state",{isAnimationFinished:!0,totalLength:0}),fd(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),fd(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,w){return x+w});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,p=l-o,f=[],m=0,g=0;m<c.length;g+=c[m],++m)if(g+c[m]>h){f=[].concat(Hx(c.slice(0,m)),[h-g]);break}var y=f.length%2===0?[0,p]:[p];return[].concat(Hx(e.repeat(c,d)),Hx(f),y).map(function(x){return"".concat(x,"px")}).join(", ")}),fd(r,"id",mv("recharts-line-")),fd(r,"pathRef",function(o){r.mainCurve=o}),fd(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fd(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return JYe(e,t),XYe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=Nc(d,zw);if(!h)return null;var p=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:oa(g.payload,y)}},f={clipPath:n?"url(#clipPath-".concat(s,")"):null};return xe.createElement(Wn,f,h.map(function(m){return xe.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,s,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Br(this.props,!1),p=Br(c,!0),f=u.map(function(g,y){var x=tc(tc(tc({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,x)}),m={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return xe.createElement(Wn,Cb({className:"recharts-line-dots",key:"dots"},m),f)}},{key:"renderCurveStatically",value:function(n,s,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=kz(l,zYe),p=tc(tc(tc({},Br(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return xe.createElement(m4,Cb({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,p=o.animationEasing,f=o.animationId,m=o.animateNewValues,g=o.width,y=o.height,x=this.state,w=x.prevPoints,S=x.totalLength;return xe.createElement(wh,{begin:d,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var C=N.t;if(w){var A=w.length/l.length,k=l.map(function(L,U){var $=Math.floor(U*A);if(w[$]){var q=w[$],G=cc(q.x,L.x),W=cc(q.y,L.y);return tc(tc({},L),{},{x:G(C),y:W(C)})}if(m){var B=cc(g*2,L.x),O=cc(y/2,L.y);return tc(tc({},L),{},{x:B(C),y:O(C)})}return tc(tc({},L),{},{x:L.x,y:L.y})});return a.renderCurveStatically(k,n,s)}var E=cc(0,S),T=E(C),R;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});R=a.getStrokeDasharray(T,S,I)}else R=a.generateSimpleStrokeDasharray(S,T);return a.renderCurveStatically(l,n,s,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,s){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!$w(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,h=s.top,p=s.left,f=s.width,m=s.height,g=s.isAnimationActive,y=s.id;if(a||!l||!l.length)return null;var x=this.state.isAnimationFinished,w=l.length===1,S=nn("recharts-line",c),N=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,A=N||C,k=en(y)?this.id:y,E=(n=Br(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=E.r,R=T===void 0?3:T,I=E.strokeWidth,L=I===void 0?2:I,U=vPe(o)?o:{},$=U.clipDot,q=$===void 0?!0:$,G=R*2+L;return xe.createElement(Wn,{className:S},N||C?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(k)},xe.createElement("rect",{x:N?p:p-f/2,y:C?h:h-m/2,width:N?f:f*2,height:C?m:m*2})),!q&&xe.createElement("clipPath",{id:"clipPath-dots-".concat(k)},xe.createElement("rect",{x:p-G/2,y:h-G/2,width:f+G,height:m+G}))):null,!w&&this.renderCurve(A,k),this.renderErrorBar(A,k),(w||o)&&this.renderDots(A,q,k),(!g||x)&&mf.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var a=n.length%2!==0?[].concat(Hx(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(Hx(o),Hx(a));return o}},{key:"renderDotItem",value:function(n,s){var a;if(xe.isValidElement(n))a=xe.cloneElement(n,s);else if(Hr(n))a=n(s);else{var o=s.key,l=kz(s,UYe),c=nn("recharts-line-dot",typeof n!="boolean"?n.className:"");a=xe.createElement(VC,Cb({key:o},l,{className:c}))}return a}}])}(b.PureComponent);fd(Oy,"displayName","Line");fd(Oy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ix.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fd(Oy,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,h=c.map(function(p,f){var m=oa(p,o);return d==="horizontal"?{x:n$({axis:r,ticks:s,bandSize:l,entry:p,index:f}),y:en(m)?null:n.scale(m),value:m,payload:p}:{x:en(m)?null:r.scale(m),y:n$({axis:n,ticks:a,bandSize:l,entry:p,index:f}),value:m,payload:p}});return tc({points:h,layout:d},u)});function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function tXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rXe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jne(n.key),n)}}function nXe(t,e,r){return e&&rXe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sXe(t,e,r){return e=D4(e),iXe(t,Zne()?Reflect.construct(e,r||[],D4(t).constructor):e.apply(t,r))}function iXe(t,e){if(e&&(Ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aXe(t)}function aXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zne=function(){return!!t})()}function D4(t){return D4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D4(t)}function oXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BE(t,e)}function BE(t,e){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},BE(t,e)}function Qne(t,e,r){return e=Jne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jne(t){var e=lXe(t,"string");return Ly(e)=="symbol"?e:e+""}function lXe(t,e){if(Ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$E.apply(this,arguments)}function cXe(t){var e=t.xAxisId,r=qO(),n=YO(),s=Dne(e);return s==null?null:b.createElement(jv,$E({},s,{className:nn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return of(o,!0)}}))}var bg=function(t){function e(){return tXe(this,e),sXe(this,e,arguments)}return oXe(e,t),nXe(e,[{key:"render",value:function(){return b.createElement(cXe,this.props)}}])}(b.Component);Qne(bg,"displayName","XAxis");Qne(bg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function uXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dXe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rse(n.key),n)}}function hXe(t,e,r){return e&&dXe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fXe(t,e,r){return e=F4(e),pXe(t,ese()?Reflect.construct(e,r||[],F4(t).constructor):e.apply(t,r))}function pXe(t,e){if(e&&(Ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mXe(t)}function mXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ese(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ese=function(){return!!t})()}function F4(t){return F4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F4(t)}function gXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zE(t,e)}function tse(t,e,r){return e=rse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rse(t){var e=xXe(t,"string");return Ry(e)=="symbol"?e:e+""}function xXe(t,e){if(Ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UE.apply(this,arguments)}var yXe=function(e){var r=e.yAxisId,n=qO(),s=YO(),a=Fne(r);return a==null?null:b.createElement(jv,UE({},a,{className:nn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return of(l,!0)}}))},wg=function(t){function e(){return uXe(this,e),fXe(this,e,arguments)}return gXe(e,t),hXe(e,[{key:"render",value:function(){return b.createElement(yXe,this.props)}}])}(b.Component);tse(wg,"displayName","YAxis");tse(wg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Tz(t){return jXe(t)||wXe(t)||bXe(t)||vXe()}function vXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bXe(t,e){if(t){if(typeof t=="string")return WE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WE(t,e)}}function wXe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jXe(t){if(Array.isArray(t))return WE(t)}function WE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var GE=function(e,r,n,s,a){var o=Nc(e,KO),l=Nc(e,t_),c=[].concat(Tz(o),Tz(l)),u=Nc(e,n_),d="".concat(s,"Id"),h=s[0],p=r;if(c.length&&(p=c.reduce(function(g,y){if(y.props[d]===n&&mh(y.props,"extendDomain")&&Wt(y.props[h])){var x=y.props[h];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},p)),u.length){var f="".concat(h,"1"),m="".concat(h,"2");p=u.reduce(function(g,y){if(y.props[d]===n&&mh(y.props,"extendDomain")&&Wt(y.props[f])&&Wt(y.props[m])){var x=y.props[f],w=y.props[m];return[Math.min(g[0],x,w),Math.max(g[1],x,w)]}return g},p)}return a&&a.length&&(p=a.reduce(function(g,y){return Wt(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},p)),p},nse={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new s(d,h||c,p),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],f]:c._events[m].push(f):(c._events[m]=f,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,f=h.length,m=new Array(f);p<f;p++)m[p]=h[p].fn;return m},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,f,m){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,w,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,p),!0;case 5:return y.fn.call(y.context,d,h,p,f),!0;case 6:return y.fn.call(y.context,d,h,p,f,m),!0}for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];y.fn.apply(y.context,w)}else{var N=y.length,C;for(S=0;S<N;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),x){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,h);break;case 4:y[S].fn.call(y[S].context,d,h,p);break;default:if(!w)for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];y[S].fn.apply(y[S].context,w)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var f=r?r+u:u;if(!this._events[f])return this;if(!d)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===d&&(!p||m.once)&&(!h||m.context===h)&&o(this,f);else{for(var g=0,y=[],x=m.length;g<x;g++)(m[g].fn!==d||p&&!m[g].once||h&&m[g].context!==h)&&y.push(m[g]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(nse);var SXe=nse.exports;const NXe=On(SXe);var Pk=new NXe,Ek="recharts.syncMouseEvents";function Q2(t){"@babel/helpers - typeof";return Q2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q2(t)}function CXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Xe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sse(n.key),n)}}function AXe(t,e,r){return e&&_Xe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tk(t,e,r){return e=sse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sse(t){var e=kXe(t,"string");return Q2(e)=="symbol"?e:e+""}function kXe(t,e){if(Q2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Q2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PXe=function(){function t(){CXe(this,t),Tk(this,"activeIndex",0),Tk(this,"coordinateList",[]),Tk(this,"layout","horizontal")}return AXe(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,p=r.mouseHandlerCallback,f=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+c+u,p=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function EXe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&Wt(n)&&Wt(s))return!0}return!1}function TXe(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function ise(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,a=t.endAngle,o=As(e,r,n,s),l=As(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:a}}function IXe(t,e,r){var n,s,a,o;if(t==="horizontal")n=e.x,a=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,p=As(l,c,u,h),f=As(l,c,d,h);n=p.x,s=p.y,a=f.x,o=f.y}else return ise(e);return[{x:n,y:s},{x:a,y:o}]}function J2(t){"@babel/helpers - typeof";return J2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J2(t)}function Iz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function E5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(r),!0).forEach(function(n){MXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Iz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MXe(t,e,r){return e=OXe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OXe(t){var e=LXe(t,"string");return J2(e)=="symbol"?e:e+""}function LXe(t,e){if(J2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(J2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RXe(t){var e,r,n=t.element,s=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!a||!o||p!=="ScatterChart"&&s!=="axis")return null;var m,g=m4;if(p==="ScatterChart")m=o,g=eGe;else if(p==="BarChart")m=TXe(h,o,c,d),g=WO;else if(h==="radial"){var y=ise(o),x=y.cx,w=y.cy,S=y.radius,N=y.startAngle,C=y.endAngle;m={cx:x,cy:w,startAngle:N,endAngle:C,innerRadius:S,outerRadius:S},g=tne}else m={points:IXe(h,o,c)},g=m4;var A=E5(E5(E5(E5({stroke:"#ccc",pointerEvents:"none"},c),m),Br(f,!1)),{},{payload:l,payloadIndex:u,className:nn("recharts-tooltip-cursor",f.className)});return b.isValidElement(f)?b.cloneElement(f,A):b.createElement(g,A)}var DXe=["item"],FXe=["children","className","width","height","style","compact","title","desc"];function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y0.apply(this,arguments)}function Mz(t,e){return zXe(t)||$Xe(t,e)||ose(t,e)||BXe()}function BXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Xe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zXe(t){if(Array.isArray(t))return t}function Oz(t,e){if(t==null)return{};var r=UXe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UXe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GXe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lse(n.key),n)}}function HXe(t,e,r){return e&&GXe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VXe(t,e,r){return e=B4(e),qXe(t,ase()?Reflect.construct(e,r||[],B4(t).constructor):e.apply(t,r))}function qXe(t,e){if(e&&(Dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YXe(t)}function YXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ase(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ase=function(){return!!t})()}function B4(t){return B4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B4(t)}function XXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HE(t,e)}function HE(t,e){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},HE(t,e)}function Fy(t){return QXe(t)||ZXe(t)||ose(t)||KXe()}function KXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ose(t,e){if(t){if(typeof t=="string")return VE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VE(t,e)}}function ZXe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QXe(t){if(Array.isArray(t))return VE(t)}function VE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lz(Object(r),!0).forEach(function(n){zr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zr(t,e,r){return e=lse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lse(t){var e=JXe(t,"string");return Dy(e)=="symbol"?e:e+""}function JXe(t,e){if(Dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eKe={xAxis:["bottom","top"],yAxis:["left","right"]},tKe={width:"100%",height:"100%"},cse={x:0,y:0};function T5(t){return t}var rKe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},nKe=function(e,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=s.radius;return wt(wt(wt({},s),As(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return wt(wt(wt({},s),As(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return cse},s_=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Fy(l),Fy(u)):l},[]);return o.length>0?o:e&&e.length&&Wt(s)&&Wt(a)?e.slice(s,a+1):[]};function use(t){return t==="number"?[0,"auto"]:void 0}var qE=function(e,r,n,s){var a=e.graphicalItems,o=e.tooltipAxis,l=s_(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var f=h===void 0?l:h;p=FN(f,o.dataKey,s)}else p=h&&h[n]||l[n];return p?[].concat(Fy(c),[Xre(u,p)]):c},[])},Rz=function(e,r,n,s){var a=s||{x:e.chartX,y:e.chartY},o=rKe(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=b$e(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,p=qE(e,r,d,h),f=nKe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:p,activeCoordinate:f}}return null},sKe=function(e,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,p=e.stackOffset,f=Wre(d,a);return n.reduce(function(m,g){var y,x=g.type.defaultProps!==void 0?wt(wt({},g.type.defaultProps),g.props):g.props,w=x.type,S=x.dataKey,N=x.allowDataOverflow,C=x.allowDuplicatedCategory,A=x.scale,k=x.ticks,E=x.includeHidden,T=x[o];if(m[T])return m;var R=s_(e.data,{graphicalItems:s.filter(function(D){var Z,ie=o in D.props?D.props[o]:(Z=D.type.defaultProps)===null||Z===void 0?void 0:Z[o];return ie===T}),dataStartIndex:c,dataEndIndex:u}),I=R.length,L,U,$;EXe(x.domain,N,w)&&(L=oE(x.domain,null,N),f&&(w==="number"||A!=="auto")&&($=wb(R,S,"category")));var q=use(w);if(!L||L.length===0){var G,W=(G=x.domain)!==null&&G!==void 0?G:q;if(S){if(L=wb(R,S,w),w==="category"&&f){var B=cPe(L);C&&B?(U=L,L=_4(0,I)):C||(L=o$(W,L,g).reduce(function(D,Z){return D.indexOf(Z)>=0?D:[].concat(Fy(D),[Z])},[]))}else if(w==="category")C?L=L.filter(function(D){return D!==""&&!en(D)}):L=o$(W,L,g).reduce(function(D,Z){return D.indexOf(Z)>=0||Z===""||en(Z)?D:[].concat(Fy(D),[Z])},[]);else if(w==="number"){var O=C$e(R,s.filter(function(D){var Z,ie,he=o in D.props?D.props[o]:(Z=D.type.defaultProps)===null||Z===void 0?void 0:Z[o],J="hide"in D.props?D.props.hide:(ie=D.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return he===T&&(E||!J)}),S,a,d);O&&(L=O)}f&&(w==="number"||A!=="auto")&&($=wb(R,S,"category"))}else f?L=_4(0,I):l&&l[T]&&l[T].hasStack&&w==="number"?L=p==="expand"?[0,1]:Yre(l[T].stackGroups,c,u):L=Ure(R,s.filter(function(D){var Z=o in D.props?D.props[o]:D.type.defaultProps[o],ie="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return Z===T&&(E||!ie)}),w,d,!0);if(w==="number")L=GE(h,L,T,a,k),W&&(L=oE(W,L,N));else if(w==="category"&&W){var K=W,Y=L.every(function(D){return K.indexOf(D)>=0});Y&&(L=K)}}return wt(wt({},m),{},zr({},T,wt(wt({},x),{},{axisType:a,domain:L,categoricalDomain:$,duplicateDomain:U,originalDomain:(y=x.domain)!==null&&y!==void 0?y:q,isCategorical:f,layout:d})))},{})},iKe=function(e,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,p=s_(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),f=p.length,m=Wre(d,a),g=-1;return n.reduce(function(y,x){var w=x.type.defaultProps!==void 0?wt(wt({},x.type.defaultProps),x.props):x.props,S=w[o],N=use("number");if(!y[S]){g++;var C;return m?C=_4(0,f):l&&l[S]&&l[S].hasStack?(C=Yre(l[S].stackGroups,c,u),C=GE(h,C,S,a)):(C=oE(N,Ure(p,n.filter(function(A){var k,E,T=o in A.props?A.props[o]:(k=A.type.defaultProps)===null||k===void 0?void 0:k[o],R="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return T===S&&!R}),"number",d),s.defaultProps.allowDataOverflow),C=GE(h,C,S,a)),wt(wt({},y),{},zr({},S,wt(wt({axisType:a},s.defaultProps),{},{hide:!0,orientation:Sc(eKe,"".concat(a,".").concat(g%2),null),domain:C,originalDomain:N,isCategorical:m,layout:d})))}return y},{})},aKe=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(s,"Id"),p=Nc(d,a),f={};return p&&p.length?f=sKe(e,{axes:p,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(f=iKe(e,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),f},oKe=function(e){var r=gp(e),n=of(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:gO(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:h4(r,n)}},Dz=function(e){var r=e.children,n=e.defaultShowTooltip,s=ic(r,Ay),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},lKe=function(e){return!e||!e.length?!1:e.some(function(r){var n=ff(r&&r.type);return n&&n.indexOf("Bar")>=0})},Fz=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},cKe=function(e,r){var n=e.props,s=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,p=n.margin||{},f=ic(h,Ay),m=ic(h,O0),g=Object.keys(c).reduce(function(C,A){var k=c[A],E=k.orientation;return!k.mirror&&!k.hide?wt(wt({},C),{},zr({},E,C[E]+k.width)):C},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(C,A){var k=o[A],E=k.orientation;return!k.mirror&&!k.hide?wt(wt({},C),{},zr({},E,Sc(C,"".concat(E))+k.height)):C},{top:p.top||0,bottom:p.bottom||0}),x=wt(wt({},y),g),w=x.bottom;f&&(x.bottom+=f.props.height||Ay.defaultProps.height),m&&r&&(x=S$e(x,s,n,r));var S=u-x.left-x.right,N=d-x.top-x.bottom;return wt(wt({brushBottom:w},x),{},{width:Math.max(S,0),height:Math.max(N,0)})},uKe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},JO=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,a=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,p=function(x,w){var S=w.graphicalItems,N=w.stackGroups,C=w.offset,A=w.updateId,k=w.dataStartIndex,E=w.dataEndIndex,T=x.barSize,R=x.layout,I=x.barGap,L=x.barCategoryGap,U=x.maxBarSize,$=Fz(R),q=$.numericAxisName,G=$.cateAxisName,W=lKe(S),B=[];return S.forEach(function(O,K){var Y=s_(x.data,{graphicalItems:[O],dataStartIndex:k,dataEndIndex:E}),D=O.type.defaultProps!==void 0?wt(wt({},O.type.defaultProps),O.props):O.props,Z=D.dataKey,ie=D.maxBarSize,he=D["".concat(q,"Id")],J=D["".concat(G,"Id")],ae={},ne=c.reduce(function(Ie,He){var nt=w["".concat(He.axisType,"Map")],ft=D["".concat(He.axisType,"Id")];nt&&nt[ft]||He.axisType==="zAxis"||Ug();var Fe=nt[ft];return wt(wt({},Ie),{},zr(zr({},He.axisType,Fe),"".concat(He.axisType,"Ticks"),of(Fe)))},ae),se=ne[G],Q=ne["".concat(G,"Ticks")],re=N&&N[he]&&N[he].hasStack&&O$e(O,N[he].stackGroups),le=ff(O.type).indexOf("Bar")>=0,ve=h4(se,Q),fe=[],X=W&&w$e({barSize:T,stackGroups:N,totalSize:uKe(ne,G)});if(le){var ce,Pe,ke=en(ie)?U:ie,oe=(ce=(Pe=h4(se,Q,!0))!==null&&Pe!==void 0?Pe:ke)!==null&&ce!==void 0?ce:0;fe=j$e({barGap:I,barCategoryGap:L,bandSize:oe!==ve?oe:ve,sizeList:X[J],maxBarSize:ke}),oe!==ve&&(fe=fe.map(function(Ie){return wt(wt({},Ie),{},{position:wt(wt({},Ie.position),{},{offset:Ie.position.offset-oe/2})})}))}var Oe=O&&O.type&&O.type.getComposedData;Oe&&B.push({props:wt(wt({},Oe(wt(wt({},ne),{},{displayedData:Y,props:x,dataKey:Z,item:O,bandSize:ve,barPosition:fe,offset:C,stackedData:re,layout:R,dataStartIndex:k,dataEndIndex:E}))),{},zr(zr(zr({key:O.key||"item-".concat(K)},q,ne[q]),G,ne[G]),"animationId",A)),childIndex:jPe(O,x.children),item:O})}),B},f=function(x,w){var S=x.props,N=x.dataStartIndex,C=x.dataEndIndex,A=x.updateId;if(!eF({props:S}))return null;var k=S.children,E=S.layout,T=S.stackOffset,R=S.data,I=S.reverseStackOrder,L=Fz(E),U=L.numericAxisName,$=L.cateAxisName,q=Nc(k,n),G=I$e(R,q,"".concat(U,"Id"),"".concat($,"Id"),T,I),W=c.reduce(function(D,Z){var ie="".concat(Z.axisType,"Map");return wt(wt({},D),{},zr({},ie,aKe(S,wt(wt({},Z),{},{graphicalItems:q,stackGroups:Z.axisType===U&&G,dataStartIndex:N,dataEndIndex:C}))))},{}),B=cKe(wt(wt({},W),{},{props:S,graphicalItems:q}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(D){W[D]=d(S,W[D],B,D.replace("Map",""),r)});var O=W["".concat($,"Map")],K=oKe(O),Y=p(S,wt(wt({},W),{},{dataStartIndex:N,dataEndIndex:C,updateId:A,graphicalItems:q,stackGroups:G,offset:B}));return wt(wt({formattedGraphicalItems:Y,graphicalItems:q,offset:B,stackGroups:G},K),W)},m=function(y){function x(w){var S,N,C;return WXe(this,x),C=VXe(this,x,[w]),zr(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),zr(C,"accessibilityManager",new PXe),zr(C,"handleLegendBBoxUpdate",function(A){if(A){var k=C.state,E=k.dataStartIndex,T=k.dataEndIndex,R=k.updateId;C.setState(wt({legendBBox:A},f({props:C.props,dataStartIndex:E,dataEndIndex:T,updateId:R},wt(wt({},C.state),{},{legendBBox:A}))))}}),zr(C,"handleReceiveSyncEvent",function(A,k,E){if(C.props.syncId===A){if(E===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(k)}}),zr(C,"handleBrushChange",function(A){var k=A.startIndex,E=A.endIndex;if(k!==C.state.dataStartIndex||E!==C.state.dataEndIndex){var T=C.state.updateId;C.setState(function(){return wt({dataStartIndex:k,dataEndIndex:E},f({props:C.props,dataStartIndex:k,dataEndIndex:E,updateId:T},C.state))}),C.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),zr(C,"handleMouseEnter",function(A){var k=C.getMouseInfo(A);if(k){var E=wt(wt({},k),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var T=C.props.onMouseEnter;Hr(T)&&T(E,A)}}),zr(C,"triggeredAfterMouseMove",function(A){var k=C.getMouseInfo(A),E=k?wt(wt({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var T=C.props.onMouseMove;Hr(T)&&T(E,A)}),zr(C,"handleItemMouseEnter",function(A){C.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),zr(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),zr(C,"handleMouseMove",function(A){A.persist(),C.throttleTriggeredAfterMouseMove(A)}),zr(C,"handleMouseLeave",function(A){C.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};C.setState(k),C.triggerSyncEvent(k);var E=C.props.onMouseLeave;Hr(E)&&E(k,A)}),zr(C,"handleOuterEvent",function(A){var k=wPe(A),E=Sc(C.props,"".concat(k));if(k&&Hr(E)){var T,R;/.*touch.*/i.test(k)?R=C.getMouseInfo(A.changedTouches[0]):R=C.getMouseInfo(A),E((T=R)!==null&&T!==void 0?T:{},A)}}),zr(C,"handleClick",function(A){var k=C.getMouseInfo(A);if(k){var E=wt(wt({},k),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var T=C.props.onClick;Hr(T)&&T(E,A)}}),zr(C,"handleMouseDown",function(A){var k=C.props.onMouseDown;if(Hr(k)){var E=C.getMouseInfo(A);k(E,A)}}),zr(C,"handleMouseUp",function(A){var k=C.props.onMouseUp;if(Hr(k)){var E=C.getMouseInfo(A);k(E,A)}}),zr(C,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),zr(C,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseDown(A.changedTouches[0])}),zr(C,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseUp(A.changedTouches[0])}),zr(C,"handleDoubleClick",function(A){var k=C.props.onDoubleClick;if(Hr(k)){var E=C.getMouseInfo(A);k(E,A)}}),zr(C,"handleContextMenu",function(A){var k=C.props.onContextMenu;if(Hr(k)){var E=C.getMouseInfo(A);k(E,A)}}),zr(C,"triggerSyncEvent",function(A){C.props.syncId!==void 0&&Pk.emit(Ek,C.props.syncId,A,C.eventEmitterSymbol)}),zr(C,"applySyncEvent",function(A){var k=C.props,E=k.layout,T=k.syncMethod,R=C.state.updateId,I=A.dataStartIndex,L=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)C.setState(wt({dataStartIndex:I,dataEndIndex:L},f({props:C.props,dataStartIndex:I,dataEndIndex:L,updateId:R},C.state)));else if(A.activeTooltipIndex!==void 0){var U=A.chartX,$=A.chartY,q=A.activeTooltipIndex,G=C.state,W=G.offset,B=G.tooltipTicks;if(!W)return;if(typeof T=="function")q=T(B,A);else if(T==="value"){q=-1;for(var O=0;O<B.length;O++)if(B[O].value===A.activeLabel){q=O;break}}var K=wt(wt({},W),{},{x:W.left,y:W.top}),Y=Math.min(U,K.x+K.width),D=Math.min($,K.y+K.height),Z=B[q]&&B[q].value,ie=qE(C.state,C.props.data,q),he=B[q]?{x:E==="horizontal"?B[q].coordinate:Y,y:E==="horizontal"?D:B[q].coordinate}:cse;C.setState(wt(wt({},A),{},{activeLabel:Z,activeCoordinate:he,activePayload:ie,activeTooltipIndex:q}))}else C.setState(A)}),zr(C,"renderCursor",function(A){var k,E=C.state,T=E.isTooltipActive,R=E.activeCoordinate,I=E.activePayload,L=E.offset,U=E.activeTooltipIndex,$=E.tooltipAxisBandSize,q=C.getTooltipEventType(),G=(k=A.props.active)!==null&&k!==void 0?k:T,W=C.props.layout,B=A.key||"_recharts-cursor";return xe.createElement(RXe,{key:B,activeCoordinate:R,activePayload:I,activeTooltipIndex:U,chartName:r,element:A,isActive:G,layout:W,offset:L,tooltipAxisBandSize:$,tooltipEventType:q})}),zr(C,"renderPolarAxis",function(A,k,E){var T=Sc(A,"type.axisType"),R=Sc(C.state,"".concat(T,"Map")),I=A.type.defaultProps,L=I!==void 0?wt(wt({},I),A.props):A.props,U=R&&R[L["".concat(T,"Id")]];return b.cloneElement(A,wt(wt({},U),{},{className:nn(T,U.className),key:A.key||"".concat(k,"-").concat(E),ticks:of(U,!0)}))}),zr(C,"renderPolarGrid",function(A){var k=A.props,E=k.radialLines,T=k.polarAngles,R=k.polarRadius,I=C.state,L=I.radiusAxisMap,U=I.angleAxisMap,$=gp(L),q=gp(U),G=q.cx,W=q.cy,B=q.innerRadius,O=q.outerRadius;return b.cloneElement(A,{polarAngles:Array.isArray(T)?T:of(q,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(R)?R:of($,!0).map(function(K){return K.coordinate}),cx:G,cy:W,innerRadius:B,outerRadius:O,key:A.key||"polar-grid",radialLines:E})}),zr(C,"renderLegend",function(){var A=C.state.formattedGraphicalItems,k=C.props,E=k.children,T=k.width,R=k.height,I=C.props.margin||{},L=T-(I.left||0)-(I.right||0),U=$re({children:E,formattedGraphicalItems:A,legendWidth:L,legendContent:u});if(!U)return null;var $=U.item,q=Oz(U,DXe);return b.cloneElement($,wt(wt({},q),{},{chartWidth:T,chartHeight:R,margin:I,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),zr(C,"renderTooltip",function(){var A,k=C.props,E=k.children,T=k.accessibilityLayer,R=ic(E,oc);if(!R)return null;var I=C.state,L=I.isTooltipActive,U=I.activeCoordinate,$=I.activePayload,q=I.activeLabel,G=I.offset,W=(A=R.props.active)!==null&&A!==void 0?A:L;return b.cloneElement(R,{viewBox:wt(wt({},G),{},{x:G.left,y:G.top}),active:W,label:q,payload:W?$:[],coordinate:U,accessibilityLayer:T})}),zr(C,"renderBrush",function(A){var k=C.props,E=k.margin,T=k.data,R=C.state,I=R.offset,L=R.dataStartIndex,U=R.dataEndIndex,$=R.updateId;return b.cloneElement(A,{key:A.key||"_recharts-brush",onChange:_5(C.handleBrushChange,A.props.onChange),data:T,x:Wt(A.props.x)?A.props.x:I.left,y:Wt(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(E.bottom||0),width:Wt(A.props.width)?A.props.width:I.width,startIndex:L,endIndex:U,updateId:"brush-".concat($)})}),zr(C,"renderReferenceElement",function(A,k,E){if(!A)return null;var T=C,R=T.clipPathId,I=C.state,L=I.xAxisMap,U=I.yAxisMap,$=I.offset,q=A.type.defaultProps||{},G=A.props,W=G.xAxisId,B=W===void 0?q.xAxisId:W,O=G.yAxisId,K=O===void 0?q.yAxisId:O;return b.cloneElement(A,{key:A.key||"".concat(k,"-").concat(E),xAxis:L[B],yAxis:U[K],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:R})}),zr(C,"renderActivePoints",function(A){var k=A.item,E=A.activePoint,T=A.basePoint,R=A.childIndex,I=A.isRange,L=[],U=k.props.key,$=k.item.type.defaultProps!==void 0?wt(wt({},k.item.type.defaultProps),k.item.props):k.item.props,q=$.activeDot,G=$.dataKey,W=wt(wt({index:R,dataKey:G,cx:E.x,cy:E.y,r:4,fill:UO(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Br(q,!1)),BN(q));return L.push(x.renderActiveDot(q,W,"".concat(U,"-activePoint-").concat(R))),T?L.push(x.renderActiveDot(q,wt(wt({},W),{},{cx:T.x,cy:T.y}),"".concat(U,"-basePoint-").concat(R))):I&&L.push(null),L}),zr(C,"renderGraphicChild",function(A,k,E){var T=C.filterFormatItem(A,k,E);if(!T)return null;var R=C.getTooltipEventType(),I=C.state,L=I.isTooltipActive,U=I.tooltipAxis,$=I.activeTooltipIndex,q=I.activeLabel,G=C.props.children,W=ic(G,oc),B=T.props,O=B.points,K=B.isRange,Y=B.baseLine,D=T.item.type.defaultProps!==void 0?wt(wt({},T.item.type.defaultProps),T.item.props):T.item.props,Z=D.activeDot,ie=D.hide,he=D.activeBar,J=D.activeShape,ae=!!(!ie&&L&&W&&(Z||he||J)),ne={};R!=="axis"&&W&&W.props.trigger==="click"?ne={onClick:_5(C.handleItemMouseEnter,A.props.onClick)}:R!=="axis"&&(ne={onMouseLeave:_5(C.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:_5(C.handleItemMouseEnter,A.props.onMouseEnter)});var se=b.cloneElement(A,wt(wt({},T.props),ne));function Q(He){return typeof U.dataKey=="function"?U.dataKey(He.payload):null}if(ae)if($>=0){var re,le;if(U.dataKey&&!U.allowDuplicatedCategory){var ve=typeof U.dataKey=="function"?Q:"payload.".concat(U.dataKey.toString());re=FN(O,ve,q),le=K&&Y&&FN(Y,ve,q)}else re=O==null?void 0:O[$],le=K&&Y&&Y[$];if(J||he){var fe=A.props.activeIndex!==void 0?A.props.activeIndex:$;return[b.cloneElement(A,wt(wt(wt({},T.props),ne),{},{activeIndex:fe})),null,null]}if(!en(re))return[se].concat(Fy(C.renderActivePoints({item:T,activePoint:re,basePoint:le,childIndex:$,isRange:K})))}else{var X,ce=(X=C.getItemByXY(C.state.activeCoordinate))!==null&&X!==void 0?X:{graphicalItem:se},Pe=ce.graphicalItem,ke=Pe.item,oe=ke===void 0?A:ke,Oe=Pe.childIndex,Ie=wt(wt(wt({},T.props),ne),{},{activeIndex:Oe});return[b.cloneElement(oe,Ie),null,null]}return K?[se,null,null]:[se,null]}),zr(C,"renderCustomized",function(A,k,E){return b.cloneElement(A,wt(wt({key:"recharts-customized-".concat(E)},C.props),C.state))}),zr(C,"renderMap",{CartesianGrid:{handler:T5,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:T5},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:T5},YAxis:{handler:T5},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:mv("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Bte(C.triggeredAfterMouseMove,(N=w.throttleDelay)!==null&&N!==void 0?N:1e3/60),C.state={},C}return XXe(x,y),HXe(x,[{key:"componentDidMount",value:function(){var S,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,N=S.children,C=S.data,A=S.height,k=S.layout,E=ic(N,oc);if(E){var T=E.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,I=qE(this.state,C,T,R),L=this.state.tooltipTicks[T].coordinate,U=(this.state.offset.top+A)/2,$=k==="horizontal",q=$?{x:L,y:U}:{y:L,x:U},G=this.state.formattedGraphicalItems.find(function(B){var O=B.item;return O.type.name==="Scatter"});G&&(q=wt(wt({},q),G.props.points[T].tooltipPosition),I=G.props.points[T].tooltipPayload);var W={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:R,activePayload:I,activeCoordinate:q};this.setState(W),this.renderCursor(E),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var C,A;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){j8([ic(S.children,oc)],[ic(this.props.children,oc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=ic(this.props.children,oc);if(S&&typeof S.props.shared=="boolean"){var N=S.props.shared?"axis":"item";return l.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var N=this.container,C=N.getBoundingClientRect(),A=YRe(C),k={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},E=C.width/N.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,E);if(!T)return null;var R=this.state,I=R.xAxisMap,L=R.yAxisMap,U=this.getTooltipEventType(),$=Rz(this.state,this.props.data,this.props.layout,T);if(U!=="axis"&&I&&L){var q=gp(I).scale,G=gp(L).scale,W=q&&q.invert?q.invert(k.chartX):null,B=G&&G.invert?G.invert(k.chartY):null;return wt(wt({},k),{},{xValue:W,yValue:B},$)}return $?wt(wt({},k),$):null}},{key:"inRange",value:function(S,N){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,k=S/C,E=N/C;if(A==="horizontal"||A==="vertical"){var T=this.state.offset,R=k>=T.left&&k<=T.left+T.width&&E>=T.top&&E<=T.top+T.height;return R?{x:k,y:E}:null}var I=this.state,L=I.angleAxisMap,U=I.radiusAxisMap;if(L&&U){var $=gp(L);return u$({x:k,y:E},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,N=this.getTooltipEventType(),C=ic(S,oc),A={};C&&N==="axis"&&(C.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=BN(this.props,this.handleOuterEvent);return wt(wt({},k),A)}},{key:"addListener",value:function(){Pk.on(Ek,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Pk.removeListener(Ek,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,N,C){for(var A=this.state.formattedGraphicalItems,k=0,E=A.length;k<E;k++){var T=A[k];if(T.item===S||T.props.key===S.key||N===ff(T.item.type)&&C===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,N=this.state.offset,C=N.left,A=N.top,k=N.height,E=N.width;return xe.createElement("defs",null,xe.createElement("clipPath",{id:S},xe.createElement("rect",{x:C,y:A,height:k,width:E})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(N,C){var A=Mz(C,2),k=A[0],E=A[1];return wt(wt({},N),{},zr({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(N,C){var A=Mz(C,2),k=A[0],E=A[1];return wt(wt({},N),{},zr({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(S){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(S){var N=this.state,C=N.formattedGraphicalItems,A=N.activeItem;if(C&&C.length)for(var k=0,E=C.length;k<E;k++){var T=C[k],R=T.props,I=T.item,L=I.type.defaultProps!==void 0?wt(wt({},I.type.defaultProps),I.props):I.props,U=ff(I.type);if(U==="Bar"){var $=(R.data||[]).find(function(B){return OWe(S,B)});if($)return{graphicalItem:T,payload:$}}else if(U==="RadialBar"){var q=(R.data||[]).find(function(B){return u$(S,B)});if(q)return{graphicalItem:T,payload:q}}else if(ZC(T,A)||QC(T,A)||q2(T,A)){var G=jHe({graphicalItem:T,activeTooltipItem:A,itemData:L.data}),W=L.activeIndex===void 0?G:L.activeIndex;return{graphicalItem:wt(wt({},T),{},{childIndex:W}),payload:q2(T,A)?L.data[G]:T.props.data[G]}}}return null}},{key:"render",value:function(){var S=this;if(!eF(this))return null;var N=this.props,C=N.children,A=N.className,k=N.width,E=N.height,T=N.style,R=N.compact,I=N.title,L=N.desc,U=Oz(N,FXe),$=Br(U,!1);if(R)return xe.createElement(mz,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement(N8,y0({},$,{width:k,height:E,title:I,desc:L}),this.renderClipPath(),rF(C,this.renderMap)));if(this.props.accessibilityLayer){var q,G;$.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,$.role=(G=this.props.role)!==null&&G!==void 0?G:"application",$.onKeyDown=function(B){S.accessibilityManager.keyboardEvent(B)},$.onFocus=function(){S.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return xe.createElement(mz,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement("div",y0({className:nn("recharts-wrapper",A),style:wt({position:"relative",cursor:"default",width:k,height:E},T)},W,{ref:function(O){S.container=O}}),xe.createElement(N8,y0({},$,{width:k,height:E,title:I,desc:L,style:tKe}),this.renderClipPath(),rF(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);zr(m,"displayName",r),zr(m,"defaultProps",wt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),zr(m,"getDerivedStateFromProps",function(y,x){var w=y.dataKey,S=y.data,N=y.children,C=y.width,A=y.height,k=y.layout,E=y.stackOffset,T=y.margin,R=x.dataStartIndex,I=x.dataEndIndex;if(x.updateId===void 0){var L=Dz(y);return wt(wt(wt({},L),{},{updateId:0},f(wt(wt({props:y},L),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:S,prevWidth:C,prevHeight:A,prevLayout:k,prevStackOffset:E,prevMargin:T,prevChildren:N})}if(w!==x.prevDataKey||S!==x.prevData||C!==x.prevWidth||A!==x.prevHeight||k!==x.prevLayout||E!==x.prevStackOffset||!M0(T,x.prevMargin)){var U=Dz(y),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},q=wt(wt({},Rz(x,S,k)),{},{updateId:x.updateId+1}),G=wt(wt(wt({},U),$),q);return wt(wt(wt({},G),f(wt({props:y},G),x)),{},{prevDataKey:w,prevData:S,prevWidth:C,prevHeight:A,prevLayout:k,prevStackOffset:E,prevMargin:T,prevChildren:N})}if(!j8(N,x.prevChildren)){var W,B,O,K,Y=ic(N,Ay),D=Y&&(W=(B=Y.props)===null||B===void 0?void 0:B.startIndex)!==null&&W!==void 0?W:R,Z=Y&&(O=(K=Y.props)===null||K===void 0?void 0:K.endIndex)!==null&&O!==void 0?O:I,ie=D!==R||Z!==I,he=!en(S),J=he&&!ie?x.updateId:x.updateId+1;return wt(wt({updateId:J},f(wt(wt({props:y},x),{},{updateId:J,dataStartIndex:D,dataEndIndex:Z}),x)),{},{prevChildren:N,dataStartIndex:D,dataEndIndex:Z})}return null}),zr(m,"renderActiveDot",function(y,x,w){var S;return b.isValidElement(y)?S=b.cloneElement(y,x):Hr(y)?S=y(x):S=xe.createElement(VC,x),xe.createElement(Wn,{className:"recharts-active-dot",key:w},S)});var g=b.forwardRef(function(x,w){return xe.createElement(m,y0({},x,{ref:w}))});return g.displayName=m.displayName,g},Bz=JO({chartName:"LineChart",GraphicalChild:Oy,axisComponents:[{axisType:"xAxis",AxisComp:bg},{axisType:"yAxis",AxisComp:wg}],formatAxisMap:Pne}),dKe=JO({chartName:"BarChart",GraphicalChild:cx,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:bg},{axisType:"yAxis",AxisComp:wg}],formatAxisMap:Pne}),hKe=JO({chartName:"PieChart",GraphicalChild:Ff,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:KC},{axisType:"radiusAxis",AxisComp:YC}],formatAxisMap:G$e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const fKe=()=>{var W,B;const[t,e]=b.useState([]),[r,n]=b.useState(null),[s,a]=b.useState([]),[o,l]=b.useState(null),[c,u]=b.useState(""),[d,h]=b.useState(""),[p,f]=b.useState(""),[m,g]=b.useState("CREDIT"),[y,x]=b.useState(!1),[w,S]=b.useState(!1),[N,C]=b.useState(!1),[A,k]=b.useState(!0),[E,T]=b.useState(!0),{toast:R}=Uy();b.useEffect(()=>{I(),L()},[]);const I=async()=>{try{k(!0);const O=await I1.listWallets({search:c||void 0}),K=Array.isArray(O)?O:O.data||[];e(K)}catch(O){const K=O instanceof Error?O.message:"Failed to load wallets";R({title:"Error",description:K,variant:"destructive"})}finally{k(!1)}},L=async()=>{try{T(!0);const O=await I1.getStats();l(O)}catch(O){console.error("Failed to load stats:",O)}finally{T(!1)}},U=O=>{O.preventDefault(),I()},$=async()=>{if(!r||!d||!p){R({title:"Error",description:"Please fill all fields",variant:"destructive"});return}const O=parseFloat(d);if(isNaN(O)||O<=0){R({title:"Error",description:"Please enter a valid positive amount",variant:"destructive"});return}C(!0);try{const K=Math.round(O*100),Y=await I1.adjustBalance({userId:r.userId,direction:m,amountPaise:K,reason:p});R({title:"Success",description:`Successfully ${m.toLowerCase()}ed ${O.toFixed(2)}. New balance: ${Y.newBalanceRupees}`}),e(D=>D.map(Z=>Z.userId===r.userId?{...Z,balancePaise:Y.newBalancePaise,balanceRupees:Y.newBalanceRupees}:Z)),L(),h(""),f(""),x(!1)}catch(K){const Y=K instanceof Error?K.message:"Failed to adjust balance";R({title:"Error",description:Y,variant:"destructive"})}finally{C(!1)}},q=async O=>{n(O),S(!0);try{const K=await I1.getTransactions(O.userId,{limit:50}),Y=Array.isArray(K)?K:K.data||[];a(Y)}catch{R({title:"Error",description:"Failed to load transaction history",variant:"destructive"})}},G=(O,K)=>{n(O),g(K),x(!0)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(Ze,{children:i.jsx(Tt,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:i.jsx(xh,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Wallets"}),i.jsx("p",{className:"text-2xl font-bold",children:E?"...":(o==null?void 0:o.totalWallets)||0})]})]})})}),i.jsx(Ze,{children:i.jsx(Tt,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 rounded-full bg-green-500/10",children:i.jsx(vd,{className:"h-6 w-6 text-green-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Wallets"}),i.jsx("p",{className:"text-2xl font-bold",children:E?"...":(o==null?void 0:o.activeWallets)||0})]})]})})}),i.jsx(Ze,{children:i.jsx(Tt,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 rounded-full bg-blue-500/10",children:i.jsx(kf,{className:"h-6 w-6 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Balance"}),i.jsxs("p",{className:"text-2xl font-bold",children:["",E?"...":(o==null?void 0:o.totalBalanceRupees)||"0.00"]})]})]})})}),i.jsx(Ze,{children:i.jsx(Tt,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 rounded-full bg-orange-500/10",children:i.jsx(Cp,{className:"h-6 w-6 text-orange-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Top-ups"}),i.jsx("p",{className:"text-2xl font-bold",children:E?"...":((B=(W=o==null?void 0:o.transactionsByType)==null?void 0:W.TOPUP)==null?void 0:B.count)||0})]})]})})})]}),i.jsxs(Ze,{children:[i.jsx(yr,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(vr,{className:"flex items-center gap-2",children:[i.jsx(vd,{className:"h-5 w-5"}),"User Wallets"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("form",{onSubmit:U,className:"flex gap-2",children:[i.jsx(rt,{placeholder:"Search by email or name...",value:c,onChange:O=>u(O.target.value),className:"w-64"}),i.jsx(pe,{type:"submit",variant:"secondary",size:"icon",children:i.jsx(pl,{className:"h-4 w-4"})})]}),i.jsxs(pe,{variant:"outline",onClick:()=>{u(""),I()},children:[i.jsx(hh,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})}),i.jsx(Tt,{children:A?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(hh,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t.length===0?i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(vd,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),i.jsx("p",{children:"No wallets found"})]}):i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{children:"User"}),i.jsx(Rt,{children:"Balance"}),i.jsx(Rt,{children:"Status"}),i.jsx(Rt,{children:"Last Updated"}),i.jsx(Rt,{className:"text-right",children:"Actions"})]})}),i.jsx(Mo,{children:t.map(O=>i.jsxs(An,{children:[i.jsx(Lt,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:O.userName||"N/A"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:O.userEmail})]})}),i.jsx(Lt,{children:i.jsxs("span",{className:"font-bold text-lg",children:["",O.balanceRupees]})}),i.jsx(Lt,{children:i.jsx(Ot,{variant:O.status==="ACTIVE"?"default":"secondary",children:O.status})}),i.jsx(Lt,{className:"text-muted-foreground",children:new Date(O.updatedAt).toLocaleDateString()}),i.jsx(Lt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>G(O,"CREDIT"),children:[i.jsx(ha,{className:"h-3 w-3 mr-1"}),"Credit"]}),i.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>G(O,"DEBIT"),children:[i.jsx(iN,{className:"h-3 w-3 mr-1"}),"Debit"]}),i.jsxs(pe,{size:"sm",variant:"ghost",onClick:()=>q(O),children:[i.jsx(Cp,{className:"h-3 w-3 mr-1"}),"History"]})]})})]},O.id))})]})})]}),i.jsx(dl,{open:y,onOpenChange:x,children:i.jsxs(Fo,{children:[i.jsxs(Bo,{children:[i.jsx($o,{className:"flex items-center gap-2",children:m==="CREDIT"?i.jsxs(i.Fragment,{children:[i.jsx(ha,{className:"h-5 w-5 text-green-500"})," Credit Wallet"]}):i.jsxs(i.Fragment,{children:[i.jsx(iN,{className:"h-5 w-5 text-red-500"})," Debit Wallet"]})}),i.jsx(vh,{children:r&&i.jsxs("span",{children:["Adjusting wallet for ",i.jsx("strong",{children:r.userEmail}),i.jsx("br",{}),"Current balance: ",i.jsxs("strong",{children:["",r.balanceRupees]})]})})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"amount",children:"Amount ()"}),i.jsx(rt,{id:"amount",type:"number",min:"0.01",step:"0.01",placeholder:"0.00",value:d,onChange:O=>h(O.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"reason",children:"Reason (required for audit)"}),i.jsx(Ei,{id:"reason",placeholder:"e.g., Refund for order #123, Bonus credit, etc.",value:p,onChange:O=>f(O.target.value),rows:3})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(pe,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),i.jsx(pe,{onClick:$,disabled:N||!d||!p,className:m==="CREDIT"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:N?"Processing...":`${m==="CREDIT"?"Credit":"Debit"} ${d||"0"}`})]})]})}),i.jsx(dl,{open:w,onOpenChange:S,children:i.jsxs(Fo,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(Bo,{children:[i.jsxs($o,{className:"flex items-center gap-2",children:[i.jsx(Cp,{className:"h-5 w-5"}),"Transaction History"]}),i.jsx(vh,{children:r&&i.jsxs("span",{children:["Showing transactions for ",i.jsx("strong",{children:r.userEmail})]})})]}),s.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Cp,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),i.jsx("p",{children:"No transactions found"})]}):i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{children:"Date"}),i.jsx(Rt,{children:"Type"}),i.jsx(Rt,{children:"Description"}),i.jsx(Rt,{children:"Amount"}),i.jsx(Rt,{children:"Status"})]})}),i.jsx(Mo,{children:s.map(O=>i.jsxs(An,{children:[i.jsx(Lt,{className:"text-muted-foreground",children:new Date(O.createdAt).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"})}),i.jsx(Lt,{children:i.jsx(Ot,{variant:"outline",children:O.type})}),i.jsx(Lt,{className:"max-w-[200px] truncate",children:O.description}),i.jsx(Lt,{children:i.jsxs("span",{className:O.direction==="CREDIT"?"text-green-600":"text-red-600",children:[O.direction==="CREDIT"?"+":"-","",O.amountRupees]})}),i.jsx(Lt,{children:i.jsx(Ot,{variant:O.status==="SUCCESS"?"default":"secondary",className:O.status==="SUCCESS"?"bg-green-500":"",children:O.status})})]},O.id))})]})]})})]})};function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}var Ad=Uint8Array,gc=Uint16Array,e7=Int32Array,t7=new Ad([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r7=new Ad([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$z=new Ad([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dse=function(t,e){for(var r=new gc(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new e7(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return{b:r,r:s}},hse=dse(t7,2),pKe=hse.b,YE=hse.r;pKe[28]=258,YE[258]=28;var mKe=dse(r7,0),zz=mKe.r,XE=new gc(32768);for(var $s=0;$s<32768;++$s){var rp=($s&43690)>>1|($s&21845)<<1;rp=(rp&52428)>>2|(rp&13107)<<2,rp=(rp&61680)>>4|(rp&3855)<<4,XE[$s]=((rp&65280)>>8|(rp&255)<<8)>>1}var _b=function(t,e,r){for(var n=t.length,s=0,a=new gc(e);s<n;++s)t[s]&&++a[t[s]-1];var o=new gc(e);for(s=1;s<e;++s)o[s]=o[s-1]+a[s-1]<<1;var l;if(r){l=new gc(1<<e);var c=15-e;for(s=0;s<n;++s)if(t[s])for(var u=s<<4|t[s],d=e-t[s],h=o[t[s]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)l[XE[h]>>c]=u}else for(l=new gc(n),s=0;s<n;++s)t[s]&&(l[s]=XE[o[t[s]-1]++]>>15-t[s]);return l},Gg=new Ad(288);for(var $s=0;$s<144;++$s)Gg[$s]=8;for(var $s=144;$s<256;++$s)Gg[$s]=9;for(var $s=256;$s<280;++$s)Gg[$s]=7;for(var $s=280;$s<288;++$s)Gg[$s]=8;var $4=new Ad(32);for(var $s=0;$s<32;++$s)$4[$s]=5;var gKe=_b(Gg,9,0),xKe=_b($4,5,0),fse=function(t){return(t+7)/8|0},yKe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ad(t.subarray(e,r))},Vh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},_1=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Ik=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,a=r.slice();if(!s)return{t:mse,l:0};if(s==1){var o=new Ad(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(C,A){return C.f-A.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var p=a[0].s,n=1;n<s;++n)a[n].s>p&&(p=a[n].s);var f=new gc(p+1),m=KE(r[d-1],f,0);if(m>e){var n=0,g=0,y=m-e,x=1<<y;for(a.sort(function(A,k){return f[k.s]-f[A.s]||A.f-k.f});n<s;++n){var w=a[n].s;if(f[w]>e)g+=x-(1<<m-f[w]),f[w]=e;else break}for(g>>=y;g>0;){var S=a[n].s;f[S]<e?g-=1<<e-f[S]++-1:++n}for(;n>=0&&g;--n){var N=a[n].s;f[N]==e&&(--f[N],++g)}m=e}return{t:new Ad(f),l:m}},KE=function(t,e,r){return t.s==-1?Math.max(KE(t.l,e,r+1),KE(t.r,e,r+1)):e[t.s]=r},Uz=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new gc(++e),n=0,s=t[0],a=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==s&&l!=e)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[l]}return{c:r.subarray(0,n),n:e}},A1=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},pse=function(t,e,r){var n=r.length,s=fse(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var a=0;a<n;++a)t[s+a+4]=r[a];return(s+4+n)*8},Wz=function(t,e,r,n,s,a,o,l,c,u,d){Vh(e,d++,r),++s[256];for(var h=Ik(s,15),p=h.t,f=h.l,m=Ik(a,15),g=m.t,y=m.l,x=Uz(p),w=x.c,S=x.n,N=Uz(g),C=N.c,A=N.n,k=new gc(19),E=0;E<w.length;++E)++k[w[E]&31];for(var E=0;E<C.length;++E)++k[C[E]&31];for(var T=Ik(k,7),R=T.t,I=T.l,L=19;L>4&&!R[$z[L-1]];--L);var U=u+5<<3,$=A1(s,Gg)+A1(a,$4)+o,q=A1(s,p)+A1(a,g)+o+14+3*L+A1(k,R)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&U<=$&&U<=q)return pse(e,d,t.subarray(c,c+u));var G,W,B,O;if(Vh(e,d,1+(q<$)),d+=2,q<$){G=_b(p,f,0),W=p,B=_b(g,y,0),O=g;var K=_b(R,I,0);Vh(e,d,S-257),Vh(e,d+5,A-1),Vh(e,d+10,L-4),d+=14;for(var E=0;E<L;++E)Vh(e,d+3*E,R[$z[E]]);d+=3*L;for(var Y=[w,C],D=0;D<2;++D)for(var Z=Y[D],E=0;E<Z.length;++E){var ie=Z[E]&31;Vh(e,d,K[ie]),d+=R[ie],ie>15&&(Vh(e,d,Z[E]>>5&127),d+=Z[E]>>12)}}else G=gKe,W=Gg,B=xKe,O=$4;for(var E=0;E<l;++E){var he=n[E];if(he>255){var ie=he>>18&31;_1(e,d,G[ie+257]),d+=W[ie+257],ie>7&&(Vh(e,d,he>>23&31),d+=t7[ie]);var J=he&31;_1(e,d,B[J]),d+=O[J],J>3&&(_1(e,d,he>>5&8191),d+=r7[J])}else _1(e,d,G[he]),d+=W[he]}return _1(e,d,G[256]),d+W[256]},vKe=new e7([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mse=new Ad(0),bKe=function(t,e,r,n,s,a){var o=a.z||t.length,l=new Ad(n+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(n,l.length-s),u=a.l,d=(a.r||0)&7;if(e){d&&(c[0]=a.r>>3);for(var h=vKe[e-1],p=h>>13,f=h&8191,m=(1<<r)-1,g=a.p||new gc(32768),y=a.h||new gc(m+1),x=Math.ceil(r/3),w=2*x,S=function(fe){return(t[fe]^t[fe+1]<<x^t[fe+2]<<w)&m},N=new e7(25e3),C=new gc(288),A=new gc(32),k=0,E=0,T=a.i||0,R=0,I=a.w||0,L=0;T+2<o;++T){var U=S(T),$=T&32767,q=y[U];if(g[$]=q,y[U]=$,I<=T){var G=o-T;if((k>7e3||R>24576)&&(G>423||!u)){d=Wz(t,c,0,N,C,A,E,R,L,T-L,d),R=k=E=0,L=T;for(var W=0;W<286;++W)C[W]=0;for(var W=0;W<30;++W)A[W]=0}var B=2,O=0,K=f,Y=$-q&32767;if(G>2&&U==S(T-Y))for(var D=Math.min(p,G)-1,Z=Math.min(32767,T),ie=Math.min(258,G);Y<=Z&&--K&&$!=q;){if(t[T+B]==t[T+B-Y]){for(var he=0;he<ie&&t[T+he]==t[T+he-Y];++he);if(he>B){if(B=he,O=Y,he>D)break;for(var J=Math.min(Y,he-2),ae=0,W=0;W<J;++W){var ne=T-Y+W&32767,se=g[ne],Q=ne-se&32767;Q>ae&&(ae=Q,q=ne)}}}$=q,q=g[$],Y+=$-q&32767}if(O){N[R++]=268435456|YE[B]<<18|zz[O];var re=YE[B]&31,le=zz[O]&31;E+=t7[re]+r7[le],++C[257+re],++A[le],I=T+B,++k}else N[R++]=t[T],++C[t[T]]}}for(T=Math.max(T,I);T<o;++T)N[R++]=t[T],++C[t[T]];d=Wz(t,c,u,N,C,A,E,R,L,T-L,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=y,a.p=g,a.i=T,a.w=I)}else{for(var T=a.w||0;T<o+u;T+=65535){var ve=T+65535;ve>=o&&(c[d/8|0]=u,ve=o),d=pse(c,d+1,t.subarray(T,ve))}a.i=o}return yKe(l,0,n+fse(d)+s)},gse=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},wKe=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Ad(a.length+t.length);o.set(a),o.set(t,a.length),t=o,s.w=a.length}return bKe(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},xse=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},jKe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=gse();s.p(e.dictionary),xse(t,2,s.d())}};function ZE(t,e){e||(e={});var r=gse();r.p(t);var n=wKe(t,e,e.dictionary?6:2,4);return jKe(n,e),xse(n,n.length-4,r.d()),n}var SKe=typeof TextDecoder<"u"&&new TextDecoder,NKe=0;try{SKe.decode(mse,{stream:!0}),NKe=1}catch{}function CKe(t){if(Array.isArray(t))return t}function _Ke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Gz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function AKe(t,e){if(t){if(typeof t=="string")return Gz(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gz(t,e):void 0}}function kKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(t,e){return CKe(t)||_Ke(t,e)||AKe(t,e)||kKe()}function Vz(t,e="utf8"){return new TextDecoder(e).decode(t)}const PKe=new TextEncoder;function EKe(t){return PKe.encode(t)}const TKe=1024*8,IKe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Mk={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class n7{constructor(e=TKe,r={}){ns(this,"buffer");ns(this,"byteLength");ns(this,"byteOffset");ns(this,"length");ns(this,"offset");ns(this,"lastWrittenByte");ns(this,"littleEndian");ns(this,"_data");ns(this,"_mark");ns(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const s=r.offset?r.offset>>>0:0,a=e.byteLength-s;let o=s;(ArrayBuffer.isView(e)||e instanceof n7)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+s),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Mk[r].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,a=this.buffer.slice(s,s+n);if(this.littleEndian===IKe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const c=new Mk[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new Mk[r](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return Vz(this.readBytes(e))}decodeText(e=1,r="utf8"){return Vz(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(EKe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Sv(t){let e=t.length;for(;--e>=0;)t[e]=0}const MKe=3,OKe=258,yse=29,LKe=256,RKe=LKe+1+yse,vse=30,DKe=512,FKe=new Array((RKe+2)*2);Sv(FKe);const BKe=new Array(vse*2);Sv(BKe);const $Ke=new Array(DKe);Sv($Ke);const zKe=new Array(OKe-MKe+1);Sv(zKe);const UKe=new Array(yse);Sv(UKe);const WKe=new Array(vse);Sv(WKe);const GKe=(t,e,r,n)=>{let s=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+e[n++]|0,a=a+s|0;while(--o);s%=65521,a%=65521}return s|a<<16|0};var QE=GKe;const HKe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},VKe=new Uint32Array(HKe()),qKe=(t,e,r,n)=>{const s=VKe,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^s[(t^e[o])&255];return t^-1};var Yd=qKe,JE={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bse={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const YKe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var XKe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)YKe(r,n)&&(t[n]=r[n])}}return t},KKe=t=>{let e=0;for(let n=0,s=t.length;n<s;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,s=0,a=t.length;n<a;n++){let o=t[n];r.set(o,s),s+=o.length}return r},wse={assign:XKe,flattenChunks:KKe};let jse=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jse=!1}const ew=new Uint8Array(256);for(let t=0;t<256;t++)ew[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ew[254]=ew[254]=1;var ZKe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,s,a,o=t.length,l=0;for(s=0;s<o;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,s=0;a<l;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const QKe=(t,e)=>{if(e<65534&&t.subarray&&jse)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var JKe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,s;const a=new Array(r*2);for(s=0,n=0;n<r;){let o=t[n++];if(o<128){a[s++]=o;continue}let l=ew[o];if(l>4){a[s++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){a[s++]=65533;continue}o<65536?a[s++]=o:(o-=65536,a[s++]=55296|o>>10&1023,a[s++]=56320|o&1023)}return QKe(a,s)},eZe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+ew[t[r]]>e?r:e},eT={string2buf:ZKe,buf2string:JKe,utf8border:eZe};function tZe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var rZe=tZe;const I5=16209,nZe=16191;var sZe=function(e,r){let n,s,a,o,l,c,u,d,h,p,f,m,g,y,x,w,S,N,C,A,k,E,T,R;const I=e.state;n=e.next_in,T=e.input,s=n+(e.avail_in-5),a=e.next_out,R=e.output,o=a-(r-e.avail_out),l=a+(e.avail_out-257),c=I.dmax,u=I.wsize,d=I.whave,h=I.wnext,p=I.window,f=I.hold,m=I.bits,g=I.lencode,y=I.distcode,x=(1<<I.lenbits)-1,w=(1<<I.distbits)-1;e:do{m<15&&(f+=T[n++]<<m,m+=8,f+=T[n++]<<m,m+=8),S=g[f&x];t:for(;;){if(N=S>>>24,f>>>=N,m-=N,N=S>>>16&255,N===0)R[a++]=S&65535;else if(N&16){C=S&65535,N&=15,N&&(m<N&&(f+=T[n++]<<m,m+=8),C+=f&(1<<N)-1,f>>>=N,m-=N),m<15&&(f+=T[n++]<<m,m+=8,f+=T[n++]<<m,m+=8),S=y[f&w];r:for(;;){if(N=S>>>24,f>>>=N,m-=N,N=S>>>16&255,N&16){if(A=S&65535,N&=15,m<N&&(f+=T[n++]<<m,m+=8,m<N&&(f+=T[n++]<<m,m+=8)),A+=f&(1<<N)-1,A>c){e.msg="invalid distance too far back",I.mode=I5;break e}if(f>>>=N,m-=N,N=a-o,A>N){if(N=A-N,N>d&&I.sane){e.msg="invalid distance too far back",I.mode=I5;break e}if(k=0,E=p,h===0){if(k+=u-N,N<C){C-=N;do R[a++]=p[k++];while(--N);k=a-A,E=R}}else if(h<N){if(k+=u+h-N,N-=h,N<C){C-=N;do R[a++]=p[k++];while(--N);if(k=0,h<C){N=h,C-=N;do R[a++]=p[k++];while(--N);k=a-A,E=R}}}else if(k+=h-N,N<C){C-=N;do R[a++]=p[k++];while(--N);k=a-A,E=R}for(;C>2;)R[a++]=E[k++],R[a++]=E[k++],R[a++]=E[k++],C-=3;C&&(R[a++]=E[k++],C>1&&(R[a++]=E[k++]))}else{k=a-A;do R[a++]=R[k++],R[a++]=R[k++],R[a++]=R[k++],C-=3;while(C>2);C&&(R[a++]=R[k++],C>1&&(R[a++]=R[k++]))}}else if(N&64){e.msg="invalid distance code",I.mode=I5;break e}else{S=y[(S&65535)+(f&(1<<N)-1)];continue r}break}}else if(N&64)if(N&32){I.mode=nZe;break e}else{e.msg="invalid literal/length code",I.mode=I5;break e}else{S=g[(S&65535)+(f&(1<<N)-1)];continue t}break}}while(n<s&&a<l);C=m>>3,n-=C,m-=C<<3,f&=(1<<m)-1,e.next_in=n,e.next_out=a,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=a<l?257+(l-a):257-(a-l),I.hold=f,I.bits=m};const Vx=15,qz=852,Yz=592,Xz=0,Ok=1,Kz=2,iZe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),aZe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),oZe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lZe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),cZe=(t,e,r,n,s,a,o,l)=>{const c=l.bits;let u=0,d=0,h=0,p=0,f=0,m=0,g=0,y=0,x=0,w=0,S,N,C,A,k,E=null,T;const R=new Uint16Array(Vx+1),I=new Uint16Array(Vx+1);let L=null,U,$,q;for(u=0;u<=Vx;u++)R[u]=0;for(d=0;d<n;d++)R[e[r+d]]++;for(f=c,p=Vx;p>=1&&R[p]===0;p--);if(f>p&&(f=p),p===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&R[h]===0;h++);for(f<h&&(f=h),y=1,u=1;u<=Vx;u++)if(y<<=1,y-=R[u],y<0)return-1;if(y>0&&(t===Xz||p!==1))return-1;for(I[1]=0,u=1;u<Vx;u++)I[u+1]=I[u]+R[u];for(d=0;d<n;d++)e[r+d]!==0&&(o[I[e[r+d]]++]=d);if(t===Xz?(E=L=o,T=20):t===Ok?(E=iZe,L=aZe,T=257):(E=oZe,L=lZe,T=0),w=0,d=0,u=h,k=a,m=f,g=0,C=-1,x=1<<f,A=x-1,t===Ok&&x>qz||t===Kz&&x>Yz)return 1;for(;;){U=u-g,o[d]+1<T?($=0,q=o[d]):o[d]>=T?($=L[o[d]-T],q=E[o[d]-T]):($=96,q=0),S=1<<u-g,N=1<<m,h=N;do N-=S,s[k+(w>>g)+N]=U<<24|$<<16|q|0;while(N!==0);for(S=1<<u-1;w&S;)S>>=1;if(S!==0?(w&=S-1,w+=S):w=0,d++,--R[u]===0){if(u===p)break;u=e[r+o[d]]}if(u>f&&(w&A)!==C){for(g===0&&(g=f),k+=h,m=u-g,y=1<<m;m+g<p&&(y-=R[m+g],!(y<=0));)m++,y<<=1;if(x+=1<<m,t===Ok&&x>qz||t===Kz&&x>Yz)return 1;C=w&A,s[C]=f<<24|m<<16|k-a|0}}return w!==0&&(s[k+w]=u-g<<24|64<<16|0),l.bits=f,0};var Ab=cZe;const uZe=0,Sse=1,Nse=2,{Z_FINISH:Zz,Z_BLOCK:dZe,Z_TREES:M5,Z_OK:Hg,Z_STREAM_END:hZe,Z_NEED_DICT:fZe,Z_STREAM_ERROR:Nu,Z_DATA_ERROR:Cse,Z_MEM_ERROR:_se,Z_BUF_ERROR:pZe,Z_DEFLATED:Qz}=bse,i_=16180,Jz=16181,eU=16182,tU=16183,rU=16184,nU=16185,sU=16186,iU=16187,aU=16188,oU=16189,z4=16190,qh=16191,Lk=16192,lU=16193,Rk=16194,cU=16195,uU=16196,dU=16197,hU=16198,O5=16199,L5=16200,fU=16201,pU=16202,mU=16203,gU=16204,xU=16205,Dk=16206,yU=16207,vU=16208,Ys=16209,Ase=16210,kse=16211,mZe=852,gZe=592,xZe=15,yZe=xZe,bU=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function vZe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ux=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<i_||e.mode>kse?1:0},Pse=t=>{if(ux(t))return Nu;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=i_,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(mZe),e.distcode=e.distdyn=new Int32Array(gZe),e.sane=1,e.back=-1,Hg},Ese=t=>{if(ux(t))return Nu;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Pse(t)},Tse=(t,e)=>{let r;if(ux(t))return Nu;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Nu:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Ese(t))},Ise=(t,e)=>{if(!t)return Nu;const r=new vZe;t.state=r,r.strm=t,r.window=null,r.mode=i_;const n=Tse(t,e);return n!==Hg&&(t.state=null),n},bZe=t=>Ise(t,yZe);let wU=!0,Fk,Bk;const wZe=t=>{if(wU){Fk=new Int32Array(512),Bk=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ab(Sse,t.lens,0,288,Fk,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ab(Nse,t.lens,0,32,Bk,0,t.work,{bits:5}),wU=!1}t.lencode=Fk,t.lenbits=9,t.distcode=Bk,t.distbits=5},Mse=(t,e,r,n)=>{let s;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>n&&(s=n),a.window.set(e.subarray(r-n,r-n+s),a.wnext),n-=s,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},jZe=(t,e)=>{let r,n,s,a,o,l,c,u,d,h,p,f,m,g,y=0,x,w,S,N,C,A,k,E;const T=new Uint8Array(4);let R,I;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ux(t)||!t.output||!t.input&&t.avail_in!==0)return Nu;r=t.state,r.mode===qh&&(r.mode=Lk),o=t.next_out,s=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,h=l,p=c,E=Hg;e:for(;;)switch(r.mode){case i_:if(r.wrap===0){r.mode=Lk;break}for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=u&255,T[1]=u>>>8&255,r.check=Yd(r.check,T,2,0),u=0,d=0,r.mode=Jz;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Ys;break}if((u&15)!==Qz){t.msg="unknown compression method",r.mode=Ys;break}if(u>>>=4,d-=4,k=(u&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){t.msg="invalid window size",r.mode=Ys;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?oU:qh,u=0,d=0;break;case Jz:for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==Qz){t.msg="unknown compression method",r.mode=Ys;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Ys;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Yd(r.check,T,2,0)),u=0,d=0,r.mode=eU;case eU:for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,r.check=Yd(r.check,T,4,0)),u=0,d=0,r.mode=tU;case tU:for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Yd(r.check,T,2,0)),u=0,d=0,r.mode=rU;case rU:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=Yd(r.check,T,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=nU;case nU:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),k)),r.flags&512&&r.wrap&4&&(r.check=Yd(r.check,n,f,a)),l-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=sU;case sU:if(r.flags&2048){if(l===0)break e;f=0;do k=n[a+f++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Yd(r.check,n,f,a)),l-=f,a+=f,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=iU;case iU:if(r.flags&4096){if(l===0)break e;f=0;do k=n[a+f++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Yd(r.check,n,f,a)),l-=f,a+=f,k)break e}else r.head&&(r.head.comment=null);r.mode=aU;case aU:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Ys;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=qh;break;case oU:for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}t.adler=r.check=bU(u),u=0,d=0,r.mode=z4;case z4:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=d,fZe;t.adler=r.check=1,r.mode=qh;case qh:if(e===dZe||e===M5)break e;case Lk:if(r.last){u>>>=d&7,d-=d&7,r.mode=Dk;break}for(;d<3;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=lU;break;case 1:if(wZe(r),r.mode=O5,e===M5){u>>>=2,d-=2;break e}break;case 2:r.mode=uU;break;case 3:t.msg="invalid block type",r.mode=Ys}u>>>=2,d-=2;break;case lU:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Ys;break}if(r.length=u&65535,u=0,d=0,r.mode=Rk,e===M5)break e;case Rk:r.mode=cU;case cU:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;s.set(n.subarray(a,a+f),o),l-=f,a+=f,c-=f,o+=f,r.length-=f;break}r.mode=qh;break;case uU:for(;d<14;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Ys;break}r.have=0,r.mode=dU;case dU:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.lens[L[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},E=Ab(uZe,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,E){t.msg="invalid code lengths set",r.mode=Ys;break}r.have=0,r.mode=hU;case hU:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[u&(1<<r.lenbits)-1],x=y>>>24,w=y>>>16&255,S=y&65535,!(x<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(S<16)u>>>=x,d-=x,r.lens[r.have++]=S;else{if(S===16){for(I=x+2;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(u>>>=x,d-=x,r.have===0){t.msg="invalid bit length repeat",r.mode=Ys;break}k=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(S===17){for(I=x+3;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=x,d-=x,k=0,f=3+(u&7),u>>>=3,d-=3}else{for(I=x+7;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=x,d-=x,k=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Ys;break}for(;f--;)r.lens[r.have++]=k}}if(r.mode===Ys)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Ys;break}if(r.lenbits=9,R={bits:r.lenbits},E=Ab(Sse,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,E){t.msg="invalid literal/lengths set",r.mode=Ys;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},E=Ab(Nse,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,E){t.msg="invalid distances set",r.mode=Ys;break}if(r.mode=O5,e===M5)break e;case O5:r.mode=L5;case L5:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=d,sZe(t,p),o=t.next_out,s=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,u=r.hold,d=r.bits,r.mode===qh&&(r.back=-1);break}for(r.back=0;y=r.lencode[u&(1<<r.lenbits)-1],x=y>>>24,w=y>>>16&255,S=y&65535,!(x<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(w&&!(w&240)){for(N=x,C=w,A=S;y=r.lencode[A+((u&(1<<N+C)-1)>>N)],x=y>>>24,w=y>>>16&255,S=y&65535,!(N+x<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=N,d-=N,r.back+=N}if(u>>>=x,d-=x,r.back+=x,r.length=S,w===0){r.mode=xU;break}if(w&32){r.back=-1,r.mode=qh;break}if(w&64){t.msg="invalid literal/length code",r.mode=Ys;break}r.extra=w&15,r.mode=fU;case fU:if(r.extra){for(I=r.extra;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=pU;case pU:for(;y=r.distcode[u&(1<<r.distbits)-1],x=y>>>24,w=y>>>16&255,S=y&65535,!(x<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(!(w&240)){for(N=x,C=w,A=S;y=r.distcode[A+((u&(1<<N+C)-1)>>N)],x=y>>>24,w=y>>>16&255,S=y&65535,!(N+x<=d);){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}u>>>=N,d-=N,r.back+=N}if(u>>>=x,d-=x,r.back+=x,w&64){t.msg="invalid distance code",r.mode=Ys;break}r.offset=S,r.extra=w&15,r.mode=mU;case mU:if(r.extra){for(I=r.extra;d<I;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Ys;break}r.mode=gU;case gU:if(c===0)break e;if(f=p-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Ys;break}f>r.wnext?(f-=r.wnext,m=r.wsize-f):m=r.wnext-f,f>r.length&&(f=r.length),g=r.window}else g=s,m=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do s[o++]=g[m++];while(--f);r.length===0&&(r.mode=L5);break;case xU:if(c===0)break e;s[o++]=r.length,c--,r.mode=L5;break;case Dk:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=n[a++]<<d,d+=8}if(p-=c,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Yd(r.check,s,p,o-p):QE(r.check,s,p,o-p)),p=c,r.wrap&4&&(r.flags?u:bU(u))!==r.check){t.msg="incorrect data check",r.mode=Ys;break}u=0,d=0}r.mode=yU;case yU:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=n[a++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Ys;break}u=0,d=0}r.mode=vU;case vU:E=hZe;break e;case Ys:E=Cse;break e;case Ase:return _se;case kse:default:return Nu}return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=u,r.bits=d,(r.wsize||p!==t.avail_out&&r.mode<Ys&&(r.mode<Dk||e!==Zz))&&Mse(t,t.output,t.next_out,p-t.avail_out),h-=t.avail_in,p-=t.avail_out,t.total_in+=h,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Yd(r.check,s,p,t.next_out-p):QE(r.check,s,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===qh?128:0)+(r.mode===O5||r.mode===Rk?256:0),(h===0&&p===0||e===Zz)&&E===Hg&&(E=pZe),E},SZe=t=>{if(ux(t))return Nu;let e=t.state;return e.window&&(e.window=null),t.state=null,Hg},NZe=(t,e)=>{if(ux(t))return Nu;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Hg):Nu},CZe=(t,e)=>{const r=e.length;let n,s,a;return ux(t)||(n=t.state,n.wrap!==0&&n.mode!==z4)?Nu:n.mode===z4&&(s=1,s=QE(s,e,r,0),s!==n.check)?Cse:(a=Mse(t,e,r,r),a?(n.mode=Ase,_se):(n.havedict=1,Hg))};var _Ze=Ese,AZe=Tse,kZe=Pse,PZe=bZe,EZe=Ise,TZe=jZe,IZe=SZe,MZe=NZe,OZe=CZe,LZe="pako inflate (from Nodeca project)",Jh={inflateReset:_Ze,inflateReset2:AZe,inflateResetKeep:kZe,inflateInit:PZe,inflateInit2:EZe,inflate:TZe,inflateEnd:IZe,inflateGetHeader:MZe,inflateSetDictionary:OZe,inflateInfo:LZe};function RZe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var DZe=RZe;const Ose=Object.prototype.toString,{Z_NO_FLUSH:FZe,Z_FINISH:BZe,Z_OK:tw,Z_STREAM_END:$k,Z_NEED_DICT:zk,Z_STREAM_ERROR:$Ze,Z_DATA_ERROR:jU,Z_MEM_ERROR:zZe}=bse;function Uw(t){this.options=wse.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rZe,this.strm.avail_out=0;let r=Jh.inflateInit2(this.strm,e.windowBits);if(r!==tw)throw new Error(JE[r]);if(this.header=new DZe,Jh.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=eT.string2buf(e.dictionary):Ose.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Jh.inflateSetDictionary(this.strm,e.dictionary),r!==tw)))throw new Error(JE[r])}Uw.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?BZe:FZe,Ose.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Jh.inflate(r,o),a===zk&&s&&(a=Jh.inflateSetDictionary(r,s),a===tw?a=Jh.inflate(r,o):a===jU&&(a=zk));r.avail_in>0&&a===$k&&r.state.wrap>0&&t[r.next_in]!==0;)Jh.inflateReset(r),a=Jh.inflate(r,o);switch(a){case $Ze:case jU:case zk:case zZe:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===$k))if(this.options.to==="string"){let c=eT.utf8border(r.output,r.next_out),u=r.next_out-c,d=eT.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===tw&&l===0)){if(a===$k)return a=Jh.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Uw.prototype.onData=function(t){this.chunks.push(t)};Uw.prototype.onEnd=function(t){t===tw&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=wse.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function UZe(t,e){const r=new Uw(e);if(r.push(t),r.err)throw r.msg||JE[r.err];return r.result}var WZe=Uw,GZe=UZe,HZe={Inflate:WZe,inflate:GZe};const{Inflate:VZe,inflate:qZe}=HZe;var SU=VZe,YZe=qZe;const Lse=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Lse[t]=e}const NU=4294967295;function XZe(t,e,r){let n=t;for(let s=0;s<r;s++)n=Lse[(n^e[s])&255]^n>>>8;return n}function KZe(t,e){return(XZe(NU,t,e)^NU)>>>0}function CU(t,e,r){const n=t.readUint32(),s=KZe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function Rse(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Dse(t,e,r,n){let s=0;for(;s<n;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-n]&255}function Fse(t,e,r,n){let s=0;if(r.length===0)for(;s<n;s++)e[s]=t[s];else for(;s<n;s++)e[s]=t[s]+r[s]&255}function Bse(t,e,r,n,s){let a=0;if(r.length===0){for(;a<s;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-s]>>1)&255}else{for(;a<s;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-s]+r[a]>>1)&255}}function $se(t,e,r,n,s){let a=0;if(r.length===0){for(;a<s;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-s]&255}else{for(;a<s;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+ZZe(e[a-s],r[a],r[a-s])&255}}function ZZe(t,e,r){const n=t+e-r,s=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return s<=a&&s<=o?t:a<=o?e:r}function QZe(t,e,r,n,s,a){switch(t){case 0:Rse(e,r,s);break;case 1:Dse(e,r,s,a);break;case 2:Fse(e,r,n,s);break;case 3:Bse(e,r,n,s,a);break;case 4:$se(e,r,n,s,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const JZe=new Uint16Array([255]),eQe=new Uint8Array(JZe.buffer),tQe=eQe[0]===255;function rQe(t){const{data:e,width:r,height:n,channels:s,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*s,c=new Uint8Array(n*r*l);let u=0;for(let d=0;d<7;d++){const h=o[d],p=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(p<=0||f<=0)continue;const m=p*l,g=new Uint8Array(m);for(let y=0;y<f;y++){const x=e[u++],w=e.subarray(u,u+m);u+=m;const S=new Uint8Array(m);QZe(x,w,S,g,m,l),g.set(S);for(let N=0;N<p;N++){const C=h.x+N*h.xStep,A=h.y+y*h.yStep;if(!(C>=r||A>=n))for(let k=0;k<l;k++)c[(A*r+C)*l+k]=S[N*l+k]}}}if(a===16){const d=new Uint16Array(c.buffer);if(tQe)for(let h=0;h<d.length;h++)d[h]=nQe(d[h]);return d}else return c}function nQe(t){return(t&255)<<8|t>>8&255}const sQe=new Uint16Array([255]),iQe=new Uint8Array(sQe.buffer),aQe=iQe[0]===255,oQe=new Uint8Array(0);function _U(t){const{data:e,width:r,height:n,channels:s,depth:a}=t,o=Math.ceil(a/8)*s,l=Math.ceil(a/8*s*r),c=new Uint8Array(n*l);let u=oQe,d=0,h,p;for(let f=0;f<n;f++){switch(h=e.subarray(d+1,d+1+l),p=c.subarray(f*l,(f+1)*l),e[d]){case 0:Rse(h,p,l);break;case 1:Dse(h,p,l,o);break;case 2:Fse(h,p,u,l);break;case 3:Bse(h,p,u,l,o);break;case 4:$se(h,p,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=l+1}if(a===16){const f=new Uint16Array(c.buffer);if(aQe)for(let m=0;m<f.length;m++)f[m]=lQe(f[m]);return f}else return c}function lQe(t){return(t&255)<<8|t>>8&255}const NS=Uint8Array.of(137,80,78,71,13,10,26,10);function AU(t){if(!cQe(t.readBytes(NS.length)))throw new Error("wrong PNG signature")}function cQe(t){if(t.length<NS.length)return!1;for(let e=0;e<NS.length;e++)if(t[e]!==NS[e])return!1;return!0}const uQe="tEXt",dQe=0,zse=new TextDecoder("latin1");function hQe(t){if(pQe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const fQe=/^[\u0000-\u00FF]*$/;function pQe(t){if(!fQe.test(t))throw new Error("invalid latin1 text")}function mQe(t,e,r){const n=Use(e);t[n]=gQe(e,r-n.length-1)}function Use(t){for(t.mark();t.readByte()!==dQe;);const e=t.offset;t.reset();const r=zse.decode(t.readBytes(e-t.offset-1));return t.skip(1),hQe(r),r}function gQe(t,e){return zse.decode(t.readBytes(e))}const Jl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Uk={UNKNOWN:-1,DEFLATE:0},kU={UNKNOWN:-1,ADAPTIVE:0},Wk={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},R5={NONE:0,BACKGROUND:1,PREVIOUS:2},Gk={SOURCE:0,OVER:1};class xQe extends n7{constructor(r,n={}){super(r);ns(this,"_checkCrc");ns(this,"_inflator");ns(this,"_png");ns(this,"_apng");ns(this,"_end");ns(this,"_hasPalette");ns(this,"_palette");ns(this,"_hasTransparency");ns(this,"_transparency");ns(this,"_compressionMethod");ns(this,"_filterMethod");ns(this,"_interlaceMethod");ns(this,"_colorType");ns(this,"_isAnimated");ns(this,"_numberOfFrames");ns(this,"_numberOfPlays");ns(this,"_frames");ns(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new SU,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Uk.UNKNOWN,this._filterMethod=kU.UNKNOWN,this._interlaceMethod=Wk.UNKNOWN,this._colorType=Jl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(AU(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(AU(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case uQe:mQe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?CU(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?CU(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=yQe(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case Jl.GREYSCALE:s=1;break;case Jl.TRUECOLOUR:s=3;break;case Jl.INDEXED_COLOUR:s=1;break;case Jl.GREYSCALE_ALPHA:s=2;break;case Jl.TRUECOLOUR_ALPHA:s=4;break;case Jl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Uk.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<n;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Jl.GREYSCALE:case Jl.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Jl.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Jl.UNKNOWN:case Jl.GREYSCALE_ALPHA:case Jl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Use(this),s=this.readUint8();if(s!==Uk.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:YZe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=_U({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(s,a,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case R5.NONE:break;case R5.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case R5.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,a=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case Gk.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[u+d]}break;case Gk.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++){const h=n.data[u+this._png.channels-1]/s,p=d%(this._png.channels-1)===0?1:n.data[u+d],f=Math.floor(h*p+(1-h)*r.data[c+d]);r.data[c+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==kU.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Wk.NO_INTERLACE)this._png.data=_U({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Wk.ADAM7)this._png.data=rQe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:R5.NONE,blendOp:Gk.SOURCE,data:r}),this._inflator=new SU,this._writingDataChunks=!1}}function yQe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var PU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(PU||(PU={}));function vQe(t,e){return new xQe(t,e).decode()}var Gr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Hk(){Gr.console&&typeof Gr.console.log=="function"&&Gr.console.log.apply(Gr.console,arguments)}var ms={log:Hk,warn:function(t){Gr.console&&(typeof Gr.console.warn=="function"?Gr.console.warn.apply(Gr.console,arguments):Hk.call(null,arguments))},error:function(t){Gr.console&&(typeof Gr.console.error=="function"?Gr.console.error.apply(Gr.console,arguments):Hk(t))}};function Vk(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ym(n.response,e,r)},n.onerror=function(){ms.error("could not download file")},n.send()}function EU(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function D5(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ym=Gr.saveAs||((typeof window>"u"?"undefined":is(window))!=="object"||window!==Gr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Gr.URL||Gr.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?EU(s.href)?Vk(t,e,r):D5(s,s.target="_blank"):D5(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){D5(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(EU(t))Vk(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){D5(n)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:is(a)!=="object"&&(ms.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Vk(t,e,r);var s=t.type==="application/octet-stream",a=/constructor/i.test(Gr.HTMLElement)||Gr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&a)&&(typeof FileReader>"u"?"undefined":is(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(t)}else{var c=Gr.URL||Gr.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Wse(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,a=r[n].process,o=s.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var CS=Gr.atob.bind(Gr),TU=Gr.btoa.bind(Gr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qk(t,e){var r=t[0],n=t[1],s=t[2],a=t[3];r=So(r,n,s,a,e[0],7,-680876936),a=So(a,r,n,s,e[1],12,-389564586),s=So(s,a,r,n,e[2],17,606105819),n=So(n,s,a,r,e[3],22,-1044525330),r=So(r,n,s,a,e[4],7,-176418897),a=So(a,r,n,s,e[5],12,1200080426),s=So(s,a,r,n,e[6],17,-1473231341),n=So(n,s,a,r,e[7],22,-45705983),r=So(r,n,s,a,e[8],7,1770035416),a=So(a,r,n,s,e[9],12,-1958414417),s=So(s,a,r,n,e[10],17,-42063),n=So(n,s,a,r,e[11],22,-1990404162),r=So(r,n,s,a,e[12],7,1804603682),a=So(a,r,n,s,e[13],12,-40341101),s=So(s,a,r,n,e[14],17,-1502002290),r=No(r,n=So(n,s,a,r,e[15],22,1236535329),s,a,e[1],5,-165796510),a=No(a,r,n,s,e[6],9,-1069501632),s=No(s,a,r,n,e[11],14,643717713),n=No(n,s,a,r,e[0],20,-373897302),r=No(r,n,s,a,e[5],5,-701558691),a=No(a,r,n,s,e[10],9,38016083),s=No(s,a,r,n,e[15],14,-660478335),n=No(n,s,a,r,e[4],20,-405537848),r=No(r,n,s,a,e[9],5,568446438),a=No(a,r,n,s,e[14],9,-1019803690),s=No(s,a,r,n,e[3],14,-187363961),n=No(n,s,a,r,e[8],20,1163531501),r=No(r,n,s,a,e[13],5,-1444681467),a=No(a,r,n,s,e[2],9,-51403784),s=No(s,a,r,n,e[7],14,1735328473),r=Co(r,n=No(n,s,a,r,e[12],20,-1926607734),s,a,e[5],4,-378558),a=Co(a,r,n,s,e[8],11,-2022574463),s=Co(s,a,r,n,e[11],16,1839030562),n=Co(n,s,a,r,e[14],23,-35309556),r=Co(r,n,s,a,e[1],4,-1530992060),a=Co(a,r,n,s,e[4],11,1272893353),s=Co(s,a,r,n,e[7],16,-155497632),n=Co(n,s,a,r,e[10],23,-1094730640),r=Co(r,n,s,a,e[13],4,681279174),a=Co(a,r,n,s,e[0],11,-358537222),s=Co(s,a,r,n,e[3],16,-722521979),n=Co(n,s,a,r,e[6],23,76029189),r=Co(r,n,s,a,e[9],4,-640364487),a=Co(a,r,n,s,e[12],11,-421815835),s=Co(s,a,r,n,e[15],16,530742520),r=_o(r,n=Co(n,s,a,r,e[2],23,-995338651),s,a,e[0],6,-198630844),a=_o(a,r,n,s,e[7],10,1126891415),s=_o(s,a,r,n,e[14],15,-1416354905),n=_o(n,s,a,r,e[5],21,-57434055),r=_o(r,n,s,a,e[12],6,1700485571),a=_o(a,r,n,s,e[3],10,-1894986606),s=_o(s,a,r,n,e[10],15,-1051523),n=_o(n,s,a,r,e[1],21,-2054922799),r=_o(r,n,s,a,e[8],6,1873313359),a=_o(a,r,n,s,e[15],10,-30611744),s=_o(s,a,r,n,e[6],15,-1560198380),n=_o(n,s,a,r,e[13],21,1309151649),r=_o(r,n,s,a,e[4],6,-145523070),a=_o(a,r,n,s,e[11],10,-1120210379),s=_o(s,a,r,n,e[2],15,718787259),n=_o(n,s,a,r,e[9],21,-343485551),t[0]=Mp(r,t[0]),t[1]=Mp(n,t[1]),t[2]=Mp(s,t[2]),t[3]=Mp(a,t[3])}function a_(t,e,r,n,s,a){return e=Mp(Mp(e,t),Mp(n,a)),Mp(e<<s|e>>>32-s,r)}function So(t,e,r,n,s,a,o){return a_(e&r|~e&n,t,e,s,a,o)}function No(t,e,r,n,s,a,o){return a_(e&n|r&~n,t,e,s,a,o)}function Co(t,e,r,n,s,a,o){return a_(e^r^n,t,e,s,a,o)}function _o(t,e,r,n,s,a,o){return a_(r^(e|~n),t,e,s,a,o)}function Gse(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)qk(n,bQe(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(qk(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,qk(n,s),n}function bQe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var IU="0123456789abcdef".split("");function wQe(t){for(var e="",r=0;r<4;r++)e+=IU[t>>8*r+4&15]+IU[t>>8*r&15];return e}function jQe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function tT(t){return Gse(t).map(jQe).join("")}var SQe=function(t){for(var e=0;e<t.length;e++)t[e]=wQe(t[e]);return t.join("")}(Gse("hello"))!="5d41402abc4b2a76b9719d911017c592";function Mp(t,e){if(SQe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function rT(t,e){var r,n,s,a;if(t!==r){for(var o=(s=t,a=1+(256/t.length|0),new Array(a+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=t,n=l}else l=n;var h=e.length,p=0,f=0,m="";for(c=0;c<h;c++)f=(f+(d=l[p=(p+1)%256]))%256,l[p]=l[f],l[f]=d,o=l[(l[p]+l[f])%256],m+=String.fromCharCode(e.charCodeAt(c)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var MU={print:4,modify:8,copy:16,"annot-forms":32};function Qx(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(l){if(MU.perm!==void 0)throw new Error("Invalid permission: "+l);s+=MU[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^s)),this.encryptionKey=tT(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=rT(this.encryptionKey,this.padding)}function Jx(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[n]}return e}function OU(t){if(is(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!s],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(l){Gr.console&&ms.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function U4(t){if(!(this instanceof U4))return new U4(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Hse(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Qm(t,e,r,n,s){if(!(this instanceof Qm))return new Qm(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Hse.call(this,n,s)}function v0(t,e,r,n,s){if(!(this instanceof v0))return new v0(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Hse.call(this,n,s)}function _r(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",d=null;is(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=OU;var m="1.3",g=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(z){m=z};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return y};var x=f.__private__.getPageFormat=function(z){return y[z]};s=s||"a4";var w="compat",S="advanced",N=w;function C(){this.saveGraphicsState(),X(new Ct(We,0,0,-We,0,Ha()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),u="n",N=S}function A(){this.restoreGraphicsState(),u="S",N=w}var k=f.__private__.combineFontStyleAndFontWeight=function(z,de){if(z=="bold"&&de=="normal"||z=="bold"&&de==400||z=="normal"&&de=="italic"||z=="bold"&&de=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return de&&(z=de==400||de==="normal"?z==="italic"?"italic":"normal":de!=700&&de!=="bold"||z!=="normal"?(de==700?"bold":de)+""+z:"bold"),z};f.advancedAPI=function(z){var de=N===w;return de&&C.call(this),typeof z!="function"||(z(this),de&&A.call(this)),this},f.compatAPI=function(z){var de=N===S;return de&&A.call(this),typeof z!="function"||(z(this),de&&C.call(this)),this},f.isAdvancedAPI=function(){return N===S};var E,T=function(z){if(N!==S)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=f.roundToPrecision=f.__private__.roundToPrecision=function(z,de){var _e=e||de;if(isNaN(z)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(_e).replace(/0+$/,"")};E=f.hpf=f.__private__.hpf=typeof c=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return R(z,c)}:c==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return R(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return R(z,16)};var I=f.f2=f.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return R(z,2)},L=f.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return R(z,3)},U=f.scale=f.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return N===w?z*We:N===S?z:void 0},$=function(z){return U(function(de){return N===w?Ha()-de:N===S?de:void 0}(z))};f.__private__.setPrecision=f.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(e=parseInt(z,10))};var q,G="00000000000000000000000000000000",W=f.__private__.getFileId=function(){return G},B=f.__private__.setFileId=function(z){return G=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Hs=new Qx(d.userPermissions,d.userPassword,d.ownerPassword,G)),G};f.setFileId=function(z){return B(z),this},f.getFileId=function(){return W()};var O=f.__private__.convertDateToPDFDate=function(z){var de=z.getTimezoneOffset(),_e=de<0?"+":"-",Be=Math.floor(Math.abs(de/60)),qe=Math.abs(de%60),pt=[_e,ie(Be),"'",ie(qe),"'"].join("");return["D:",z.getFullYear(),ie(z.getMonth()+1),ie(z.getDate()),ie(z.getHours()),ie(z.getMinutes()),ie(z.getSeconds()),pt].join("")},K=f.__private__.convertPDFDateToDate=function(z){var de=parseInt(z.substr(2,4),10),_e=parseInt(z.substr(6,2),10)-1,Be=parseInt(z.substr(8,2),10),qe=parseInt(z.substr(10,2),10),pt=parseInt(z.substr(12,2),10),gt=parseInt(z.substr(14,2),10);return new Date(de,_e,Be,qe,pt,gt,0)},Y=f.__private__.setCreationDate=function(z){var de;if(z===void 0&&(z=new Date),z instanceof Date)de=O(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");de=z}return q=de},D=f.__private__.getCreationDate=function(z){var de=q;return z==="jsDate"&&(de=K(q)),de};f.setCreationDate=function(z){return Y(z),this},f.getCreationDate=function(z){return D(z)};var Z,ie=f.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},he=f.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},J=0,ae=[],ne=[],se=0,Q=[],re=[],le=!1,ve=ne;f.__private__.setCustomOutputDestination=function(z){le=!0,ve=z};var fe=function(z){le||(ve=z)};f.__private__.resetCustomOutputDestination=function(){le=!1,ve=ne};var X=f.__private__.out=function(z){return z=z.toString(),se+=z.length+1,ve.push(z),ve},ce=f.__private__.write=function(z){return X(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},Pe=f.__private__.getArrayBuffer=function(z){for(var de=z.length,_e=new ArrayBuffer(de),Be=new Uint8Array(_e);de--;)Be[de]=z.charCodeAt(de);return _e},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ke};var oe=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(z){return oe=N===S?z/We:z,this};var Oe,Ie=f.__private__.getFontSize=f.getFontSize=function(){return N===w?oe:oe*We},He=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(z){return He=z,this},f.__private__.getR2L=f.getR2L=function(){return He};var nt,ft=f.__private__.setZoomMode=function(z){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))Oe=z;else if(isNaN(z)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');Oe=z}else Oe=parseInt(z,10)};f.__private__.getZoomMode=function(){return Oe};var Fe,Ae=f.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');nt=z};f.__private__.getPageMode=function(){return nt};var it=f.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');Fe=z};f.__private__.getLayoutMode=function(){return Fe},f.__private__.setDisplayMode=f.setDisplayMode=function(z,de,_e){return ft(z),it(de),Ae(_e),this};var Ee={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(z){if(Object.keys(Ee).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ee[z]},f.__private__.getDocumentProperties=function(){return Ee},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(z){for(var de in Ee)Ee.hasOwnProperty(de)&&z[de]&&(Ee[de]=z[de]);return this},f.__private__.setDocumentProperty=function(z,de){if(Object.keys(Ee).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ee[z]=de};var Re,We,Ge,ze,ot,lt={},yt={},Pt=[],ct={},zt={},jt={},At={},Ht=null,Vt=0,It=[],Qt=new OU(f),Ut=t.hotfixes||[],Zt={},Te={},vt=[],Ct=function z(de,_e,Be,qe,pt,gt){if(!(this instanceof z))return new z(de,_e,Be,qe,pt,gt);isNaN(de)&&(de=1),isNaN(_e)&&(_e=0),isNaN(Be)&&(Be=0),isNaN(qe)&&(qe=1),isNaN(pt)&&(pt=0),isNaN(gt)&&(gt=0),this._matrix=[de,_e,Be,qe,pt,gt]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(z)},Ct.prototype.multiply=function(z){var de=z.sx*this.sx+z.shy*this.shx,_e=z.sx*this.shy+z.shy*this.sy,Be=z.shx*this.sx+z.sy*this.shx,qe=z.shx*this.shy+z.sy*this.sy,pt=z.tx*this.sx+z.ty*this.shx+this.tx,gt=z.tx*this.shy+z.ty*this.sy+this.ty;return new Ct(de,_e,Be,qe,pt,gt)},Ct.prototype.decompose=function(){var z=this.sx,de=this.shy,_e=this.shx,Be=this.sy,qe=this.tx,pt=this.ty,gt=Math.sqrt(z*z+de*de),sr=(z/=gt)*_e+(de/=gt)*Be;_e-=z*sr,Be-=de*sr;var tr=Math.sqrt(_e*_e+Be*Be);return sr/=tr,z*(Be/=tr)<de*(_e/=tr)&&(z=-z,de=-de,sr=-sr,gt=-gt),{scale:new Ct(gt,0,0,tr,0,0),translate:new Ct(1,0,0,1,qe,pt),rotate:new Ct(z,de,-de,z,0,0),skew:new Ct(1,0,sr,1,0,0)}},Ct.prototype.toString=function(z){return this.join(" ")},Ct.prototype.inversed=function(){var z=this.sx,de=this.shy,_e=this.shx,Be=this.sy,qe=this.tx,pt=this.ty,gt=1/(z*Be-de*_e),sr=Be*gt,tr=-de*gt,Ur=-_e*gt,Kr=z*gt;return new Ct(sr,tr,Ur,Kr,-sr*qe-Ur*pt,-tr*qe-Kr*pt)},Ct.prototype.applyToPoint=function(z){var de=z.x*this.sx+z.y*this.shx+this.tx,_e=z.x*this.shy+z.y*this.sy+this.ty;return new Ci(de,_e)},Ct.prototype.applyToRectangle=function(z){var de=this.applyToPoint(z),_e=this.applyToPoint(new Ci(z.x+z.w,z.y+z.h));return new Gl(de.x,de.y,_e.x-de.x,_e.y-de.y)},Ct.prototype.clone=function(){var z=this.sx,de=this.shy,_e=this.shx,Be=this.sy,qe=this.tx,pt=this.ty;return new Ct(z,de,_e,Be,qe,pt)},f.Matrix=Ct;var qt=f.matrixMult=function(z,de){return de.multiply(z)},Nr=new Ct(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Nr;var Or=function(z,de){if(!zt[z]){var _e=(de instanceof Qm?"Sh":"P")+(Object.keys(ct).length+1).toString(10);de.id=_e,zt[z]=_e,ct[_e]=de,Qt.publish("addPattern",de)}};f.ShadingPattern=Qm,f.TilingPattern=v0,f.addShadingPattern=function(z,de){return T("addShadingPattern()"),Or(z,de),this},f.beginTilingPattern=function(z){T("beginTilingPattern()"),Yi(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},f.endTilingPattern=function(z,de){T("endTilingPattern()"),de.stream=re[Z].join(`
`),Or(z,de),Qt.publish("endTilingPattern",de),vt.pop().restore()};var fr,lr=f.__private__.newObject=function(){var z=br();return er(z,!0),z},br=f.__private__.newObjectDeferred=function(){return J++,ae[J]=function(){return se},J},er=function(z,de){return de=typeof de=="boolean"&&de,ae[z]=se,de&&X(z+" 0 obj"),z},bn=f.__private__.newAdditionalObject=function(){var z={objId:br(),content:""};return Q.push(z),z},ls=br(),Qs=br(),ya=f.__private__.decodeColorString=function(z){var de=z.split(" ");if(de.length!==2||de[1]!=="g"&&de[1]!=="G")de.length!==5||de[4]!=="k"&&de[4]!=="K"||(de=[(1-de[0])*(1-de[3]),(1-de[1])*(1-de[3]),(1-de[2])*(1-de[3]),"r"]);else{var _e=parseFloat(de[0]);de=[_e,_e,_e,"r"]}for(var Be="#",qe=0;qe<3;qe++)Be+=("0"+Math.floor(255*parseFloat(de[qe])).toString(16)).slice(-2);return Be},qi=f.__private__.encodeColorString=function(z){var de;typeof z=="string"&&(z={ch1:z});var _e=z.ch1,Be=z.ch2,qe=z.ch3,pt=z.ch4,gt=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var sr=new Wse(_e);if(sr.ok)_e=sr.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var tr=parseInt(_e.substr(1),16);_e=tr>>16&255,Be=tr>>8&255,qe=255&tr}if(Be===void 0||pt===void 0&&_e===Be&&Be===qe)de=typeof _e=="string"?_e+" "+gt[0]:z.precision===2?I(_e/255)+" "+gt[0]:L(_e/255)+" "+gt[0];else if(pt===void 0||is(pt)==="object"){if(pt&&!isNaN(pt.a)&&pt.a===0)return["1.","1.","1.",gt[1]].join(" ");de=typeof _e=="string"?[_e,Be,qe,gt[1]].join(" "):z.precision===2?[I(_e/255),I(Be/255),I(qe/255),gt[1]].join(" "):[L(_e/255),L(Be/255),L(qe/255),gt[1]].join(" ")}else de=typeof _e=="string"?[_e,Be,qe,pt,gt[2]].join(" "):z.precision===2?[I(_e),I(Be),I(qe),I(pt),gt[2]].join(" "):[L(_e),L(Be),L(qe),L(pt),gt[2]].join(" ");return de},za=f.__private__.getFilters=function(){return o},zo=f.__private__.putStream=function(z){var de=(z=z||{}).data||"",_e=z.filters||za(),Be=z.alreadyAppliedFilters||[],qe=z.addLength1||!1,pt=de.length,gt=z.objectId,sr=function(hi){return hi};if(d!==null&&gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(sr=Hs.encryptor(gt,0));var tr={};_e===!0&&(_e=["FlateEncode"]);var Ur=z.additionalKeyValues||[],Kr=(tr=_r.API.processDataByFilters!==void 0?_r.API.processDataByFilters(de,_e):{data:de,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(tr.data.length!==0&&(Ur.push({key:"Length",value:tr.data.length}),qe===!0&&Ur.push({key:"Length1",value:pt})),Kr.length!=0)if(Kr.split("/").length-1==1)Ur.push({key:"Filter",value:Kr});else{Ur.push({key:"Filter",value:"["+Kr+"]"});for(var xn=0;xn<Ur.length;xn+=1)if(Ur[xn].key==="DecodeParms"){for(var hs=[],ti=0;ti<tr.reverseChain.split("/").length-1;ti+=1)hs.push("null");hs.push(Ur[xn].value),Ur[xn].value="["+hs.join(" ")+"]"}}X("<<");for(var Yn=0;Yn<Ur.length;Yn++)X("/"+Ur[Yn].key+" "+Ur[Yn].value);X(">>"),tr.data.length!==0&&(X("stream"),X(sr(tr.data)),X("endstream"))},Hn=f.__private__.putPage=function(z){var de=z.number,_e=z.data,Be=z.objId,qe=z.contentsObjId;er(Be,!0),X("<</Type /Page"),X("/Parent "+z.rootDictionaryObjId+" 0 R"),X("/Resources "+z.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(E(z.mediaBox.bottomLeftX))+" "+parseFloat(E(z.mediaBox.bottomLeftY))+" "+E(z.mediaBox.topRightX)+" "+E(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&X("/CropBox ["+E(z.cropBox.bottomLeftX)+" "+E(z.cropBox.bottomLeftY)+" "+E(z.cropBox.topRightX)+" "+E(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&X("/BleedBox ["+E(z.bleedBox.bottomLeftX)+" "+E(z.bleedBox.bottomLeftY)+" "+E(z.bleedBox.topRightX)+" "+E(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&X("/TrimBox ["+E(z.trimBox.bottomLeftX)+" "+E(z.trimBox.bottomLeftY)+" "+E(z.trimBox.topRightX)+" "+E(z.trimBox.topRightY)+"]"),z.artBox!==null&&X("/ArtBox ["+E(z.artBox.bottomLeftX)+" "+E(z.artBox.bottomLeftY)+" "+E(z.artBox.topRightX)+" "+E(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&X("/UserUnit "+z.userUnit),Qt.publish("putPage",{objId:Be,pageContext:It[de],pageNumber:de,page:_e}),X("/Contents "+qe+" 0 R"),X(">>"),X("endobj");var pt=_e.join(`
`);return N===S&&(pt+=`
Q`),er(qe,!0),zo({data:pt,filters:za(),objectId:qe}),X("endobj"),Be},Uo=f.__private__.putPages=function(){var z,de,_e=[];for(z=1;z<=Vt;z++)It[z].objId=br(),It[z].contentsObjId=br();for(z=1;z<=Vt;z++)_e.push(Hn({number:z,data:re[z],objId:It[z].objId,contentsObjId:It[z].contentsObjId,mediaBox:It[z].mediaBox,cropBox:It[z].cropBox,bleedBox:It[z].bleedBox,trimBox:It[z].trimBox,artBox:It[z].artBox,userUnit:It[z].userUnit,rootDictionaryObjId:ls,resourceDictionaryObjId:Qs}));er(ls,!0),X("<</Type /Pages");var Be="/Kids [";for(de=0;de<Vt;de++)Be+=_e[de]+" 0 R ";X(Be+"]"),X("/Count "+Vt),X(">>"),X("endobj"),Qt.publish("postPutPages")},Ec=function(z){Qt.publish("putFont",{font:z,out:X,newObject:lr,putStream:zo}),z.isAlreadyPutted!==!0&&(z.objectNumber=lr(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Jx(z.postScriptName)),X("/Subtype /Type1"),typeof z.encoding=="string"&&X("/Encoding /"+z.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Ni=function(z){z.objectNumber=lr();var de=[];de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Form"}),de.push({key:"BBox",value:"["+[E(z.x),E(z.y),E(z.x+z.width),E(z.y+z.height)].join(" ")+"]"}),de.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var _e=z.pages[1].join(`
`);zo({data:_e,additionalKeyValues:de,objectId:z.objectNumber}),X("endobj")},oo=function(z,de){de||(de=21);var _e=lr(),Be=function(gt,sr){var tr,Ur=[],Kr=1/(sr-1);for(tr=0;tr<1;tr+=Kr)Ur.push(tr);if(Ur.push(1),gt[0].offset!=0){var xn={offset:0,color:gt[0].color};gt.unshift(xn)}if(gt[gt.length-1].offset!=1){var hs={offset:1,color:gt[gt.length-1].color};gt.push(hs)}for(var ti="",Yn=0,hi=0;hi<Ur.length;hi++){for(tr=Ur[hi];tr>gt[Yn+1].offset;)Yn++;var fs=gt[Yn].offset,_i=(tr-fs)/(gt[Yn+1].offset-fs),Mu=gt[Yn].color,ho=gt[Yn+1].color;ti+=he(Math.round((1-_i)*Mu[0]+_i*ho[0]).toString(16))+he(Math.round((1-_i)*Mu[1]+_i*ho[1]).toString(16))+he(Math.round((1-_i)*Mu[2]+_i*ho[2]).toString(16))}return ti.trim()}(z.colors,de),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+de+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zo({data:Be,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),X("endobj"),z.objectNumber=lr(),X("<< /ShadingType "+z.type),X("/ColorSpace /DeviceRGB");var pt="/Coords ["+E(parseFloat(z.coords[0]))+" "+E(parseFloat(z.coords[1]))+" ";z.type===2?pt+=E(parseFloat(z.coords[2]))+" "+E(parseFloat(z.coords[3])):pt+=E(parseFloat(z.coords[2]))+" "+E(parseFloat(z.coords[3]))+" "+E(parseFloat(z.coords[4]))+" "+E(parseFloat(z.coords[5])),X(pt+="]"),z.matrix&&X("/Matrix ["+z.matrix.toString()+"]"),X("/Function "+_e+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Nn=function(z,de){var _e=br(),Be=lr();de.push({resourcesOid:_e,objectOid:Be}),z.objectNumber=Be;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+z.boundingBox.map(E).join(" ")+"]"}),qe.push({key:"XStep",value:E(z.xStep)}),qe.push({key:"YStep",value:E(z.yStep)}),qe.push({key:"Resources",value:_e+" 0 R"}),z.matrix&&qe.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),zo({data:z.stream,additionalKeyValues:qe,objectId:z.objectNumber}),X("endobj")},Tc=function(z){for(var de in z.objectNumber=lr(),X("<<"),z)switch(de){case"opacity":X("/ca "+I(z[de]));break;case"stroke-opacity":X("/CA "+I(z[de]))}X(">>"),X("endobj")},Bd=function(z){er(z.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var de in X("/Font <<"),lt)lt.hasOwnProperty(de)&&(h===!1||h===!0&&p.hasOwnProperty(de))&&X("/"+de+" "+lt[de].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(ct).length>0){for(var de in X("/Shading <<"),ct)ct.hasOwnProperty(de)&&ct[de]instanceof Qm&&ct[de].objectNumber>=0&&X("/"+de+" "+ct[de].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),X(">>")}}(),function(de){if(Object.keys(ct).length>0){for(var _e in X("/Pattern <<"),ct)ct.hasOwnProperty(_e)&&ct[_e]instanceof f.TilingPattern&&ct[_e].objectNumber>=0&&ct[_e].objectNumber<de&&X("/"+_e+" "+ct[_e].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),X(">>")}}(z.objectOid),function(){if(Object.keys(jt).length>0){var de;for(de in X("/ExtGState <<"),jt)jt.hasOwnProperty(de)&&jt[de].objectNumber>=0&&X("/"+de+" "+jt[de].objectNumber+" 0 R");Qt.publish("putGStateDict"),X(">>")}}(),function(){for(var de in X("/XObject <<"),Zt)Zt.hasOwnProperty(de)&&Zt[de].objectNumber>=0&&X("/"+de+" "+Zt[de].objectNumber+" 0 R");Qt.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},lo=function(z){yt[z.fontName]=yt[z.fontName]||{},yt[z.fontName][z.fontStyle]=z.id},Ul=function(z,de,_e,Be,qe){var pt={id:"F"+(Object.keys(lt).length+1).toString(10),postScriptName:z,fontName:de,fontStyle:_e,encoding:Be,isStandardFont:qe||!1,metadata:{}};return Qt.publish("addFont",{font:pt,instance:this}),lt[pt.id]=pt,lo(pt),pt.id},Bi=f.__private__.pdfEscape=f.pdfEscape=function(z,de){return function(_e,Be){var qe,pt,gt,sr,tr,Ur,Kr,xn,hs;if(gt=(Be=Be||{}).sourceEncoding||"Unicode",tr=Be.outputEncoding,(Be.autoencode||tr)&&lt[Re].metadata&&lt[Re].metadata[gt]&&lt[Re].metadata[gt].encoding&&(sr=lt[Re].metadata[gt].encoding,!tr&&lt[Re].encoding&&(tr=lt[Re].encoding),!tr&&sr.codePages&&(tr=sr.codePages[0]),typeof tr=="string"&&(tr=sr[tr]),tr)){for(Kr=!1,Ur=[],qe=0,pt=_e.length;qe<pt;qe++)(xn=tr[_e.charCodeAt(qe)])?Ur.push(String.fromCharCode(xn)):Ur.push(_e[qe]),Ur[qe].charCodeAt(0)>>8&&(Kr=!0);_e=Ur.join("")}for(qe=_e.length;Kr===void 0&&qe!==0;)_e.charCodeAt(qe-1)>>8&&(Kr=!0),qe--;if(!Kr)return _e;for(Ur=Be.noBOM?[]:[254,255],qe=0,pt=_e.length;qe<pt;qe++){if((hs=(xn=_e.charCodeAt(qe))>>8)>>8)throw new Error("Character at position "+qe+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ur.push(hs),Ur.push(xn-(hs<<8))}return String.fromCharCode.apply(void 0,Ur)}(z,de).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gl=f.__private__.beginPage=function(z){re[++Vt]=[],It[Vt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},Wl(Vt),fe(re[Z])},xl=function(z,de){var _e,Be,qe;switch(r=de||r,typeof z=="string"&&(_e=x(z.toLowerCase()),Array.isArray(_e)&&(Be=_e[0],qe=_e[1])),Array.isArray(z)&&(Be=z[0]*We,qe=z[1]*We),isNaN(Be)&&(Be=s[0],qe=s[1]),(Be>14400||qe>14400)&&(ms.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),qe=Math.min(14400,qe)),s=[Be,qe],r.substr(0,1)){case"l":qe>Be&&(s=[qe,Be]);break;case"p":Be>qe&&(s=[qe,Be])}gl(s),Xe(De),X(ei),$i!==0&&X($i+" J"),zi!==0&&X(zi+" j"),Qt.publish("addPage",{pageNumber:Vt})},ku=function(z){z>0&&z<=Vt&&(re.splice(z,1),It.splice(z,1),Vt--,Z>Vt&&(Z=Vt),this.setPage(Z))},Wl=function(z){z>0&&z<=Vt&&(Z=z)},Wo=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return re.length-1},Ln=function(z,de,_e){var Be,qe=void 0;return _e=_e||{},z=z!==void 0?z:lt[Re].fontName,de=de!==void 0?de:lt[Re].fontStyle,Be=z.toLowerCase(),yt[Be]!==void 0&&yt[Be][de]!==void 0?qe=yt[Be][de]:yt[z]!==void 0&&yt[z][de]!==void 0?qe=yt[z][de]:_e.disableWarning===!1&&ms.warn("Unable to look up font label for font '"+z+"', '"+de+"'. Refer to getFontList() for available fonts."),qe||_e.noFallback||(qe=yt.times[de])==null&&(qe=yt.times.normal),qe},un=f.__private__.putInfo=function(){var z=lr(),de=function(Be){return Be};for(var _e in d!==null&&(de=Hs.encryptor(z,0)),X("<<"),X("/Producer ("+Bi(de("jsPDF "+_r.version))+")"),Ee)Ee.hasOwnProperty(_e)&&Ee[_e]&&X("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+Bi(de(Ee[_e]))+")");X("/CreationDate ("+Bi(de(q))+")"),X(">>"),X("endobj")},Ua=f.__private__.putCatalog=function(z){var de=(z=z||{}).rootDictionaryObjId||ls;switch(lr(),X("<<"),X("/Type /Catalog"),X("/Pages "+de+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+Oe;_e.substr(_e.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&X("/OpenAction [3 0 R /XYZ null null "+I(Oe)+"]")}switch(Fe||(Fe="continuous"),Fe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}nt&&X("/PageMode /"+nt),Qt.publish("putCatalog"),X(">>"),X("endobj")},ci=f.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(J+1)),X("/Root "+J+" 0 R"),X("/Info "+(J-1)+" 0 R"),d!==null&&X("/Encrypt "+Hs.oid+" 0 R"),X("/ID [ <"+G+"> <"+G+"> ]"),X(">>")},gn=f.__private__.putHeader=function(){X("%PDF-"+m),X("%")},Go=f.__private__.putXRef=function(){var z="0000000000";X("xref"),X("0 "+(J+1)),X("0000000000 65535 f ");for(var de=1;de<=J;de++)typeof ae[de]=="function"?X((z+ae[de]()).slice(-10)+" 00000 n "):ae[de]!==void 0?X((z+ae[de]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Gs=f.__private__.buildDocument=function(){var z;J=0,se=0,ne=[],ae=[],Q=[],ls=br(),Qs=br(),fe(ne),Qt.publish("buildDocument"),gn(),Uo(),function(){Qt.publish("putAdditionalObjects");for(var _e=0;_e<Q.length;_e++){var Be=Q[_e];er(Be.objId,!0),X(Be.content),X("endobj")}Qt.publish("postPutAdditionalObjects")}(),z=[],function(){for(var _e in lt)lt.hasOwnProperty(_e)&&(h===!1||h===!0&&p.hasOwnProperty(_e))&&Ec(lt[_e])}(),function(){var _e;for(_e in jt)jt.hasOwnProperty(_e)&&Tc(jt[_e])}(),function(){for(var _e in Zt)Zt.hasOwnProperty(_e)&&Ni(Zt[_e])}(),function(_e){var Be;for(Be in ct)ct.hasOwnProperty(Be)&&(ct[Be]instanceof Qm?oo(ct[Be]):ct[Be]instanceof v0&&Nn(ct[Be],_e))}(z),Qt.publish("putResources"),z.forEach(Bd),Bd({resourcesOid:Qs,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources"),d!==null&&(Hs.oid=lr(),X("<<"),X("/Filter /Standard"),X("/V "+Hs.v),X("/R "+Hs.r),X("/U <"+Hs.toHexString(Hs.U)+">"),X("/O <"+Hs.toHexString(Hs.O)+">"),X("/P "+Hs.P),X(">>"),X("endobj")),un(),Ua();var de=se;return Go(),ci(),X("startxref"),X(""+de),X("%%EOF"),fe(re[Z]),ne.join(`
`)},Js=f.__private__.getBlob=function(z){return new Blob([Pe(z)],{type:"application/pdf"})},Pu=f.output=f.__private__.output=(fr=function(z,de){switch(typeof(de=de||{})=="string"?de={filename:de}:de.filename=de.filename||"generated.pdf",z){case void 0:return Gs();case"save":f.save(de.filename);break;case"arraybuffer":return Pe(Gs());case"blob":return Js(Gs());case"bloburi":case"bloburl":if(Gr.URL!==void 0&&typeof Gr.URL.createObjectURL=="function")return Gr.URL&&Gr.URL.createObjectURL(Js(Gs()))||void 0;ms.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Be=Gs();try{_e=TU(Be)}catch{_e=TU(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+de.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';de.pdfObjectUrl&&(qe=de.pdfObjectUrl,pt="");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(de)+");<\/script></body></html>",sr=Gr.open();return sr!==null&&sr.document.write(gt),sr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(de.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+de.filename+'" width="500px" height="400px" /></body></html>',Ur=Gr.open();if(Ur!==null){Ur.document.write(tr);var Kr=this;Ur.document.documentElement.querySelector("#pdfViewer").onload=function(){Ur.document.title=de.filename,Ur.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Kr.output("bloburl"))}}return Ur}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",de)+'"></iframe></body></html>',hs=Gr.open();if(hs!==null&&(hs.document.write(xn),hs.document.title=de.filename),hs||typeof safari>"u")return hs;break;case"datauri":case"dataurl":return Gr.document.location.href=this.output("datauristring",de);default:return null}},fr.foo=function(){try{return fr.apply(this,arguments)}catch(_e){var z=_e.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var de="Error in function "+z.split(`
`)[0].split("<")[0]+": "+_e.message;if(!Gr.console)throw new Error(de);Gr.console.error(de,_e),Gr.alert&&alert(de)}},fr.foo.bar=fr,fr.foo),Wa=function(z){return Array.isArray(Ut)===!0&&Ut.indexOf(z)>-1};switch(n){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=Wa("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);We=n}var Hs=null;Y(),B();var co=f.__private__.getPageInfo=f.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[z].objId,pageNumber:z,pageContext:It[z]}},Ph=f.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var de in It)if(It[de].objId===z)break;return co(de)},Ga=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:It[Z].objId,pageNumber:Z,pageContext:It[Z]}};f.addPage=function(){return xl.apply(this,arguments),this},f.setPage=function(){return Wl.apply(this,arguments),fe.call(this,re[Z]),this},f.insertPage=function(z){return this.addPage(),this.movePage(Z,z),this},f.movePage=function(z,de){var _e,Be;if(z>de){_e=re[z],Be=It[z];for(var qe=z;qe>de;qe--)re[qe]=re[qe-1],It[qe]=It[qe-1];re[de]=_e,It[de]=Be,this.setPage(de)}else if(z<de){_e=re[z],Be=It[z];for(var pt=z;pt<de;pt++)re[pt]=re[pt+1],It[pt]=It[pt+1];re[de]=_e,It[de]=Be,this.setPage(de)}return this},f.deletePage=function(){return ku.apply(this,arguments),this},f.__private__.text=f.text=function(z,de,_e,Be,qe){var pt,gt,sr,tr,Ur,Kr,xn,hs,ti,Yn=(Be=Be||{}).scope||this;if(typeof z=="number"&&typeof de=="number"&&(typeof _e=="string"||Array.isArray(_e))){var hi=_e;_e=de,de=z,z=hi}if(arguments[3]instanceof Ct==0?(sr=arguments[4],tr=arguments[5],is(xn=arguments[3])==="object"&&xn!==null||(typeof sr=="string"&&(tr=sr,sr=null),typeof xn=="string"&&(tr=xn,xn=null),typeof xn=="number"&&(sr=xn,xn=null),Be={flags:xn,angle:sr,align:tr})):(T("The transform parameter of text() with a Matrix value"),ti=qe),isNaN(de)||isNaN(_e)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return Yn;var fs,_i="",Mu=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:Se,ho=Yn.internal.scaleFactor;function Ou(hn){return hn=hn.split("	").join(Array(Be.TabLen||9).join(" ")),Bi(hn,xn)}function Lu(hn){for(var $r,an=hn.concat(),fn=[],Cl=an.length;Cl--;)typeof($r=an.shift())=="string"?fn.push($r):Array.isArray(hn)&&($r.length===1||$r[1]===void 0&&$r[2]===void 0)?fn.push($r[0]):fn.push([$r[0],$r[1],$r[2]]);return fn}function Ru(hn,$r){var an;if(typeof hn=="string")an=$r(hn)[0];else if(Array.isArray(hn)){for(var fn,Cl,Wu=hn.concat(),Wc=[],fx=Wu.length;fx--;)typeof(fn=Wu.shift())=="string"?Wc.push($r(fn)[0]):Array.isArray(fn)&&typeof fn[0]=="string"&&(Cl=$r(fn[0],fn[1],fn[2]),Wc.push([Cl[0],Cl[1],Cl[2]]));an=Wc}return an}var Du=!1,Ud=!0;if(typeof z=="string")Du=!0;else if(Array.isArray(z)){var jl=z.concat();gt=[];for(var Fu,fi=jl.length;fi--;)(typeof(Fu=jl.shift())!="string"||Array.isArray(Fu)&&typeof Fu[0]!="string")&&(Ud=!1);Du=Ud}if(Du===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var Dc=oe/Yn.internal.scaleFactor,Sl=Dc*(Mu-1);switch(Be.baseline){case"bottom":_e-=Sl;break;case"top":_e+=Dc-Sl;break;case"hanging":_e+=Dc-2*Sl;break;case"middle":_e+=Dc/2-Sl}if((Kr=Be.maxWidth||0)>0&&(typeof z=="string"?z=Yn.splitTextToSize(z,Kr):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce(function(hn,$r){return hn.concat(Yn.splitTextToSize($r,Kr))},[]))),pt={text:z,x:de,y:_e,options:Be,mutex:{pdfEscape:Bi,activeFontKey:Re,fonts:lt,activeFontSize:oe}},Qt.publish("preProcessText",pt),z=pt.text,sr=(Be=pt.options).angle,ti instanceof Ct==0&&sr&&typeof sr=="number"){sr*=Math.PI/180,Be.rotationDirection===0&&(sr=-sr),N===S&&(sr=-sr);var Th=Math.cos(sr),Ih=Math.sin(sr);ti=new Ct(Th,Ih,-Ih,Th,0,0)}else sr&&sr instanceof Ct&&(ti=sr);N!==S||ti||(ti=Nr),(Ur=Be.charSpace||es)!==void 0&&(_i+=E(U(Ur))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hs=Be.horizontalScale)!==void 0&&(_i+=E(100*hs)+` Tz
`),Be.lang;var ba=-1,Vl=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,Wd=Yn.internal.getCurrentPageInfo().pageContext;switch(Vl){case 0:case!1:case"fill":ba=0;break;case 1:case!0:case"stroke":ba=1;break;case 2:case"fillThenStroke":ba=2;break;case 3:case"invisible":ba=3;break;case 4:case"fillAndAddForClipping":ba=4;break;case 5:case"strokeAndAddPathForClipping":ba=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ba=6;break;case 7:case"addToPathForClipping":ba=7}var Bu=Wd.usedRenderingMode!==void 0?Wd.usedRenderingMode:-1;ba!==-1?_i+=ba+` Tr
`:Bu!==-1&&(_i+=`0 Tr
`),ba!==-1&&(Wd.usedRenderingMode=ba),tr=Be.align||"left";var ks,Ho=oe*Mu,Mh=Yn.internal.pageSize.getWidth(),Uf=lt[Re];Ur=Be.charSpace||es,Kr=Be.maxWidth||0,xn=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var Ki=[],fo=function(hn){return Yn.getStringUnitWidth(hn,{font:Uf,charSpace:Ur,fontSize:oe,doKerning:!1})*oe/ho};if(Object.prototype.toString.call(z)==="[object Array]"){var Va;gt=Lu(z),tr!=="left"&&(ks=gt.map(fo));var po,wa=0;if(tr==="right"){de-=ks[0],z=[],fi=gt.length;for(var ja=0;ja<fi;ja++)ja===0?(po=Jt(de),Va=ar(_e)):(po=U(wa-ks[ja]),Va=-Ho),z.push([gt[ja],po,Va]),wa=ks[ja]}else if(tr==="center"){de-=ks[0]/2,z=[],fi=gt.length;for(var ql=0;ql<fi;ql++)ql===0?(po=Jt(de),Va=ar(_e)):(po=U((wa-ks[ql])/2),Va=-Ho),z.push([gt[ql],po,Va]),wa=ks[ql]}else if(tr==="left"){z=[],fi=gt.length;for(var Wf=0;Wf<fi;Wf++)z.push(gt[Wf])}else if(tr==="justify"&&Uf.encoding==="Identity-H"){z=[],fi=gt.length,Kr=Kr!==0?Kr:Mh;for(var $u=0,Vs=0;Vs<fi;Vs++)if(Va=Vs===0?ar(_e):-Ho,po=Vs===0?Jt(de):$u,Vs<fi-1){var Gd=U((Kr-ks[Vs])/(gt[Vs].split(" ").length-1)),ri=gt[Vs].split(" ");z.push([ri[0]+" ",po,Va]),$u=0;for(var mo=1;mo<ri.length;mo++){var Fc=(fo(ri[mo-1]+" "+ri[mo])-fo(ri[mo]))*ho+Gd;mo==ri.length-1?z.push([ri[mo],Fc,0]):z.push([ri[mo]+" ",Fc,0]),$u-=Fc}}else z.push([gt[Vs],po,Va]);z.push(["",$u,0])}else{if(tr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],fi=gt.length,Kr=Kr!==0?Kr:Mh,Vs=0;Vs<fi;Vs++){Va=Vs===0?ar(_e):-Ho,po=Vs===0?Jt(de):0;var go=gt[Vs].split(" ").length-1,Oh=go>0?(Kr-ks[Vs])/go:0;Vs<fi-1?Ki.push(E(U(Oh))):Ki.push(0),z.push([gt[Vs],po,Va])}}}(typeof Be.R2L=="boolean"?Be.R2L:He)===!0&&(z=Ru(z,function(hn,$r,an){return[hn.split("").reverse().join(""),$r,an]})),pt={text:z,x:de,y:_e,options:Be,mutex:{pdfEscape:Bi,activeFontKey:Re,fonts:lt,activeFontSize:oe}},Qt.publish("postProcessText",pt),z=pt.text,fs=pt.mutex.isHex||!1;var Bc=lt[Re].encoding;Bc!=="WinAnsiEncoding"&&Bc!=="StandardEncoding"||(z=Ru(z,function(hn,$r,an){return[Ou(hn),$r,an]})),gt=Lu(z),z=[];for(var zu,$c,Rn,zc=Array.isArray(gt[0])?1:0,Uc="",Uu=function(hn,$r,an){var fn="";return an instanceof Ct?(an=typeof Be.angle=="number"?qt(an,new Ct(1,0,0,1,hn,$r)):qt(new Ct(1,0,0,1,hn,$r),an),N===S&&(an=qt(new Ct(1,0,0,-1,0,0),an)),fn=an.join(" ")+` Tm
`):fn=E(hn)+" "+E($r)+` Td
`,fn},qa=0;qa<gt.length;qa++){switch(Uc="",zc){case 1:Rn=(fs?"<":"(")+gt[qa][0]+(fs?">":")"),zu=parseFloat(gt[qa][1]),$c=parseFloat(gt[qa][2]);break;case 0:Rn=(fs?"<":"(")+gt[qa]+(fs?">":")"),zu=Jt(de),$c=ar(_e)}Ki!==void 0&&Ki[qa]!==void 0&&(Uc=Ki[qa]+` Tw
`),qa===0?z.push(Uc+Uu(zu,$c,ti)+Rn):zc===0?z.push(Uc+Rn):zc===1&&z.push(Uc+Uu(zu,$c,ti)+Rn)}z=zc===0?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var Nl=`BT
/`;return Nl+=Re+" "+oe+` Tf
`,Nl+=E(oe*Mu)+` TL
`,Nl+=qn+`
`,Nl+=_i,Nl+=z,X(Nl+="ET"),p[Re]=!0,Yn};var $d=f.__private__.clip=f.clip=function(z){return X(z==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return $d("evenodd")},f.__private__.discardPath=f.discardPath=function(){return X("n"),this};var yl=f.__private__.isValidStyle=function(z){var de=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(de=!0),de};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(z){return yl(z)&&(u=z),this};var Bf=f.__private__.getStyle=f.getStyle=function(z){var de=u;switch(z){case"D":case"S":de="S";break;case"F":de="f";break;case"FD":case"DF":de="B";break;case"f":case"f*":case"B":case"B*":de=z}return de},Ic=f.close=function(){return X("h"),this};f.stroke=function(){return X("S"),this},f.fill=function(z){return vl("f",z),this},f.fillEvenOdd=function(z){return vl("f*",z),this},f.fillStroke=function(z){return vl("B",z),this},f.fillStrokeEvenOdd=function(z){return vl("B*",z),this};var vl=function(z,de){is(de)==="object"?$f(de,z):X(z)},uo=function(z){z===null||N===S&&z===void 0||(z=Bf(z),X(z))};function Eu(z,de,_e,Be,qe){var pt=new v0(de||this.boundingBox,_e||this.xStep,Be||this.yStep,this.gState,qe||this.matrix);pt.stream=this.stream;var gt=z+"$$"+this.cloneIndex+++"$$";return Or(gt,pt),pt}var $f=function(z,de){var _e=zt[z.key],Be=ct[_e];if(Be instanceof Qm)X("q"),X(zf(de)),Be.gState&&f.setGState(Be.gState),X(z.matrix.toString()+" cm"),X("/"+_e+" sh"),X("Q");else if(Be instanceof v0){var qe=new Ct(1,0,0,-1,0,Ha());z.matrix&&(qe=qe.multiply(z.matrix||Nr),_e=Eu.call(Be,z.key,z.boundingBox,z.xStep,z.yStep,qe).id),X("q"),X("/Pattern cs"),X("/"+_e+" scn"),Be.gState&&f.setGState(Be.gState),X(de),X("Q")}},zf=function(z){switch(z){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Mc=f.moveTo=function(z,de){return X(E(U(z))+" "+E($(de))+" m"),this},zd=f.lineTo=function(z,de){return X(E(U(z))+" "+E($(de))+" l"),this},va=f.curveTo=function(z,de,_e,Be,qe,pt){return X([E(U(z)),E($(de)),E(U(_e)),E($(Be)),E(U(qe)),E($(pt)),"c"].join(" ")),this};f.__private__.line=f.line=function(z,de,_e,Be,qe){if(isNaN(z)||isNaN(de)||isNaN(_e)||isNaN(Be)||!yl(qe))throw new Error("Invalid arguments passed to jsPDF.line");return N===w?this.lines([[_e-z,Be-de]],z,de,[1,1],qe||"S"):this.lines([[_e-z,Be-de]],z,de,[1,1]).stroke()},f.__private__.lines=f.lines=function(z,de,_e,Be,qe,pt){var gt,sr,tr,Ur,Kr,xn,hs,ti,Yn,hi,fs,_i;if(typeof z=="number"&&(_i=_e,_e=de,de=z,z=_i),Be=Be||[1,1],pt=pt||!1,isNaN(de)||isNaN(_e)||!Array.isArray(z)||!Array.isArray(Be)||!yl(qe)||typeof pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Mc(de,_e),gt=Be[0],sr=Be[1],Ur=z.length,hi=de,fs=_e,tr=0;tr<Ur;tr++)(Kr=z[tr]).length===2?(hi=Kr[0]*gt+hi,fs=Kr[1]*sr+fs,zd(hi,fs)):(xn=Kr[0]*gt+hi,hs=Kr[1]*sr+fs,ti=Kr[2]*gt+hi,Yn=Kr[3]*sr+fs,hi=Kr[4]*gt+hi,fs=Kr[5]*sr+fs,va(xn,hs,ti,Yn,hi,fs));return pt&&Ic(),uo(qe),this},f.path=function(z){for(var de=0;de<z.length;de++){var _e=z[de],Be=_e.c;switch(_e.op){case"m":Mc(Be[0],Be[1]);break;case"l":zd(Be[0],Be[1]);break;case"c":va.apply(this,Be);break;case"h":Ic()}}return this},f.__private__.rect=f.rect=function(z,de,_e,Be,qe){if(isNaN(z)||isNaN(de)||isNaN(_e)||isNaN(Be)||!yl(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return N===w&&(Be=-Be),X([E(U(z)),E($(de)),E(U(_e)),E(U(Be)),"re"].join(" ")),uo(qe),this},f.__private__.triangle=f.triangle=function(z,de,_e,Be,qe,pt,gt){if(isNaN(z)||isNaN(de)||isNaN(_e)||isNaN(Be)||isNaN(qe)||isNaN(pt)||!yl(gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-z,Be-de],[qe-_e,pt-Be],[z-qe,de-pt]],z,de,[1,1],gt,!0),this},f.__private__.roundedRect=f.roundedRect=function(z,de,_e,Be,qe,pt,gt){if(isNaN(z)||isNaN(de)||isNaN(_e)||isNaN(Be)||isNaN(qe)||isNaN(pt)||!yl(gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var sr=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*_e),pt=Math.min(pt,.5*Be),this.lines([[_e-2*qe,0],[qe*sr,0,qe,pt-pt*sr,qe,pt],[0,Be-2*pt],[0,pt*sr,-qe*sr,pt,-qe,pt],[2*qe-_e,0],[-qe*sr,0,-qe,-pt*sr,-qe,-pt],[0,2*pt-Be],[0,-pt*sr,qe*sr,-pt,qe,-pt]],z+qe,de,[1,1],gt,!0),this},f.__private__.ellipse=f.ellipse=function(z,de,_e,Be,qe){if(isNaN(z)||isNaN(de)||isNaN(_e)||isNaN(Be)||!yl(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var pt=4/3*(Math.SQRT2-1)*_e,gt=4/3*(Math.SQRT2-1)*Be;return Mc(z+_e,de),va(z+_e,de-gt,z+pt,de-Be,z,de-Be),va(z-pt,de-Be,z-_e,de-gt,z-_e,de),va(z-_e,de+gt,z-pt,de+Be,z,de+Be),va(z+pt,de+Be,z+_e,de+gt,z+_e,de),uo(qe),this},f.__private__.circle=f.circle=function(z,de,_e,Be){if(isNaN(z)||isNaN(de)||isNaN(_e)||!yl(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,de,_e,_e,Be)},f.setFont=function(z,de,_e){return _e&&(de=k(de,_e)),Re=Ln(z,de,{disableWarning:!1}),this};var Oc=f.__private__.getFont=f.getFont=function(){return lt[Ln.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var z,de,_e={};for(z in yt)if(yt.hasOwnProperty(z))for(de in _e[z]=[],yt[z])yt[z].hasOwnProperty(de)&&_e[z].push(de);return _e},f.addFont=function(z,de,_e,Be,qe){var pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&pt.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&pt.indexOf(arguments[3])==-1&&(_e=k(_e,Be)),Ul.call(this,z,de,_e,qe=qe||"Identity-H")};var Se,De=t.lineWidth||.200025,Le=f.__private__.getLineWidth=f.getLineWidth=function(){return De},Xe=f.__private__.setLineWidth=f.setLineWidth=function(z){return De=z,X(E(U(z))+" w"),this};f.__private__.setLineDash=_r.API.setLineDash=_r.API.setLineDashPattern=function(z,de){if(z=z||[],de=de||0,isNaN(de)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map(function(_e){return E(U(_e))}).join(" "),de=E(U(de)),X("["+z+"] "+de+" d"),this};var kt=f.__private__.getLineHeight=f.getLineHeight=function(){return oe*Se};f.__private__.getLineHeight=f.getLineHeight=function(){return oe*Se};var cr=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(Se=z),this},pr=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Se};cr(t.lineHeight);var Jt=f.__private__.getHorizontalCoordinate=function(z){return U(z)},ar=f.__private__.getVerticalCoordinate=function(z){return N===S?z:It[Z].mediaBox.topRightY-It[Z].mediaBox.bottomLeftY-U(z)},Qn=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(z){return E(Jt(z))},Jn=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(z){return E(ar(z))},ei=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ya(ei)},f.__private__.setStrokeColor=f.setDrawColor=function(z,de,_e,Be){return ei=qi({ch1:z,ch2:de,ch3:_e,ch4:Be,pdfColorType:"draw",precision:2}),X(ei),this};var Vn=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ya(Vn)},f.__private__.setFillColor=f.setFillColor=function(z,de,_e,Be){return Vn=qi({ch1:z,ch2:de,ch3:_e,ch4:Be,pdfColorType:"fill",precision:2}),X(Vn),this};var qn=t.textColor||"0 g",Tn=f.__private__.getTextColor=f.getTextColor=function(){return ya(qn)};f.__private__.setTextColor=f.setTextColor=function(z,de,_e,Be){return qn=qi({ch1:z,ch2:de,ch3:_e,ch4:Be,pdfColorType:"text",precision:3}),this};var es=t.charSpace,bl=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(es||0)};f.__private__.setCharSpace=f.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return es=z,this};var $i=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(z){var de=f.CapJoinStyles[z];if(de===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $i=de,X(de+" J"),this};var zi=0;f.__private__.setLineJoin=f.setLineJoin=function(z){var de=f.CapJoinStyles[z];if(de===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zi=de,X(de+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(E(U(z))+" M"),this},f.GState=U4,f.setGState=function(z){(z=typeof z=="string"?jt[At[z]]:Tu(null,z)).equals(Ht)||(X("/"+z.id+" gs"),Ht=z)};var Tu=function(z,de){if(!z||!At[z]){var _e=!1;for(var Be in jt)if(jt.hasOwnProperty(Be)&&jt[Be].equals(de)){_e=!0;break}if(_e)de=jt[Be];else{var qe="GS"+(Object.keys(jt).length+1).toString(10);jt[qe]=de,de.id=qe}return z&&(At[z]=de.id),Qt.publish("addGState",de),de}};f.addGState=function(z,de){return Tu(z,de),this},f.saveGraphicsState=function(){return X("q"),Pt.push({key:Re,size:oe,color:qn}),this},f.restoreGraphicsState=function(){X("Q");var z=Pt.pop();return Re=z.key,oe=z.size,qn=z.color,Ht=null,this},f.setCurrentTransformationMatrix=function(z){return X(z.toString()+" cm"),this},f.comment=function(z){return X("#"+z),this};var Ci=function(z,de){var _e=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(pt){isNaN(pt)||(_e=parseFloat(pt))}});var Be=de||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(pt){isNaN(pt)||(Be=parseFloat(pt))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(pt){qe=pt.toString()}}),this},Gl=function(z,de,_e,Be){Ci.call(this,z,de),this.type="rect";var qe=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(gt){isNaN(gt)||(qe=parseFloat(gt))}});var pt=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return pt},set:function(gt){isNaN(gt)||(pt=parseFloat(gt))}}),this},Lc=function(){this.page=Vt,this.currentPage=Z,this.pages=re.slice(0),this.pagesContext=It.slice(0),this.x=Ge,this.y=ze,this.matrix=ot,this.width=Hl(Z),this.height=Eh(Z),this.outputDestination=ve,this.id="",this.objectNumber=-1};Lc.prototype.restore=function(){Vt=this.page,Z=this.currentPage,It=this.pagesContext,re=this.pages,Ge=this.x,ze=this.y,ot=this.matrix,Iu(Z,this.width),ui(Z,this.height),ve=this.outputDestination};var Yi=function(z,de,_e,Be,qe){vt.push(new Lc),Vt=Z=0,re=[],Ge=z,ze=de,ot=qe,gl([_e,Be])};for(var Xi in f.beginFormObject=function(z,de,_e,Be,qe){return Yi(z,de,_e,Be,qe),this},f.endFormObject=function(z){return function(de){if(Te[de])vt.pop().restore();else{var _e=new Lc,Be="Xo"+(Object.keys(Zt).length+1).toString(10);_e.id=Be,Te[de]=Be,Zt[Be]=_e,Qt.publish("addFormObject",_e),vt.pop().restore()}}(z),this},f.doFormObject=function(z,de){var _e=Zt[Te[z]];return X("q"),X(de.toString()+" cm"),X("/"+_e.id+" Do"),X("Q"),this},f.getFormObject=function(z){var de=Zt[Te[z]];return{x:de.x,y:de.y,width:de.width,height:de.height,matrix:de.matrix}},f.save=function(z,de){return z=z||"generated.pdf",(de=de||{}).returnPromise=de.returnPromise||!1,de.returnPromise===!1?(Ym(Js(Gs()),z),typeof Ym.unload=="function"&&Gr.setTimeout&&setTimeout(Ym.unload,911),this):new Promise(function(_e,Be){try{var qe=Ym(Js(Gs()),z);typeof Ym.unload=="function"&&Gr.setTimeout&&setTimeout(Ym.unload,911),_e(qe)}catch(pt){Be(pt.message)}})},_r.API)_r.API.hasOwnProperty(Xi)&&(Xi==="events"&&_r.API.events.length?function(z,de){var _e,Be,qe;for(qe=de.length-1;qe!==-1;qe--)_e=de[qe][0],Be=de[qe][1],z.subscribe.apply(z,[_e].concat(typeof Be=="function"?[Be]:Be))}(Qt,_r.API.events):f[Xi]=_r.API[Xi]);function Hl(z){return It[z].mediaBox.topRightX-It[z].mediaBox.bottomLeftX}function Iu(z,de){It[z].mediaBox.topRightX=de+It[z].mediaBox.bottomLeftX}function Eh(z){return It[z].mediaBox.topRightY-It[z].mediaBox.bottomLeftY}function ui(z,de){It[z].mediaBox.topRightY=de+It[z].mediaBox.bottomLeftY}var di=f.getPageWidth=function(z){return Hl(z=z||Z)/We},Rc=f.setPageWidth=function(z,de){Iu(z,de*We)},Ha=f.getPageHeight=function(z){return Eh(z=z||Z)/We},wl=f.setPageHeight=function(z,de){ui(z,de*We)};return f.internal={pdfEscape:Bi,getStyle:Bf,getFont:Oc,getFontSize:Ie,getCharSpace:bl,getTextColor:Tn,getLineHeight:kt,getLineHeightFactor:pr,getLineWidth:Le,write:ce,getHorizontalCoordinate:Jt,getVerticalCoordinate:ar,getCoordinateString:Qn,getVerticalCoordinateString:Jn,collections:{},newObject:lr,newAdditionalObject:bn,newObjectDeferred:br,newObjectDeferredBegin:er,getFilters:za,putStream:zo,events:Qt,scaleFactor:We,pageSize:{getWidth:function(){return di(Z)},setWidth:function(z){Rc(Z,z)},getHeight:function(){return Ha(Z)},setHeight:function(z){wl(Z,z)}},encryptionOptions:d,encryption:Hs,getEncryptor:function(z){return d!==null?Hs.encryptor(z,0):function(de){return de}},output:Pu,getNumberOfPages:Wo,get pages(){return re},out:X,f2:I,f3:L,getPageInfo:co,getPageInfoByObjId:Ph,getCurrentPageInfo:Ga,getPDFVersion:g,Point:Ci,Rectangle:Gl,Matrix:Ct,hasHotfix:Wa},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return di(Z)},set:function(z){Rc(Z,z)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ha(Z)},set:function(z){wl(Z,z)},enumerable:!0,configurable:!0}),(function(z){for(var de=0,_e=ke.length;de<_e;de++){var Be=Ul.call(this,z[de][0],z[de][1],z[de][2],ke[de][3],!0);h===!1&&(p[Be]=!0);var qe=z[de][0].split("-");lo({id:Be,fontName:qe[0],fontStyle:qe[1]||""})}Qt.publish("addFonts",{fonts:lt,dictionary:yt})}).call(f,ke),Re="F1",xl(s,r),Qt.publish("initialized"),f}Qx.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Qx.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qx.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Qx.prototype.processOwnerPassword=function(t,e){return rT(tT(e).substr(0,5),t)},Qx.prototype.encryptor=function(t,e){var r=tT(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return rT(r,n)}},U4.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||is(t)!==is(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},_r.API={events:[]},_r.version="3.0.4";var vi=_r.API,s7=1,dx=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qx=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jr=function(t){return t.toFixed(2)},np=function(t){return t.toFixed(5)};vi.__acroform__={};var $l=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},LU=function(t){return t*s7},Zd=function(t){var e=new qse,r=xr.internal.getHeight(t)||0,n=xr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Jr(n)),Number(Jr(r))],e},NQe=vi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},CQe=vi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},_Qe=vi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ii=vi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _Qe(t,e-1)},Mi=vi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return NQe(t,e-1)},Oi=vi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return CQe(t,e-1)},AQe=vi.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],a=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=n(a)||0,[Number(Jr(c.lowerLeft_X)),Number(Jr(c.lowerLeft_Y)),Number(Jr(c.upperRight_X)),Number(Jr(c.upperRight_Y))]},kQe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=nT(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Jr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Zd(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},nT=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var a=r,o=xr.internal.getHeight(t)||0;o=o<0?-o:o;var l=xr.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(I,L,U){if(I+1<s.length){var $=L+" "+s[I+1][0];return F5($,t,U).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var u,d,h=F5("3",t,a).height,p=t.multiline?o-a:(o-h)/2,f=p+=2,m=0,g=0,y=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+F5(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var x="",w=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var N=!1;if(s[S].length!==1&&y!==s[S].length-1){if((h+2)*(w+2)+2>o)continue e;x+=s[S][y],N=!0,g=S,S--}else{x=(x+=s[S][y]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var C=parseInt(S),A=c(C,x,a),k=S>=s.length-1;if(A&&!k){x+=" ",y=0;continue}if(A||k){if(k)g=C;else if(t.multiline&&(h+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(w+2)+2>o)continue e;g=C}}for(var E="",T=m;T<=g;T++){var R=s[T];if(t.multiline){if(T===g){E+=R[y]+" ",y=(y+1)%R.length;continue}if(T===m){E+=R[R.length-1]+" ";continue}}E+=R[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=F5(E,t,a).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=Jr(u)+" "+Jr(f)+` Td
`,e+="("+dx(E)+`) Tj
`,e+=-Jr(u)+` 0 Td
`,f=-(a+2),d=0,m=N?g:g+1,w++,x=""}break}return n.text=e,n.fontSize=a,n},F5=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},PQe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},EQe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},TQe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Dd.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(PQe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");s7=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Yse,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var a=n[s];a.objId=void 0,a.hasAnnotation&&EQe(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var a=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=AQe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=xr.createDefaultAppearanceStream(l),is(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=kQe(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var f=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var m=f[o];typeof m=="function"&&(m=m.call(s,l)),h+="/"+o+" "+m+" ",s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(s,l)),h+="/"+o+" "+m,s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}a&&function(g,y){for(var x in g)if(g.hasOwnProperty(x)){var w=x,S=g[x];y.internal.newObjectDeferredBegin(S.objId,!0),is(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete g[w]}}(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Vse=vi.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var s="[",a=0;a<t.length;a++)switch(a!==0&&(s+=" "),is(t[a])){case"boolean":case"number":case"object":s+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+dx(n(t[a].toString()))+")"):s+=t[a].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Yk=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+dx(n(t))+")"},ch=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ch.prototype.toString=function(){return this.objId+" 0 R"},ch.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ch.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:Vse(s,this.objId,this.scope)}):s instanceof ch?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var qse=function(){ch.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};$l(qse,ch);var Yse=function(){ch.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+dx(r(t))+")"}},set:function(r){t=r}})};$l(Yse,ch);var Dd=function t(){ch.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ii(e,3)},set:function(x){x?this.F=Mi(e,3):this.F=Oi(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof W4)return;a="FieldObject"+t.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+dx(x(a))+")"},set:function(x){a=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(x){a=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/s7:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof W4||this instanceof jg))return Yk(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ia==0?Yk(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof Ia==0?x.substr(0,1)==="("?qx(x.substr(1,x.length-2)):qx(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ia==1?qx(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Ia==1?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ia==0?Yk(f,this.objId,this.scope):f},set:function(x){x=x.toString(),f=this instanceof Ia==0?x.substr(0,1)==="("?qx(x.substr(1,x.length-2)):qx(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ia==1?qx(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Ia==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(x){m=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,1)},set:function(x){x?this.Ff=Mi(this.Ff,1):this.Ff=Oi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,2)},set:function(x){x?this.Ff=Mi(this.Ff,2):this.Ff=Oi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,3)},set:function(x){x?this.Ff=Mi(this.Ff,3):this.Ff=Oi(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');y=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(y){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};$l(Dd,ch);var D0=function(){Dd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Vse(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,18)},set:function(r){r?this.Ff=Mi(this.Ff,18):this.Ff=Oi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Mi(this.Ff,19):this.Ff=Oi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,20)},set:function(r){r?(this.Ff=Mi(this.Ff,20),e.sort()):this.Ff=Oi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,22)},set:function(r){r?this.Ff=Mi(this.Ff,22):this.Ff=Oi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(r){r?this.Ff=Mi(this.Ff,23):this.Ff=Oi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,27)},set:function(r){r?this.Ff=Mi(this.Ff,27):this.Ff=Oi(this.Ff,27)}}),this.hasAppearanceStream=!1};$l(D0,Dd);var F0=function(){D0.call(this),this.fontName="helvetica",this.combo=!1};$l(F0,D0);var B0=function(){F0.call(this),this.combo=!0};$l(B0,F0);var _S=function(){B0.call(this),this.edit=!0};$l(_S,B0);var Ia=function(){Dd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,15)},set:function(r){r?this.Ff=Mi(this.Ff,15):this.Ff=Oi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,16)},set:function(r){r?this.Ff=Mi(this.Ff,16):this.Ff=Oi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,17)},set:function(r){r?this.Ff=Mi(this.Ff,17):this.Ff=Oi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(r){r?this.Ff=Mi(this.Ff,26):this.Ff=Oi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+dx(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){is(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};$l(Ia,Dd);var AS=function(){Ia.call(this),this.pushButton=!0};$l(AS,Ia);var $0=function(){Ia.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};$l($0,Ia);var W4=function(){var t,e;Dd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+dx(s(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(s){is(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$l(W4,Dd),$0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},$0.prototype.createOption=function(t){var e=new W4;return e.Parent=this,e.optionName=t,this.Kids.push(e),IQe.call(this.scope,e),e};var kS=function(){Ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xr.CheckBox.createAppearanceStream()};$l(kS,Ia);var jg=function(){Dd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,13)},set:function(e){e?this.Ff=Mi(this.Ff,13):this.Ff=Oi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,21)},set:function(e){e?this.Ff=Mi(this.Ff,21):this.Ff=Oi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(e){e?this.Ff=Mi(this.Ff,23):this.Ff=Oi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,24)},set:function(e){e?this.Ff=Mi(this.Ff,24):this.Ff=Oi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,25)},set:function(e){e?this.Ff=Mi(this.Ff,25):this.Ff=Oi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(e){e?this.Ff=Mi(this.Ff,26):this.Ff=Oi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$l(jg,Dd);var PS=function(){jg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,14)},set:function(t){t?this.Ff=Mi(this.Ff,14):this.Ff=Oi(this.Ff,14)}}),this.password=!0};$l(PS,jg);var xr={CheckBox:{createAppearanceStream:function(){return{N:{On:xr.CheckBox.YesNormal},D:{On:xr.CheckBox.YesPushDown,Off:xr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Zd(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),a=nT(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Jr(xr.internal.getWidth(t))+" "+Jr(xr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Jr(a.fontSize)+" Tf "+s),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Zd(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],a=xr.internal.getHeight(t),o=xr.internal.getWidth(t),l=nT(t,t.caption);return s.push("1 g"),s.push("0 0 "+Jr(o)+" "+Jr(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Jr(o-1)+" "+Jr(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Jr(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Zd(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jr(xr.internal.getWidth(t))+" "+Jr(xr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:xr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=xr.RadioButton.Circle.YesNormal,e.D[t]=xr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Zd(t);e.scope=t.scope;var r=[],n=xr.internal.getWidth(t)<=xr.internal.getHeight(t)?xr.internal.getWidth(t)/4:xr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=xr.internal.Bezier_C,a=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+np(xr.internal.getWidth(t)/2)+" "+np(xr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Zd(t);e.scope=t.scope;var r=[],n=xr.internal.getWidth(t)<=xr.internal.getHeight(t)?xr.internal.getWidth(t)/4:xr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*xr.internal.Bezier_C).toFixed(5)),o=Number((n*xr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+np(xr.internal.getWidth(t)/2)+" "+np(xr.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+np(xr.internal.getWidth(t)/2)+" "+np(xr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Zd(t);e.scope=t.scope;var r=[],n=xr.internal.getWidth(t)<=xr.internal.getHeight(t)?xr.internal.getWidth(t)/4:xr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*xr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+np(xr.internal.getWidth(t)/2)+" "+np(xr.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:xr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=xr.RadioButton.Cross.YesNormal,e.D[t]=xr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Zd(t);e.scope=t.scope;var r=[],n=xr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Jr(xr.internal.getWidth(t)-2)+" "+Jr(xr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Jr(n.x1.x)+" "+Jr(n.x1.y)+" m"),r.push(Jr(n.x2.x)+" "+Jr(n.x2.y)+" l"),r.push(Jr(n.x4.x)+" "+Jr(n.x4.y)+" m"),r.push(Jr(n.x3.x)+" "+Jr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Zd(t);e.scope=t.scope;var r=xr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jr(xr.internal.getWidth(t))+" "+Jr(xr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jr(xr.internal.getWidth(t)-2)+" "+Jr(xr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Jr(r.x1.x)+" "+Jr(r.x1.y)+" m"),n.push(Jr(r.x2.x)+" "+Jr(r.x2.y)+" l"),n.push(Jr(r.x4.x)+" "+Jr(r.x4.y)+" m"),n.push(Jr(r.x3.x)+" "+Jr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Zd(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jr(xr.internal.getWidth(t))+" "+Jr(xr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};xr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=xr.internal.getWidth(t),r=xr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},xr.internal.getWidth=function(t){var e=0;return is(t)==="object"&&(e=LU(t.Rect[2])),e},xr.internal.getHeight=function(t){var e=0;return is(t)==="object"&&(e=LU(t.Rect[3])),e};var IQe=vi.addField=function(t){if(TQe(this,t),!(t instanceof Dd))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};vi.AcroFormChoiceField=D0,vi.AcroFormListBox=F0,vi.AcroFormComboBox=B0,vi.AcroFormEditBox=_S,vi.AcroFormButton=Ia,vi.AcroFormPushButton=AS,vi.AcroFormRadioButton=$0,vi.AcroFormCheckBox=kS,vi.AcroFormTextField=jg,vi.AcroFormPasswordField=PS,vi.AcroFormAppearance=xr,vi.AcroForm={ChoiceField:D0,ListBox:F0,ComboBox:B0,EditBox:_S,Button:Ia,PushButton:AS,RadioButton:$0,CheckBox:kS,TextField:jg,PasswordField:PS,Appearance:xr},_r.AcroForm={ChoiceField:D0,ListBox:F0,ComboBox:B0,EditBox:_S,Button:Ia,PushButton:AS,RadioButton:$0,CheckBox:kS,TextField:jg,PasswordField:PS,Appearance:xr};_r.AcroForm;function Xse(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(I,L){var U,$,q,G,W,B=r;if((L=L||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(A(I))for(W in n)for(q=n[W],U=0;U<q.length;U+=1){for(G=!0,$=0;$<q[U].length;$+=1)if(q[U][$]!==void 0&&q[U][$]!==I[$]){G=!1;break}if(G===!0){B=W;break}}else for(W in n)for(q=n[W],U=0;U<q.length;U+=1){for(G=!0,$=0;$<q[U].length;$+=1)if(q[U][$]!==void 0&&q[U][$]!==I.charCodeAt($)){G=!1;break}if(G===!0){B=W;break}}return B===r&&L!==r&&(B=L),B},a=function I(L){for(var U=this.internal.write,$=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:L.width}),G.push({key:"Height",value:L.height}),L.colorSpace===x.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===x.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var W="",B=0,O=L.transparency.length;B<O;B++)W+=L.transparency[B]+" "+L.transparency[B]+" ";G.push({key:"Mask",value:"["+W+"]"})}L.sMask!==void 0&&G.push({key:"SMask",value:L.objectId+1+" 0 R"});var K=L.filter!==void 0?["/"+L.filter]:void 0;if($({data:L.data,additionalKeyValues:G,alreadyAppliedFilters:K,objectId:L.objectId}),U("endobj"),"sMask"in L&&L.sMask!==void 0){var Y,D=(Y=L.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:L.bitsPerComponent,Z={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:L.sMask};"filter"in L&&(Z.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(L.width),Z.filter=L.filter),I.call(this,Z)}if(L.colorSpace===x.INDEXED){var ie=this.internal.newObject();$({data:E(new Uint8Array(L.palette)),objectId:ie}),U("endobj")}},o=function(){var I=this.internal.collections[e+"images"];for(var L in I)a.call(this,I[L])},l=function(){var I,L=this.internal.collections[e+"images"],U=this.internal.write;for(var $ in L)U("/I"+(I=L[$]).index,I.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var I=this.internal.collections[e+"images"];return c.call(this),I},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(I){return typeof t["process"+I.toUpperCase()]=="function"},p=function(I){return is(I)==="object"&&I.nodeType===1},f=function(I,L){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var U=""+I.getAttribute("src");if(U.indexOf("data:image/")===0)return CS(unescape(U).split("base64,").pop());var $=t.loadFile(U,!0);if($!==void 0)return $}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var q;switch(L){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;default:q="image/jpeg"}return CS(I.toDataURL(q,1).split("base64,").pop())}},m=function(I){var L=this.internal.collections[e+"images"];if(L){for(var U in L)if(I===L[U].alias)return L[U]}},g=function(I,L,U){return I||L||(I=-96,L=-96),I<0&&(I=-1*U.width*72/I/this.internal.scaleFactor),L<0&&(L=-1*U.height*72/L/this.internal.scaleFactor),I===0&&(I=L*U.width/U.height),L===0&&(L=I*U.height/U.width),[I,L]},y=function(I,L,U,$,q,G){var W=g.call(this,U,$,q),B=this.internal.getCoordinateString,O=this.internal.getVerticalCoordinateString,K=u.call(this);if(U=W[0],$=W[1],K[q.index]=q,G){G*=Math.PI/180;var Y=Math.cos(G),D=Math.sin(G),Z=function(he){return he.toFixed(4)},ie=[Z(Y),Z(D),Z(-1*D),Z(Y),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,B(I),O(L+$),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([B(U),"0","0",B($),"0","0","cm"].join(" "))):this.internal.write([B(U),"0","0",B($),B(I),O(L+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(I){var L,U,$=0;if(typeof I=="string")for(U=I.length,L=0;L<U;L++)$=($<<5)-$+I.charCodeAt(L),$|=0;else if(A(I))for(U=I.byteLength/2,L=0;L<U;L++)$=($<<5)-$+I[L],$|=0;return $},N=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var L=!0;return I.length===0&&(L=!1),I.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(L=!1),L},C=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var L=I.indexOf(",");return L<0?null:I.substring(0,L).trim().endsWith("base64")?I.substring(L+1):null};t.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var A=t.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},k=t.__addimage__.binaryStringToUint8Array=function(I){for(var L=I.length,U=new Uint8Array(L),$=0;$<L;$++)U[$]=I.charCodeAt($);return U},E=t.__addimage__.arrayBufferToBinaryString=function(I){for(var L="",U=A(I)?I:new Uint8Array(I),$=0;$<U.length;$+=8192)L+=String.fromCharCode.apply(null,U.subarray($,$+8192));return L};t.addImage=function(){var I,L,U,$,q,G,W,B,O;if(typeof arguments[1]=="number"?(L=r,U=arguments[1],$=arguments[2],q=arguments[3],G=arguments[4],W=arguments[5],B=arguments[6],O=arguments[7]):(L=arguments[1],U=arguments[2],$=arguments[3],q=arguments[4],G=arguments[5],W=arguments[6],B=arguments[7],O=arguments[8]),is(I=arguments[0])==="object"&&!p(I)&&"imageData"in I){var K=I;I=K.imageData,L=K.format||L||r,U=K.x||U||0,$=K.y||$||0,q=K.w||K.width||q,G=K.h||K.height||G,W=K.alias||W,B=K.compression||B,O=K.rotation||K.angle||O}var Y=this.internal.getFilters();if(B===void 0&&Y.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(U)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=T.call(this,I,L,W,B);return y.call(this,U,$,q,G,D,O),this};var T=function(I,L,U,$){var q,G,W;if(typeof I=="string"&&s(I)===r){I=unescape(I);var B=R(I,!1);(B!==""||(B=t.loadFile(I,!0))!==void 0)&&(I=B)}if(p(I)&&(I=f(I,L)),L=s(I,L),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((W=U)==null||W.length===0)&&(U=function(O){return typeof O=="string"||A(O)?S(O):A(O.data)?S(O.data):null}(I)),(q=m.call(this,U))||(I instanceof Uint8Array||L==="RGBA"||(G=I,I=k(I)),q=this["process"+L.toUpperCase()](I,d.call(this),U,function(O){return O&&typeof O=="string"&&(O=O.toUpperCase()),O in t.image_compression?O:w.NONE}($),G)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},R=t.__addimage__.convertBase64ToBinaryString=function(I,L){L=typeof L!="boolean"||L;var U,$="";if(typeof I=="string"){var q;U=(q=C(I))!==null&&q!==void 0?q:I;try{$=CS(U)}catch(G){if(L)throw N(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};t.getImageProperties=function(I){var L,U,$="";if(p(I)&&(I=f(I)),typeof I=="string"&&s(I)===r&&(($=R(I,!1))===""&&($=t.loadFile(I)||""),I=$),U=s(I),!h(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(I instanceof Uint8Array||(I=k(I)),!(L=this["process"+U.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=U,L}})(_r.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};_r.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(x(n.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+f(x(w))+") >>",g.content=a;var S=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(m(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var A=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+A+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,s,a){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,s,a),s+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,s-u,l,o,a),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(_r.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=t.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&s.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&a(g)&&e[g.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(g){var y=0,x=r,w="",S=0;for(y=0;y<g.length;y+=1)x[g.charCodeAt(y)]!==void 0?(S++,typeof(x=x[g.charCodeAt(y)])=="number"&&(w+=String.fromCharCode(x),x=r,S=0),y===g.length-1&&(x=r,w+=g.charAt(y-(S-1)),y-=S-1,S=0)):(x=r,w+=g.charAt(y-S),y-=S,S=0);return w};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(g,y,x){return o(g)?a(g)===!1?-1:!u(g)||!o(y)&&!o(x)||!o(x)&&l(y)||l(g)&&!o(y)||l(g)&&c(y)||l(g)&&l(y)?0:d(g)&&o(y)&&!l(y)&&o(x)&&u(x)?3:l(g)||!o(x)?1:2:-1},f=function(g){var y=0,x=0,w=0,S="",N="",C="",A=(g=g||"").split("\\s+"),k=[];for(y=0;y<A.length;y+=1){for(k.push(""),x=0;x<A[y].length;x+=1)S=A[y][x],N=A[y][x-1],C=A[y][x+1],o(S)?(w=p(S,N,C),k[y]+=w!==-1?String.fromCharCode(e[S.charCodeAt(0)][w]):S):k[y]+=S;k[y]=h(k[y])}return k.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(y)){var w=0;for(x=[],w=0;w<y.length;w+=1)Array.isArray(y[w])?x.push([f(y[w][0]),y[w][1],y[w][2]]):x.push([f(y[w])]);g=x}else g=f(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",m])}(_r.API),_r.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_r.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,f=0,m=0,g=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,N){return S.concat(y.splitTextToSize(N,x))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)f<(g=this.getStringUnitWidth(c[w],{font:h})*d)&&(f=g);return f!==0&&(m=c.length),{w:f/=p,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,h,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,m,g,y,x=[],w=[],S=[],N={},C={},A=[],k=[],E=(p=p||{}).autoSize||!1,T=p.printHeaders!==!1,R=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,I=p.margins||Object.assign({width:this.getPageWidth()},e),L=typeof p.padding=="number"?p.padding:3,U=p.headerBackgroundColor||"#c8c8c8",$=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=$,this.setFontSize(R),h==null)w=x=Object.keys(d[0]),S=x.map(function(){return"left"});else if(Array.isArray(h)&&is(h[0])==="object")for(x=h.map(function(K){return K.name}),w=h.map(function(K){return K.prompt||K.name||""}),S=h.map(function(K){return K.align||"left"}),f=0;f<h.length;f+=1)C[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(w=x=h,S=x.map(function(){return"left"}));if(E||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<x.length;f+=1){for(N[y=x[f]]=d.map(function(K){return K[y]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=N[y],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)A.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[y]=Math.max.apply(null,A)+L+L,A=[]}if(T){var q={};for(f=0;f<x.length;f+=1)q[x[f]]={},q[x[f]].text=w[f],q[x[f]].align=S[f];var G=l.call(this,q,C);k=x.map(function(K){return new a(c,u,C[K],G,q[K].text,void 0,q[K].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var W=h.reduce(function(K,Y){return K[Y.name]=Y.align,K},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var B=l.call(this,d[f],C);for(g=0;g<x.length;g+=1){var O=d[f][x[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:g,data:O},this),o.call(this,new a(c,u,C[x[g]],B,O,f+2,W[x[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(f){var m=c[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+d+d},this).reduce(function(f,m){return Math.max(f,m)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(_r.API);var Kse={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Zse=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],sT=Xse(Zse),Qse=[100,200,300,400,500,600,700,800,900],MQe=Xse(Qse);function Xk(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return Kse[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),s=function(a){return typeof sT[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function RU(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var OQe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},DU={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FU(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function BU(t){return t.trimLeft()}function LQe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function RQe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var B5,$U,zU,Yx,$5,UU,WU,GU,Kk=["times"];function HU(t,e,r,n,s){var a=4,o=qU;switch(s){case _r.API.image_compression.FAST:a=1,o=VU;break;case _r.API.image_compression.MEDIUM:a=6,o=YU;break;case _r.API.image_compression.SLOW:a=9,o=XU}t=function(c,u,d,h){for(var p,f=c.length/u,m=new Uint8Array(c.length+f),g=[DQe,VU,qU,YU,XU],y=0;y<f;y+=1){var x=y*u,w=c.subarray(x,x+u);if(h)m.set(h(w,d,p),x+y);else{for(var S=g.length,N=[],C=0;C<S;C+=1)N[C]=g[C](w,d,p);var A=BQe(N.concat());m.set(N[A],x+y)}p=w}return m}(t,e,Math.ceil(r*n/8),o);var l=ZE(t,{level:a});return _r.API.__addimage__.arrayBufferToBinaryString(l)}function DQe(t){var e=Array.apply([],t);return e.unshift(0),e}function VU(t,e){var r=t.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var a=t[s-e]||0;n[s+1]=t[s]-a+256&255}return n}function qU(t,e,r){var n=t.length,s=[];s[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;s[a+1]=t[a]-o+256&255}return s}function YU(t,e,r){var n=t.length,s=[];s[0]=3;for(var a=0;a<n;a+=1){var o=t[a-e]||0,l=r&&r[a]||0;s[a+1]=t[a]+256-(o+l>>>1)&255}return s}function XU(t,e,r){var n=t.length,s=[];s[0]=4;for(var a=0;a<n;a+=1){var o=FQe(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);s[a+1]=t[a]-o+256&255}return s}function FQe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),s=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=s&&n<=a?t:s<=a?e:r}function BQe(t){var e=t.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function Zk(t,e,r){var n=e*r,s=Math.floor(n/8),a=16-(n-8*s+r),o=(1<<r)-1;return Jse(t,s)>>a&o}function KU(t,e,r,n){var s=r*n,a=Math.floor(s/8),o=16-(s-8*a+n),l=(1<<n)-1,c=(e&l)<<o;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var p=h>>8&255;u.setUint8(d,p)}})(t,a,Jse(t,a)&~(l<<o)&65535|c)}function Jse(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function $Qe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],a=s>>7,o=1<<1+(7&s);t[e++],t[e++];var l=null,c=null;a&&(l=e,c=o,e+=3*o);var u=!0,d=[],h=0,p=null,f=0,m=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],1&g||(p=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,N=t[e++],C=N>>6&1,A=1<<1+(7&N),k=l,E=c,T=!1;N>>7&&(T=!0,k=e,E=A,e+=3*A);var R=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}d.push({x:y,y:x,width:w,height:S,has_local_palette:T,palette_offset:k,palette_size:E,data_offset:R,data_length:e-R,transparent_index:p,interlaced:!!C,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,U){var $=this.frameInfo(L),q=$.width*$.height,G=new Uint8Array(q);ZU(t,$.data_offset,G,q);var W=$.palette_offset,B=$.transparent_index;B===null&&(B=256);var O=$.width,K=r-O,Y=O,D=4*($.y*r+$.x),Z=4*(($.y+$.height)*r+$.x),ie=D,he=4*K;$.interlaced===!0&&(he+=4*r*7);for(var J=8,ae=0,ne=G.length;ae<ne;++ae){var se=G[ae];if(Y===0&&(Y=O,(ie+=he)>=Z&&(he=4*K+4*r*(J-1),ie=D+(O+K)*(J<<1),J>>=1)),se===B)ie+=4;else{var Q=t[W+3*se],re=t[W+3*se+1],le=t[W+3*se+2];U[ie++]=le,U[ie++]=re,U[ie++]=Q,U[ie++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(L,U){var $=this.frameInfo(L),q=$.width*$.height,G=new Uint8Array(q);ZU(t,$.data_offset,G,q);var W=$.palette_offset,B=$.transparent_index;B===null&&(B=256);var O=$.width,K=r-O,Y=O,D=4*($.y*r+$.x),Z=4*(($.y+$.height)*r+$.x),ie=D,he=4*K;$.interlaced===!0&&(he+=4*r*7);for(var J=8,ae=0,ne=G.length;ae<ne;++ae){var se=G[ae];if(Y===0&&(Y=O,(ie+=he)>=Z&&(he=4*K+4*r*(J-1),ie=D+(O+K)*(J<<1),J>>=1)),se===B)ie+=4;else{var Q=t[W+3*se],re=t[W+3*se+1],le=t[W+3*se+2];U[ie++]=Q,U[ie++]=re,U[ie++]=le,U[ie++]=255}--Y}}}function ZU(t,e,r,n){for(var s=t[e++],a=1<<s,o=a+1,l=o+1,c=s+1,u=(1<<c)-1,d=0,h=0,p=0,f=t[e++],m=new Int32Array(4096),g=null;;){for(;d<16&&f!==0;)h|=t[e++]<<d,d+=8,f===1?f=t[e++]:--f;if(d<c)break;var y=h&u;if(h>>=c,d-=c,y!==a){if(y===o)break;for(var x=y<l?y:g,w=0,S=x;S>a;)S=m[S]>>8,++w;var N=S;if(p+w+(x!==y?1:0)>n)return void ms.log("Warning, gif stream longer than expected.");r[p++]=N;var C=p+=w;for(x!==y&&(r[p++]=N),S=x;w--;)S=m[S],r[--C]=255&S,S>>=8;g!==null&&l<4096&&(m[l++]=g<<8|N,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=y}else l=o+1,u=(1<<(c=s+1))-1,g=null}return p!==n&&ms.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qk(t){var e,r,n,s,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),m=new Array(64),g=[],y=0,x=7,w=new Array(64),S=new Array(64),N=new Array(64),C=new Array(256),A=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(D,Z){for(var ie=0,he=0,J=new Array,ae=1;ae<=16;ae++){for(var ne=1;ne<=D[ae];ne++)J[Z[he]]=[],J[Z[he]][0]=ie,J[Z[he]][1]=ae,he++,ie++;ie*=2}return J}function W(D){for(var Z=D[0],ie=D[1]-1;ie>=0;)Z&1<<ie&&(y|=1<<x),ie--,--x<0&&(y==255?(B(255),B(0)):B(y),x=7,y=0)}function B(D){g.push(D)}function O(D){B(D>>8&255),B(255&D)}function K(D,Z,ie,he,J){for(var ae,ne=J[0],se=J[240],Q=function(oe,Oe){var Ie,He,nt,ft,Fe,Ae,it,Ee,Re,We,Ge=0;for(Re=0;Re<8;++Re){Ie=oe[Ge],He=oe[Ge+1],nt=oe[Ge+2],ft=oe[Ge+3],Fe=oe[Ge+4],Ae=oe[Ge+5],it=oe[Ge+6];var ze=Ie+(Ee=oe[Ge+7]),ot=Ie-Ee,lt=He+it,yt=He-it,Pt=nt+Ae,ct=nt-Ae,zt=ft+Fe,jt=ft-Fe,At=ze+zt,Ht=ze-zt,Vt=lt+Pt,It=lt-Pt;oe[Ge]=At+Vt,oe[Ge+4]=At-Vt;var Qt=.707106781*(It+Ht);oe[Ge+2]=Ht+Qt,oe[Ge+6]=Ht-Qt;var Ut=.382683433*((At=jt+ct)-(It=yt+ot)),Zt=.5411961*At+Ut,Te=1.306562965*It+Ut,vt=.707106781*(Vt=ct+yt),Ct=ot+vt,qt=ot-vt;oe[Ge+5]=qt+Zt,oe[Ge+3]=qt-Zt,oe[Ge+1]=Ct+Te,oe[Ge+7]=Ct-Te,Ge+=8}for(Ge=0,Re=0;Re<8;++Re){Ie=oe[Ge],He=oe[Ge+8],nt=oe[Ge+16],ft=oe[Ge+24],Fe=oe[Ge+32],Ae=oe[Ge+40],it=oe[Ge+48];var Nr=Ie+(Ee=oe[Ge+56]),Or=Ie-Ee,fr=He+it,lr=He-it,br=nt+Ae,er=nt-Ae,bn=ft+Fe,ls=ft-Fe,Qs=Nr+bn,ya=Nr-bn,qi=fr+br,za=fr-br;oe[Ge]=Qs+qi,oe[Ge+32]=Qs-qi;var zo=.707106781*(za+ya);oe[Ge+16]=ya+zo,oe[Ge+48]=ya-zo;var Hn=.382683433*((Qs=ls+er)-(za=lr+Or)),Uo=.5411961*Qs+Hn,Ec=1.306562965*za+Hn,Ni=.707106781*(qi=er+lr),oo=Or+Ni,Nn=Or-Ni;oe[Ge+40]=Nn+Uo,oe[Ge+24]=Nn-Uo,oe[Ge+8]=oo+Ec,oe[Ge+56]=oo-Ec,Ge++}for(Re=0;Re<64;++Re)We=oe[Re]*Oe[Re],f[Re]=We>0?We+.5|0:We-.5|0;return f}(D,Z),re=0;re<64;++re)m[k[re]]=Q[re];var le=m[0]-ie;ie=m[0],le==0?W(he[0]):(W(he[p[ae=32767+le]]),W(h[ae]));for(var ve=63;ve>0&&m[ve]==0;)ve--;if(ve==0)return W(ne),ie;for(var fe,X=1;X<=ve;){for(var ce=X;m[X]==0&&X<=ve;)++X;var Pe=X-ce;if(Pe>=16){fe=Pe>>4;for(var ke=1;ke<=fe;++ke)W(se);Pe&=15}ae=32767+m[X],W(J[(Pe<<4)+p[ae]]),W(h[ae]),X++}return ve!=63&&W(ne),ie}function Y(D){D=Math.min(Math.max(D,1),100),a!=D&&(function(Z){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var J=o((ie[he]*Z+50)/100);J=Math.min(Math.max(J,1),255),l[k[he]]=J}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ne=0;ne<64;ne++){var se=o((ae[ne]*Z+50)/100);se=Math.min(Math.max(se,1),255),c[k[ne]]=se}for(var Q=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],re=0,le=0;le<8;le++)for(var ve=0;ve<8;ve++)u[re]=1/(l[k[re]]*Q[le]*Q[ve]*8),d[re]=1/(c[k[re]]*Q[le]*Q[ve]*8),re++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),a=D)}this.encode=function(D,Z){Z&&Y(Z),g=new Array,y=0,x=7,O(65496),O(65504),O(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),O(1),O(1),B(0),B(0),function(){O(65499),O(132),B(0);for(var He=0;He<64;He++)B(l[He]);B(1);for(var nt=0;nt<64;nt++)B(c[nt])}(),function(He,nt){O(65472),O(17),B(8),O(nt),O(He),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(D.width,D.height),function(){O(65476),O(418),B(0);for(var He=0;He<16;He++)B(E[He+1]);for(var nt=0;nt<=11;nt++)B(T[nt]);B(16);for(var ft=0;ft<16;ft++)B(R[ft+1]);for(var Fe=0;Fe<=161;Fe++)B(I[Fe]);B(1);for(var Ae=0;Ae<16;Ae++)B(L[Ae+1]);for(var it=0;it<=11;it++)B(U[it]);B(17);for(var Ee=0;Ee<16;Ee++)B($[Ee+1]);for(var Re=0;Re<=161;Re++)B(q[Re])}(),O(65498),O(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var ie=0,he=0,J=0;y=0,x=7,this.encode.displayName="_encode_";for(var ae,ne,se,Q,re,le,ve,fe,X,ce=D.data,Pe=D.width,ke=D.height,oe=4*Pe,Oe=0;Oe<ke;){for(ae=0;ae<oe;){for(re=oe*Oe+ae,ve=-1,fe=0,X=0;X<64;X++)le=re+(fe=X>>3)*oe+(ve=4*(7&X)),Oe+fe>=ke&&(le-=oe*(Oe+1+fe-ke)),ae+ve>=oe&&(le-=ae+ve-oe+4),ne=ce[le++],se=ce[le++],Q=ce[le++],w[X]=(A[ne]+A[se+256|0]+A[Q+512|0]>>16)-128,S[X]=(A[ne+768|0]+A[se+1024|0]+A[Q+1280|0]>>16)-128,N[X]=(A[ne+1280|0]+A[se+1536|0]+A[Q+1792|0]>>16)-128;ie=K(w,u,ie,e,n),he=K(S,d,he,r,s),J=K(N,d,J,r,s),ae+=32}Oe+=8}if(x>=0){var Ie=[];Ie[1]=x+1,Ie[0]=(1<<x+1)-1,W(Ie)}return O(65497),new Uint8Array(g)},t=t||50,function(){for(var D=String.fromCharCode,Z=0;Z<256;Z++)C[Z]=D(Z)}(),e=G(E,T),r=G(L,U),n=G(R,I),s=G($,q),function(){for(var D=1,Z=2,ie=1;ie<=15;ie++){for(var he=D;he<Z;he++)p[32767+he]=ie,h[32767+he]=[],h[32767+he][1]=ie,h[32767+he][0]=he;for(var J=-(Z-1);J<=-D;J++)p[32767+J]=ie,h[32767+J]=[],h[32767+J][1]=ie,h[32767+J][0]=Z-1+J;D<<=1,Z<<=1}}(),function(){for(var D=0;D<256;D++)A[D]=19595*D,A[D+256|0]=38470*D,A[D+512|0]=7471*D+32768,A[D+768|0]=-11059*D,A[D+1024|0]=-21709*D,A[D+1280|0]=32768*D+8421375,A[D+1536|0]=-27439*D,A[D+1792|0]=-5329*D}(),Y(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function rd(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QU(t){function e(T){if(!T)throw Error("assert :P")}function r(T,R,I){for(var L=0;4>L;L++)if(T[R+L]!=I.charCodeAt(L))return!0;return!1}function n(T,R,I,L,U){for(var $=0;$<U;$++)T[R+$]=I[L+$]}function s(T,R,I,L){for(var U=0;U<L;U++)T[R+U]=I}function a(T){return new Int32Array(T)}function o(T,R){for(var I=[],L=0;L<T;L++)I.push(new R);return I}function l(T,R){var I=[];return function L(U,$,q){for(var G=q[$],W=0;W<G&&(U.push(q.length>$+1?[]:new R),!(q.length<$+1));W++)L(U[W],$+1,q)}(I,0,T),I}var c=function(){var T=this;function R(_,M){for(var V=1<<M-1>>>0;_&V;)V>>>=1;return V?(_&V-1)+V:_}function I(_,M,V,ee,ue){e(!(ee%V));do _[M+(ee-=V)]=ue;while(0<ee)}function L(_,M,V,ee,ue){if(e(2328>=ue),512>=ue)var me=a(512);else if((me=a(ue))==null)return 0;return function(ge,ye,be,Ce,Ue,st){var Ne,Ve,tt=ye,mt=1<<be,Qe=a(16),bt=a(16);for(e(Ue!=0),e(Ce!=null),e(ge!=null),e(0<be),Ve=0;Ve<Ue;++Ve){if(15<Ce[Ve])return 0;++Qe[Ce[Ve]]}if(Qe[0]==Ue)return 0;for(bt[1]=0,Ne=1;15>Ne;++Ne){if(Qe[Ne]>1<<Ne)return 0;bt[Ne+1]=bt[Ne]+Qe[Ne]}for(Ve=0;Ve<Ue;++Ve)Ne=Ce[Ve],0<Ce[Ve]&&(st[bt[Ne]++]=Ve);if(bt[15]==1)return(Ce=new U).g=0,Ce.value=st[0],I(ge,tt,1,mt,Ce),mt;var Ye,Mt=-1,Et=mt-1,wr=0,or=1,Wr=1,ur=1<<be;for(Ve=0,Ne=1,Ue=2;Ne<=be;++Ne,Ue<<=1){if(or+=Wr<<=1,0>(Wr-=Qe[Ne]))return 0;for(;0<Qe[Ne];--Qe[Ne])(Ce=new U).g=Ne,Ce.value=st[Ve++],I(ge,tt+wr,Ue,ur,Ce),wr=R(wr,Ne)}for(Ne=be+1,Ue=2;15>=Ne;++Ne,Ue<<=1){if(or+=Wr<<=1,0>(Wr-=Qe[Ne]))return 0;for(;0<Qe[Ne];--Qe[Ne]){if(Ce=new U,(wr&Et)!=Mt){for(tt+=ur,Ye=1<<(Mt=Ne)-be;15>Mt&&!(0>=(Ye-=Qe[Mt]));)++Mt,Ye<<=1;mt+=ur=1<<(Ye=Mt-be),ge[ye+(Mt=wr&Et)].g=Ye+be,ge[ye+Mt].value=tt-ye-Mt}Ce.g=Ne-be,Ce.value=st[Ve++],I(ge,tt+(wr>>be),Ue,ur,Ce),wr=R(wr,Ne)}}return or!=2*bt[15]-1?0:mt}(_,M,V,ee,ue,me)}function U(){this.value=this.g=0}function $(){this.value=this.g=0}function q(){this.G=o(5,U),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(fo,$)}function G(_,M,V,ee){e(_!=null),e(M!=null),e(2147483648>ee),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=M,_.pa=V,_.Jd=M,_.Yc=V+ee,_.Zc=4<=ee?V+ee-4+1:V,ne(_)}function W(_,M){for(var V=0;0<M--;)V|=Q(_,128)<<M;return V}function B(_,M){var V=W(_,M);return se(_)?-V:V}function O(_,M,V,ee){var ue,me=0;for(e(_!=null),e(M!=null),e(4294967288>ee),_.Sb=ee,_.Ra=0,_.u=0,_.h=0,4<ee&&(ee=4),ue=0;ue<ee;++ue)me+=M[V+ue]<<8*ue;_.Ra=me,_.bb=ee,_.oa=M,_.pa=V}function K(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<wa-8>>>0,++_.bb,_.u-=8;he(_)&&(_.h=1,_.u=0)}function Y(_,M){if(e(0<=M),!_.h&&M<=po){var V=ie(_)&Va[M];return _.u+=M,K(_),V}return _.h=1,_.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(_){return _.Ra>>>(_.u&wa-1)>>>0}function he(_){return e(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>wa}function J(_,M){_.u=M,_.h=he(_)}function ae(_){_.u>=ja&&(e(_.u>=ja),K(_))}function ne(_){e(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(e(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function se(_){return W(_,1)}function Q(_,M){var V=_.Ca;0>_.b&&ne(_);var ee=_.b,ue=V*M>>>8,me=(_.I>>>ee>ue)+0;for(me?(V-=ue,_.I-=ue+1<<ee>>>0):V=ue+1,ee=V,ue=0;256<=ee;)ue+=8,ee>>=8;return ee=7^ue+ql[ee],_.b-=ee,_.Ca=(V<<ee)-1,me}function re(_,M,V){_[M+0]=V>>24&255,_[M+1]=V>>16&255,_[M+2]=V>>8&255,_[M+3]=255&V}function le(_,M){return _[M+0]|_[M+1]<<8}function ve(_,M){return le(_,M)|_[M+2]<<16}function fe(_,M){return le(_,M)|le(_,M+2)<<16}function X(_,M){var V=1<<M;return e(_!=null),e(0<M),_.X=a(V),_.X==null?0:(_.Mb=32-M,_.Xa=M,1)}function ce(_,M){e(_!=null),e(M!=null),e(_.Xa==M.Xa),n(M.X,0,_.X,0,1<<M.Xa)}function Pe(){this.X=[],this.Xa=this.Mb=0}function ke(_,M,V,ee){e(V!=null),e(ee!=null);var ue=V[0],me=ee[0];return ue==0&&(ue=(_*me+M/2)/M),me==0&&(me=(M*ue+_/2)/_),0>=ue||0>=me?0:(V[0]=ue,ee[0]=me,1)}function oe(_,M){return _+(1<<M)-1>>>M}function Oe(_,M){return((4278255360&_)+(4278255360&M)>>>0&4278255360)+((16711935&_)+(16711935&M)>>>0&16711935)>>>0}function Ie(_,M){T[M]=function(V,ee,ue,me,ge,ye,be){var Ce;for(Ce=0;Ce<ge;++Ce){var Ue=T[_](ye[be+Ce-1],ue,me+Ce);ye[be+Ce]=Oe(V[ee+Ce],Ue)}}}function He(){this.ud=this.hd=this.jd=0}function nt(_,M){return((4278124286&(_^M))>>>1)+(_&M)>>>0}function ft(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Fe(_,M){return ft(_+(_-M+.5>>1))}function Ae(_,M,V){return Math.abs(M-V)-Math.abs(_-V)}function it(_,M,V,ee,ue,me,ge){for(ee=me[ge-1],V=0;V<ue;++V)me[ge+V]=ee=Oe(_[M+V],ee)}function Ee(_,M,V,ee,ue){var me;for(me=0;me<V;++me){var ge=_[M+me],ye=ge>>8&255,be=16711935&(be=(be=16711935&ge)+((ye<<16)+ye));ee[ue+me]=(4278255360&ge)+be>>>0}}function Re(_,M){M.jd=255&_,M.hd=_>>8&255,M.ud=_>>16&255}function We(_,M,V,ee,ue,me){var ge;for(ge=0;ge<ee;++ge){var ye=M[V+ge],be=ye>>>8,Ce=ye,Ue=255&(Ue=(Ue=ye>>>16)+((_.jd<<24>>24)*(be<<24>>24)>>>5));Ce=255&(Ce=(Ce+=(_.hd<<24>>24)*(be<<24>>24)>>>5)+((_.ud<<24>>24)*(Ue<<24>>24)>>>5)),ue[me+ge]=(4278255360&ye)+(Ue<<16)+Ce}}function Ge(_,M,V,ee,ue){T[M]=function(me,ge,ye,be,Ce,Ue,st,Ne,Ve){for(be=st;be<Ne;++be)for(st=0;st<Ve;++st)Ce[Ue++]=ue(ye[ee(me[ge++])])},T[_]=function(me,ge,ye,be,Ce,Ue,st){var Ne=8>>me.b,Ve=me.Ea,tt=me.K[0],mt=me.w;if(8>Ne)for(me=(1<<me.b)-1,mt=(1<<Ne)-1;ge<ye;++ge){var Qe,bt=0;for(Qe=0;Qe<Ve;++Qe)Qe&me||(bt=ee(be[Ce++])),Ue[st++]=ue(tt[bt&mt]),bt>>=Ne}else T["VP8LMapColor"+V](be,Ce,tt,mt,Ue,st,ge,ye,Ve)}}function ze(_,M,V,ee,ue){for(V=M+V;M<V;){var me=_[M++];ee[ue++]=me>>16&255,ee[ue++]=me>>8&255,ee[ue++]=255&me}}function ot(_,M,V,ee,ue){for(V=M+V;M<V;){var me=_[M++];ee[ue++]=me>>16&255,ee[ue++]=me>>8&255,ee[ue++]=255&me,ee[ue++]=me>>24&255}}function lt(_,M,V,ee,ue){for(V=M+V;M<V;){var me=(ge=_[M++])>>16&240|ge>>12&15,ge=240&ge|ge>>28&15;ee[ue++]=me,ee[ue++]=ge}}function yt(_,M,V,ee,ue){for(V=M+V;M<V;){var me=(ge=_[M++])>>16&248|ge>>13&7,ge=ge>>5&224|ge>>3&31;ee[ue++]=me,ee[ue++]=ge}}function Pt(_,M,V,ee,ue){for(V=M+V;M<V;){var me=_[M++];ee[ue++]=255&me,ee[ue++]=me>>8&255,ee[ue++]=me>>16&255}}function ct(_,M,V,ee,ue,me){if(me==0)for(V=M+V;M<V;)re(ee,((me=_[M++])[0]>>24|me[1]>>8&65280|me[2]<<8&16711680|me[3]<<24)>>>0),ue+=32;else n(ee,ue,_,M,V)}function zt(_,M){T[M][0]=T[_+"0"],T[M][1]=T[_+"1"],T[M][2]=T[_+"2"],T[M][3]=T[_+"3"],T[M][4]=T[_+"4"],T[M][5]=T[_+"5"],T[M][6]=T[_+"6"],T[M][7]=T[_+"7"],T[M][8]=T[_+"8"],T[M][9]=T[_+"9"],T[M][10]=T[_+"10"],T[M][11]=T[_+"11"],T[M][12]=T[_+"12"],T[M][13]=T[_+"13"],T[M][14]=T[_+"0"],T[M][15]=T[_+"0"]}function jt(_){return _==wx||_==jm||_==Sm||_==jx}function At(){this.eb=[],this.size=this.A=this.fb=0}function Ht(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new At,this.f.kb=new Ht,this.sd=null}function It(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ut(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Zt(_,M){var V=_.T,ee=M.ba.f.RGBA,ue=ee.eb,me=ee.fb+_.ka*ee.A,ge=Yo[M.ba.S],ye=_.y,be=_.O,Ce=_.f,Ue=_.N,st=_.ea,Ne=_.W,Ve=M.cc,tt=M.dc,mt=M.Mc,Qe=M.Nc,bt=_.ka,Ye=_.ka+_.T,Mt=_.U,Et=Mt+1>>1;for(bt==0?ge(ye,be,null,null,Ce,Ue,st,Ne,Ce,Ue,st,Ne,ue,me,null,null,Mt):(ge(M.ec,M.fc,ye,be,Ve,tt,mt,Qe,Ce,Ue,st,Ne,ue,me-ee.A,ue,me,Mt),++V);bt+2<Ye;bt+=2)Ve=Ce,tt=Ue,mt=st,Qe=Ne,Ue+=_.Rc,Ne+=_.Rc,me+=2*ee.A,ge(ye,(be+=2*_.fa)-_.fa,ye,be,Ve,tt,mt,Qe,Ce,Ue,st,Ne,ue,me-ee.A,ue,me,Mt);return be+=_.fa,_.j+Ye<_.o?(n(M.ec,M.fc,ye,be,Mt),n(M.cc,M.dc,Ce,Ue,Et),n(M.Mc,M.Nc,st,Ne,Et),V--):1&Ye||ge(ye,be,null,null,Ce,Ue,st,Ne,Ce,Ue,st,Ne,ue,me+ee.A,null,null,Mt),V}function Te(_,M,V){var ee=_.F,ue=[_.J];if(ee!=null){var me=_.U,ge=M.ba.S,ye=ge==wm||ge==Sm;M=M.ba.f.RGBA;var be=[0],Ce=_.ka;be[0]=_.T,_.Kb&&(Ce==0?--be[0]:(--Ce,ue[0]-=_.width),_.j+_.ka+_.T==_.o&&(be[0]=_.o-_.j-Ce));var Ue=M.eb;Ce=M.fb+Ce*M.A,_=yx(ee,ue[0],_.width,me,be,Ue,Ce+(ye?0:3),M.A),e(V==be),_&&jt(ge)&&Gu(Ue,Ce,ye,me,be,M.A)}return 0}function vt(_){var M=_.ma,V=M.ba.S,ee=11>V,ue=V==Rh||V==Gf||V==wm||V==bx||V==12||jt(V);if(M.memory=null,M.Ib=null,M.Jb=null,M.Nd=null,!Mh(M.Oa,_,ue?11:12))return 0;if(ue&&jt(V)&&Lu(),_.da)alert("todo:use_scaling");else{if(ee){if(M.Ib=Ut,_.Kb){if(V=_.U+1>>1,M.memory=a(_.U+2*V),M.memory==null)return 0;M.ec=M.memory,M.fc=0,M.cc=M.ec,M.dc=M.fc+_.U,M.Mc=M.cc,M.Nc=M.dc+V,M.Ib=Zt,Lu()}}else alert("todo:EmitYUV");ue&&(M.Jb=Te,ee&&ho())}if(ee&&!$v){for(_=0;256>_;++_)zv[_]=89858*(_-128)+_m>>Cm,Uv[_]=-22014*(_-128)+_m,oj[_]=-45773*(_-128),aj[_]=113618*(_-128)+_m>>Cm;for(_=Vf;_<Cx;++_)M=76283*(_-16)+_m>>Cm,Wv[_-Vf]=un(M,255),lj[_-Vf]=un(M+8>>4,15);$v=1}return 1}function Ct(_){var M=_.ma,V=_.U,ee=_.T;return e(!(1&_.ka)),0>=V||0>=ee?0:(V=M.Ib(_,M),M.Jb!=null&&M.Jb(_,M,V),M.Dc+=V,1)}function qt(_){_.ma.memory=null}function Nr(_,M,V,ee){return Y(_,8)!=47?0:(M[0]=Y(_,14)+1,V[0]=Y(_,14)+1,ee[0]=Y(_,1),Y(_,3)!=0?0:!_.h)}function Or(_,M){if(4>_)return _+1;var V=_-2>>1;return(2+(1&_)<<V)+Y(M,V)+1}function fr(_,M){return 120<M?M-120:1<=(V=((V=Xw[M-1])>>4)*_+(8-(15&V)))?V:1;var V}function lr(_,M,V){var ee=ie(V),ue=_[M+=255&ee].g-8;return 0<ue&&(J(V,V.u+8),ee=ie(V),M+=_[M].value,M+=ee&(1<<ue)-1),J(V,V.u+_[M].g),_[M].value}function br(_,M,V){return V.g+=_.g,V.value+=_.value<<M>>>0,e(8>=V.g),_.g}function er(_,M,V){var ee=_.xc;return e((M=ee==0?0:_.vc[_.md*(V>>ee)+(M>>ee)])<_.Wb),_.Ya[M]}function bn(_,M,V,ee){var ue=_.ab,me=_.c*M,ge=_.C;M=ge+M;var ye=V,be=ee;for(ee=_.Ta,V=_.Ua;0<ue--;){var Ce=_.gc[ue],Ue=ge,st=M,Ne=ye,Ve=be,tt=(be=ee,ye=V,Ce.Ea);switch(e(Ue<st),e(st<=Ce.nc),Ce.hc){case 2:Vs(Ne,Ve,(st-Ue)*tt,be,ye);break;case 0:var mt=Ue,Qe=st,bt=be,Ye=ye,Mt=(ur=Ce).Ea;mt==0&&(Wf(Ne,Ve,null,null,1,bt,Ye),it(Ne,Ve+1,0,0,Mt-1,bt,Ye+1),Ve+=Mt,Ye+=Mt,++mt);for(var Et=1<<ur.b,wr=Et-1,or=oe(Mt,ur.b),Wr=ur.K,ur=ur.w+(mt>>ur.b)*or;mt<Qe;){var dn=Wr,pi=ur,Qr=1;for($u(Ne,Ve,bt,Ye-Mt,1,bt,Ye);Qr<Mt;){var mr=(Qr&~wr)+Et;mr>Mt&&(mr=Mt),(0,go[dn[pi++]>>8&15])(Ne,Ve+ +Qr,bt,Ye+Qr-Mt,mr-Qr,bt,Ye+Qr),Qr=mr}Ve+=Mt,Ye+=Mt,++mt&wr||(ur+=or)}st!=Ce.nc&&n(be,ye-tt,be,ye+(st-Ue-1)*tt,tt);break;case 1:for(tt=Ne,Qe=Ve,Mt=(Ne=Ce.Ea)-(Ye=Ne&~(bt=(Ve=1<<Ce.b)-1)),mt=oe(Ne,Ce.b),Et=Ce.K,Ce=Ce.w+(Ue>>Ce.b)*mt;Ue<st;){for(wr=Et,or=Ce,Wr=new He,ur=Qe+Ye,dn=Qe+Ne;Qe<ur;)Re(wr[or++],Wr),Oh(Wr,tt,Qe,Ve,be,ye),Qe+=Ve,ye+=Ve;Qe<dn&&(Re(wr[or++],Wr),Oh(Wr,tt,Qe,Mt,be,ye),Qe+=Mt,ye+=Mt),++Ue&bt||(Ce+=mt)}break;case 3:if(Ne==be&&Ve==ye&&0<Ce.b){for(Qe=be,Ne=tt=ye+(st-Ue)*tt-(Ye=(st-Ue)*oe(Ce.Ea,Ce.b)),Ve=be,bt=ye,mt=[],Ye=(Mt=Ye)-1;0<=Ye;--Ye)mt[Ye]=Ve[bt+Ye];for(Ye=Mt-1;0<=Ye;--Ye)Qe[Ne+Ye]=mt[Ye];Gd(Ce,Ue,st,be,tt,be,ye)}else Gd(Ce,Ue,st,Ne,Ve,be,ye)}ye=ee,be=V}be!=V&&n(ee,V,ye,be,me)}function ls(_,M){var V=_.V,ee=_.Ba+_.c*_.C,ue=M-_.C;if(e(M<=_.l.o),e(16>=ue),0<ue){var me=_.l,ge=_.Ta,ye=_.Ua,be=me.width;if(bn(_,ue,V,ee),ue=ye=[ye],e((V=_.C)<(ee=M)),e(me.v<me.va),ee>me.o&&(ee=me.o),V<me.j){var Ce=me.j-V;V=me.j,ue[0]+=Ce*be}if(V>=ee?V=0:(ue[0]+=4*me.v,me.ka=V-me.j,me.U=me.va-me.v,me.T=ee-V,V=1),V){if(ye=ye[0],11>(V=_.ca).S){var Ue=V.f.RGBA,st=(ee=V.S,ue=me.U,me=me.T,Ce=Ue.eb,Ue.A),Ne=me;for(Ue=Ue.fb+_.Ma*Ue.A;0<Ne--;){var Ve=ge,tt=ye,mt=ue,Qe=Ce,bt=Ue;switch(ee){case Lh:Bc(Ve,tt,mt,Qe,bt);break;case Rh:zu(Ve,tt,mt,Qe,bt);break;case wx:zu(Ve,tt,mt,Qe,bt),Gu(Qe,bt,0,mt,1,0);break;case Mv:zc(Ve,tt,mt,Qe,bt);break;case Gf:ct(Ve,tt,mt,Qe,bt,1);break;case jm:ct(Ve,tt,mt,Qe,bt,1),Gu(Qe,bt,0,mt,1,0);break;case wm:ct(Ve,tt,mt,Qe,bt,0);break;case Sm:ct(Ve,tt,mt,Qe,bt,0),Gu(Qe,bt,1,mt,1,0);break;case bx:$c(Ve,tt,mt,Qe,bt);break;case jx:$c(Ve,tt,mt,Qe,bt),xx(Qe,bt,mt,1,0);break;case Ov:Rn(Ve,tt,mt,Qe,bt);break;default:e(0)}ye+=be,Ue+=st}_.Ma+=me}else alert("todo:EmitRescaledRowsYUVA");e(_.Ma<=V.height)}}_.C=M,e(_.C<=_.i)}function Qs(_){var M;if(0<_.ua)return 0;for(M=0;M<_.Wb;++M){var V=_.Ya[M].G,ee=_.Ya[M].H;if(0<V[1][ee[1]+0].g||0<V[2][ee[2]+0].g||0<V[3][ee[3]+0].g)return 0}return 1}function ya(_,M,V,ee,ue,me){if(_.Z!=0){var ge=_.qd,ye=_.rd;for(e(Hu[_.Z]!=null);M<V;++M)Hu[_.Z](ge,ye,ee,ue,ee,ue,me),ge=ee,ye=ue,ue+=me;_.qd=ge,_.rd=ye}}function qi(_,M){var V=_.l.ma,ee=V.Z==0||V.Z==1?_.l.j:_.C;if(ee=_.C<ee?ee:_.C,e(M<=_.l.o),M>ee){var ue=_.l.width,me=V.ca,ge=V.tb+ue*ee,ye=_.V,be=_.Ba+_.c*ee,Ce=_.gc;e(_.ab==1),e(Ce[0].hc==3),mo(Ce[0],ee,M,ye,be,me,ge),ya(V,ee,M,me,ge,ue)}_.C=_.Ma=M}function za(_,M,V,ee,ue,me,ge){var ye=_.$/ee,be=_.$%ee,Ce=_.m,Ue=_.s,st=V+_.$,Ne=st;ue=V+ee*ue;var Ve=V+ee*me,tt=280+Ue.ua,mt=_.Pb?ye:16777216,Qe=0<Ue.ua?Ue.Wa:null,bt=Ue.wc,Ye=st<Ve?er(Ue,be,ye):null;e(_.C<me),e(Ve<=ue);var Mt=!1;e:for(;;){for(;Mt||st<Ve;){var Et=0;if(ye>=mt){var wr=st-V;e((mt=_).Pb),mt.wd=mt.m,mt.xd=wr,0<mt.s.ua&&ce(mt.s.Wa,mt.s.vb),mt=ye+Zw}if(be&bt||(Ye=er(Ue,be,ye)),e(Ye!=null),Ye.Qb&&(M[st]=Ye.qb,Mt=!0),!Mt)if(ae(Ce),Ye.jc){Et=Ce,wr=M;var or=st,Wr=Ye.pd[ie(Et)&fo-1];e(Ye.jc),256>Wr.g?(J(Et,Et.u+Wr.g),wr[or]=Wr.value,Et=0):(J(Et,Et.u+Wr.g-256),e(256<=Wr.value),Et=Wr.value),Et==0&&(Mt=!0)}else Et=lr(Ye.G[0],Ye.H[0],Ce);if(Ce.h)break;if(Mt||256>Et){if(!Mt)if(Ye.nd)M[st]=(Ye.qb|Et<<8)>>>0;else{if(ae(Ce),Mt=lr(Ye.G[1],Ye.H[1],Ce),ae(Ce),wr=lr(Ye.G[2],Ye.H[2],Ce),or=lr(Ye.G[3],Ye.H[3],Ce),Ce.h)break;M[st]=(or<<24|Mt<<16|Et<<8|wr)>>>0}if(Mt=!1,++st,++be>=ee&&(be=0,++ye,ge!=null&&ye<=me&&!(ye%16)&&ge(_,ye),Qe!=null))for(;Ne<st;)Et=M[Ne++],Qe.X[(506832829*Et&4294967295)>>>Qe.Mb]=Et}else if(280>Et){if(Et=Or(Et-256,Ce),wr=lr(Ye.G[4],Ye.H[4],Ce),ae(Ce),wr=fr(ee,wr=Or(wr,Ce)),Ce.h)break;if(st-V<wr||ue-st<Et)break e;for(or=0;or<Et;++or)M[st+or]=M[st+or-wr];for(st+=Et,be+=Et;be>=ee;)be-=ee,++ye,ge!=null&&ye<=me&&!(ye%16)&&ge(_,ye);if(e(st<=ue),be&bt&&(Ye=er(Ue,be,ye)),Qe!=null)for(;Ne<st;)Et=M[Ne++],Qe.X[(506832829*Et&4294967295)>>>Qe.Mb]=Et}else{if(!(Et<tt))break e;for(Mt=Et-280,e(Qe!=null);Ne<st;)Et=M[Ne++],Qe.X[(506832829*Et&4294967295)>>>Qe.Mb]=Et;Et=st,e(!(Mt>>>(wr=Qe).Xa)),M[Et]=wr.X[Mt],Mt=!0}Mt||e(Ce.h==he(Ce))}if(_.Pb&&Ce.h&&st<ue)e(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&ce(_.s.vb,_.s.Wa);else{if(Ce.h)break e;ge!=null&&ge(_,ye>me?me:ye),_.a=0,_.$=st-V}return 1}return _.a=3,0}function zo(_){e(_!=null),_.vc=null,_.yc=null,_.Ya=null;var M=_.Wa;M!=null&&(M.X=null),_.vb=null,e(_!=null)}function Hn(){var _=new Ur;return _==null?null:(_.a=0,_.xb=tj,zt("Predictor","VP8LPredictors"),zt("Predictor","VP8LPredictors_C"),zt("PredictorAdd","VP8LPredictorsAdd"),zt("PredictorAdd","VP8LPredictorsAdd_C"),Vs=Ee,Oh=We,Bc=ze,zu=ot,$c=lt,Rn=yt,zc=Pt,T.VP8LMapColor32b=ri,T.VP8LMapColor8b=Fc,_)}function Uo(_,M,V,ee,ue){var me=1,ge=[_],ye=[M],be=ee.m,Ce=ee.s,Ue=null,st=0;e:for(;;){if(V)for(;me&&Y(be,1);){var Ne=ge,Ve=ye,tt=ee,mt=1,Qe=tt.m,bt=tt.gc[tt.ab],Ye=Y(Qe,2);if(tt.Oc&1<<Ye)me=0;else{switch(tt.Oc|=1<<Ye,bt.hc=Ye,bt.Ea=Ne[0],bt.nc=Ve[0],bt.K=[null],++tt.ab,e(4>=tt.ab),Ye){case 0:case 1:bt.b=Y(Qe,3)+2,mt=Uo(oe(bt.Ea,bt.b),oe(bt.nc,bt.b),0,tt,bt.K),bt.K=bt.K[0];break;case 3:var Mt,Et=Y(Qe,8)+1,wr=16<Et?0:4<Et?1:2<Et?2:3;if(Ne[0]=oe(bt.Ea,wr),bt.b=wr,Mt=mt=Uo(Et,1,0,tt,bt.K)){var or,Wr=Et,ur=bt,dn=1<<(8>>ur.b),pi=a(dn);if(pi==null)Mt=0;else{var Qr=ur.K[0],mr=ur.w;for(pi[0]=ur.K[0][0],or=1;or<1*Wr;++or)pi[or]=Oe(Qr[mr+or],pi[or-1]);for(;or<4*dn;++or)pi[or]=0;ur.K[0]=null,ur.K[0]=pi,Mt=1}}mt=Mt;break;case 2:break;default:e(0)}me=mt}}if(ge=ge[0],ye=ye[0],me&&Y(be,1)&&!(me=1<=(st=Y(be,4))&&11>=st)){ee.a=3;break e}var Xt;if(Xt=me)t:{var Ps,jr,Vr,wn=ee,Ai=ge,Ca=ye,En=st,Ji=V,vs=wn.m,ki=wn.s,jn=[null],Dn=1,Es=0,Fn=Kw[En];r:for(;;){if(Ji&&Y(vs,1)){var mi=Y(vs,3)+2,xo=oe(Ai,mi),bs=oe(Ca,mi),ea=xo*bs;if(!Uo(xo,bs,0,wn,jn))break r;for(jn=jn[0],ki.xc=mi,Ps=0;Ps<ea;++Ps){var Bn=jn[Ps]>>8&65535;jn[Ps]=Bn,Bn>=Dn&&(Dn=Bn+1)}}if(vs.h)break r;for(jr=0;5>jr;++jr){var Ts=Lv[jr];!jr&&0<En&&(Ts+=1<<En),Es<Ts&&(Es=Ts)}var Xa=o(Dn*Fn,U),ta=Dn,Ka=o(ta,q);if(Ka==null)var yo=null;else e(65536>=ta),yo=Ka;var _a=a(Es);if(yo==null||_a==null||Xa==null){wn.a=1;break r}var Xo=Xa;for(Ps=Vr=0;Ps<Dn;++Ps){var Xn=yo[Ps],Za=Xn.G,In=Xn.H,qr=0,cs=1,pn=0;for(jr=0;5>jr;++jr){Ts=Lv[jr],Za[jr]=Xo,In[jr]=Vr,!jr&&0<En&&(Ts+=1<<En);s:{var gi,Qa=Ts,Vu=wn,Is=_a,Am=Xo,Fh=Vr,qf=0,Hc=Vu.m,km=Y(Hc,1);if(s(Is,0,0,Qa),km){var vo=Y(Hc,1)+1,Gv=Y(Hc,1),kx=Y(Hc,Gv==0?1:8);Is[kx]=1,vo==2&&(Is[kx=Y(Hc,8)]=1);var _l=1}else{var Bh=a(19),Pm=Y(Hc,4)+4;if(19<Pm){Vu.a=3;var Yf=0;break s}for(gi=0;gi<Pm;++gi)Bh[m_[gi]]=Y(Hc,3);var Vc=void 0,Hd=void 0,qu=Vu,Px=Bh,Vd=Qa,Ex=Is,Xf=0,Zl=qu.m,ra=8,Yu=o(128,U);n:for(;L(Yu,0,7,Px,19);){if(Y(Zl,1)){var Al=2+2*Y(Zl,3);if((Vc=2+Y(Zl,Al))>Vd)break n}else Vc=Vd;for(Hd=0;Hd<Vd&&Vc--;){ae(Zl);var Ja=Yu[0+(127&ie(Zl))];J(Zl,Zl.u+Ja.g);var $h=Ja.value;if(16>$h)Ex[Hd++]=$h,$h!=0&&(ra=$h);else{var Hv=$h==16,Tx=$h-16,y_=f_[Tx],Xu=Y(Zl,Yw[Tx])+y_;if(Hd+Xu>Vd)break n;for(var uj=Hv?ra:0;0<Xu--;)Ex[Hd++]=uj}}Xf=1;break n}Xf||(qu.a=3),_l=Xf}(_l=_l&&!Hc.h)&&(qf=L(Am,Fh,8,Is,Qa)),_l&&qf!=0?Yf=qf:(Vu.a=3,Yf=0)}if(Yf==0)break r;if(cs&&p_[jr]==1&&(cs=Xo[Vr].g==0),qr+=Xo[Vr].g,Vr+=Yf,3>=jr){var Kf,Em=_a[0];for(Kf=1;Kf<Ts;++Kf)_a[Kf]>Em&&(Em=_a[Kf]);pn+=Em}}if(Xn.nd=cs,Xn.Qb=0,cs&&(Xn.qb=(Za[3][In[3]+0].value<<24|Za[1][In[1]+0].value<<16|Za[2][In[2]+0].value)>>>0,qr==0&&256>Za[0][In[0]+0].value&&(Xn.Qb=1,Xn.qb+=Za[0][In[0]+0].value<<8)),Xn.jc=!Xn.Qb&&6>pn,Xn.jc){var qc,Yc=Xn;for(qc=0;qc<fo;++qc){var Ku=qc,Xc=Yc.pd[Ku],zh=Yc.G[0][Yc.H[0]+Ku];256<=zh.value?(Xc.g=zh.g+256,Xc.value=zh.value):(Xc.g=0,Xc.value=0,Ku>>=br(zh,8,Xc),Ku>>=br(Yc.G[1][Yc.H[1]+Ku],16,Xc),Ku>>=br(Yc.G[2][Yc.H[2]+Ku],0,Xc),br(Yc.G[3][Yc.H[3]+Ku],24,Xc))}}}ki.vc=jn,ki.Wb=Dn,ki.Ya=yo,ki.yc=Xa,Xt=1;break t}Xt=0}if(!(me=Xt)){ee.a=3;break e}if(0<st){if(Ce.ua=1<<st,!X(Ce.Wa,st)){ee.a=1,me=0;break e}}else Ce.ua=0;var Vv=ee,dj=ge,hj=ye,Ix=Vv.s,Zu=Ix.xc;if(Vv.c=dj,Vv.i=hj,Ix.md=oe(dj,Zu),Ix.wc=Zu==0?-1:(1<<Zu)-1,V){ee.xb=Dv;break e}if((Ue=a(ge*ye))==null){ee.a=1,me=0;break e}me=(me=za(ee,Ue,0,ge,ye,ye,null))&&!be.h;break e}return me?(ue!=null?ue[0]=Ue:(e(Ue==null),e(V)),ee.$=0,V||zo(Ce)):zo(Ce),me}function Ec(_,M){var V=_.c*_.i,ee=V+M+16*M;return e(_.c<=M),_.V=a(ee),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+V+M,1)}function Ni(_,M){var V=_.C,ee=M-V,ue=_.V,me=_.Ba+_.c*V;for(e(M<=_.l.o);0<ee;){var ge=16<ee?16:ee,ye=_.l.ma,be=_.l.width,Ce=be*ge,Ue=ye.ca,st=ye.tb+be*V,Ne=_.Ta,Ve=_.Ua;bn(_,ge,ue,me),Av(Ne,Ve,Ue,st,Ce),ya(ye,V,V+ge,Ue,st,be),ee-=ge,ue+=ge*_.c,V+=ge}e(V==M),_.C=_.Ma=M}function oo(){this.ub=this.yd=this.td=this.Rb=0}function Nn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Tc(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Bd(){this.Yb=function(){var _=[];return function M(V,ee,ue){for(var me=ue[ee],ge=0;ge<me&&(V.push(ue.length>ee+1?[]:0),!(ue.length<ee+1));ge++)M(V[ge],ee+1,ue)}(_,0,[3,11]),_}()}function lo(){this.jb=a(3),this.Wc=l([4,8],Bd),this.Xc=l([4,17],Bd)}function Ul(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Bi(){this.ld=this.La=this.dd=this.tc=0}function gl(){this.Na=this.la=0}function xl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ku(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bi),this.Y=0,this.ya=Array(new ku),this.aa=0,this.l=new Ua}function Wo(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ln(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new oo,this.Kc=new Nn,this.ed=new Ul,this.Qa=new Tc,this.Ic=this.$c=this.Aa=0,this.D=new Wl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,xl),this.Pa=new lo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wo),this.Hd=0,this.rb=Array(new gl),this.sb=0,this.wa=Array(new Bi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ku),this.L=this.aa=0,this.gd=l([4,2],Bi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function un(_,M){return 0>_?0:_>M?M:_}function Ua(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ci(){var _=new Ln;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Nm||(Nm=Js)),_}function gn(_,M,V){return _.a==0&&(_.a=M,_.sc=V,_.cb=0),0}function Go(_,M,V){return 3<=V&&_[M+0]==157&&_[M+1]==1&&_[M+2]==42}function Gs(_,M){if(_==null)return 0;if(_.a=0,_.sc="OK",M==null)return gn(_,2,"null VP8Io passed to VP8GetHeaders()");var V=M.data,ee=M.w,ue=M.ha;if(4>ue)return gn(_,7,"Truncated header.");var me=V[ee+0]|V[ee+1]<<8|V[ee+2]<<16,ge=_.Od;if(ge.Rb=!(1&me),ge.td=me>>1&7,ge.yd=me>>4&1,ge.ub=me>>5,3<ge.td)return gn(_,3,"Incorrect keyframe parameters.");if(!ge.yd)return gn(_,4,"Frame not displayable.");ee+=3,ue-=3;var ye=_.Kc;if(ge.Rb){if(7>ue)return gn(_,7,"cannot parse picture header");if(!Go(V,ee,ue))return gn(_,3,"Bad code word");ye.c=16383&(V[ee+4]<<8|V[ee+3]),ye.Td=V[ee+4]>>6,ye.i=16383&(V[ee+6]<<8|V[ee+5]),ye.Ud=V[ee+6]>>6,ee+=7,ue-=7,_.za=ye.c+15>>4,_.Ub=ye.i+15>>4,M.width=ye.c,M.height=ye.i,M.Da=0,M.j=0,M.v=0,M.va=M.width,M.o=M.height,M.da=0,M.ib=M.width,M.hb=M.height,M.U=M.width,M.T=M.height,s((me=_.Pa).jb,0,255,me.jb.length),e((me=_.Qa)!=null),me.Cb=0,me.Bb=0,me.Fb=1,s(me.Zb,0,0,me.Zb.length),s(me.Lb,0,0,me.Lb)}if(ge.ub>ue)return gn(_,7,"bad partition length");G(me=_.m,V,ee,ge.ub),ee+=ge.ub,ue-=ge.ub,ge.Rb&&(ye.Ld=se(me),ye.Kd=se(me)),ye=_.Qa;var be,Ce=_.Pa;if(e(me!=null),e(ye!=null),ye.Cb=se(me),ye.Cb){if(ye.Bb=se(me),se(me)){for(ye.Fb=se(me),be=0;4>be;++be)ye.Zb[be]=se(me)?B(me,7):0;for(be=0;4>be;++be)ye.Lb[be]=se(me)?B(me,6):0}if(ye.Bb)for(be=0;3>be;++be)Ce.jb[be]=se(me)?W(me,8):255}else ye.Bb=0;if(me.Ka)return gn(_,3,"cannot parse segment header");if((ye=_.ed).zd=se(me),ye.Tb=W(me,6),ye.wb=W(me,3),ye.Pc=se(me),ye.Pc&&se(me)){for(Ce=0;4>Ce;++Ce)se(me)&&(ye.vd[Ce]=B(me,6));for(Ce=0;4>Ce;++Ce)se(me)&&(ye.od[Ce]=B(me,6))}if(_.L=ye.Tb==0?0:ye.zd?1:2,me.Ka)return gn(_,3,"cannot parse filter header");var Ue=ue;if(ue=be=ee,ee=be+Ue,ye=Ue,_.Xb=(1<<W(_.m,2))-1,Ue<3*(Ce=_.Xb))V=7;else{for(be+=3*Ce,ye-=3*Ce,Ue=0;Ue<Ce;++Ue){var st=V[ue+0]|V[ue+1]<<8|V[ue+2]<<16;st>ye&&(st=ye),G(_.Jc[+Ue],V,be,st),be+=st,ye-=st,ue+=3}G(_.Jc[+Ce],V,be,ye),V=be<ee?0:5}if(V!=0)return gn(_,V,"cannot parse partitions");for(V=W(be=_.m,7),ue=se(be)?B(be,4):0,ee=se(be)?B(be,4):0,ye=se(be)?B(be,4):0,Ce=se(be)?B(be,4):0,be=se(be)?B(be,4):0,Ue=_.Qa,st=0;4>st;++st){if(Ue.Cb){var Ne=Ue.Zb[st];Ue.Fb||(Ne+=V)}else{if(0<st){_.pb[st]=_.pb[0];continue}Ne=V}var Ve=_.pb[st];Ve.Sc[0]=Hf[un(Ne+ue,127)],Ve.Sc[1]=Rv[un(Ne+0,127)],Ve.Eb[0]=2*Hf[un(Ne+ee,127)],Ve.Eb[1]=101581*Rv[un(Ne+ye,127)]>>16,8>Ve.Eb[1]&&(Ve.Eb[1]=8),Ve.Qc[0]=Hf[un(Ne+Ce,117)],Ve.Qc[1]=Rv[un(Ne+be,127)],Ve.lc=Ne+be}if(!ge.Rb)return gn(_,4,"Not a key frame.");for(se(me),ge=_.Pa,V=0;4>V;++V){for(ue=0;8>ue;++ue)for(ee=0;3>ee;++ee)for(ye=0;11>ye;++ye)Ce=Q(me,Jw[V][ue][ee][ye])?W(me,8):Nx[V][ue][ee][ye],ge.Wc[V][ue].Yb[ee][ye]=Ce;for(ue=0;17>ue;++ue)ge.Xc[V][ue]=ge.Wc[V][ej[ue]]}return _.kc=se(me),_.kc&&(_.Bd=W(me,8)),_.cb=1}function Js(_,M,V,ee,ue,me,ge){var ye=M[ue].Yb[V];for(V=0;16>ue;++ue){if(!Q(_,ye[V+0]))return ue;for(;!Q(_,ye[V+1]);)if(ye=M[++ue].Yb[0],V=0,ue==16)return 16;var be=M[ue+1].Yb;if(Q(_,ye[V+2])){var Ce=_,Ue=0;if(Q(Ce,(Ne=ye)[(st=V)+3]))if(Q(Ce,Ne[st+6])){for(ye=0,st=2*(Ue=Q(Ce,Ne[st+8]))+(Ne=Q(Ce,Ne[st+9+Ue])),Ue=0,Ne=g_[st];Ne[ye];++ye)Ue+=Ue+Q(Ce,Ne[ye]);Ue+=3+(8<<st)}else Q(Ce,Ne[st+7])?(Ue=7+2*Q(Ce,165),Ue+=Q(Ce,145)):Ue=5+Q(Ce,159);else Ue=Q(Ce,Ne[st+4])?3+Q(Ce,Ne[st+5]):2;ye=be[2]}else Ue=1,ye=be[1];be=ge+Xl[ue],0>(Ce=_).b&&ne(Ce);var st,Ne=Ce.b,Ve=(st=Ce.Ca>>1)-(Ce.I>>Ne)>>31;--Ce.b,Ce.Ca+=Ve,Ce.Ca|=1,Ce.I-=(st+1&Ve)<<Ne,me[be]=((Ue^Ve)-Ve)*ee[(0<ue)+0]}return 16}function Pu(_){var M=_.rb[_.sb-1];M.la=0,M.Na=0,s(_.zc,0,0,_.zc.length),_.ja=0}function Wa(_,M,V,ee,ue){ue=_[M+V+32*ee]+(ue>>3),_[M+V+32*ee]=-256&ue?0>ue?0:255:ue}function Hs(_,M,V,ee,ue,me){Wa(_,M,0,V,ee+ue),Wa(_,M,1,V,ee+me),Wa(_,M,2,V,ee-me),Wa(_,M,3,V,ee-ue)}function co(_){return(20091*_>>16)+_}function Ph(_,M,V,ee){var ue,me=0,ge=a(16);for(ue=0;4>ue;++ue){var ye=_[M+0]+_[M+8],be=_[M+0]-_[M+8],Ce=(35468*_[M+4]>>16)-co(_[M+12]),Ue=co(_[M+4])+(35468*_[M+12]>>16);ge[me+0]=ye+Ue,ge[me+1]=be+Ce,ge[me+2]=be-Ce,ge[me+3]=ye-Ue,me+=4,M++}for(ue=me=0;4>ue;++ue)ye=(_=ge[me+0]+4)+ge[me+8],be=_-ge[me+8],Ce=(35468*ge[me+4]>>16)-co(ge[me+12]),Wa(V,ee,0,0,ye+(Ue=co(ge[me+4])+(35468*ge[me+12]>>16))),Wa(V,ee,1,0,be+Ce),Wa(V,ee,2,0,be-Ce),Wa(V,ee,3,0,ye-Ue),me++,ee+=32}function Ga(_,M,V,ee){var ue=_[M+0]+4,me=35468*_[M+4]>>16,ge=co(_[M+4]),ye=35468*_[M+1]>>16;Hs(V,ee,0,ue+ge,_=co(_[M+1]),ye),Hs(V,ee,1,ue+me,_,ye),Hs(V,ee,2,ue-me,_,ye),Hs(V,ee,3,ue-ge,_,ye)}function $d(_,M,V,ee,ue){Ph(_,M,V,ee),ue&&Ph(_,M+16,V,ee+4)}function yl(_,M,V,ee){Uu(_,M+0,V,ee,1),Uu(_,M+32,V,ee+128,1)}function Bf(_,M,V,ee){var ue;for(_=_[M+0]+4,ue=0;4>ue;++ue)for(M=0;4>M;++M)Wa(V,ee,M,ue,_)}function Ic(_,M,V,ee){_[M+0]&&hn(_,M+0,V,ee),_[M+16]&&hn(_,M+16,V,ee+4),_[M+32]&&hn(_,M+32,V,ee+128),_[M+48]&&hn(_,M+48,V,ee+128+4)}function vl(_,M,V,ee){var ue,me=a(16);for(ue=0;4>ue;++ue){var ge=_[M+0+ue]+_[M+12+ue],ye=_[M+4+ue]+_[M+8+ue],be=_[M+4+ue]-_[M+8+ue],Ce=_[M+0+ue]-_[M+12+ue];me[0+ue]=ge+ye,me[8+ue]=ge-ye,me[4+ue]=Ce+be,me[12+ue]=Ce-be}for(ue=0;4>ue;++ue)ge=(_=me[0+4*ue]+3)+me[3+4*ue],ye=me[1+4*ue]+me[2+4*ue],be=me[1+4*ue]-me[2+4*ue],Ce=_-me[3+4*ue],V[ee+0]=ge+ye>>3,V[ee+16]=Ce+be>>3,V[ee+32]=ge-ye>>3,V[ee+48]=Ce-be>>3,ee+=64}function uo(_,M,V){var ee,ue=M-32,me=Qi,ge=255-_[ue-1];for(ee=0;ee<V;++ee){var ye,be=me,Ce=ge+_[M-1];for(ye=0;ye<V;++ye)_[M+ye]=be[Ce+_[ue+ye]];M+=32}}function Eu(_,M){uo(_,M,4)}function $f(_,M){uo(_,M,8)}function zf(_,M){uo(_,M,16)}function Mc(_,M){var V;for(V=0;16>V;++V)n(_,M+32*V,_,M-32,16)}function zd(_,M){var V;for(V=16;0<V;--V)s(_,M,_[M-1],16),M+=32}function va(_,M,V){var ee;for(ee=0;16>ee;++ee)s(M,V+32*ee,_,16)}function Oc(_,M){var V,ee=16;for(V=0;16>V;++V)ee+=_[M-1+32*V]+_[M+V-32];va(ee>>5,_,M)}function Se(_,M){var V,ee=8;for(V=0;16>V;++V)ee+=_[M-1+32*V];va(ee>>4,_,M)}function De(_,M){var V,ee=8;for(V=0;16>V;++V)ee+=_[M+V-32];va(ee>>4,_,M)}function Le(_,M){va(128,_,M)}function Xe(_,M,V){return _+2*M+V+2>>2}function kt(_,M){var V,ee=M-32;for(ee=new Uint8Array([Xe(_[ee-1],_[ee+0],_[ee+1]),Xe(_[ee+0],_[ee+1],_[ee+2]),Xe(_[ee+1],_[ee+2],_[ee+3]),Xe(_[ee+2],_[ee+3],_[ee+4])]),V=0;4>V;++V)n(_,M+32*V,ee,0,ee.length)}function cr(_,M){var V=_[M-1],ee=_[M-1+32],ue=_[M-1+64],me=_[M-1+96];re(_,M+0,16843009*Xe(_[M-1-32],V,ee)),re(_,M+32,16843009*Xe(V,ee,ue)),re(_,M+64,16843009*Xe(ee,ue,me)),re(_,M+96,16843009*Xe(ue,me,me))}function pr(_,M){var V,ee=4;for(V=0;4>V;++V)ee+=_[M+V-32]+_[M-1+32*V];for(ee>>=3,V=0;4>V;++V)s(_,M+32*V,ee,4)}function Jt(_,M){var V=_[M-1+0],ee=_[M-1+32],ue=_[M-1+64],me=_[M-1-32],ge=_[M+0-32],ye=_[M+1-32],be=_[M+2-32],Ce=_[M+3-32];_[M+0+96]=Xe(ee,ue,_[M-1+96]),_[M+1+96]=_[M+0+64]=Xe(V,ee,ue),_[M+2+96]=_[M+1+64]=_[M+0+32]=Xe(me,V,ee),_[M+3+96]=_[M+2+64]=_[M+1+32]=_[M+0+0]=Xe(ge,me,V),_[M+3+64]=_[M+2+32]=_[M+1+0]=Xe(ye,ge,me),_[M+3+32]=_[M+2+0]=Xe(be,ye,ge),_[M+3+0]=Xe(Ce,be,ye)}function ar(_,M){var V=_[M+1-32],ee=_[M+2-32],ue=_[M+3-32],me=_[M+4-32],ge=_[M+5-32],ye=_[M+6-32],be=_[M+7-32];_[M+0+0]=Xe(_[M+0-32],V,ee),_[M+1+0]=_[M+0+32]=Xe(V,ee,ue),_[M+2+0]=_[M+1+32]=_[M+0+64]=Xe(ee,ue,me),_[M+3+0]=_[M+2+32]=_[M+1+64]=_[M+0+96]=Xe(ue,me,ge),_[M+3+32]=_[M+2+64]=_[M+1+96]=Xe(me,ge,ye),_[M+3+64]=_[M+2+96]=Xe(ge,ye,be),_[M+3+96]=Xe(ye,be,be)}function Qn(_,M){var V=_[M-1+0],ee=_[M-1+32],ue=_[M-1+64],me=_[M-1-32],ge=_[M+0-32],ye=_[M+1-32],be=_[M+2-32],Ce=_[M+3-32];_[M+0+0]=_[M+1+64]=me+ge+1>>1,_[M+1+0]=_[M+2+64]=ge+ye+1>>1,_[M+2+0]=_[M+3+64]=ye+be+1>>1,_[M+3+0]=be+Ce+1>>1,_[M+0+96]=Xe(ue,ee,V),_[M+0+64]=Xe(ee,V,me),_[M+0+32]=_[M+1+96]=Xe(V,me,ge),_[M+1+32]=_[M+2+96]=Xe(me,ge,ye),_[M+2+32]=_[M+3+96]=Xe(ge,ye,be),_[M+3+32]=Xe(ye,be,Ce)}function Jn(_,M){var V=_[M+0-32],ee=_[M+1-32],ue=_[M+2-32],me=_[M+3-32],ge=_[M+4-32],ye=_[M+5-32],be=_[M+6-32],Ce=_[M+7-32];_[M+0+0]=V+ee+1>>1,_[M+1+0]=_[M+0+64]=ee+ue+1>>1,_[M+2+0]=_[M+1+64]=ue+me+1>>1,_[M+3+0]=_[M+2+64]=me+ge+1>>1,_[M+0+32]=Xe(V,ee,ue),_[M+1+32]=_[M+0+96]=Xe(ee,ue,me),_[M+2+32]=_[M+1+96]=Xe(ue,me,ge),_[M+3+32]=_[M+2+96]=Xe(me,ge,ye),_[M+3+64]=Xe(ge,ye,be),_[M+3+96]=Xe(ye,be,Ce)}function ei(_,M){var V=_[M-1+0],ee=_[M-1+32],ue=_[M-1+64],me=_[M-1+96];_[M+0+0]=V+ee+1>>1,_[M+2+0]=_[M+0+32]=ee+ue+1>>1,_[M+2+32]=_[M+0+64]=ue+me+1>>1,_[M+1+0]=Xe(V,ee,ue),_[M+3+0]=_[M+1+32]=Xe(ee,ue,me),_[M+3+32]=_[M+1+64]=Xe(ue,me,me),_[M+3+64]=_[M+2+64]=_[M+0+96]=_[M+1+96]=_[M+2+96]=_[M+3+96]=me}function Vn(_,M){var V=_[M-1+0],ee=_[M-1+32],ue=_[M-1+64],me=_[M-1+96],ge=_[M-1-32],ye=_[M+0-32],be=_[M+1-32],Ce=_[M+2-32];_[M+0+0]=_[M+2+32]=V+ge+1>>1,_[M+0+32]=_[M+2+64]=ee+V+1>>1,_[M+0+64]=_[M+2+96]=ue+ee+1>>1,_[M+0+96]=me+ue+1>>1,_[M+3+0]=Xe(ye,be,Ce),_[M+2+0]=Xe(ge,ye,be),_[M+1+0]=_[M+3+32]=Xe(V,ge,ye),_[M+1+32]=_[M+3+64]=Xe(ee,V,ge),_[M+1+64]=_[M+3+96]=Xe(ue,ee,V),_[M+1+96]=Xe(me,ue,ee)}function qn(_,M){var V;for(V=0;8>V;++V)n(_,M+32*V,_,M-32,8)}function Tn(_,M){var V;for(V=0;8>V;++V)s(_,M,_[M-1],8),M+=32}function es(_,M,V){var ee;for(ee=0;8>ee;++ee)s(M,V+32*ee,_,8)}function bl(_,M){var V,ee=8;for(V=0;8>V;++V)ee+=_[M+V-32]+_[M-1+32*V];es(ee>>4,_,M)}function $i(_,M){var V,ee=4;for(V=0;8>V;++V)ee+=_[M+V-32];es(ee>>3,_,M)}function zi(_,M){var V,ee=4;for(V=0;8>V;++V)ee+=_[M-1+32*V];es(ee>>3,_,M)}function Tu(_,M){es(128,_,M)}function Ci(_,M,V){var ee=_[M-V],ue=_[M+0],me=3*(ue-ee)+vx[1020+_[M-2*V]-_[M+V]],ge=bm[112+(me+4>>3)];_[M-V]=Qi[255+ee+bm[112+(me+3>>3)]],_[M+0]=Qi[255+ue-ge]}function Gl(_,M,V,ee){var ue=_[M+0],me=_[M+V];return qo[255+_[M-2*V]-_[M-V]]>ee||qo[255+me-ue]>ee}function Lc(_,M,V,ee){return 4*qo[255+_[M-V]-_[M+0]]+qo[255+_[M-2*V]-_[M+V]]<=ee}function Yi(_,M,V,ee,ue){var me=_[M-3*V],ge=_[M-2*V],ye=_[M-V],be=_[M+0],Ce=_[M+V],Ue=_[M+2*V],st=_[M+3*V];return 4*qo[255+ye-be]+qo[255+ge-Ce]>ee?0:qo[255+_[M-4*V]-me]<=ue&&qo[255+me-ge]<=ue&&qo[255+ge-ye]<=ue&&qo[255+st-Ue]<=ue&&qo[255+Ue-Ce]<=ue&&qo[255+Ce-be]<=ue}function Xi(_,M,V,ee){var ue=2*ee+1;for(ee=0;16>ee;++ee)Lc(_,M+ee,V,ue)&&Ci(_,M+ee,V)}function Hl(_,M,V,ee){var ue=2*ee+1;for(ee=0;16>ee;++ee)Lc(_,M+ee*V,1,ue)&&Ci(_,M+ee*V,1)}function Iu(_,M,V,ee){var ue;for(ue=3;0<ue;--ue)Xi(_,M+=4*V,V,ee)}function Eh(_,M,V,ee){var ue;for(ue=3;0<ue;--ue)Hl(_,M+=4,V,ee)}function ui(_,M,V,ee,ue,me,ge,ye){for(me=2*me+1;0<ue--;){if(Yi(_,M,V,me,ge))if(Gl(_,M,V,ye))Ci(_,M,V);else{var be=_,Ce=M,Ue=V,st=be[Ce-2*Ue],Ne=be[Ce-Ue],Ve=be[Ce+0],tt=be[Ce+Ue],mt=be[Ce+2*Ue],Qe=27*(Ye=vx[1020+3*(Ve-Ne)+vx[1020+st-tt]])+63>>7,bt=18*Ye+63>>7,Ye=9*Ye+63>>7;be[Ce-3*Ue]=Qi[255+be[Ce-3*Ue]+Ye],be[Ce-2*Ue]=Qi[255+st+bt],be[Ce-Ue]=Qi[255+Ne+Qe],be[Ce+0]=Qi[255+Ve-Qe],be[Ce+Ue]=Qi[255+tt-bt],be[Ce+2*Ue]=Qi[255+mt-Ye]}M+=ee}}function di(_,M,V,ee,ue,me,ge,ye){for(me=2*me+1;0<ue--;){if(Yi(_,M,V,me,ge))if(Gl(_,M,V,ye))Ci(_,M,V);else{var be=_,Ce=M,Ue=V,st=be[Ce-Ue],Ne=be[Ce+0],Ve=be[Ce+Ue],tt=bm[112+(4+(mt=3*(Ne-st))>>3)],mt=bm[112+(mt+3>>3)],Qe=tt+1>>1;be[Ce-2*Ue]=Qi[255+be[Ce-2*Ue]+Qe],be[Ce-Ue]=Qi[255+st+mt],be[Ce+0]=Qi[255+Ne-tt],be[Ce+Ue]=Qi[255+Ve-Qe]}M+=ee}}function Rc(_,M,V,ee,ue,me){ui(_,M,V,1,16,ee,ue,me)}function Ha(_,M,V,ee,ue,me){ui(_,M,1,V,16,ee,ue,me)}function wl(_,M,V,ee,ue,me){var ge;for(ge=3;0<ge;--ge)di(_,M+=4*V,V,1,16,ee,ue,me)}function z(_,M,V,ee,ue,me){var ge;for(ge=3;0<ge;--ge)di(_,M+=4,1,V,16,ee,ue,me)}function de(_,M,V,ee,ue,me,ge,ye){ui(_,M,ue,1,8,me,ge,ye),ui(V,ee,ue,1,8,me,ge,ye)}function _e(_,M,V,ee,ue,me,ge,ye){ui(_,M,1,ue,8,me,ge,ye),ui(V,ee,1,ue,8,me,ge,ye)}function Be(_,M,V,ee,ue,me,ge,ye){di(_,M+4*ue,ue,1,8,me,ge,ye),di(V,ee+4*ue,ue,1,8,me,ge,ye)}function qe(_,M,V,ee,ue,me,ge,ye){di(_,M+4,1,ue,8,me,ge,ye),di(V,ee+4,1,ue,8,me,ge,ye)}function pt(){this.ba=new Vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function gt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tr(){this.ua=0,this.Wa=new Pe,this.vb=new Pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new U}function Ur(){this.xb=this.a=0,this.l=new Ua,this.ca=new Vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Z,this.Pb=0,this.wd=new Z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tr,this.ab=0,this.gc=o(4,sr),this.Oc=0}function Kr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ua,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xn(_,M,V,ee,ue,me,ge){for(_=_==null?0:_[M+0],M=0;M<ge;++M)ue[me+M]=_+V[ee+M]&255,_=ue[me+M]}function hs(_,M,V,ee,ue,me,ge){var ye;if(_==null)xn(null,null,V,ee,ue,me,ge);else for(ye=0;ye<ge;++ye)ue[me+ye]=_[M+ye]+V[ee+ye]&255}function ti(_,M,V,ee,ue,me,ge){if(_==null)xn(null,null,V,ee,ue,me,ge);else{var ye,be=_[M+0],Ce=be,Ue=be;for(ye=0;ye<ge;++ye)Ce=Ue+(be=_[M+ye])-Ce,Ue=V[ee+ye]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=be,ue[me+ye]=Ue}}function Yn(_,M,V,ee){var ue=M.width,me=M.o;if(e(_!=null&&M!=null),0>V||0>=ee||V+ee>me)return null;if(!_.Cc){if(_.ga==null){var ge;if(_.ga=new Kr,(ge=_.ga==null)||(ge=M.width*M.o,e(_.Gb.length==0),_.Gb=a(ge),_.Uc=0,_.Gb==null?ge=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ge=1),ge=!ge),!ge){ge=_.ga;var ye=_.Fa,be=_.P,Ce=_.qc,Ue=_.mb,st=_.nb,Ne=be+1,Ve=Ce-1,tt=ge.l;if(e(ye!=null&&Ue!=null&&M!=null),Hu[0]=null,Hu[1]=xn,Hu[2]=hs,Hu[3]=ti,ge.ca=Ue,ge.tb=st,ge.c=M.width,ge.i=M.height,e(0<ge.c&&0<ge.i),1>=Ce)M=0;else if(ge.$a=3&ye[be+0],ge.Z=ye[be+0]>>2&3,ge.Lc=ye[be+0]>>4&3,be=ye[be+0]>>6&3,0>ge.$a||1<ge.$a||4<=ge.Z||1<ge.Lc||be)M=0;else if(tt.put=Ct,tt.ac=vt,tt.bc=qt,tt.ma=ge,tt.width=M.width,tt.height=M.height,tt.Da=M.Da,tt.v=M.v,tt.va=M.va,tt.j=M.j,tt.o=M.o,ge.$a)e:{e(ge.$a==1),M=Hn();t:for(;;){if(M==null){M=0;break e}if(e(ge!=null),ge.mc=M,M.c=ge.c,M.i=ge.i,M.l=ge.l,M.l.ma=ge,M.l.width=ge.c,M.l.height=ge.i,M.a=0,O(M.m,ye,Ne,Ve),!Uo(ge.c,ge.i,1,M,null)||(M.ab==1&&M.gc[0].hc==3&&Qs(M.s)?(ge.ic=1,ye=M.c*M.i,M.Ta=null,M.Ua=0,M.V=a(ye),M.Ba=0,M.V==null?(M.a=1,M=0):M=1):(ge.ic=0,M=Ec(M,ge.c)),!M))break t;M=1;break e}ge.mc=null,M=0}else M=Ve>=ge.c*ge.i;ge=!M}if(ge)return null;_.ga.Lc!=1?_.Ga=0:ee=me-V}e(_.ga!=null),e(V+ee<=me);e:{if(M=(ye=_.ga).c,me=ye.l.o,ye.$a==0){if(Ne=_.rc,Ve=_.Vc,tt=_.Fa,be=_.P+1+V*M,Ce=_.mb,Ue=_.nb+V*M,e(be<=_.P+_.qc),ye.Z!=0)for(e(Hu[ye.Z]!=null),ge=0;ge<ee;++ge)Hu[ye.Z](Ne,Ve,tt,be,Ce,Ue,M),Ne=Ce,Ve=Ue,Ue+=M,be+=M;else for(ge=0;ge<ee;++ge)n(Ce,Ue,tt,be,M),Ne=Ce,Ve=Ue,Ue+=M,be+=M;_.rc=Ne,_.Vc=Ve}else{if(e(ye.mc!=null),M=V+ee,e((ge=ye.mc)!=null),e(M<=ge.i),ge.C>=M)M=1;else if(ye.ic||ho(),ye.ic){ye=ge.V,Ne=ge.Ba,Ve=ge.c;var mt=ge.i,Qe=(tt=1,be=ge.$/Ve,Ce=ge.$%Ve,Ue=ge.m,st=ge.s,ge.$),bt=Ve*mt,Ye=Ve*M,Mt=st.wc,Et=Qe<Ye?er(st,Ce,be):null;e(Qe<=bt),e(M<=mt),e(Qs(st));t:for(;;){for(;!Ue.h&&Qe<Ye;){if(Ce&Mt||(Et=er(st,Ce,be)),e(Et!=null),ae(Ue),256>(mt=lr(Et.G[0],Et.H[0],Ue)))ye[Ne+Qe]=mt,++Qe,++Ce>=Ve&&(Ce=0,++be<=M&&!(be%16)&&qi(ge,be));else{if(!(280>mt)){tt=0;break t}mt=Or(mt-256,Ue);var wr,or=lr(Et.G[4],Et.H[4],Ue);if(ae(Ue),!(Qe>=(or=fr(Ve,or=Or(or,Ue)))&&bt-Qe>=mt)){tt=0;break t}for(wr=0;wr<mt;++wr)ye[Ne+Qe+wr]=ye[Ne+Qe+wr-or];for(Qe+=mt,Ce+=mt;Ce>=Ve;)Ce-=Ve,++be<=M&&!(be%16)&&qi(ge,be);Qe<Ye&&Ce&Mt&&(Et=er(st,Ce,be))}e(Ue.h==he(Ue))}qi(ge,be>M?M:be);break t}!tt||Ue.h&&Qe<bt?(tt=0,ge.a=Ue.h?5:3):ge.$=Qe,M=tt}else M=za(ge,ge.V,ge.Ba,ge.c,ge.i,M,Ni);if(!M){ee=0;break e}}V+ee>=me&&(_.Cc=1),ee=1}if(!ee)return null;if(_.Cc&&((ee=_.ga)!=null&&(ee.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+V*ue}function hi(_,M,V,ee,ue,me){for(;0<ue--;){var ge,ye=_,be=M+(V?1:0),Ce=_,Ue=M+(V?0:3);for(ge=0;ge<ee;++ge){var st=Ce[Ue+4*ge];st!=255&&(st*=32897,ye[be+4*ge+0]=ye[be+4*ge+0]*st>>23,ye[be+4*ge+1]=ye[be+4*ge+1]*st>>23,ye[be+4*ge+2]=ye[be+4*ge+2]*st>>23)}M+=me}}function fs(_,M,V,ee,ue){for(;0<ee--;){var me;for(me=0;me<V;++me){var ge=_[M+2*me+0],ye=15&(Ce=_[M+2*me+1]),be=4369*ye,Ce=(240&Ce|Ce>>4)*be>>16;_[M+2*me+0]=(240&ge|ge>>4)*be>>16&240|(15&ge|ge<<4)*be>>16>>4&15,_[M+2*me+1]=240&Ce|ye}M+=ue}}function _i(_,M,V,ee,ue,me,ge,ye){var be,Ce,Ue=255;for(Ce=0;Ce<ue;++Ce){for(be=0;be<ee;++be){var st=_[M+be];me[ge+4*be]=st,Ue&=st}M+=V,ge+=ye}return Ue!=255}function Mu(_,M,V,ee,ue){var me;for(me=0;me<ue;++me)V[ee+me]=_[M+me]>>8}function ho(){Gu=hi,xx=fs,yx=_i,Av=Mu}function Ou(_,M,V){T[_]=function(ee,ue,me,ge,ye,be,Ce,Ue,st,Ne,Ve,tt,mt,Qe,bt,Ye,Mt){var Et,wr=Mt-1>>1,or=ye[be+0]|Ce[Ue+0]<<16,Wr=st[Ne+0]|Ve[tt+0]<<16;e(ee!=null);var ur=3*or+Wr+131074>>2;for(M(ee[ue+0],255&ur,ur>>16,mt,Qe),me!=null&&(ur=3*Wr+or+131074>>2,M(me[ge+0],255&ur,ur>>16,bt,Ye)),Et=1;Et<=wr;++Et){var dn=ye[be+Et]|Ce[Ue+Et]<<16,pi=st[Ne+Et]|Ve[tt+Et]<<16,Qr=or+dn+Wr+pi+524296,mr=Qr+2*(dn+Wr)>>3;ur=mr+or>>1,or=(Qr=Qr+2*(or+pi)>>3)+dn>>1,M(ee[ue+2*Et-1],255&ur,ur>>16,mt,Qe+(2*Et-1)*V),M(ee[ue+2*Et-0],255&or,or>>16,mt,Qe+(2*Et-0)*V),me!=null&&(ur=Qr+Wr>>1,or=mr+pi>>1,M(me[ge+2*Et-1],255&ur,ur>>16,bt,Ye+(2*Et-1)*V),M(me[ge+2*Et+0],255&or,or>>16,bt,Ye+(2*Et+0)*V)),or=dn,Wr=pi}1&Mt||(ur=3*or+Wr+131074>>2,M(ee[ue+Mt-1],255&ur,ur>>16,mt,Qe+(Mt-1)*V),me!=null&&(ur=3*Wr+or+131074>>2,M(me[ge+Mt-1],255&ur,ur>>16,bt,Ye+(Mt-1)*V)))}}function Lu(){Yo[Lh]=rj,Yo[Rh]=Fv,Yo[Mv]=nj,Yo[Gf]=sj,Yo[wm]=Ya,Yo[bx]=Na,Yo[Ov]=ij,Yo[wx]=Fv,Yo[jm]=sj,Yo[Sm]=Ya,Yo[jx]=Na}function Ru(_){return _&-16384?0>_?0:255:_>>Bv}function Du(_,M){return Ru((19077*_>>8)+(26149*M>>8)-14234)}function Ud(_,M,V){return Ru((19077*_>>8)-(6419*M>>8)-(13320*V>>8)+8708)}function jl(_,M){return Ru((19077*_>>8)+(33050*M>>8)-17685)}function Fu(_,M,V,ee,ue){ee[ue+0]=Du(_,V),ee[ue+1]=Ud(_,M,V),ee[ue+2]=jl(_,M)}function fi(_,M,V,ee,ue){ee[ue+0]=jl(_,M),ee[ue+1]=Ud(_,M,V),ee[ue+2]=Du(_,V)}function Dc(_,M,V,ee,ue){var me=Ud(_,M,V);M=me<<3&224|jl(_,M)>>3,ee[ue+0]=248&Du(_,V)|me>>5,ee[ue+1]=M}function Sl(_,M,V,ee,ue){var me=240&jl(_,M)|15;ee[ue+0]=240&Du(_,V)|Ud(_,M,V)>>4,ee[ue+1]=me}function Th(_,M,V,ee,ue){ee[ue+0]=255,Fu(_,M,V,ee,ue+1)}function Ih(_,M,V,ee,ue){fi(_,M,V,ee,ue),ee[ue+3]=255}function ba(_,M,V,ee,ue){Fu(_,M,V,ee,ue),ee[ue+3]=255}function Vl(_,M,V){T[_]=function(ee,ue,me,ge,ye,be,Ce,Ue,st){for(var Ne=Ue+(-2&st)*V;Ue!=Ne;)M(ee[ue+0],me[ge+0],ye[be+0],Ce,Ue),M(ee[ue+1],me[ge+0],ye[be+0],Ce,Ue+V),ue+=2,++ge,++be,Ue+=2*V;1&st&&M(ee[ue+0],me[ge+0],ye[be+0],Ce,Ue)}}function Wd(_,M,V){return V==0?_==0?M==0?6:5:M==0?4:0:V}function Bu(_,M,V,ee,ue){switch(_>>>30){case 3:Uu(M,V,ee,ue,0);break;case 2:qa(M,V,ee,ue);break;case 1:hn(M,V,ee,ue)}}function ks(_,M){var V,ee,ue=M.M,me=M.Nb,ge=_.oc,ye=_.pc+40,be=_.oc,Ce=_.pc+584,Ue=_.oc,st=_.pc+600;for(V=0;16>V;++V)ge[ye+32*V-1]=129;for(V=0;8>V;++V)be[Ce+32*V-1]=129,Ue[st+32*V-1]=129;for(0<ue?ge[ye-1-32]=be[Ce-1-32]=Ue[st-1-32]=129:(s(ge,ye-32-1,127,21),s(be,Ce-32-1,127,9),s(Ue,st-32-1,127,9)),ee=0;ee<_.za;++ee){var Ne=M.ya[M.aa+ee];if(0<ee){for(V=-1;16>V;++V)n(ge,ye+32*V-4,ge,ye+32*V+12,4);for(V=-1;8>V;++V)n(be,Ce+32*V-4,be,Ce+32*V+4,4),n(Ue,st+32*V-4,Ue,st+32*V+4,4)}var Ve=_.Gd,tt=_.Hd+ee,mt=Ne.ad,Qe=Ne.Hc;if(0<ue&&(n(ge,ye-32,Ve[tt].y,0,16),n(be,Ce-32,Ve[tt].f,0,8),n(Ue,st-32,Ve[tt].ea,0,8)),Ne.Za){var bt=ge,Ye=ye-32+16;for(0<ue&&(ee>=_.za-1?s(bt,Ye,Ve[tt].y[15],4):n(bt,Ye,Ve[tt+1].y,0,4)),V=0;4>V;V++)bt[Ye+128+V]=bt[Ye+256+V]=bt[Ye+384+V]=bt[Ye+0+V];for(V=0;16>V;++V,Qe<<=2)bt=ge,Ye=ye+_x[V],Sa[Ne.Ob[V]](bt,Ye),Bu(Qe,mt,16*+V,bt,Ye)}else if(bt=Wd(ee,ue,Ne.Ob[0]),Gc[bt](ge,ye),Qe!=0)for(V=0;16>V;++V,Qe<<=2)Bu(Qe,mt,16*+V,ge,ye+_x[V]);for(V=Ne.Gc,bt=Wd(ee,ue,Ne.Dd),Kl[bt](be,Ce),Kl[bt](Ue,st),Qe=mt,bt=be,Ye=Ce,255&(Ne=0|V)&&(170&Ne?Nl(Qe,256,bt,Ye):$r(Qe,256,bt,Ye)),Ne=Ue,Qe=st,255&(V>>=8)&&(170&V?Nl(mt,320,Ne,Qe):$r(mt,320,Ne,Qe)),ue<_.Ub-1&&(n(Ve[tt].y,0,ge,ye+480,16),n(Ve[tt].f,0,be,Ce+224,8),n(Ve[tt].ea,0,Ue,st+224,8)),V=8*me*_.B,Ve=_.sa,tt=_.ta+16*ee+16*me*_.R,mt=_.qa,Ne=_.ra+8*ee+V,Qe=_.Ha,bt=_.Ia+8*ee+V,V=0;16>V;++V)n(Ve,tt+V*_.R,ge,ye+32*V,16);for(V=0;8>V;++V)n(mt,Ne+V*_.B,be,Ce+32*V,8),n(Qe,bt+V*_.B,Ue,st+32*V,8)}}function Ho(_,M,V,ee,ue,me,ge,ye,be){var Ce=[0],Ue=[0],st=0,Ne=be!=null?be.kd:0,Ve=be??new gt;if(_==null||12>V)return 7;Ve.data=_,Ve.w=M,Ve.ha=V,M=[M],V=[V],Ve.gb=[Ve.gb];e:{var tt=M,mt=V,Qe=Ve.gb;if(e(_!=null),e(mt!=null),e(Qe!=null),Qe[0]=0,12<=mt[0]&&!r(_,tt[0],"RIFF")){if(r(_,tt[0]+8,"WEBP")){Qe=3;break e}var bt=fe(_,tt[0]+4);if(12>bt||4294967286<bt){Qe=3;break e}if(Ne&&bt>mt[0]-8){Qe=7;break e}Qe[0]=bt,tt[0]+=12,mt[0]-=12}Qe=0}if(Qe!=0)return Qe;for(bt=0<Ve.gb[0],V=V[0];;){e:{var Ye=_;mt=M,Qe=V;var Mt=Ce,Et=Ue,wr=tt=[0];if((ur=st=[st])[0]=0,8>Qe[0])Qe=7;else{if(!r(Ye,mt[0],"VP8X")){if(fe(Ye,mt[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var or=fe(Ye,mt[0]+8),Wr=1+ve(Ye,mt[0]+12);if(2147483648<=Wr*(Ye=1+ve(Ye,mt[0]+15))){Qe=3;break e}wr!=null&&(wr[0]=or),Mt!=null&&(Mt[0]=Wr),Et!=null&&(Et[0]=Ye),mt[0]+=18,Qe[0]-=18,ur[0]=1}Qe=0}}if(st=st[0],tt=tt[0],Qe!=0)return Qe;if(mt=!!(2&tt),!bt&&st)return 3;if(me!=null&&(me[0]=!!(16&tt)),ge!=null&&(ge[0]=mt),ye!=null&&(ye[0]=0),ge=Ce[0],tt=Ue[0],st&&mt&&be==null){Qe=0;break}if(4>V){Qe=7;break}if(bt&&st||!bt&&!st&&!r(_,M[0],"ALPH")){V=[V],Ve.na=[Ve.na],Ve.P=[Ve.P],Ve.Sa=[Ve.Sa];e:{or=_,Qe=M,bt=V;var ur=Ve.gb;Mt=Ve.na,Et=Ve.P,wr=Ve.Sa,Wr=22,e(or!=null),e(bt!=null),Ye=Qe[0];var dn=bt[0];for(e(Mt!=null),e(wr!=null),Mt[0]=null,Et[0]=null,wr[0]=0;;){if(Qe[0]=Ye,bt[0]=dn,8>dn){Qe=7;break e}var pi=fe(or,Ye+4);if(4294967286<pi){Qe=3;break e}var Qr=8+pi+1&-2;if(Wr+=Qr,0<ur&&Wr>ur){Qe=3;break e}if(!r(or,Ye,"VP8 ")||!r(or,Ye,"VP8L")){Qe=0;break e}if(dn[0]<Qr){Qe=7;break e}r(or,Ye,"ALPH")||(Mt[0]=or,Et[0]=Ye+8,wr[0]=pi),Ye+=Qr,dn-=Qr}}if(V=V[0],Ve.na=Ve.na[0],Ve.P=Ve.P[0],Ve.Sa=Ve.Sa[0],Qe!=0)break}V=[V],Ve.Ja=[Ve.Ja],Ve.xa=[Ve.xa];e:if(ur=_,Qe=M,bt=V,Mt=Ve.gb[0],Et=Ve.Ja,wr=Ve.xa,or=Qe[0],Ye=!r(ur,or,"VP8 "),Wr=!r(ur,or,"VP8L"),e(ur!=null),e(bt!=null),e(Et!=null),e(wr!=null),8>bt[0])Qe=7;else{if(Ye||Wr){if(ur=fe(ur,or+4),12<=Mt&&ur>Mt-12){Qe=3;break e}if(Ne&&ur>bt[0]-8){Qe=7;break e}Et[0]=ur,Qe[0]+=8,bt[0]-=8,wr[0]=Wr}else wr[0]=5<=bt[0]&&ur[or+0]==47&&!(ur[or+4]>>5),Et[0]=bt[0];Qe=0}if(V=V[0],Ve.Ja=Ve.Ja[0],Ve.xa=Ve.xa[0],M=M[0],Qe!=0)break;if(4294967286<Ve.Ja)return 3;if(ye==null||mt||(ye[0]=Ve.xa?2:1),ge=[ge],tt=[tt],Ve.xa){if(5>V){Qe=7;break}ye=ge,Ne=tt,mt=me,_==null||5>V?_=0:5<=V&&_[M+0]==47&&!(_[M+4]>>5)?(bt=[0],ur=[0],Mt=[0],O(Et=new Z,_,M,V),Nr(Et,bt,ur,Mt)?(ye!=null&&(ye[0]=bt[0]),Ne!=null&&(Ne[0]=ur[0]),mt!=null&&(mt[0]=Mt[0]),_=1):_=0):_=0}else{if(10>V){Qe=7;break}ye=tt,_==null||10>V||!Go(_,M+3,V-3)?_=0:(Ne=_[M+0]|_[M+1]<<8|_[M+2]<<16,mt=16383&(_[M+7]<<8|_[M+6]),_=16383&(_[M+9]<<8|_[M+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Ve.Ja||!mt||!_?_=0:(ge&&(ge[0]=mt),ye&&(ye[0]=_),_=1))}if(!_||(ge=ge[0],tt=tt[0],st&&(Ce[0]!=ge||Ue[0]!=tt)))return 3;be!=null&&(be[0]=Ve,be.offset=M-be.w,e(4294967286>M-be.w),e(be.offset==be.ha-V));break}return Qe==0||Qe==7&&st&&be==null?(me!=null&&(me[0]|=Ve.na!=null&&0<Ve.na.length),ee!=null&&(ee[0]=ge),ue!=null&&(ue[0]=tt),0):Qe}function Mh(_,M,V){var ee=M.width,ue=M.height,me=0,ge=0,ye=ee,be=ue;if(M.Da=_!=null&&0<_.Da,M.Da&&(ye=_.cd,be=_.bd,me=_.v,ge=_.j,11>V||(me&=-2,ge&=-2),0>me||0>ge||0>=ye||0>=be||me+ye>ee||ge+be>ue))return 0;if(M.v=me,M.j=ge,M.va=me+ye,M.o=ge+be,M.U=ye,M.T=be,M.da=_!=null&&0<_.da,M.da){if(!ke(ye,be,V=[_.ib],me=[_.hb]))return 0;M.ib=V[0],M.hb=me[0]}return M.ob=_!=null&&_.ob,M.Kb=_==null||!_.Sd,M.da&&(M.ob=M.ib<3*ee/4&&M.hb<3*ue/4,M.Kb=0),1}function Uf(_){if(_==null)return 2;if(11>_.S){var M=_.f.RGBA;M.fb+=(_.height-1)*M.A,M.A=-M.A}else M=_.f.kb,_=_.height,M.O+=(_-1)*M.fa,M.fa=-M.fa,M.N+=(_-1>>1)*M.Ab,M.Ab=-M.Ab,M.W+=(_-1>>1)*M.Db,M.Db=-M.Db,M.F!=null&&(M.J+=(_-1)*M.lb,M.lb=-M.lb);return 0}function Ki(_,M,V,ee){if(ee==null||0>=_||0>=M)return 2;if(V!=null){if(V.Da){var ue=V.cd,me=V.bd,ge=-2&V.v,ye=-2&V.j;if(0>ge||0>ye||0>=ue||0>=me||ge+ue>_||ye+me>M)return 2;_=ue,M=me}if(V.da){if(!ke(_,M,ue=[V.ib],me=[V.hb]))return 2;_=ue[0],M=me[0]}}ee.width=_,ee.height=M;e:{var be=ee.width,Ce=ee.height;if(_=ee.S,0>=be||0>=Ce||!(_>=Lh&&13>_))_=2;else{if(0>=ee.Rd&&ee.sd==null){ge=me=ue=M=0;var Ue=(ye=be*Ax[_])*Ce;if(11>_||(me=(Ce+1)/2*(M=(be+1)/2),_==12&&(ge=(ue=be)*Ce)),(Ce=a(Ue+2*me+ge))==null){_=1;break e}ee.sd=Ce,11>_?((be=ee.f.RGBA).eb=Ce,be.fb=0,be.A=ye,be.size=Ue):((be=ee.f.kb).y=Ce,be.O=0,be.fa=ye,be.Fd=Ue,be.f=Ce,be.N=0+Ue,be.Ab=M,be.Cd=me,be.ea=Ce,be.W=0+Ue+me,be.Db=M,be.Ed=me,_==12&&(be.F=Ce,be.J=0+Ue+2*me),be.Tc=ge,be.lb=ue)}if(M=1,ue=ee.S,me=ee.width,ge=ee.height,ue>=Lh&&13>ue)if(11>ue)_=ee.f.RGBA,M&=(ye=Math.abs(_.A))*(ge-1)+me<=_.size,M&=ye>=me*Ax[ue],M&=_.eb!=null;else{_=ee.f.kb,ye=(me+1)/2,Ue=(ge+1)/2,be=Math.abs(_.fa),Ce=Math.abs(_.Ab);var st=Math.abs(_.Db),Ne=Math.abs(_.lb),Ve=Ne*(ge-1)+me;M&=be*(ge-1)+me<=_.Fd,M&=Ce*(Ue-1)+ye<=_.Cd,M=(M&=st*(Ue-1)+ye<=_.Ed)&be>=me&Ce>=ye&st>=ye,M&=_.y!=null,M&=_.f!=null,M&=_.ea!=null,ue==12&&(M&=Ne>=me,M&=Ve<=_.Tc,M&=_.F!=null)}else M=0;_=M?0:2}}return _!=0||V!=null&&V.fd&&(_=Uf(ee)),_}var fo=64,Va=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],po=24,wa=32,ja=8,ql=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(_){return _},T.Predictor2=function(_,M,V){return M[V+0]},T.Predictor3=function(_,M,V){return M[V+1]},T.Predictor4=function(_,M,V){return M[V-1]},T.Predictor5=function(_,M,V){return nt(nt(_,M[V+1]),M[V+0])},T.Predictor6=function(_,M,V){return nt(_,M[V-1])},T.Predictor7=function(_,M,V){return nt(_,M[V+0])},T.Predictor8=function(_,M,V){return nt(M[V-1],M[V+0])},T.Predictor9=function(_,M,V){return nt(M[V+0],M[V+1])},T.Predictor10=function(_,M,V){return nt(nt(_,M[V-1]),nt(M[V+0],M[V+1]))},T.Predictor11=function(_,M,V){var ee=M[V+0];return 0>=Ae(ee>>24&255,_>>24&255,(M=M[V-1])>>24&255)+Ae(ee>>16&255,_>>16&255,M>>16&255)+Ae(ee>>8&255,_>>8&255,M>>8&255)+Ae(255&ee,255&_,255&M)?ee:_},T.Predictor12=function(_,M,V){var ee=M[V+0];return(ft((_>>24&255)+(ee>>24&255)-((M=M[V-1])>>24&255))<<24|ft((_>>16&255)+(ee>>16&255)-(M>>16&255))<<16|ft((_>>8&255)+(ee>>8&255)-(M>>8&255))<<8|ft((255&_)+(255&ee)-(255&M)))>>>0},T.Predictor13=function(_,M,V){var ee=M[V-1];return(Fe((_=nt(_,M[V+0]))>>24&255,ee>>24&255)<<24|Fe(_>>16&255,ee>>16&255)<<16|Fe(_>>8&255,ee>>8&255)<<8|Fe(255&_,255&ee))>>>0};var Wf=T.PredictorAdd0;T.PredictorAdd1=it,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var $u=T.PredictorAdd2;Ge("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var Vs,Gd=T.ColorIndexInverseTransform,ri=T.MapARGB,mo=T.VP8LColorIndexInverseTransformAlpha,Fc=T.MapAlpha,go=T.VP8LPredictorsAdd=[];go.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Oh,Bc,zu,$c,Rn,zc,Uc,Uu,qa,Nl,hn,$r,an,fn,Cl,Wu,Wc,fx,Zi,px,mx,gx,Yl,Vo,Gu,xx,yx,Av,kv=a(511),Pv=a(2041),Ev=a(225),Tv=a(767),Iv=0,vx=Pv,bm=Ev,Qi=Tv,qo=kv,Lh=0,Rh=1,Mv=2,Gf=3,wm=4,bx=5,Ov=6,wx=7,jm=8,Sm=9,jx=10,Yw=[2,3,7],f_=[3,3,11],Lv=[280,256,256,256,40],p_=[0,1,1,1,0],m_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Kw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zw=8,Hf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nm=null,g_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xl=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Sx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Nx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Qw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ej=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Gc=[],Sa=[],Kl=[],Dv=1,tj=2,Hu=[],Yo=[];Ou("UpsampleRgbLinePair",Fu,3),Ou("UpsampleBgrLinePair",fi,3),Ou("UpsampleRgbaLinePair",ba,4),Ou("UpsampleBgraLinePair",Ih,4),Ou("UpsampleArgbLinePair",Th,4),Ou("UpsampleRgba4444LinePair",Sl,2),Ou("UpsampleRgb565LinePair",Dc,2);var rj=T.UpsampleRgbLinePair,nj=T.UpsampleBgrLinePair,Fv=T.UpsampleRgbaLinePair,sj=T.UpsampleBgraLinePair,Ya=T.UpsampleArgbLinePair,Na=T.UpsampleRgba4444LinePair,ij=T.UpsampleRgb565LinePair,Cm=16,_m=1<<Cm-1,Vf=-227,Cx=482,Bv=6,$v=0,zv=a(256),aj=a(256),oj=a(256),Uv=a(256),Wv=a(Cx-Vf),lj=a(Cx-Vf);Vl("YuvToRgbRow",Fu,3),Vl("YuvToBgrRow",fi,3),Vl("YuvToRgbaRow",ba,4),Vl("YuvToBgraRow",Ih,4),Vl("YuvToArgbRow",Th,4),Vl("YuvToRgba4444Row",Sl,2),Vl("YuvToRgb565Row",Dc,2);var _x=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Dh=[0,2,8],x_=[8,7,6,4,4,2,2,2,1,1,1,1],cj=1;this.WebPDecodeRGBA=function(_,M,V,ee,ue){var me=Rh,ge=new pt,ye=new Vt;ge.ba=ye,ye.S=me,ye.width=[ye.width],ye.height=[ye.height];var be=ye.width,Ce=ye.height,Ue=new It;if(Ue==null||_==null)var st=2;else e(Ue!=null),st=Ho(_,M,V,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(st!=0?be=0:(be!=null&&(be[0]=Ue.width[0]),Ce!=null&&(Ce[0]=Ue.height[0]),be=1),be){ye.width=ye.width[0],ye.height=ye.height[0],ee!=null&&(ee[0]=ye.width),ue!=null&&(ue[0]=ye.height);e:{if(ee=new Ua,(ue=new gt).data=_,ue.w=M,ue.ha=V,ue.kd=1,M=[0],e(ue!=null),((_=Ho(ue.data,ue.w,ue.ha,null,null,null,M,null,ue))==0||_==7)&&M[0]&&(_=4),(M=_)==0){if(e(ge!=null),ee.data=ue.data,ee.w=ue.w+ue.offset,ee.ha=ue.ha-ue.offset,ee.put=Ct,ee.ac=vt,ee.bc=qt,ee.ma=ge,ue.xa){if((_=Hn())==null){ge=1;break e}if(function(Ne,Ve){var tt=[0],mt=[0],Qe=[0];t:for(;;){if(Ne==null)return 0;if(Ve==null)return Ne.a=2,0;if(Ne.l=Ve,Ne.a=0,O(Ne.m,Ve.data,Ve.w,Ve.ha),!Nr(Ne.m,tt,mt,Qe)){Ne.a=3;break t}if(Ne.xb=tj,Ve.width=tt[0],Ve.height=mt[0],!Uo(tt[0],mt[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0}(_,ee)){if(ee=(M=Ki(ee.width,ee.height,ge.Oa,ge.ba))==0){t:{ee=_;r:for(;;){if(ee==null){ee=0;break t}if(e(ee.s.yc!=null),e(ee.s.Ya!=null),e(0<ee.s.Wb),e((V=ee.l)!=null),e((ue=V.ma)!=null),ee.xb!=0){if(ee.ca=ue.ba,ee.tb=ue.tb,e(ee.ca!=null),!Mh(ue.Oa,V,Gf)){ee.a=2;break r}if(!Ec(ee,V.width)||V.da)break r;if((V.da||jt(ee.ca.S))&&ho(),11>ee.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ee.ca.f.kb.F!=null&&ho()),ee.Pb&&0<ee.s.ua&&ee.s.vb.X==null&&!X(ee.s.vb,ee.s.Wa.Xa)){ee.a=1;break r}ee.xb=0}if(!za(ee,ee.V,ee.Ba,ee.c,ee.i,V.o,ls))break r;ue.Dc=ee.Ma,ee=1;break t}e(ee.a!=0),ee=0}ee=!ee}ee&&(M=_.a)}else M=_.a}else{if((_=new ci)==null){ge=1;break e}if(_.Fa=ue.na,_.P=ue.P,_.qc=ue.Sa,Gs(_,ee)){if((M=Ki(ee.width,ee.height,ge.Oa,ge.ba))==0){if(_.Aa=0,V=ge.Oa,e((ue=_)!=null),V!=null){if(0<(be=0>(be=V.Md)?0:100<be?255:255*be/100)){for(Ce=Ue=0;4>Ce;++Ce)12>(st=ue.pb[Ce]).lc&&(st.ia=be*x_[0>st.lc?0:st.lc]>>3),Ue|=st.ia;Ue&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=V.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function(Ne,Ve){if(Ne==null)return 0;if(Ve==null)return gn(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!Gs(Ne,Ve))return 0;if(e(Ne.cb),Ve.ac==null||Ve.ac(Ve)){Ve.ob&&(Ne.L=0);var tt=Dh[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=Ve.v-tt>>4,Ne.zb=Ve.j-tt>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=Ve.o+15+tt>>4,Ne.Hb=Ve.va+15+tt>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var mt=Ne.ed;for(tt=0;4>tt;++tt){var Qe;if(Ne.Qa.Cb){var bt=Ne.Qa.Lb[tt];Ne.Qa.Fb||(bt+=mt.Tb)}else bt=mt.Tb;for(Qe=0;1>=Qe;++Qe){var Ye=Ne.gd[tt][Qe],Mt=bt;if(mt.Pc&&(Mt+=mt.vd[0],Qe&&(Mt+=mt.od[0])),0<(Mt=0>Mt?0:63<Mt?63:Mt)){var Et=Mt;0<mt.wb&&(Et=4<mt.wb?Et>>2:Et>>1)>9-mt.wb&&(Et=9-mt.wb),1>Et&&(Et=1),Ye.dd=Et,Ye.tc=2*Mt+Et,Ye.ld=40<=Mt?2:15<=Mt?1:0}else Ye.tc=0;Ye.La=Qe}}}tt=0}else gn(Ne,6,"Frame setup failed"),tt=Ne.a;if(tt=tt==0){if(tt){Ne.$c=0,0<Ne.Aa||(Ne.Ic=cj);t:{tt=Ne.Ic,mt=4*(Et=Ne.za);var wr=32*Et,or=Et+1,Wr=0<Ne.L?Et*(0<Ne.Aa?2:1):0,ur=(Ne.Aa==2?2:1)*Et;if((Ye=mt+832+(Qe=3*(16*tt+Dh[Ne.L])/2*wr)+(bt=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=Ye)tt=0;else{if(Ye>Ne.Vb){if(Ne.Vb=0,Ne.Ec=a(Ye),Ne.Fc=0,Ne.Ec==null){tt=gn(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=Ye}Ye=Ne.Ec,Mt=Ne.Fc,Ne.Ac=Ye,Ne.Bc=Mt,Mt+=mt,Ne.Gd=o(wr,Wo),Ne.Hd=0,Ne.rb=o(or+1,gl),Ne.sb=1,Ne.wa=Wr?o(Wr,Bi):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=Et),e(!0),Ne.oc=Ye,Ne.pc=Mt,Mt+=832,Ne.ya=o(ur,ku),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=Et),Ne.R=16*Et,Ne.B=8*Et,Et=(wr=Dh[Ne.L])*Ne.R,wr=wr/2*Ne.B,Ne.sa=Ye,Ne.ta=Mt+Et,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*tt*Ne.R+wr,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*tt*Ne.B+wr,Ne.$c=0,Mt+=Qe,Ne.mb=bt?Ye:null,Ne.nb=bt?Mt:null,e(Mt+bt<=Ne.Fc+Ne.Vb),Pu(Ne),s(Ne.Ac,Ne.Bc,0,mt),tt=1}}if(tt){if(Ve.ka=0,Ve.y=Ne.sa,Ve.O=Ne.ta,Ve.f=Ne.qa,Ve.N=Ne.ra,Ve.ea=Ne.Ha,Ve.Vd=Ne.Ia,Ve.fa=Ne.R,Ve.Rc=Ne.B,Ve.F=null,Ve.J=0,!Iv){for(tt=-255;255>=tt;++tt)kv[255+tt]=0>tt?-tt:tt;for(tt=-1020;1020>=tt;++tt)Pv[1020+tt]=-128>tt?-128:127<tt?127:tt;for(tt=-112;112>=tt;++tt)Ev[112+tt]=-16>tt?-16:15<tt?15:tt;for(tt=-255;510>=tt;++tt)Tv[255+tt]=0>tt?0:255<tt?255:tt;Iv=1}Uc=vl,Uu=$d,Nl=yl,hn=Bf,$r=Ic,qa=Ga,an=Rc,fn=Ha,Cl=de,Wu=_e,Wc=wl,fx=z,Zi=Be,px=qe,mx=Xi,gx=Hl,Yl=Iu,Vo=Eh,Sa[0]=pr,Sa[1]=Eu,Sa[2]=kt,Sa[3]=cr,Sa[4]=Jt,Sa[5]=Qn,Sa[6]=ar,Sa[7]=Jn,Sa[8]=Vn,Sa[9]=ei,Gc[0]=Oc,Gc[1]=zf,Gc[2]=Mc,Gc[3]=zd,Gc[4]=Se,Gc[5]=De,Gc[6]=Le,Kl[0]=bl,Kl[1]=$f,Kl[2]=qn,Kl[3]=Tn,Kl[4]=zi,Kl[5]=$i,Kl[6]=Tu,tt=1}else tt=0}tt&&(tt=function(dn,pi){for(dn.M=0;dn.M<dn.Va;++dn.M){var Qr,mr=dn.Jc[dn.M&dn.Xb],Xt=dn.m,Ps=dn;for(Qr=0;Qr<Ps.za;++Qr){var jr=Xt,Vr=Ps,wn=Vr.Ac,Ai=Vr.Bc+4*Qr,Ca=Vr.zc,En=Vr.ya[Vr.aa+Qr];if(Vr.Qa.Bb?En.$b=Q(jr,Vr.Pa.jb[0])?2+Q(jr,Vr.Pa.jb[2]):Q(jr,Vr.Pa.jb[1]):En.$b=0,Vr.kc&&(En.Ad=Q(jr,Vr.Bd)),En.Za=!Q(jr,145)+0,En.Za){var Ji=En.Ob,vs=0;for(Vr=0;4>Vr;++Vr){var ki,jn=Ca[0+Vr];for(ki=0;4>ki;++ki){jn=Qw[wn[Ai+ki]][jn];for(var Dn=Sx[Q(jr,jn[0])];0<Dn;)Dn=Sx[2*Dn+Q(jr,jn[Dn])];jn=-Dn,wn[Ai+ki]=jn}n(Ji,vs,wn,Ai,4),vs+=4,Ca[0+Vr]=jn}}else jn=Q(jr,156)?Q(jr,128)?1:3:Q(jr,163)?2:0,En.Ob[0]=jn,s(wn,Ai,jn,4),s(Ca,0,jn,4);En.Dd=Q(jr,142)?Q(jr,114)?Q(jr,183)?1:3:2:0}if(Ps.m.Ka)return gn(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(Ps=mr,jr=(Xt=dn).rb[Xt.sb-1],wn=Xt.rb[Xt.sb+Xt.ja],Qr=Xt.ya[Xt.aa+Xt.ja],Ai=Xt.kc?Qr.Ad:0)jr.la=wn.la=0,Qr.Za||(jr.Na=wn.Na=0),Qr.Hc=0,Qr.Gc=0,Qr.ia=0;else{var Es,Fn;if(jr=wn,wn=Ps,Ai=Xt.Pa.Xc,Ca=Xt.ya[Xt.aa+Xt.ja],En=Xt.pb[Ca.$b],Vr=Ca.ad,Ji=0,vs=Xt.rb[Xt.sb-1],jn=ki=0,s(Vr,Ji,0,384),Ca.Za)var mi=0,xo=Ai[3];else{Dn=a(16);var bs=jr.Na+vs.Na;if(bs=Nm(wn,Ai[1],bs,En.Eb,0,Dn,0),jr.Na=vs.Na=(0<bs)+0,1<bs)Uc(Dn,0,Vr,Ji);else{var ea=Dn[0]+3>>3;for(Dn=0;256>Dn;Dn+=16)Vr[Ji+Dn]=ea}mi=1,xo=Ai[0]}var Bn=15&jr.la,Ts=15&vs.la;for(Dn=0;4>Dn;++Dn){var Xa=1&Ts;for(ea=Fn=0;4>ea;++ea)Bn=Bn>>1|(Xa=(bs=Nm(wn,xo,bs=Xa+(1&Bn),En.Sc,mi,Vr,Ji))>mi)<<7,Fn=Fn<<2|(3<bs?3:1<bs?2:Vr[Ji+0]!=0),Ji+=16;Bn>>=4,Ts=Ts>>1|Xa<<7,ki=(ki<<8|Fn)>>>0}for(xo=Bn,mi=Ts>>4,Es=0;4>Es;Es+=2){for(Fn=0,Bn=jr.la>>4+Es,Ts=vs.la>>4+Es,Dn=0;2>Dn;++Dn){for(Xa=1&Ts,ea=0;2>ea;++ea)bs=Xa+(1&Bn),Bn=Bn>>1|(Xa=0<(bs=Nm(wn,Ai[2],bs,En.Qc,0,Vr,Ji)))<<3,Fn=Fn<<2|(3<bs?3:1<bs?2:Vr[Ji+0]!=0),Ji+=16;Bn>>=2,Ts=Ts>>1|Xa<<5}jn|=Fn<<4*Es,xo|=Bn<<4<<Es,mi|=(240&Ts)<<Es}jr.la=xo,vs.la=mi,Ca.Hc=ki,Ca.Gc=jn,Ca.ia=43690&jn?0:En.ia,Ai=!(ki|jn)}if(0<Xt.L&&(Xt.wa[Xt.Y+Xt.ja]=Xt.gd[Qr.$b][Qr.Za],Xt.wa[Xt.Y+Xt.ja].La|=!Ai),Ps.Ka)return gn(dn,7,"Premature end-of-file encountered.")}if(Pu(dn),Xt=pi,Ps=1,Qr=(mr=dn).D,jr=0<mr.L&&mr.M>=mr.zb&&mr.M<=mr.Va,mr.Aa==0)t:{if(Qr.M=mr.M,Qr.uc=jr,ks(mr,Qr),Ps=1,Qr=(Fn=mr.D).Nb,jr=(jn=Dh[mr.L])*mr.R,wn=jn/2*mr.B,Dn=16*Qr*mr.R,ea=8*Qr*mr.B,Ai=mr.sa,Ca=mr.ta-jr+Dn,En=mr.qa,Vr=mr.ra-wn+ea,Ji=mr.Ha,vs=mr.Ia-wn+ea,Ts=(Bn=Fn.M)==0,ki=Bn>=mr.Va-1,mr.Aa==2&&ks(mr,Fn),Fn.uc)for(Xa=(bs=mr).D.M,e(bs.D.uc),Fn=bs.yb;Fn<bs.Hb;++Fn){mi=Fn,xo=Xa;var ta=(Ka=(pn=bs).D).Nb;Es=pn.R;var Ka=Ka.wa[Ka.Y+mi],yo=pn.sa,_a=pn.ta+16*ta*Es+16*mi,Xo=Ka.dd,Xn=Ka.tc;if(Xn!=0)if(e(3<=Xn),pn.L==1)0<mi&&gx(yo,_a,Es,Xn+4),Ka.La&&Vo(yo,_a,Es,Xn),0<xo&&mx(yo,_a,Es,Xn+4),Ka.La&&Yl(yo,_a,Es,Xn);else{var Za=pn.B,In=pn.qa,qr=pn.ra+8*ta*Za+8*mi,cs=pn.Ha,pn=pn.Ia+8*ta*Za+8*mi;ta=Ka.ld,0<mi&&(fn(yo,_a,Es,Xn+4,Xo,ta),Wu(In,qr,cs,pn,Za,Xn+4,Xo,ta)),Ka.La&&(fx(yo,_a,Es,Xn,Xo,ta),px(In,qr,cs,pn,Za,Xn,Xo,ta)),0<xo&&(an(yo,_a,Es,Xn+4,Xo,ta),Cl(In,qr,cs,pn,Za,Xn+4,Xo,ta)),Ka.La&&(Wc(yo,_a,Es,Xn,Xo,ta),Zi(In,qr,cs,pn,Za,Xn,Xo,ta))}}if(mr.ia&&alert("todo:DitherRow"),Xt.put!=null){if(Fn=16*Bn,Bn=16*(Bn+1),Ts?(Xt.y=mr.sa,Xt.O=mr.ta+Dn,Xt.f=mr.qa,Xt.N=mr.ra+ea,Xt.ea=mr.Ha,Xt.W=mr.Ia+ea):(Fn-=jn,Xt.y=Ai,Xt.O=Ca,Xt.f=En,Xt.N=Vr,Xt.ea=Ji,Xt.W=vs),ki||(Bn-=jn),Bn>Xt.o&&(Bn=Xt.o),Xt.F=null,Xt.J=null,mr.Fa!=null&&0<mr.Fa.length&&Fn<Bn&&(Xt.J=Yn(mr,Xt,Fn,Bn-Fn),Xt.F=mr.mb,Xt.F==null&&Xt.F.length==0)){Ps=gn(mr,3,"Could not decode alpha data.");break t}Fn<Xt.j&&(jn=Xt.j-Fn,Fn=Xt.j,e(!(1&jn)),Xt.O+=mr.R*jn,Xt.N+=mr.B*(jn>>1),Xt.W+=mr.B*(jn>>1),Xt.F!=null&&(Xt.J+=Xt.width*jn)),Fn<Bn&&(Xt.O+=Xt.v,Xt.N+=Xt.v>>1,Xt.W+=Xt.v>>1,Xt.F!=null&&(Xt.J+=Xt.v),Xt.ka=Fn-Xt.j,Xt.U=Xt.va-Xt.v,Xt.T=Bn-Fn,Ps=Xt.put(Xt))}Qr+1!=mr.Ic||ki||(n(mr.sa,mr.ta-jr,Ai,Ca+16*mr.R,jr),n(mr.qa,mr.ra-wn,En,Vr+8*mr.B,wn),n(mr.Ha,mr.Ia-wn,Ji,vs+8*mr.B,wn))}if(!Ps)return gn(dn,6,"Output aborted.")}return 1}(Ne,Ve)),Ve.bc!=null&&Ve.bc(Ve),tt&=1}return tt?(Ne.cb=0,tt):0})(_,ee)||(M=_.a)}}else M=_.a}M==0&&ge.Oa!=null&&ge.Oa.fd&&(M=Uf(ge.ba))}ge=M}me=ge!=0?null:11>me?ye.f.RGBA.eb:ye.f.kb.y}else me=null;return me};var Ax=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,R){for(var I="",L=0;L<4;L++)I+=String.fromCharCode(T[R++]);return I}function d(T,R){return T[R+0]|T[R+1]<<8}function h(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16)>>>0}function p(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16|T[R+3]<<24)>>>0}new c;var f=[0],m=[0],g=[],y=new c,x=t,w=function(T,R){var I={},L=0,U=!1,$=0,q=0;if(I.frames=[],!function(D,Z){for(var ie=0;ie<4;ie++)if(D[Z+ie]!="RIFF".charCodeAt(ie))return!0;return!1}(T,R)){for(p(T,R+=4),R+=8;R<T.length;){var G=u(T,R),W=p(T,R+=4);R+=4;var B=W+(1&W);switch(G){case"VP8 ":case"VP8L":I.frames[L]===void 0&&(I.frames[L]={}),(Y=I.frames[L]).src_off=U?q:R-8,Y.src_size=$+W+8,L++,U&&(U=!1,$=0,q=0);break;case"VP8X":(Y=I.header={}).feature_flags=T[R];var O=R+4;Y.canvas_width=1+h(T,O),O+=3,Y.canvas_height=1+h(T,O),O+=3;break;case"ALPH":U=!0,$=B+8,q=R-8;break;case"ANIM":(Y=I.header).bgcolor=p(T,R),O=R+4,Y.loop_count=d(T,O),O+=2;break;case"ANMF":var K,Y;(Y=I.frames[L]={}).offset_x=2*h(T,R),R+=3,Y.offset_y=2*h(T,R),R+=3,Y.width=1+h(T,R),R+=3,Y.height=1+h(T,R),R+=3,Y.duration=h(T,R),R+=3,K=T[R++],Y.dispose=1&K,Y.blend=K>>1&1}G!="ANMF"&&(R+=B)}return I}}(x,0);w.response=x,w.rgbaoutput=!0,w.dataurl=!1;var S=w.header?w.header:null,N=w.frames?w.frames:null;if(S){S.loop_counter=S.loop_count,f=[S.canvas_height],m=[S.canvas_width];for(var C=0;C<N.length&&N[C].blend!=0;C++);}var A=N[0],k=y.WebPDecodeRGBA(x,A.src_off,A.src_size,m,f);A.rgba=k,A.imgwidth=m[0],A.imgheight=f[0];for(var E=0;E<m[0]*f[0]*4;E++)g[E]=k[E];return this.width=m,this.height=f,this.data=g,this}(function(t){var e,r,n,s,a,o,l,c,u,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=D;Object.defineProperty(this,"pdf",{get:function(){return Z}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(X){ie=!!X}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(X){he=!!X}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(X){isNaN(X)||(J=X)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(X){isNaN(X)||(ae=X)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(X){var ce;typeof X=="number"?ce=[X,X,X,X]:((ce=new Array(4))[0]=X[0],ce[1]=X.length>=2?X[1]:ce[0],ce[2]=X.length>=3?X[2]:ce[0],ce[3]=X.length>=4?X[3]:ce[1]),u.margin=ce}});var ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ne},set:function(X){ne=X}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(X){se=X}});var Q=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Q},set:function(X){Q=X}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(X){X instanceof d&&(u=X)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(X){u.path=X}});var re=[];Object.defineProperty(this,"ctxStack",{get:function(){return re},set:function(X){re=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var ce;ce=p(X),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var ce=p(X);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var le=null,ve=null,fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return fe},set:function(X){le=null,ve=null,fe=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var ce;if(this.ctx.font=X,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var Pe=ce[1];ce[2];var ke=ce[3],oe=ce[4];ce[5];var Oe=ce[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(oe)[2];oe=Math.floor(Ie==="px"?parseFloat(oe)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(oe)*this.pdf.getFontSize():parseFloat(oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(oe);var He=function(Ge){var ze,ot,lt=[],yt=Ge.trim();if(yt==="")return Kk;if(yt in DU)return[DU[yt]];for(;yt!=="";){switch(ot=null,ze=(yt=BU(yt)).charAt(0)){case'"':case"'":ot=LQe(yt.substring(1),ze);break;default:ot=RQe(yt)}if(ot===null||(lt.push(ot[0]),(yt=BU(ot[1]))!==""&&yt.charAt(0)!==","))return Kk;yt=yt.replace(/^,/,"")}return lt}(Oe);if(this.fontFaces){var nt=function(Ge,ze){var ot=Ge.getFontList(),lt=JSON.stringify(ot);if(le===null||ve!==lt){var yt=function(Pt){var ct=[];return Object.keys(Pt).forEach(function(zt){Pt[zt].forEach(function(jt){var At=null;switch(jt){case"bold":At={family:zt,weight:"bold"};break;case"italic":At={family:zt,style:"italic"};break;case"bolditalic":At={family:zt,weight:"bold",style:"italic"};break;case"":case"normal":At={family:zt}}At!==null&&(At.ref={name:zt,style:jt},ct.push(At))})}),ct}(ot);le=function(Pt){for(var ct={},zt=0;zt<Pt.length;++zt){var jt=Xk(Pt[zt]),At=jt.family,Ht=jt.stretch,Vt=jt.style,It=jt.weight;ct[At]=ct[At]||{},ct[At][Ht]=ct[At][Ht]||{},ct[At][Ht][Vt]=ct[At][Ht][Vt]||{},ct[At][Ht][Vt][It]=jt}return ct}(yt.concat(ze)),ve=lt}return le}(this.pdf,this.fontFaces),ft=He.map(function(Ge){return{family:Ge,stretch:"normal",weight:ke,style:Pe}}),Fe=function(Ge,ze,ot){for(var lt=(ot=ot||{}).defaultFontFamily||"times",yt=Object.assign({},OQe,ot.genericFontFamilies||{}),Pt=null,ct=null,zt=0;zt<ze.length;++zt)if(yt[(Pt=Xk(ze[zt])).family]&&(Pt.family=yt[Pt.family]),Ge.hasOwnProperty(Pt.family)){ct=Ge[Pt.family];break}if(!(ct=ct||Ge[lt]))throw new Error("Could not find a font-family for the rule '"+FU(Pt)+"' and default family '"+lt+"'.");if(ct=function(jt,At){if(At[jt])return At[jt];var Ht=sT[jt],Vt=Ht<=sT.normal?-1:1,It=RU(At,Zse,Ht,Vt);if(!It)throw new Error("Could not find a matching font-stretch value for "+jt);return It}(Pt.stretch,ct),ct=function(jt,At){if(At[jt])return At[jt];for(var Ht=Kse[jt],Vt=0;Vt<Ht.length;++Vt)if(At[Ht[Vt]])return At[Ht[Vt]];throw new Error("Could not find a matching font-style for "+jt)}(Pt.style,ct),!(ct=function(jt,At){if(At[jt])return At[jt];if(jt===400&&At[500])return At[500];if(jt===500&&At[400])return At[400];var Ht=MQe[jt],Vt=RU(At,Qse,Ht,jt<400?-1:1);if(!Vt)throw new Error("Could not find a matching font-weight for value "+jt);return Vt}(Pt.weight,ct)))throw new Error("Failed to resolve a font for the rule '"+FU(Pt)+"'.");return ct}(nt,ft);this.pdf.setFont(Fe.ref.name,Fe.ref.style)}else{var Ae="";(ke==="bold"||parseInt(ke,10)>=700||Pe==="bold")&&(Ae="bold"),Pe==="italic"&&(Ae+="italic"),Ae.length===0&&(Ae="normal");for(var it="",Ee={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Re=0;Re<He.length;Re++){if(this.pdf.internal.getFont(He[Re],Ae,{noFallback:!0,disableWarning:!0})!==void 0){it=He[Re];break}if(Ae==="bolditalic"&&this.pdf.internal.getFont(He[Re],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=He[Re],Ae="bold";else if(this.pdf.internal.getFont(He[Re],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=He[Re],Ae="normal";break}}if(it===""){for(var We=0;We<He.length;We++)if(Ee[He[We]]){it=Ee[He[We]];break}}it=it===""?"Times":it,this.pdf.setFont(it,Ae)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};h.prototype.setLineDash=function(D){this.lineDash=D},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){N.call(this,"fill",!1)},h.prototype.stroke=function(){N.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(D,Z){if(isNaN(D)||isNaN(Z))throw ms.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new o(D,Z));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(D,Z)},h.prototype.closePath=function(){var D=new o(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&is(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){D=new o(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},h.prototype.lineTo=function(D,Z){if(isNaN(D)||isNaN(Z))throw ms.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new o(D,Z));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},h.prototype.quadraticCurveTo=function(D,Z,ie,he){if(isNaN(ie)||isNaN(he)||isNaN(D)||isNaN(Z))throw ms.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new o(ie,he)),ae=this.ctx.transform.applyToPoint(new o(D,Z));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},h.prototype.bezierCurveTo=function(D,Z,ie,he,J,ae){if(isNaN(J)||isNaN(ae)||isNaN(D)||isNaN(Z)||isNaN(ie)||isNaN(he))throw ms.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ne=this.ctx.transform.applyToPoint(new o(J,ae)),se=this.ctx.transform.applyToPoint(new o(D,Z)),Q=this.ctx.transform.applyToPoint(new o(ie,he));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:Q.x,y2:Q.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},h.prototype.arc=function(D,Z,ie,he,J,ae){if(isNaN(D)||isNaN(Z)||isNaN(ie)||isNaN(he)||isNaN(J))throw ms.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ne=this.ctx.transform.applyToPoint(new o(D,Z));D=ne.x,Z=ne.y;var se=this.ctx.transform.applyToPoint(new o(0,ie)),Q=this.ctx.transform.applyToPoint(new o(0,0));ie=Math.sqrt(Math.pow(se.x-Q.x,2)+Math.pow(se.y-Q.y,2))}Math.abs(J-he)>=2*Math.PI&&(he=0,J=2*Math.PI),this.path.push({type:"arc",x:D,y:Z,radius:ie,startAngle:he,endAngle:J,counterclockwise:ae})},h.prototype.arcTo=function(D,Z,ie,he,J){throw new Error("arcTo not implemented.")},h.prototype.rect=function(D,Z,ie,he){if(isNaN(D)||isNaN(Z)||isNaN(ie)||isNaN(he))throw ms.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,Z),this.lineTo(D+ie,Z),this.lineTo(D+ie,Z+he),this.lineTo(D,Z+he),this.lineTo(D,Z),this.lineTo(D+ie,Z),this.lineTo(D,Z)},h.prototype.fillRect=function(D,Z,ie,he){if(isNaN(D)||isNaN(Z)||isNaN(ie)||isNaN(he))throw ms.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,Z,ie,he),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},h.prototype.strokeRect=function(D,Z,ie,he){if(isNaN(D)||isNaN(Z)||isNaN(ie)||isNaN(he))throw ms.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(D,Z,ie,he),this.stroke())},h.prototype.clearRect=function(D,Z,ie,he){if(isNaN(D)||isNaN(Z)||isNaN(ie)||isNaN(he))throw ms.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,Z,ie,he))},h.prototype.save=function(D){D=typeof D!="boolean"||D;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},h.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(D){var Z,ie,he,J;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))Z=0,ie=0,he=0,J=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ae!==null)Z=parseInt(ae[1]),ie=parseInt(ae[2]),he=parseInt(ae[3]),J=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)Z=parseInt(ae[1]),ie=parseInt(ae[2]),he=parseInt(ae[3]),J=parseFloat(ae[4]);else{if(J=1,typeof D=="string"&&D.charAt(0)!=="#"){var ne=new Wse(D);D=ne.ok?ne.toHex():"#000000"}D.length===4?(Z=D.substring(1,2),Z+=Z,ie=D.substring(2,3),ie+=ie,he=D.substring(3,4),he+=he):(Z=D.substring(1,3),ie=D.substring(3,5),he=D.substring(5,7)),Z=parseInt(Z,16),ie=parseInt(ie,16),he=parseInt(he,16)}}return{r:Z,g:ie,b:he,a:J,style:D}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(D,Z,ie,he){if(isNaN(Z)||isNaN(ie)||typeof D!="string")throw ms.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!f.call(this)){var J=B(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;L.call(this,{text:D,x:Z,y:ie,scale:ae,angle:J,align:this.textAlign,maxWidth:he})}},h.prototype.strokeText=function(D,Z,ie,he){if(isNaN(Z)||isNaN(ie)||typeof D!="string")throw ms.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){he=isNaN(he)?void 0:he;var J=B(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;L.call(this,{text:D,x:Z,y:ie,scale:ae,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:he})}},h.prototype.measureText=function(D){if(typeof D!="string")throw ms.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,ie=this.pdf.internal.scaleFactor,he=Z.internal.getFontSize(),J=Z.getStringUnitWidth(D)*he/Z.internal.scaleFactor;return new function(ae){var ne=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this}({width:J*=Math.round(96*ie/72*1e4)/1e4})},h.prototype.scale=function(D,Z){if(isNaN(D)||isNaN(Z))throw ms.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new c(D,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},h.prototype.rotate=function(D){if(isNaN(D))throw ms.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.translate=function(D,Z){if(isNaN(D)||isNaN(Z))throw ms.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new c(1,0,0,1,D,Z);this.ctx.transform=this.ctx.transform.multiply(ie)},h.prototype.transform=function(D,Z,ie,he,J,ae){if(isNaN(D)||isNaN(Z)||isNaN(ie)||isNaN(he)||isNaN(J)||isNaN(ae))throw ms.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ne=new c(D,Z,ie,he,J,ae);this.ctx.transform=this.ctx.transform.multiply(ne)},h.prototype.setTransform=function(D,Z,ie,he,J,ae){D=isNaN(D)?1:D,Z=isNaN(Z)?0:Z,ie=isNaN(ie)?0:ie,he=isNaN(he)?1:he,J=isNaN(J)?0:J,ae=isNaN(ae)?0:ae,this.ctx.transform=new c(D,Z,ie,he,J,ae)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(D,Z,ie,he,J,ae,ne,se,Q){var re=this.pdf.getImageProperties(D),le=1,ve=1,fe=1,X=1;he!==void 0&&se!==void 0&&(fe=se/he,X=Q/J,le=re.width/he*se/he,ve=re.height/J*Q/J),ae===void 0&&(ae=Z,ne=ie,Z=0,ie=0),he!==void 0&&se===void 0&&(se=he,Q=J),he===void 0&&se===void 0&&(se=re.width,Q=re.height);var ce=this.ctx.transform.decompose(),Pe=B(ce.rotate.shx),ke=new c,oe=(ke=(ke=(ke=ke.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale)).applyToRectangle(new l(ae-Z*fe,ne-ie*X,he*le,J*ve));if(this.autoPaging){for(var Oe,Ie=y.call(this,oe),He=[],nt=0;nt<Ie.length;nt+=1)He.indexOf(Ie[nt])===-1&&He.push(Ie[nt]);S(He);for(var ft=He[0],Fe=He[He.length-1],Ae=ft;Ae<Fe+1;Ae++){this.pdf.setPage(Ae);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ee=Ae===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Ae===1?0:Re+(Ae-2)*We;if(this.ctx.clip_path.length!==0){var ze=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Oe,this.posX+this.margin[3],-Ge+Ee+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=ze}var ot=JSON.parse(JSON.stringify(oe));ot=w([ot],this.posX+this.margin[3],-Ge+Ee+this.ctx.prevPageLastElemOffset)[0];var lt=(Ae>ft||Ae<Fe)&&g.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,We,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",ot.x,ot.y,ot.w,ot.h,null,null,Pe),lt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",oe.x,oe.y,oe.w,oe.h,null,null,Pe)};var y=function(D,Z,ie){var he=[];Z=Z||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":he.push(Math.floor((D.y+J)/ie)+1);break;case"arc":he.push(Math.floor((D.y+J-D.radius)/ie)+1),he.push(Math.floor((D.y+J+D.radius)/ie)+1);break;case"qct":var ae=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);he.push(Math.floor((ae.y+J)/ie)+1),he.push(Math.floor((ae.y+ae.h+J)/ie)+1);break;case"bct":var ne=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);he.push(Math.floor((ne.y+J)/ie)+1),he.push(Math.floor((ne.y+ne.h+J)/ie)+1);break;case"rect":he.push(Math.floor((D.y+J)/ie)+1),he.push(Math.floor((D.y+D.h+J)/ie)+1)}for(var se=0;se<he.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<he[se];)x.call(this);return he},x=function(){var D=this.fillStyle,Z=this.strokeStyle,ie=this.font,he=this.lineCap,J=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=Z,this.font=ie,this.lineCap=he,this.lineWidth=J,this.lineJoin=ae},w=function(D,Z,ie){for(var he=0;he<D.length;he++)switch(D[he].type){case"bct":D[he].x2+=Z,D[he].y2+=ie;case"qct":D[he].x1+=Z,D[he].y1+=ie;default:D[he].x+=Z,D[he].y+=ie}return D},S=function(D){return D.sort(function(Z,ie){return Z-ie})},N=function(D,Z){var ie=this.fillStyle,he=this.strokeStyle,J=this.lineCap,ae=this.lineWidth,ne=Math.abs(ae*this.ctx.transform.scaleX),se=this.lineJoin;if(this.autoPaging){for(var Q,re,le=JSON.parse(JSON.stringify(this.path)),ve=JSON.parse(JSON.stringify(this.path)),fe=[],X=0;X<ve.length;X++)if(ve[X].x!==void 0)for(var ce=y.call(this,ve[X]),Pe=0;Pe<ce.length;Pe+=1)fe.indexOf(ce[Pe])===-1&&fe.push(ce[Pe]);for(var ke=0;ke<fe.length;ke++)for(;this.pdf.internal.getNumberOfPages()<fe[ke];)x.call(this);S(fe);for(var oe=fe[0],Oe=fe[fe.length-1],Ie=oe;Ie<Oe+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=ie,this.strokeStyle=he,this.lineCap=J,this.lineWidth=ne,this.lineJoin=se;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=Ie===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ae=Ie===1?0:ft+(Ie-2)*Fe;if(this.ctx.clip_path.length!==0){var it=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Q,this.posX+this.margin[3],-Ae+nt+this.ctx.prevPageLastElemOffset),C.call(this,D,!0),this.path=it}if(re=JSON.parse(JSON.stringify(le)),this.path=w(re,this.posX+this.margin[3],-Ae+nt+this.ctx.prevPageLastElemOffset),Z===!1||Ie===0){var Ee=(Ie>oe||Ie<Oe)&&g.call(this);Ee&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Fe,null).clip().discardPath()),C.call(this,D,Z),Ee&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}this.path=le}else this.lineWidth=ne,C.call(this,D,Z),this.lineWidth=ae},C=function(D,Z){if((D!=="stroke"||Z||!m.call(this))&&(D==="stroke"||Z||!f.call(this))){for(var ie,he,J=[],ae=this.path,ne=0;ne<ae.length;ne++){var se=ae[ne];switch(se.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:se,deltas:[],abs:[]});break;case"lt":var Q=J.length;if(ae[ne-1]&&!isNaN(ae[ne-1].x)&&(ie=[se.x-ae[ne-1].x,se.y-ae[ne-1].y],Q>0)){for(;Q>=0;Q--)if(J[Q-1].close!==!0&&J[Q-1].begin!==!0){J[Q-1].deltas.push(ie),J[Q-1].abs.push(se);break}}break;case"bct":ie=[se.x1-ae[ne-1].x,se.y1-ae[ne-1].y,se.x2-ae[ne-1].x,se.y2-ae[ne-1].y,se.x-ae[ne-1].x,se.y-ae[ne-1].y],J[J.length-1].deltas.push(ie);break;case"qct":var re=ae[ne-1].x+2/3*(se.x1-ae[ne-1].x),le=ae[ne-1].y+2/3*(se.y1-ae[ne-1].y),ve=se.x+2/3*(se.x1-se.x),fe=se.y+2/3*(se.y1-se.y),X=se.x,ce=se.y;ie=[re-ae[ne-1].x,le-ae[ne-1].y,ve-ae[ne-1].x,fe-ae[ne-1].y,X-ae[ne-1].x,ce-ae[ne-1].y],J[J.length-1].deltas.push(ie);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(se)}}he=Z?null:D==="stroke"?"stroke":"fill";for(var Pe=!1,ke=0;ke<J.length;ke++)if(J[ke].arc)for(var oe=J[ke].abs,Oe=0;Oe<oe.length;Oe++){var Ie=oe[Oe];Ie.type==="arc"?E.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,Z,!Pe):U.call(this,Ie.x,Ie.y),Pe=!0}else if(J[ke].close===!0)this.pdf.internal.out("h"),Pe=!1;else if(J[ke].begin!==!0){var He=J[ke].start.x,nt=J[ke].start.y;$.call(this,J[ke].deltas,He,nt),Pe=!0}he&&T.call(this,he),Z&&R.call(this)}},A=function(D){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-ie;case"top":return D+Z-ie;case"hanging":return D+Z-2*ie;case"middle":return D+Z/2-ie;default:return D}},k=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(Z,ie){this.colorStops.push([Z,ie])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(D,Z,ie,he,J,ae,ne,se,Q){for(var re=G.call(this,ie,he,J,ae),le=0;le<re.length;le++){var ve=re[le];le===0&&(Q?I.call(this,ve.x1+D,ve.y1+Z):U.call(this,ve.x1+D,ve.y1+Z)),q.call(this,D,Z,ve.x2,ve.y2,ve.x3,ve.y3,ve.x4,ve.y4)}se?R.call(this):T.call(this,ne)},T=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(D,Z){this.pdf.internal.out(r(D)+" "+n(Z)+" m")},L=function(D){var Z;switch(D.align){case"right":case"end":Z="right";break;case"center":Z="center";break;default:Z="left"}var ie,he,J,ae=this.pdf.getTextDimensions(D.text),ne=A.call(this,D.y),se=k.call(this,ne)-ae.h,Q=this.ctx.transform.applyToPoint(new o(D.x,ne));if(this.autoPaging){var re=this.ctx.transform.decompose(),le=new c;le=(le=(le=le.multiply(re.translate)).multiply(re.skew)).multiply(re.scale);for(var ve=this.ctx.transform.applyToRectangle(new l(D.x,ne,ae.w,ae.h)),fe=le.applyToRectangle(new l(D.x,se,ae.w,ae.h)),X=y.call(this,fe),ce=[],Pe=0;Pe<X.length;Pe+=1)ce.indexOf(X[Pe])===-1&&ce.push(X[Pe]);S(ce);for(var ke=ce[0],oe=ce[ce.length-1],Oe=ke;Oe<oe+1;Oe++){this.pdf.setPage(Oe);var Ie=Oe===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[2],ft=nt-this.margin[0],Fe=this.pdf.internal.pageSize.width-this.margin[1],Ae=Fe-this.margin[3],it=Oe===1?0:He+(Oe-2)*ft;if(this.ctx.clip_path.length!==0){var Ee=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ie,this.posX+this.margin[3],-1*it+Ie),C.call(this,"fill",!0),this.path=Ee}var Re=w([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-it+Ie+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*D.scale),J=this.lineWidth,this.lineWidth=J*D.scale);var We=this.autoPaging!=="text";if(We||Re.y+Re.h<=nt){if(We||Re.y>=Ie&&Re.x<=Fe){var Ge=We?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Fe-Re.x)[0],ze=w([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-it+Ie+this.ctx.prevPageLastElemOffset)[0],ot=We&&(Oe>ke||Oe<oe)&&g.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,ft,null).clip().discardPath()),this.pdf.text(Ge,ze.x,ze.y,{angle:D.angle,align:Z,renderingMode:D.renderingMode}),ot&&this.pdf.restoreGraphicsState()}}else Re.y<nt&&(this.ctx.prevPageLastElemOffset+=nt-Re.y);D.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=J)}}else D.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*D.scale),J=this.lineWidth,this.lineWidth=J*D.scale),this.pdf.text(D.text,Q.x+this.posX,Q.y+this.posY,{angle:D.angle,align:Z,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=J)},U=function(D,Z,ie,he){ie=ie||0,he=he||0,this.pdf.internal.out(r(D+ie)+" "+n(Z+he)+" l")},$=function(D,Z,ie){return this.pdf.lines(D,Z,ie,null,null)},q=function(D,Z,ie,he,J,ae,ne,se){this.pdf.internal.out([e(s(ie+D)),e(a(he+Z)),e(s(J+D)),e(a(ae+Z)),e(s(ne+D)),e(a(se+Z)),"c"].join(" "))},G=function(D,Z,ie,he){for(var J=2*Math.PI,ae=Math.PI/2;Z>ie;)Z-=J;var ne=Math.abs(ie-Z);ne<J&&he&&(ne=J-ne);for(var se=[],Q=he?-1:1,re=Z;ne>1e-5;){var le=re+Q*Math.min(ne,ae);se.push(W.call(this,D,re,le)),ne-=Math.abs(le-re),re=le}return se},W=function(D,Z,ie){var he=(ie-Z)/2,J=D*Math.cos(he),ae=D*Math.sin(he),ne=J,se=-ae,Q=ne*ne+se*se,re=Q+ne*J+se*ae,le=4/3*(Math.sqrt(2*Q*re)-re)/(ne*ae-se*J),ve=ne-le*se,fe=se+le*ne,X=ve,ce=-fe,Pe=he+Z,ke=Math.cos(Pe),oe=Math.sin(Pe);return{x1:D*Math.cos(Z),y1:D*Math.sin(Z),x2:ve*ke-fe*oe,y2:ve*oe+fe*ke,x3:X*ke-ce*oe,y3:X*oe+ce*ke,x4:D*Math.cos(ie),y4:D*Math.sin(ie)}},B=function(D){return 180*D/Math.PI},O=function(D,Z,ie,he,J,ae){var ne=D+.5*(ie-D),se=Z+.5*(he-Z),Q=J+.5*(ie-J),re=ae+.5*(he-ae),le=Math.min(D,J,ne,Q),ve=Math.max(D,J,ne,Q),fe=Math.min(Z,ae,se,re),X=Math.max(Z,ae,se,re);return new l(le,fe,ve-le,X-fe)},K=function(D,Z,ie,he,J,ae,ne,se){var Q,re,le,ve,fe,X,ce,Pe,ke,oe,Oe,Ie,He,nt,ft=ie-D,Fe=he-Z,Ae=J-ie,it=ae-he,Ee=ne-J,Re=se-ae;for(re=0;re<41;re++)ke=(ce=(le=D+(Q=re/40)*ft)+Q*((fe=ie+Q*Ae)-le))+Q*(fe+Q*(J+Q*Ee-fe)-ce),oe=(Pe=(ve=Z+Q*Fe)+Q*((X=he+Q*it)-ve))+Q*(X+Q*(ae+Q*Re-X)-Pe),re==0?(Oe=ke,Ie=oe,He=ke,nt=oe):(Oe=Math.min(Oe,ke),Ie=Math.min(Ie,oe),He=Math.max(He,ke),nt=Math.max(nt,oe));return new l(Math.round(Oe),Math.round(Ie),Math.round(He-Oe),Math.round(nt-Ie))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,Z,ie=(D=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:Z}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(_r.API),function(t){var e=function(o){var l,c,u,d,h,p,f,m,g,y;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(y=h%85))/85)-(g=h%85))/85)-(m=h%85))/85)-(f=h%85))/85)%85,c.push(p+33,f+33,m+33,g+33,y+33)):c.push(122);return function(x,w){for(var S=w;S>0;S--)x.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,h,p=String,f="length",m=255,g="charCodeAt",y="slice",x="replace";for(o[y](-2),o=o[y](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,h=(o+=l="uuuuu"[y](o[f]%5||5))[f];h>d;d+=5)c=52200625*(o[g](d)-33)+614125*(o[g](d+1)-33)+7225*(o[g](d+2)-33)+85*(o[g](d+3)-33)+(o[g](d+4)-33),u.push(m&c>>24,m&c>>16,m&c>>8,m&c);return function(w,S){for(var N=S;N>0;N--)w.pop()}(u,l[f]),p.fromCharCode.apply(p,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=ZE(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(_r.API),function(t){t.loadFile=function(e,r,n){return function(s,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,p=0,f=function(m){var g=m.length,y=[],x=String.fromCharCode;for(p=0;p<g;p+=1)y.push(x(255&m.charCodeAt(p)));return y.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(s,a,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(_r.API),function(t){function e(){return(Gr.html2canvas?Promise.resolve(Gr.html2canvas):uf(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Gr.DOMPurify?Promise.resolve(Gr.DOMPurify):uf(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=is(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var m=d[f],g=m.src.find(function(y){return y.format==="truetype"});g&&u.addFont(g.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||_r.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,h).then(function(p){return u.updateProgress(1),p})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),p=u.call(h,l,c);return o.convert(p,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,_r.getPageSize=function(l,c,u){if(is(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var m,g=0,y=0;if(f.hasOwnProperty(p))g=f[p][1]/h,y=f[p][0]/h;else try{g=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",y>g&&(m=y,y=g,g=m);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>y&&(m=y,y=g,g=m)}return{width:y,height:g,unit:c,k:h,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Xk):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(_r.API),_r.API.addJS=function(t){return zU=t,this.internal.events.subscribe("postPutResources",function(){B5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(B5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$U=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zU+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){B5!==void 0&&$U!==void 0&&this.internal.out("/Names <</JavaScript "+B5+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),a=0;a<s.length;a++){var o=s[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var h=r.internal.newObject();d.push(h);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,a){var o={title:s,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var a=0;a<s.children.length;a++)n.count++,this.count_r(n,s.children[a]);return n.count}}])}(_r.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,a,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),m=h.length,g={width:0,height:0,numcomponents:1},y=4;y<m;y+=2){if(y+=f,e.indexOf(h.charCodeAt(y+1))!==-1){p=256*h.charCodeAt(y+5)+h.charCodeAt(y+6),g={width:256*h.charCodeAt(y+7)+h.charCodeAt(y+8),height:p,numcomponents:h.charCodeAt(y+9)};break}f=256*h.charCodeAt(y+2)+h.charCodeAt(y+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:s}}return d}}(_r.API),_r.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,a=vQe(t,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,u=a.palette,d=a.depth;s=u&&c===1?function(E){for(var T=E.width,R=E.height,I=E.data,L=E.palette,U=E.depth,$=!1,q=[],G=[],W=void 0,B=!1,O=0,K=0;K<L.length;K++){var Y=Hz(L[K],4),D=Y[0],Z=Y[1],ie=Y[2],he=Y[3];q.push(D,Z,ie),he!=null&&(he===0?(O++,G.length<1&&G.push(K)):he<255&&(B=!0))}if(B||O>1){$=!0,G=void 0;var J=T*R;W=new Uint8Array(J);for(var ae=new DataView(I.buffer),ne=0;ne<J;ne++){var se=Zk(ae,ne,U),Q=Hz(L[se],4)[3];W[ne]=Q}}else O===0&&(G=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:I,alphaBytes:W,needSMask:$,palette:q,mask:G}}(a):c===2||c===4?function(E){for(var T=E.data,R=E.width,I=E.height,L=E.channels,U=E.depth,$=L===2?"DeviceGray":"DeviceRGB",q=L-1,G=R*I,W=q,B=G*W,O=1*G,K=Math.ceil(B*U/8),Y=Math.ceil(O*U/8),D=new Uint8Array(K),Z=new Uint8Array(Y),ie=new DataView(T.buffer),he=new DataView(D.buffer),J=new DataView(Z.buffer),ae=!1,ne=0;ne<G;ne++){for(var se=ne*L,Q=0;Q<W;Q++)KU(he,Zk(ie,se+Q,U),ne*W+Q,U);var re=Zk(ie,se+W,U);re<(1<<U)-1&&(ae=!0),KU(J,re,1*ne,U)}return{colorSpace:$,colorsPerPixel:q,sMaskBitsPerComponent:ae?U:void 0,colorBytes:D,alphaBytes:Z,needSMask:ae}}(a):function(E){var T=E.data,R=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(I){for(var L=I.length,U=new Uint8Array(2*L),$=new DataView(U.buffer,U.byteOffset,U.byteLength),q=0;q<L;q++)$.setUint16(2*q,I[q],!1);return U}(T):T,needSMask:!1}}(a);var h,p,f,m=s,g=m.colorSpace,y=m.colorsPerPixel,x=m.sMaskBitsPerComponent,w=m.colorBytes,S=m.alphaBytes,N=m.needSMask,C=m.palette,A=m.mask,k=null;return n!==_r.API.image_compression.NONE&&typeof ZE=="function"?(k=function(E){var T;switch(E){case _r.API.image_compression.FAST:T=11;break;case _r.API.image_compression.MEDIUM:T=13;break;case _r.API.image_compression.SLOW:T=14;break;default:T=12}return T}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(k," /Colors ").concat(y," /BitsPerComponent ").concat(d," /Columns ").concat(o),t=HU(w,Math.ceil(o*y*d/8),y,d,n),N&&(f=HU(S,Math.ceil(o*x/8),1,x,n))):(h=void 0,p=void 0,t=w,N&&(f=S)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:h,decodeParameters:p,transparency:A,palette:C,sMask:f,predictor:k,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:g}}},function(t){t.processGIF89A=function(e,r,n,s){var a=new $Qe(e),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new Qk(100).encode(u,100);return t.processJPEG.call(this,d,r,n,s)},t.processGIF87A=t.processGIF89A}(_r.API),rd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},rd.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ms.log("bit decode error:"+r)}},rd.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},rd.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},rd.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},rd.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,u=a>>15?255:0,d=n*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},rd.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,d=s*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},rd.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},rd.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},rd.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var a=new rd(e,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new Qk(100).encode(c,100);return t.processJPEG.call(this,u,r,n,s)}}(_r.API),QU.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var a=new QU(e),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new Qk(100).encode(c,100);return t.processJPEG.call(this,u,r,n,s)}}(_r.API),_r.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,a=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=n[u],h=n[u+1],p=n[u+2],f=n[u+3];a[l++]=d,a[l++]=h,a[l++]=p,o[c++]=f}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},_r.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yx=_r.API,$5=Yx.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,p=0,f=t.length,m=0,g=l[0]||c,y=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(p=h&&is(u[n])==="object"&&!isNaN(parseInt(u[n][m],10))?u[n][m]/d:0,y.push((l[n]||g)/c+p)),m=n;return y},UU=Yx.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Yx.processArabic&&(t=Yx.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:$5.apply(this,arguments).reduce(function(a,o){return a+o},0)},WU=function(t,e,r,n){for(var s=[],a=0,o=t.length,l=0;a!==o&&l+e[a]<r;)l+=e[a],a++;s.push(t.slice(0,a));var c=a;for(l=0;a!==o;)l+e[a]>n&&(s.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&s.push(t.slice(c,a)),s},GU=function(t,e,r){r||(r={});var n,s,a,o,l,c,u,d=[],h=[d],p=r.textIndent||0,f=0,m=0,g=t.split(" "),y=$5.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),w=[];g.map(function(N){(N=N.split(/\s*\n/)).length>1?w=w.concat(N.map(function(C,A){return(A&&C.length?`
`:"")+C})):w.push(N[0])}),g=w,c=UU.apply(this,[x,r])}for(a=0,o=g.length;a<o;a++){var S=0;if(n=g[a],c&&n[0]==`
`&&(n=n.substr(1),S=1),p+f+(m=(s=$5.apply(this,[n,r])).reduce(function(N,C){return N+C},0))>e||S){if(m>e){for(l=WU.apply(this,[n,s,e-(p+f),e]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);m=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(N,C){return N+C},0)}else d=[n];h.push(d),p=m+c,f=y}else d.push(n),p+=f+m,f=y}return u=c?function(N,C){return(C?x:"")+N.join(" ")}:function(N){return N.join(" ")},h.map(u)},Yx.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(GU.apply(this,[n[l],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},a=0;a<16;a++)n[r[a]]=e[a],s[e[a]]=r[a];var o=function(p){return"0x"+parseInt(p,10).toString(16)},l=t.__fontmetrics__.compress=function(p){var f,m,g,y,x=["{"];for(var w in p){if(f=p[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=o(w).slice(2)).slice(0,-1)+s[m.slice(-1)]),typeof f=="number")f<0?(g=o(f).slice(3),y="-"):(g=o(f).slice(2),y=""),g=y+g.slice(0,-1)+s[g.slice(-1)];else{if(is(f)!=="object")throw new Error("Don't know what to do with value type "+is(f)+".");g=l(f)}x.push(m+g)}return x.push("}"),x.join("")},c=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,m,g,y,x={},w=1,S=x,N=[],C="",A="",k=p.length-1,E=1;E<k;E+=1)(y=p[E])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(N.push([S,g]),S={},g=void 0):y=="}"?((m=N.pop())[0][m[1]]=S,g=void 0,S=m[0]):y=="-"?w=-1:g===void 0?n.hasOwnProperty(y)?(C+=n[y],g=parseInt(C,16)*w,w=1,C=""):C+=y:n.hasOwnProperty(y)?(A+=n[y],S[g]=parseInt(A,16)*w,w=1,g=void 0,A=""):A+=y;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var f=p.font,m=h.Unicode[f.postScriptName];m&&(f.metadata.Unicode={},f.metadata.Unicode.widths=m.widths,f.metadata.Unicode.kerning=m.kerning);var g=d.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(_r.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),a=0;a<n;a++)s[a]=r.charCodeAt(a);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,a=r.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(CS(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(_r),_r.API.addSvgAsImage=function(t,e,r,n,s,a,o,l){if(isNaN(e)||isNaN(r))throw ms.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw ms.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Gr.canvg?Promise.resolve(Gr.canvg):uf(()=>import("./index.es-BEtTL9TS.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,r,n,s,o,l)})},_r.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},_r.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,h=0;function p(m,g){var y,x=!1;for(y=0;y<m.length;y+=1)m[y]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=l.length;for(h=0;h<f;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(is(t)==="object"){for(s in t)if(a=t[s],p(l,s)&&a!==void 0){if(r[s].type==="boolean"&&typeof a=="boolean")r[s].value=a;else if(r[s].type==="name"&&p(r[s].valueSet,a))r[s].value=a;else if(r[s].type==="integer"&&Number.isInteger(a))r[s].value=a;else if(r[s].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?g.push("/"+m+" /"+r[m].value):g.push("/"+m+" "+r[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(_r.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,p=a.length;h<p;++h){if(l=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(a){var o,l,c,u,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(l=Object.keys(a).sort(function(f,m){return f-m})).length;h<p;h++)o=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",m=0;m<p.length;m++)f+=String.fromCharCode(p[m]);var g=u();d({data:f,addLength1:!0,objectId:g}),c("endobj");var y=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Jx(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Jx(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+Jx(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var m=u();d({data:p,addLength1:!0,objectId:m}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var y=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+m+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Jx(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Jx(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var s=function(a){var o,l=a.text||"",c=a.x,u=a.y,d=a.options||{},h=a.mutex||{},p=h.pdfEscape,f=h.activeFontKey,m=h.fonts,g=f,y="",x=0,w="",S=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(w=l,g=f,Array.isArray(l)&&(w=l[0]),x=0;x<w.length;x+=1)m[g].metadata.hasOwnProperty("cmap")&&(o=m[g].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),o||w[x].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?y+=w[x]:y+="";var N="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?N=p(y,g).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(N=r(y,m[g])),h.isHex=!0,{text:N,x:c,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=s(Object.assign({},c,{text:o})).text}])}(_r),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(_r.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,a,o,l,c,u,d,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,S=0;this.__bidiEngine__={};var N=function(I){var L=I.charCodeAt(),U=L>>8,$=g[U];return $!==void 0?h[256*$+(255&L)]:U===252||U===253?"AL":x.test(U)?"L":U===8?"R":"N"},C=function(I){for(var L,U=0;U<I.length;U++){if((L=N(I.charAt(U)))==="L")return!1;if(L==="R")return!0}return!1},A=function(I,L,U,$){var q,G,W,B,O=L[$];switch(O){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(O="AN");break;case"AL":w=!0,O="R";break;case"WS":case"BN":O="N";break;case"CS":$<1||$+1>=L.length||(q=U[$-1])!=="EN"&&q!=="AN"||(G=L[$+1])!=="EN"&&G!=="AN"?O="N":w&&(G="AN"),O=G===q?G:"N";break;case"ES":O=(q=$>0?U[$-1]:"B")==="EN"&&$+1<L.length&&L[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&U[$-1]==="EN"){O="EN";break}if(w){O="N";break}for(W=$+1,B=L.length;W<B&&L[W]==="ET";)W++;O=W<B&&L[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(B=L.length,W=$+1;W<B&&L[W]==="NSM";)W++;if(W<B){var K=I[$],Y=K>=1425&&K<=2303||K===64286;if(q=L[W],Y&&(q==="R"||q==="AL")){O="R";break}}}O=$<1||(q=L[$-1])==="B"?"N":U[$-1];break;case"B":w=!1,s=!0,O=S;break;case"S":a=!0,O="N"}return O},k=function(I,L,U){var $=I.split("");return U&&E($,U,{hiLevel:S}),$.reverse(),L&&L.reverse(),$.join("")},E=function(I,L,U){var $,q,G,W,B,O=-1,K=I.length,Y=0,D=[],Z=S?f:p,ie=[];for(w=!1,s=!1,a=!1,q=0;q<K;q++)ie[q]=N(I[q]);for(G=0;G<K;G++){if(B=Y,D[G]=A(I,ie,D,G),$=240&(Y=Z[B][m[D[G]]]),Y&=15,L[G]=W=Z[Y][5],$>0)if($===16){for(q=O;q<G;q++)L[q]=1;O=-1}else O=-1;if(Z[Y][6])O===-1&&(O=G);else if(O>-1){for(q=O;q<G;q++)L[q]=W;O=-1}ie[G]==="B"&&(L[G]=0),U.hiLevel|=W}a&&function(he,J,ae){for(var ne=0;ne<ae;ne++)if(he[ne]==="S"){J[ne]=S;for(var se=ne-1;se>=0&&he[se]==="WS";se--)J[se]=S}}(ie,L,K)},T=function(I,L,U,$,q){if(!(q.hiLevel<I)){if(I===1&&S===1&&!s)return L.reverse(),void(U&&U.reverse());for(var G,W,B,O,K=L.length,Y=0;Y<K;){if($[Y]>=I){for(B=Y+1;B<K&&$[B]>=I;)B++;for(O=Y,W=B-1;O<W;O++,W--)G=L[O],L[O]=L[W],L[W]=G,U&&(G=U[O],U[O]=U[W],U[W]=G);Y=B}Y++}}},R=function(I,L,U){var $=I.split(""),q={hiLevel:S};return U||(U=[]),E($,U,q),function(G,W,B){if(B.hiLevel!==0&&d)for(var O,K=0;K<G.length;K++)W[K]===1&&(O=y.indexOf(G[K]))>=0&&(G[K]=y[O+1])}($,U,q),T(2,$,L,U,q),T(1,$,L,U,q),$.join("")};return this.__bidiEngine__.doBidiReorder=function(I,L,U){if(function(q,G){if(G)for(var W=0;W<q.length;W++)G[W]=W;l===void 0&&(l=C(q)),u===void 0&&(u=C(q))}(I,L),o||!c||u)if(o&&c&&l^u)S=l?1:0,I=k(I,L,U);else if(!o&&c&&u)S=l?1:0,I=R(I,L,U),I=k(I,L);else if(!o||l||c||u){if(o&&!c&&l^u)I=k(I,L),l?(S=0,I=R(I,L,U)):(S=1,I=R(I,L,U),I=k(I,L));else if(o&&l&&!c&&u)S=1,I=R(I,L,U),I=k(I,L);else if(!o&&!c&&l^u){var $=d;l?(S=1,I=R(I,L,U),S=0,d=!1,I=R(I,L,U),d=$):(S=0,I=R(I,L,U),I=k(I,L),S=1,d=!1,I=R(I,L,U),d=$,I=k(I,L))}}else S=0,I=R(I,L,U);else S=l?1:0,I=R(I,L,U);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,u=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(_r),_r.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new tm(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new tJe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new zQe(this.contents),this.head=new WQe(this),this.name=new YQe(this),this.cmap=new eie(this),this.toUnicode={},this.hhea=new GQe(this),this.maxp=new XQe(this),this.hmtx=new KQe(this),this.post=new VQe(this),this.os2=new HQe(this),this.loca=new eJe(this),this.glyf=new ZQe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,a,o,l;for(o=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)s=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Fd,tm=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,a,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*a+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,a;for(a=[],n=0,s=e.length;n<s;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),zQe=function(){var t;function e(r){var n,s,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,a,o,l,c,u,d,h,p,f,m,g;for(g in f=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),o=Math.floor(h/c),d=16*f-h,(s=new tm).writeInt(this.scalarType),s.writeShort(f),s.writeShort(h),s.writeShort(o),s.writeShort(d),a=16*f,u=s.pos+a,l=null,m=[],r)for(p=r[g],s.writeString(g),s.writeInt(t(p)),s.writeInt(u),s.writeInt(p.length),m=m.concat(p),g==="head"&&(l=u),u+=p.length;u%4;)m.push(0),u++;return s.write(m),n=2981146554-t(s.data),s.pos=l+8,s.writeUInt32(n),s.data},t=function(r){var n,s,a,o;for(r=tie.call(r);r.length%4;)r.push(0);for(a=new tm(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=a.readUInt32();return 4294967295&s},e}(),UQe={}.hasOwnProperty,kh=function(t,e){for(var r in e)UQe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Fd=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var WQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kh(t,Fd),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new tm).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),JU=function(){function t(e,r){var n,s,a,o,l,c,u,d,h,p,f,m,g,y,x,w,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,a=function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(e.readUInt16());return C}(),e.pos+=2,g=function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(e.readUInt16());return C}(),u=function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(e.readUInt16());return C}(),d=function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(e.readUInt16());return C}(),s=(this.length-e.pos+this.offset)/2,l=function(){var N,C;for(C=[],c=N=0;0<=s?N<s:N>s;c=0<=s?++N:--N)C.push(e.readUInt16());return C}(),c=x=0,S=a.length;x<S;c=++x)for(y=a[c],n=w=m=g[c];m<=y?w<=y:w>=y;n=m<=y?++w:--w)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-m)-(p-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,r){var n,s,a,o,l,c,u,d,h,p,f,m,g,y,x,w,S,N,C,A,k,E,T,R,I,L,U,$,q,G,W,B,O,K,Y,D,Z,ie,he,J,ae,ne,se,Q,re,le;switch($=new tm,o=Object.keys(e).sort(function(ve,fe){return ve-fe}),r){case"macroman":for(g=0,y=function(){var ve=[];for(m=0;m<256;++m)ve.push(0);return ve}(),w={0:0},a={},q=0,O=o.length;q<O;q++)w[se=e[s=o[q]]]==null&&(w[se]=++g),a[s]={old:e[s],new:w[e[s]]},y[s]=w[e[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(y),{charMap:a,subtable:$.data,maxGlyphID:g+1};case"unicode":for(L=[],h=[],S=0,w={},n={},x=u=null,G=0,K=o.length;G<K;G++)w[C=e[s=o[G]]]==null&&(w[C]=++S),n[s]={old:C,new:w[C]},l=w[C]-s,x!=null&&l===u||(x&&h.push(x),L.push(s),u=l),x=s;for(x&&h.push(x),h.push(65535),L.push(65535),R=2*(T=L.length),E=2*Math.pow(Math.log(T)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,k=2*T-E,c=[],A=[],f=[],m=W=0,Y=L.length;W<Y;m=++W){if(I=L[m],d=h[m],I===65535){c.push(0),A.push(0);break}if(I-(U=n[I].new)>=32768)for(c.push(0),A.push(2*(f.length+T-m)),s=B=I;I<=d?B<=d:B>=d;s=I<=d?++B:--B)f.push(n[s].new);else c.push(U-I),A.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*T+2*f.length),$.writeUInt16(0),$.writeUInt16(R),$.writeUInt16(E),$.writeUInt16(p),$.writeUInt16(k),ae=0,D=h.length;ae<D;ae++)s=h[ae],$.writeUInt16(s);for($.writeUInt16(0),ne=0,Z=L.length;ne<Z;ne++)s=L[ne],$.writeUInt16(s);for(Q=0,ie=c.length;Q<ie;Q++)l=c[Q],$.writeUInt16(l);for(re=0,he=A.length;re<he;re++)N=A[re],$.writeUInt16(N);for(le=0,J=f.length;le<J;le++)g=f[le],$.writeUInt16(g);return{charMap:n,subtable:$.data,maxGlyphID:S+1}}},t}(),eie=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kh(t,Fd),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new JU(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,s;return r==null&&(r="macroman"),n=JU.encode(e,r),(s=new tm).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},t}(),GQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kh(t,Fd),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),HQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kh(t,Fd),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),VQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kh(t,Fd),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)r=e.readByte(),s.push(this.names.push(e.readString(r)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t}(),qQe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},YQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kh(t,Fd),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,s,a,o,l,c,u,d,h,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=d=0,h=n.length;d<h;a=++d)s=n[a],e.pos=s.offset,u=e.readString(s.length),o=new qQe(u,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),XQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kh(t,Fd),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),KQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kh(t,Fd),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,s,a,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,h,p;for(p=[],u=0,d=(h=this.metrics).length;u<d;u++)a=h[u],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),tie=[].slice,ZQe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kh(t,Fd),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,s,a,o,l,c,u,d,h;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(s=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new tm(r.read(s))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=o===-1?new JQe(l,u,h,c,d):new QQe(l,o,u,h,c,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var s,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)s=e[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(n)));return a.push(o.length),{table:o,offsets:a}},t}(),QQe=function(){function t(e,r,n,s,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),JQe=function(){function t(e,r,n,s,a){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new tm(tie.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),eJe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kh(t,Fd),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],n=0,s=this.length;n<s;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],n=0,s=this.length;n<s;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<n.length;++o)if(n[o]=s,a<r.length&&r[a]==o){++a,n[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t}(),tJe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,a;for(r in s=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,a,o,l,c;for(s={},o=0,l=e.length;o<l;o++)s[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],s)(n=s[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],s[a]=n;return s},t.prototype.encode=function(e,r){var n,s,a,o,l,c,u,d,h,p,f,m,g,y,x;for(s in n=eie.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},x=n.charMap)f[(c=x[s]).old]=c.new;for(m in p=n.maxGlyphID,o)m in f||(f[m]=p++);return d=function(w){var S,N;for(S in N={},w)N[w[S]]=S;return N}(f),h=Object.keys(d).sort(function(w,S){return w-S}),g=function(){var w,S,N;for(N=[],w=0,S=h.length;w<S;w++)l=h[w],N.push(d[l]);return N}(),a=this.font.glyf.encode(o,g,f),u=this.font.loca.encode(a.offsets,g),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();_r.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,a,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in a=["<<"],r)o=r[s],a.push("/"+s+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e}();const rJe=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,a]=b.useState(null),[o,l]=b.useState("all"),[c,u]=b.useState("");b.useEffect(()=>{(async()=>{try{n(!0);const g=await bw.listAll();e(g||[])}catch(g){console.error("Failed to load invoices",g)}finally{n(!1)}})()},[]);const d=m=>{var g,y,x,w,S,N,C,A,k,E,T,R,I;if(m)try{const L=new _r("p","pt","a4"),U=40;let $=40;const q=(ce,Pe={})=>{const{bold:ke=!1,size:oe=10}=Pe;L.setFont("helvetica",ke?"bold":"normal"),L.setFontSize(oe),L.text(ce,U,$),$+=oe+4},G=(ce,Pe={})=>{const{bold:ke=!1,size:oe=10}=Pe;L.setFont("helvetica",ke?"bold":"normal"),L.setFontSize(oe);const Oe=L.internal.pageSize.getWidth(),Ie=L.getTextWidth(ce);L.text(ce,Oe-U-Ie,$)},W=ce=>`Rs ${Number(ce||0).toFixed(2)}`,B=m.invoiceNumber||"INV-XXXX",O=m.createdAt?new Date(m.createdAt):new Date,K=(m.status||"paid").toUpperCase();q("INVOICE",{bold:!0,size:18}),$+=4,q(`Invoice # ${B}`,{bold:!0,size:12}),G(O.toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"numeric",minute:"2-digit"}),{size:10}),$+=4,q(`Status ${K}`,{size:10}),$+=16,q("G2, Win-Win Towers, Siddhi Vinayak Nagar, Madhapur, Hyderabad, Telangana 500081",{size:9}),q("Phone: 095158 88515  support@shelfmerch.com",{size:9}),$+=20;const Y=((g=m.orderId)==null?void 0:g.orderNumber)||((x=(y=m.orderId)==null?void 0:y._id)==null?void 0:x.slice(-8))||m.orderId||"",D=((w=m.storeId)==null?void 0:w.storeName)||"",Z=((N=(S=m.paymentDetails)==null?void 0:S.method)==null?void 0:N.toUpperCase())||"UPI",ie=((C=m.paymentDetails)==null?void 0:C.transactionId)||`TXN-${(A=m._id)==null?void 0:A.slice(-10)}`;q(`Order ID: ${Y}`,{size:10,bold:!0}),q(`Store: ${D}`,{size:10}),$+=6,q(`Payment: ${Z}`,{size:10}),q(`Txn ID: ${ie}`,{size:10}),$+=6,q("Currency: INR",{size:10}),$+=24,q("BILLING",{bold:!0,size:12}),$+=8,q("Bill From",{bold:!0,size:10}),q("ShelfMerch (Platform)",{size:9}),q("G2, Win-Win Towers, Siddhi Vinayak Nagar, Madhapur,",{size:9}),q("Hyderabad, Telangana 500081",{size:9}),q("support@shelfmerch.com  095158 88515",{size:9}),$+=12,q("Bill To",{bold:!0,size:10});const he=((k=m.merchantId)==null?void 0:k.name)||"Merchant",J=((E=m.merchantId)==null?void 0:E.email)||"",ae=((T=m.merchantId)==null?void 0:T.phone)||"",ne=((R=m.storeId)==null?void 0:R.city)||"",se=((I=m.storeId)==null?void 0:I.state)||"";q(he,{size:9}),q([ne,se].filter(Boolean).join(", ")||"",{size:9}),q([J,ae].filter(Boolean).join("  ")||J||ae||"",{size:9}),$+=20,q("ITEMS",{bold:!0,size:12}),$+=10,L.setFont("helvetica","bold"),L.setFontSize(9),L.text("Description",U,$),L.text("Qty",U+260,$),L.text("Unit Price",U+300,$),L.text("Amount",U+380,$),$+=10,L.setLineWidth(.5),L.line(U,$,U+430,$),$+=12,L.setFont("helvetica","normal");const Q=Array.isArray(m.items)?m.items:[];let re=0;Q.forEach(ce=>{const Pe=[ce.productName||"Product"];ce.variant&&Pe.push(`Variant: ${ce.variant}`);const ke=Pe.join(`
`),oe=ce.quantity||1,Oe=ce.productionCost||0,Ie=Oe*oe;re+=Ie;const He=L.splitTextToSize(ke,240);He.forEach((nt,ft)=>{L.text(nt,U,$+ft*11)}),L.text(String(oe),U+260,$),L.text(W(Oe),U+300,$),L.text(W(Ie),U+380,$),$+=He.length*11+4}),Q.length||(q("No line items",{size:9}),$+=4),$+=10;const le=m.shippingCost||0,ve=m.tax||0,fe=m.totalAmount||re+le+ve,X=U+380;L.setFont("helvetica","normal"),L.setFontSize(10),L.text("Subtotal",X-80,$),L.text(W(re),X,$,{align:"right"}),$+=14,L.text("Shipping",X-80,$),L.text(W(le),X,$,{align:"right"}),$+=14,L.text("Tax",X-80,$),L.text(W(ve),X,$,{align:"right"}),$+=16,L.setFont("helvetica","bold"),L.text("Total",X-80,$),L.text(W(fe),X,$,{align:"right"}),$+=24,L.setFont("helvetica","normal"),L.setFontSize(8),L.text("System-generated invoice  For billing queries: support@shelfmerch.com",U,$),L.save(`${B}.pdf`)}catch(L){console.error("Failed to generate invoice PDF",L),toast.error("Failed to generate PDF")}},h=m=>{switch(m){case"paid":return i.jsxs(Ot,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:[i.jsx(Xb,{className:"h-3 w-3 mr-1"})," Paid"]});case"pending":return i.jsxs(Ot,{className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",children:[i.jsx(Jo,{className:"h-3 w-3 mr-1"})," Pending"]});default:return i.jsx(Ot,{variant:"outline",children:m})}},p=t.filter(m=>{var w;const g=o==="all"||m.status===o,y=m.invoiceNumber||"",x=((w=m.merchantId)==null?void 0:w.email)||"";return g&&(y.toLowerCase().includes(c.toLowerCase())||x.toLowerCase().includes(c.toLowerCase()))}),f={total:t.length,paid:t.filter(m=>m.status==="paid").length,pending:t.filter(m=>m.status==="pending").length,totalRevenue:t.reduce((m,g)=>m+(g.totalAmount||0),0)};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xu,{className:"h-6 w-6 text-primary"}),i.jsx("h2",{className:"text-2xl font-bold",children:"Fulfillment Invoices"})]})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsxs(Ze,{children:[i.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(vr,{className:"text-sm font-medium",children:"Total Invoices"}),i.jsx(xu,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Tt,{children:i.jsx("div",{className:"text-2xl font-bold",children:f.total})})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(vr,{className:"text-sm font-medium",children:"Paid"}),i.jsx(Xb,{className:"h-4 w-4 text-green-600"})]}),i.jsx(Tt,{children:i.jsx("div",{className:"text-2xl font-bold",children:f.paid})})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(vr,{className:"text-sm font-medium",children:"Pending"}),i.jsx(Jo,{className:"h-4 w-4 text-yellow-600"})]}),i.jsx(Tt,{children:i.jsx("div",{className:"text-2xl font-bold",children:f.pending})})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(vr,{className:"text-sm font-medium",children:"Platform Revenue"}),i.jsx(xu,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Tt,{children:i.jsxs("div",{className:"text-2xl font-bold",children:["",f.totalRevenue.toFixed(2)]})})]})]}),i.jsxs(Ze,{children:[i.jsx(yr,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(vr,{children:"All Invoices"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(rt,{placeholder:"Search by invoice # or merchant...",value:c,onChange:m=>u(m.target.value),className:"w-64"}),i.jsxs(Er,{value:o,onValueChange:l,children:[i.jsx(Ar,{className:"w-40",children:i.jsx(Tr,{placeholder:"Status"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"all",children:"All Status"}),i.jsx(at,{value:"paid",children:"Paid"}),i.jsx(at,{value:"pending",children:"Pending"})]})]})]})]})}),i.jsx(Tt,{children:i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{children:"Invoice #"}),i.jsx(Rt,{children:"Merchant"}),i.jsx(Rt,{children:"Store"}),i.jsx(Rt,{children:"Amount"}),i.jsx(Rt,{children:"Status"}),i.jsx(Rt,{children:"Date"}),i.jsx(Rt,{className:"text-right",children:"Actions"})]})}),i.jsx(Mo,{children:r?i.jsx(An,{children:i.jsx(Lt,{colSpan:7,className:"text-center py-8 text-muted-foreground italic",children:"Loading invoices..."})}):p.length===0?i.jsx(An,{children:i.jsx(Lt,{colSpan:7,className:"text-center py-8 text-muted-foreground italic",children:"No invoices found."})}):p.map(m=>{var g,y,x,w,S,N,C,A,k,E,T,R,I,L,U,$;return i.jsxs(An,{children:[i.jsx(Lt,{className:"font-bold",children:m.invoiceNumber}),i.jsx(Lt,{children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-medium",children:((g=m.merchantId)==null?void 0:g.name)||"User"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:(y=m.merchantId)==null?void 0:y.email})]})}),i.jsx(Lt,{children:((x=m.storeId)==null?void 0:x.storeName)||"N/A"}),i.jsxs(Lt,{className:"font-semibold",children:["",(w=m.totalAmount)==null?void 0:w.toFixed(2)]}),i.jsx(Lt,{children:h(m.status)}),i.jsx(Lt,{className:"text-muted-foreground italic text-xs",children:new Date(m.createdAt).toLocaleDateString()}),i.jsx(Lt,{className:"text-right",children:i.jsxs(dl,{children:[i.jsx(eK,{asChild:!0,children:i.jsx(pe,{variant:"outline",size:"sm",onClick:()=>a(m),children:"View"})}),i.jsxs(Fo,{className:"max-w-2xl",children:[i.jsx(Bo,{children:i.jsxs($o,{children:["Invoice Details - ",s==null?void 0:s.invoiceNumber]})}),s&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6 bg-muted/30 p-4 rounded-lg",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-xs text-muted-foreground uppercase",children:"Merchant"}),i.jsx("p",{className:"font-semibold",children:(S=s.merchantId)==null?void 0:S.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(N=s.merchantId)==null?void 0:N.email})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-xs text-muted-foreground uppercase",children:"Store/Order"}),i.jsx("p",{className:"font-semibold",children:(C=s.storeId)==null?void 0:C.storeName}),s.orderId&&i.jsxs(_t,{to:`/admin/orders/${(A=s.orderId)==null?void 0:A._id}`,className:"text-sm text-primary hover:underline flex items-center gap-1",children:["Order #",((k=s.orderId)==null?void 0:k.orderNumber)||((T=(E=s.orderId)==null?void 0:E._id)==null?void 0:T.slice(-6)),i.jsx(Vy,{className:"h-3 w-3"})]})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-xs text-muted-foreground uppercase",children:"Status"}),i.jsx("div",{className:"mt-1",children:h(s.status)})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-xs text-muted-foreground uppercase",children:"Date Generated"}),i.jsx("p",{className:"font-medium mt-1",children:new Date(s.createdAt).toLocaleString()})]})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-sm font-bold mb-2 block",children:"Line Items"}),i.jsx("div",{className:"border rounded-md overflow-hidden text-sm",children:i.jsxs(To,{children:[i.jsx(Io,{className:"bg-muted/50",children:i.jsxs(An,{children:[i.jsx(Rt,{children:"Product"}),i.jsx(Rt,{className:"text-center",children:"Qty"}),i.jsx(Rt,{className:"text-right",children:"Base Price"}),i.jsx(Rt,{className:"text-right",children:"Total"})]})}),i.jsx(Mo,{children:(R=s.items)==null?void 0:R.map((q,G)=>{var W;return i.jsxs("tr",{className:"border-b last:border-0 h-10 px-4",children:[i.jsx("td",{className:"px-4 font-medium",children:q.productName}),i.jsx("td",{className:"px-4 text-center",children:q.quantity}),i.jsxs("td",{className:"px-4 text-right",children:["",(W=q.productionCost)==null?void 0:W.toFixed(2)]}),i.jsxs("td",{className:"px-4 text-right font-semibold",children:["",(q.productionCost*q.quantity).toFixed(2)]})]},G)})})]})})]}),i.jsxs("div",{className:"flex flex-col items-end gap-1.5 pt-4 border-t",children:[i.jsxs("div",{className:"flex justify-between w-full max-w-[200px] text-sm",children:[i.jsx("span",{children:"Production:"}),i.jsxs("span",{children:["",(I=s.productionCost)==null?void 0:I.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between w-full max-w-[200px] text-sm",children:[i.jsx("span",{children:"Shipping:"}),i.jsxs("span",{children:["",(L=s.shippingCost)==null?void 0:L.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between w-full max-w-[200px] text-sm",children:[i.jsx("span",{children:"Tax:"}),i.jsxs("span",{children:["",(U=s.tax)==null?void 0:U.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between w-full max-w-[200px] font-bold text-lg text-primary border-t pt-2 mt-2",children:[i.jsx("span",{children:"Total:"}),i.jsxs("span",{children:["",($=s.totalAmount)==null?void 0:$.toFixed(2)]})]})]}),i.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>d(s),children:[i.jsx(nf,{className:"h-4 w-4 mr-2"}),"Download PDF"]})})]})]})]})})]},m._id)})})]})})]})]})};function nJe(){const[t,e]=b.useState([{id:"1",adminId:"admin-001",action:"wallet_credit",targetId:"wallet-123",targetType:"wallet",details:{userId:"user-456",amount:100,description:"Refund",newBalance:250},ipAddress:"192.168.1.1",userAgent:"Mozilla/5.0",timestamp:new Date().toISOString()},{id:"2",adminId:"admin-002",action:"invoice_update",targetId:"inv-789",targetType:"invoice",details:{oldStatus:"pending",newStatus:"paid",orderId:"order-456"},ipAddress:"192.168.1.2",userAgent:"Mozilla/5.0",timestamp:new Date(Date.now()-36e5).toISOString()}]),[r,n]=b.useState(""),[s,a]=b.useState("all"),[o,l]=b.useState("all"),[c,u]=b.useState(""),[d,h]=b.useState(""),p=t.filter(g=>{var N;const y=g.adminId.toLowerCase().includes(r.toLowerCase())||g.targetId.toLowerCase().includes(r.toLowerCase())||((N=g.ipAddress)==null?void 0:N.toLowerCase().includes(r.toLowerCase())),x=s==="all"||g.action===s,w=o==="all"||g.targetType===o;let S=!0;if(c&&d){const C=new Date(g.timestamp);S=C>=new Date(c)&&C<=new Date(d)}return y&&x&&w&&S}),f=g=>({wallet_credit:"default",wallet_debit:"destructive",invoice_create:"secondary",invoice_update:"outline"})[g]||"default",m=()=>{const g=[["Timestamp","Admin ID","Action","Target Type","Target ID","IP Address","Details"],...p.map(S=>[new Date(S.timestamp).toLocaleString(),S.adminId,S.action,S.targetType,S.targetId,S.ipAddress||"N/A",JSON.stringify(S.details)])].map(S=>S.join(",")).join(`
`),y=new Blob([g],{type:"text/csv"}),x=window.URL.createObjectURL(y),w=document.createElement("a");w.href=x,w.download=`audit-logs-${new Date().toISOString()}.csv`,w.click()};return i.jsx("div",{className:"space-y-6",children:i.jsxs(Ze,{children:[i.jsx(yr,{children:i.jsx(vr,{children:"Audit Logs"})}),i.jsx(Tt,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(pl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(rt,{placeholder:"Search by admin, target, or IP...",value:r,onChange:g=>n(g.target.value),className:"pl-9"})]}),i.jsxs(Er,{value:s,onValueChange:a,children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Filter by action"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"all",children:"All Actions"}),i.jsx(at,{value:"wallet_credit",children:"Wallet Credit"}),i.jsx(at,{value:"wallet_debit",children:"Wallet Debit"}),i.jsx(at,{value:"invoice_create",children:"Invoice Create"}),i.jsx(at,{value:"invoice_update",children:"Invoice Update"})]})]}),i.jsxs(Er,{value:o,onValueChange:l,children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Filter by type"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"all",children:"All Types"}),i.jsx(at,{value:"wallet",children:"Wallet"}),i.jsx(at,{value:"invoice",children:"Invoice"})]})]}),i.jsxs(pe,{onClick:m,variant:"outline",children:[i.jsx(nf,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),i.jsx(rt,{type:"datetime-local",value:c,onChange:g=>u(g.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"End Date"}),i.jsx(rt,{type:"datetime-local",value:d,onChange:g=>h(g.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(Ze,{children:i.jsxs(Tt,{className:"pt-6",children:[i.jsx("div",{className:"text-2xl font-bold",children:p.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Logs"})]})}),i.jsx(Ze,{children:i.jsxs(Tt,{className:"pt-6",children:[i.jsx("div",{className:"text-2xl font-bold",children:new Set(p.map(g=>g.adminId)).size}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique Admins"})]})}),i.jsx(Ze,{children:i.jsxs(Tt,{className:"pt-6",children:[i.jsx("div",{className:"text-2xl font-bold",children:new Set(p.map(g=>g.ipAddress)).size}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique IPs"})]})})]}),i.jsx("div",{className:"border rounded-lg",children:i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{children:"Timestamp"}),i.jsx(Rt,{children:"Admin ID"}),i.jsx(Rt,{children:"Action"}),i.jsx(Rt,{children:"Target Type"}),i.jsx(Rt,{children:"Target ID"}),i.jsx(Rt,{children:"IP Address"}),i.jsx(Rt,{children:"Details"})]})}),i.jsx(Mo,{children:p.length===0?i.jsx(An,{children:i.jsx(Lt,{colSpan:7,className:"text-center text-muted-foreground",children:"No audit logs found"})}):p.map(g=>i.jsxs(An,{children:[i.jsx(Lt,{className:"whitespace-nowrap",children:new Date(g.timestamp).toLocaleString()}),i.jsx(Lt,{className:"font-mono text-sm",children:g.adminId}),i.jsx(Lt,{children:i.jsx(Ot,{variant:f(g.action),children:g.action.replace(/_/g," ")})}),i.jsx(Lt,{className:"capitalize",children:g.targetType}),i.jsx(Lt,{className:"font-mono text-sm",children:g.targetId}),i.jsx(Lt,{className:"font-mono text-sm",children:g.ipAddress||"N/A"}),i.jsx(Lt,{children:i.jsx("div",{className:"max-w-xs truncate text-sm text-muted-foreground",children:JSON.stringify(g.details)})})]},g.id))})]})})]})})]})})}const sJe=({searchQuery:t,onSearchChange:e,statusFilter:r,onStatusFilterChange:n,categoryFilter:s,onCategoryFilterChange:a,sortBy:o,onSortChange:l,totalCount:c,activeCount:u,draftCount:d,archivedCount:h})=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 py-4 border-b",children:[i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("span",{className:"font-medium text-foreground",children:["Base Products  ",c]}),(u!==void 0||d!==void 0||h!==void 0)&&i.jsxs("span",{className:"hidden sm:inline-flex items-center gap-1",children:[i.jsxs("span",{className:u?"text-green-600":"",children:["Active: ",u||0]}),i.jsx("span",{children:""}),i.jsxs("span",{className:d?"text-gray-600":"",children:["Draft: ",d||0]}),i.jsx("span",{children:""}),i.jsxs("span",{className:h?"text-red-600":"",children:["Archived: ",h||0]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("div",{className:"relative flex-1 sm:flex-initial sm:w-64",children:[i.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(rt,{placeholder:"Search products...",value:t,onChange:p=>e(p.target.value),className:"pl-9 h-9"})]}),i.jsxs(Er,{value:r,onValueChange:n,children:[i.jsx(Ar,{className:"w-[140px] h-9",children:i.jsx(Tr,{placeholder:"Status"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"all",children:"All Status"}),i.jsx(at,{value:"active",children:"Active"}),i.jsx(at,{value:"draft",children:"Draft"}),i.jsx(at,{value:"archived",children:"Archived"})]})]}),i.jsxs(Er,{value:s,onValueChange:a,children:[i.jsx(Ar,{className:"w-[140px] h-9",children:i.jsx(Tr,{placeholder:"Category"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"all",children:"All Categories"}),i.jsx(at,{value:"hoodies",children:"Hoodies"}),i.jsx(at,{value:"tshirts",children:"T-Shirts"}),i.jsx(at,{value:"mugs",children:"Mugs"}),i.jsx(at,{value:"notebooks",children:"Notebooks"})]})]}),i.jsxs(Er,{value:o,onValueChange:l,children:[i.jsx(Ar,{className:"w-[160px] h-9",children:i.jsx(Tr,{placeholder:"Sort by"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"newest",children:"Newest"}),i.jsx(at,{value:"oldest",children:"Oldest"}),i.jsx(at,{value:"price-low",children:"Base price (lowhigh)"}),i.jsx(at,{value:"price-high",children:"Base price (highlow)"})]})]})]})]}),iT=({status:t,className:e})=>{const r={active:"bg-green-50 text-green-700 border-green-200",draft:"bg-gray-50 text-gray-700 border-gray-200",archived:"bg-red-50 text-red-700 border-red-200",inactive:"bg-gray-50 text-gray-700 border-gray-200"},n={active:"Active",draft:"Draft",archived:"Archived",inactive:"Inactive"};return i.jsx(Ot,{variant:"outline",className:dt("text-xs font-medium px-2 py-0.5 border",r[t],e),children:n[t]})},Jk=({count:t,label:e,icon:r,className:n})=>i.jsxs("div",{className:dt("inline-flex items-center gap-1.5 px-2 py-1 rounded-full","bg-gray-50 text-gray-600 text-xs font-medium",n),children:[r&&i.jsx(r,{className:"h-3 w-3"}),i.jsxs("span",{children:[t," ",e]})]}),iJe=({productId:t,isActive:e=!0,onEdit:r,onDuplicate:n,onArchive:s,onDelete:a})=>{const[o,l]=b.useState(!1),[c,u]=b.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsxs(HM,{children:[i.jsx(VM,{asChild:!0,children:i.jsxs(pe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[i.jsx("span",{className:"sr-only",children:"Open menu"}),i.jsx(Hce,{className:"h-4 w-4"})]})}),i.jsxs(uC,{align:"end",children:[r&&i.jsxs(oh,{onClick:()=>r(t),children:[i.jsx(Zb,{className:"mr-2 h-4 w-4"}),"Edit base product"]}),n&&i.jsxs(oh,{onClick:()=>n(t),children:[i.jsx(Wce,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),(s||a)&&i.jsx(y2,{}),s&&i.jsxs(oh,{onClick:()=>l(!0),className:"text-orange-600",children:[i.jsx(Lce,{className:"mr-2 h-4 w-4"}),"Archive"]}),a&&i.jsxs(oh,{onClick:()=>u(!0),className:"text-destructive",children:[i.jsx(ol,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),i.jsx(v8,{open:o,onOpenChange:l,children:i.jsxs(TN,{children:[i.jsxs(IN,{children:[i.jsx(ON,{children:"Archive product?"}),i.jsx(LN,{children:"This will archive the product and prevent it from being used by merchants. You can restore it later."})]}),i.jsxs(MN,{children:[i.jsx(DN,{children:"Cancel"}),i.jsx(RN,{onClick:()=>{s==null||s(t),l(!1)},className:"bg-orange-600 hover:bg-orange-700",children:"Archive"})]})]})}),i.jsx(v8,{open:c,onOpenChange:u,children:i.jsxs(TN,{children:[i.jsxs(IN,{children:[i.jsx(ON,{children:"Delete product?"}),i.jsx(LN,{children:"This action cannot be undone. This will permanently delete the product and all associated data."})]}),i.jsxs(MN,{children:[i.jsx(DN,{children:"Cancel"}),i.jsx(RN,{onClick:()=>{a==null||a(t),u(!1)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},aJe=({products:t,isLoading:e=!1,onEdit:r,onDuplicate:n,onArchive:s,onDelete:a})=>{const o=rs(),l=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",c=y=>y==null?"$0.00":`$${y.toFixed(2)}`,u=y=>y._id||y.id||"",d=y=>{var x;return((x=y.catalogue)==null?void 0:x.name)||"Unnamed Product"},h=y=>{var w,S,N;const x=(w=y.galleryImages)==null?void 0:w.find(C=>C.isPrimary);return(x==null?void 0:x.url)||((N=(S=y.galleryImages)==null?void 0:S[0])==null?void 0:N.url)||""},p=y=>y.isActive?"active":"inactive",f=y=>{var x;return((x=y.variants)==null?void 0:x.length)||0},m=y=>{var x,w;return((w=(x=y.design)==null?void 0:x.views)==null?void 0:w.filter(S=>S.mockupImageUrl).length)||0},g=y=>{var x;return((x=y.galleryImages)==null?void 0:x.length)||0};return e?i.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(y=>i.jsxs("div",{className:"flex items-center gap-4 p-4 border-b",children:[i.jsx(kn,{className:"h-12 w-12 rounded"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(kn,{className:"h-4 w-48"}),i.jsx(kn,{className:"h-3 w-64"})]}),i.jsx(kn,{className:"h-4 w-20"}),i.jsx(kn,{className:"h-6 w-24"}),i.jsx(kn,{className:"h-6 w-24"}),i.jsx(kn,{className:"h-6 w-24"}),i.jsx(kn,{className:"h-6 w-20"}),i.jsx(kn,{className:"h-4 w-24"}),i.jsx(kn,{className:"h-8 w-8"})]},y))}):t.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[i.jsx("div",{className:"rounded-full bg-muted p-3 mb-4",children:i.jsx(Sr,{className:"h-6 w-6 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No base products yet"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:"Create your first base product to let merchants add it to their stores."}),i.jsx(pe,{asChild:!0,children:i.jsx(_t,{to:"/admin/products/new",children:"Add Base Product"})})]}):i.jsx("div",{className:"rounded-md border",children:i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{className:"bg-gray-50/50 hover:bg-gray-50/50",children:[i.jsx(Rt,{className:"h-10 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Product"}),i.jsx(Rt,{className:"h-10 text-xs font-semibold uppercase tracking-wide text-muted-foreground text-right",children:"Base Price"}),i.jsx(Rt,{className:"h-10 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Variants"}),i.jsx(Rt,{className:"h-10 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Views"}),i.jsx(Rt,{className:"h-10 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Gallery Images"}),i.jsx(Rt,{className:"h-10 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Status"}),i.jsx(Rt,{className:"h-10 text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Created"}),i.jsx(Rt,{className:"h-10 text-xs font-semibold uppercase tracking-wide text-muted-foreground text-right",children:"Actions"})]})}),i.jsx(Mo,{children:t.map(y=>{var N;const x=u(y),w=h(y),S=d(y);return i.jsxs(An,{className:"hover:bg-gray-50/50 border-b border-gray-100 cursor-pointer",onClick:C=>{const A=C.target;A.closest('[role="menu"]')||A.closest("button")||A.closest("a")||o(`/admin/products/${x}/edit`)},children:[i.jsx(Lt,{className:"py-3",children:i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[w?i.jsx("img",{src:w,alt:S,className:"h-12 w-12 rounded object-cover flex-shrink-0"}):i.jsx("div",{className:"h-12 w-12 rounded bg-muted flex items-center justify-center flex-shrink-0",children:i.jsx(Sr,{className:"h-5 w-5 text-muted-foreground"})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("div",{className:"font-semibold text-sm truncate",children:S})})]})}),i.jsx(Lt,{className:"py-3 text-right",children:i.jsx("span",{className:"font-medium text-sm",children:c((N=y.catalogue)==null?void 0:N.basePrice)})}),i.jsx(Lt,{className:"py-3",children:i.jsx(Jk,{count:f(y),label:"variant",icon:ab})}),i.jsx(Lt,{className:"py-3",children:i.jsx(Jk,{count:m(y),label:"view",icon:gh})}),i.jsx(Lt,{className:"py-3",children:i.jsx(Jk,{count:g(y),label:"image",icon:CV})}),i.jsx(Lt,{className:"py-3",children:i.jsx(iT,{status:p(y)})}),i.jsx(Lt,{className:"py-3",children:i.jsx("span",{className:"text-sm text-muted-foreground",title:y.createdAt,children:l(y.createdAt)})}),i.jsx(Lt,{className:"py-3 text-right",children:i.jsx(iJe,{productId:x,isActive:y.isActive!==!1,onEdit:r,onDuplicate:n,onArchive:s,onDelete:a})})]},x)})})]})})},oJe=()=>{var Zt;const{user:t,logout:e}=Ba(),[r,n]=vw(),[s,a]=b.useState(""),[o,l]=b.useState(()=>r.get("tab")||"overview"),[c,u]=b.useState("month"),[d,h]=b.useState(""),[p,f]=b.useState(0),[m,g]=b.useState(!0),[y,x]=b.useState([]),[w,S]=b.useState(!1),[N,C]=b.useState(""),[A,k]=b.useState(1),[E,T]=b.useState(0),[R,I]=b.useState(0),[L,U]=b.useState(!1),[$,q]=b.useState("all"),[G,W]=b.useState("all"),[B,O]=b.useState("newest"),[K,Y]=b.useState([]),[D,Z]=b.useState(!1),[ie,he]=b.useState(null),[J,ae]=b.useState(1),[ne,se]=b.useState(10),[Q,re]=b.useState(0),[le,ve]=b.useState("createdAt"),[fe,X]=b.useState("desc"),[ce,Pe]=b.useState(null),[ke,oe]=b.useState(!1),Oe=JSON.parse(localStorage.getItem("shelfmerch_all_stores")||"[]"),Ie=JSON.parse(localStorage.getItem("shelfmerch_all_products")||"[]"),[He,nt]=b.useState([]),[ft,Fe]=b.useState(!1),[Ae,it]=b.useState(null),[Ee,Re]=b.useState(null),[We,Ge]=b.useState(!1),ze=!ie&&K.length>0?K:Oe,ot=(Ee==null?void 0:Ee.totalRevenue)||0;ze.length;const lt=Ie.length;He.filter(Te=>Te.status==="on-hold").length;const yt=[{value:"on-hold",label:"On hold"},{value:"in-production",label:"In production"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"refunded",label:"Refunded"},{value:"cancelled",label:"Cancelled"}];b.useEffect(()=>{const Te=async()=>{try{const{authApi:vt}=await uf(async()=>{const{authApi:qt}=await Promise.resolve().then(()=>Uq);return{authApi:qt}},void 0),Ct=await vt.getUserCount();(Ct&&typeof Ct.count=="number"||Ct&&Ct.success&&typeof Ct.count=="number")&&f(Ct.count)}catch(vt){console.error("Failed to fetch user count:",vt),f(Oe.length)}finally{g(!1)}};(t==null?void 0:t.role)==="superadmin"?Te():(f(Oe.length),g(!1))},[t==null?void 0:t.role,Oe.length]),b.useEffect(()=>{(async()=>{if((t==null?void 0:t.role)==="superadmin"){U(!0);try{const vt=await Di.getAll({page:1,limit:1});if(vt&&vt.success!==!1){const Ct=vt.pagination||{total:0};I(Ct.total||0)}else I(lt)}catch(vt){console.error("Failed to fetch products count:",vt),I(lt)}finally{U(!1)}}})()},[t==null?void 0:t.role,lt]),b.useEffect(()=>{(async()=>{if((t==null?void 0:t.role)==="superadmin"&&o==="orders"){Fe(!0),it(null);try{const vt=await cf.listForMerchant();nt(Array.isArray(vt)?vt:[])}catch(vt){console.error("Failed to fetch platform orders:",vt),it((vt==null?void 0:vt.message)||"Failed to load orders")}finally{Fe(!1)}}})()},[t==null?void 0:t.role,o]),b.useEffect(()=>{(async()=>{if(!((t==null?void 0:t.role)!=="superadmin"||o!=="overview")){Ge(!0);try{const vt=await cf.getAdminStats();vt.success&&Re(vt.data)}catch(vt){console.error("Failed to fetch admin stats:",vt)}finally{Ge(!1)}}})()},[t==null?void 0:t.role,o]);const Pt=b.useMemo(()=>{let Te=[...y];return $!=="all"&&($==="active"?Te=Te.filter(vt=>vt.isActive):$==="archived"&&(Te=Te.filter(vt=>!vt.isActive))),Te.sort((vt,Ct)=>{var qt,Nr,Or,fr;switch(B){case"oldest":return new Date(vt.createdAt||0).getTime()-new Date(Ct.createdAt||0).getTime();case"price-low":return(((qt=vt.catalogue)==null?void 0:qt.basePrice)||0)-(((Nr=Ct.catalogue)==null?void 0:Nr.basePrice)||0);case"price-high":return(((Or=Ct.catalogue)==null?void 0:Or.basePrice)||0)-(((fr=vt.catalogue)==null?void 0:fr.basePrice)||0);case"newest":default:return new Date(Ct.createdAt||0).getTime()-new Date(vt.createdAt||0).getTime()}}),Te},[y,$,G,B]),ct=b.useCallback(async()=>{if(o==="products"&&(t==null?void 0:t.role)==="superadmin"){console.log("Fetching products from database...",{productsPage:A,productsSearchQuery:N}),S(!0);try{const Te=await Di.getAll({page:A,limit:20,search:N.trim()||void 0});if(console.log("Products API response:",Te),Te&&Te.success!==!1){const vt=Array.isArray(Te.data)?Te.data:[],Ct=Te.pagination||{total:vt.length};console.log(`Loaded ${vt.length} products out of ${Ct.total} total`),x(vt),T(Ct.total||vt.length)}else console.warn("API response indicates failure:",Te),x([]),T(0)}catch(Te){console.error("Failed to fetch products:",Te),$e.error(Te.message||"Failed to load products from database"),x([]),T(0)}finally{S(!1)}}},[o,t==null?void 0:t.role,A,N]);b.useEffect(()=>{let Te=!0;const vt=async()=>{try{Z(!0),he(null);const qt=await ua.listAllStores({page:J,limit:ne,search:s,sortBy:le,sortOrder:fe});Te&&qt.success&&(Y(qt.data||[]),qt.pagination&&re(qt.pagination.total))}catch(qt){Te&&he((qt==null?void 0:qt.message)||"Failed to load stores")}finally{Te&&Z(!1)}},Ct=setTimeout(()=>{vt()},500);return()=>{Te=!1,clearTimeout(Ct)}},[J,ne,s,le,fe]),b.useEffect(()=>{o&&n({tab:o},{replace:!0})},[o,n]),b.useEffect(()=>{if(o==="products"&&(t==null?void 0:t.role)==="superadmin")if(N){const Te=setTimeout(()=>{ct()},500);return()=>clearTimeout(Te)}else ct()},[o,A,N,t==null?void 0:t.role,ct]);const zt=async()=>{if(ce)try{oe(!0);const Te=await ua.suspend(ce);if(Te.success){$e.success(Te.message||"Store status updated successfully"),Pe(null);const vt=await ua.listAllStores({page:J,limit:ne,search:s,sortBy:le,sortOrder:fe});vt.success&&Y(vt.data||[])}}catch(Te){$e.error((Te==null?void 0:Te.message)||"Failed to update store status")}finally{oe(!1)}},jt=[{label:"Monthly Revenue",value:We?"...":`${((Ee==null?void 0:Ee.monthlyRevenue)||0).toLocaleString()}`,change:"+23%",trend:"up",icon:p3},{label:"Active Stores",value:`${ze.length}`,change:"+15%",trend:"up",icon:Lo},{label:"Base Products",value:L?"...":R>0?R.toString():lt.toString(),change:"+8%",trend:"up",icon:Sr},{label:"Orders Delivered",value:We?"...":((Ee==null?void 0:Ee.deliveredOrders)||0).toString(),change:"+12%",trend:"up",icon:Up}],At=[{month:"Jan",revenue:12400,orders:89},{month:"Feb",revenue:15800,orders:112},{month:"Mar",revenue:19200,orders:145},{month:"Apr",revenue:22100,orders:167},{month:"May",revenue:28400,orders:198},{month:"Jun",revenue:32600,orders:234}],Ht=[{name:"North America",value:45,color:"hsl(var(--primary))"},{name:"Europe",value:30,color:"hsl(var(--accent-foreground))"},{name:"Asia",value:18,color:"hsl(159 58% 60%)"},{name:"Others",value:7,color:"hsl(var(--muted-foreground))"}],Vt=((Zt=Ee==null?void 0:Ee.topProducts)==null?void 0:Zt.map(Te=>({id:Te._id,name:Te.productName,sales:Te.salesCount,revenue:Te.revenue,imageUrl:""})))||[],It=[{id:2,name:"EuroFulfill",status:"active",performance:95,avgTime:"3.1 days",orders:892},{id:3,name:"AsiaPress",status:"warning",performance:87,avgTime:"4.2 days",orders:567},{id:4,name:"QuickShip Global",status:"active",performance:96,avgTime:"2.8 days",orders:1034}],Qt=[{id:"TKT-001",user:"john@example.com",subject:"Payment issue",priority:"high",status:"open"},{id:"TKT-002",user:"jane@example.com",subject:"Product quality question",priority:"medium",status:"in-progress"},{id:"TKT-003",user:"mike@example.com",subject:"Shipping delay",priority:"high",status:"open"},{id:"TKT-004",user:"sara@example.com",subject:"Account access",priority:"low",status:"resolved"}],Ut=[{id:1,type:"warning",message:"High order volume in North America region",time:"2h ago"},{id:2,type:"error",message:"Fulfillment delay from AsiaPress partner",time:"5h ago"},{id:3,type:"info",message:"3 new stores pending approval",time:"1d ago"}];return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"fixed top-0 left-0 right-0 h-16 border-b bg-card z-50 px-6",children:i.jsxs("div",{className:"flex items-center justify-between h-full",children:[i.jsxs("div",{className:"flex items-center gap-8",children:[i.jsx(_t,{to:"/",className:"flex items-center space-x-2",children:i.jsxs("span",{className:"font-heading text-xl font-bold",children:["Shelf",i.jsx("span",{className:"text-primary",children:"Merch"})]})}),i.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[i.jsx(pe,{variant:"ghost",size:"sm",asChild:!0,children:i.jsx(_t,{to:"/products",children:"Catalog"})}),i.jsx(pe,{variant:"ghost",size:"sm",asChild:!0,children:i.jsx("a",{href:"#pricing",children:"Pricing"})}),i.jsx(pe,{variant:"ghost",size:"sm",asChild:!0,children:i.jsx("a",{href:"#support",children:"Support"})}),i.jsx(pe,{variant:"ghost",size:"sm",asChild:!0,children:i.jsx("a",{href:"#help",children:"Help Center"})})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(dl,{children:[i.jsx(eK,{asChild:!0,children:i.jsxs(pe,{variant:"ghost",size:"icon",className:"relative",children:[i.jsx(WL,{className:"h-5 w-5"}),Ut.length>0&&i.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-destructive rounded-full"})]})}),i.jsxs(Fo,{children:[i.jsxs(Bo,{children:[i.jsx($o,{children:"System Alerts"}),i.jsx(vh,{children:"Recent platform notifications"})]}),i.jsx("div",{className:"space-y-4",children:Ut.map(Te=>i.jsxs("div",{className:"flex gap-3 p-3 rounded-lg border",children:[Te.type==="error"&&i.jsx(lS,{className:"h-5 w-5 text-destructive"}),Te.type==="warning"&&i.jsx(lS,{className:"h-5 w-5 text-yellow-500"}),Te.type==="info"&&i.jsx(WL,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:Te.message}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Te.time})]})]},Te.id))})]})]}),i.jsxs("div",{className:"flex items-center gap-2 border-l pl-3",children:[i.jsxs("div",{className:"text-right hidden sm:block",children:[i.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email})]}),i.jsx(pe,{variant:"ghost",size:"icon",onClick:e,children:i.jsx(g3,{className:"h-5 w-5"})})]})]})]})}),i.jsxs("aside",{className:"fixed left-0 top-16 bottom-0 w-64 border-r bg-card p-6 overflow-y-auto",children:[i.jsx("div",{className:"mb-6 p-3 bg-primary/10 rounded-lg",children:i.jsx("p",{className:"text-xs font-semibold text-primary",children:"SUPER ADMIN"})}),i.jsxs("nav",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Core"}),i.jsxs(pe,{variant:o==="overview"?"secondary":"ghost",className:dt("w-full justify-start",o==="overview"&&"bg-secondary font-semibold"),onClick:()=>l("overview"),children:[i.jsx(kf,{className:"mr-2 h-4 w-4"}),"Overview"]}),i.jsxs(pe,{variant:o==="products"?"secondary":"ghost",className:dt("w-full justify-start relative",o==="products"&&"bg-secondary font-semibold before:absolute before:left-0 before:top-0 before:bottom-0 before:w-1 before:bg-primary before:rounded-r"),onClick:()=>l("products"),children:[i.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Product Catalog"]}),i.jsxs(pe,{variant:o==="orders"?"secondary":"ghost",className:dt("w-full justify-start",o==="orders"&&"bg-secondary font-semibold"),onClick:()=>l("orders"),children:[i.jsx(pc,{className:"mr-2 h-4 w-4"}),"Orders"]}),i.jsxs(pe,{variant:o==="fulfillment"?"secondary":"ghost",className:dt("w-full justify-start",o==="fulfillment"&&"bg-secondary font-semibold"),onClick:()=>l("fulfillment"),children:[i.jsx(Up,{className:"mr-2 h-4 w-4"}),"Fulfillment"]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Finance"}),i.jsxs(pe,{variant:o==="wallets"?"secondary":"ghost",className:dt("w-full justify-start",o==="wallets"&&"bg-secondary font-semibold"),onClick:()=>l("wallets"),children:[i.jsx(vd,{className:"mr-2 h-4 w-4"}),"Wallets"]}),i.jsxs(pe,{variant:o==="invoices"?"secondary":"ghost",className:dt("w-full justify-start",o==="invoices"&&"bg-secondary font-semibold"),onClick:()=>l("invoices"),children:[i.jsx(xu,{className:"mr-2 h-4 w-4"}),"Invoices"]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Platform"}),i.jsxs(pe,{variant:o==="stores"?"secondary":"ghost",className:dt("w-full justify-start",o==="stores"&&"bg-secondary font-semibold"),onClick:()=>l("stores"),children:[i.jsx(Lo,{className:"mr-2 h-4 w-4"}),"Active Stores"]}),i.jsxs(pe,{variant:o==="users"?"secondary":"ghost",className:dt("w-full justify-start",o==="users"&&"bg-secondary font-semibold"),onClick:()=>l("users"),children:[i.jsx(xh,{className:"mr-2 h-4 w-4"}),"User Management"]}),i.jsxs(pe,{variant:o==="settings"?"secondary":"ghost",className:dt("w-full justify-start",o==="settings"&&"bg-secondary font-semibold"),onClick:()=>l("settings"),children:[i.jsx(iy,{className:"mr-2 h-4 w-4"}),"Platform Settings"]}),i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/admin/variant-options",children:[i.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Variant Options"]})}),i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/admin/assets",children:[i.jsx(hI,{className:"mr-2 h-4 w-4"}),"Design Assets"]})}),i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/admin/catalogue-fields",children:[i.jsx(xu,{className:"mr-2 h-4 w-4"}),"Catalogue Fields"]})}),i.jsxs(pe,{variant:o==="audit"?"secondary":"ghost",className:dt("w-full justify-start",o==="audit"&&"bg-secondary font-semibold"),onClick:()=>l("audit"),children:[i.jsx(Km,{className:"mr-2 h-4 w-4"}),"Audit Logs"]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Insights"}),i.jsxs(pe,{variant:o==="analytics"?"secondary":"ghost",className:dt("w-full justify-start",o==="analytics"&&"bg-secondary font-semibold"),onClick:()=>l("analytics"),children:[i.jsx(Uce,{className:"mr-2 h-4 w-4"}),"Analytics"]}),i.jsxs(pe,{variant:o==="marketing"?"secondary":"ghost",className:dt("w-full justify-start",o==="marketing"&&"bg-secondary font-semibold"),onClick:()=>l("marketing"),children:[i.jsx(PV,{className:"mr-2 h-4 w-4"}),"Marketing"]}),i.jsxs(pe,{variant:o==="support"?"secondary":"ghost",className:dt("w-full justify-start",o==="support"&&"bg-secondary font-semibold"),onClick:()=>l("support"),children:[i.jsx(sN,{className:"mr-2 h-4 w-4"}),"Support"]})]})]})]}),i.jsx("main",{className:"ml-64 mt-16 p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[o==="overview"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Platform Overview"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor your print-on-demand business at a glance"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Er,{value:c,onValueChange:u,children:[i.jsx(Ar,{className:"w-32",children:i.jsx(Tr,{})}),i.jsxs(kr,{children:[i.jsx(at,{value:"week",children:"This Week"}),i.jsx(at,{value:"month",children:"This Month"}),i.jsx(at,{value:"quarter",children:"This Quarter"}),i.jsx(at,{value:"year",children:"This Year"})]})]}),i.jsxs(pe,{variant:"outline",className:"gap-2",children:[i.jsx(nf,{className:"h-4 w-4"}),"Export"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:jt.map(Te=>i.jsx(Ze,{children:i.jsxs(Tt,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(Te.icon,{className:"h-8 w-8 text-primary"}),i.jsxs("div",{className:"flex items-center gap-1",children:[Te.trend==="up"?i.jsx(vV,{className:"h-4 w-4 text-green-500"}):i.jsx(Dce,{className:"h-4 w-4 text-destructive"}),i.jsx("span",{className:`text-sm font-medium ${Te.trend==="up"?"text-green-500":"text-destructive"}`,children:Te.change})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:Te.label}),i.jsx("p",{className:"text-3xl font-bold",children:Te.value})]})},Te.label))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Revenue Trend"}),i.jsx(Xr,{children:"Monthly revenue and order volume"})]}),i.jsx(Tt,{children:i.jsx(w5,{width:"100%",height:300,children:i.jsxs(Bz,{data:At,children:[i.jsx(SS,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),i.jsx(bg,{dataKey:"month",stroke:"hsl(var(--muted-foreground))"}),i.jsx(wg,{stroke:"hsl(var(--muted-foreground))"}),i.jsx(oc,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),i.jsx(Oy,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--primary))",strokeWidth:2})]})})})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Sales by Region"}),i.jsx(Xr,{children:"Global distribution of orders"})]}),i.jsx(Tt,{children:i.jsx(w5,{width:"100%",height:300,children:i.jsxs(hKe,{children:[i.jsx(Ff,{data:Ht,cx:"50%",cy:"50%",labelLine:!1,label:({name:Te,percent:vt})=>`${Te} ${(vt*100).toFixed(0)}%`,outerRadius:80,fill:"hsl(var(--primary))",dataKey:"value",children:Ht.map((Te,vt)=>i.jsx(OC,{fill:Te.color},`cell-${vt}`))}),i.jsx(oc,{})]})})})]})]}),i.jsxs(Ze,{className:"mb-8",children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Top Performing Products"}),i.jsx(Xr,{children:"Best sellers this month"})]}),i.jsx(Tt,{children:i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{children:"Product"}),i.jsx(Rt,{children:"Sales"}),i.jsx(Rt,{children:"Revenue"}),i.jsx(Rt,{children:"Store"}),i.jsx(Rt,{className:"text-right",children:"Actions"})]})}),i.jsx(Mo,{children:Vt.map(Te=>{var vt;return i.jsxs(An,{children:[i.jsx(Lt,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[Te.mockupUrl&&i.jsx("img",{src:Te.mockupUrl,alt:Te.name,className:"h-10 w-10 rounded object-cover"}),i.jsx("span",{className:"font-medium",children:Te.name})]})}),i.jsxs(Lt,{children:[Te.sales," units"]}),i.jsxs(Lt,{children:["$",Te.revenue.toLocaleString()]}),i.jsx(Lt,{children:i.jsx(Ot,{variant:"secondary",children:((vt=Oe.find(Ct=>Ct.userId===Te.userId))==null?void 0:vt.storeName)||"Unknown"})}),i.jsx(Lt,{className:"text-right",children:i.jsx(pe,{variant:"ghost",size:"sm",children:i.jsx(gs,{className:"h-4 w-4"})})})]},Te.id)})})]})})]})]}),o==="stores"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Active Stores"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all merchant stores on the platform"})]}),i.jsxs(pe,{className:"gap-2",children:[i.jsx(nf,{className:"h-4 w-4"}),"Export Store Data"]})]}),i.jsxs(Ze,{children:[i.jsx(yr,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(vr,{children:["All Stores (",Q,")"]}),i.jsx(Xr,{children:"Monitor and manage merchant storefronts"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(rt,{placeholder:"Search stores...",className:"pl-9 w-64",value:s,onChange:Te=>a(Te.target.value)})]})]})}),i.jsx(Tt,{children:D&&K.length===0?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):ie?i.jsx("div",{className:"text-center py-8 text-red-500",children:ie}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"rounded-md border",children:i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{children:"Store ID"}),i.jsx(Rt,{children:"Store Name"}),i.jsx(Rt,{children:"Owner"}),i.jsx(Rt,{children:"Created At"}),i.jsx(Rt,{children:"Products"}),i.jsx(Rt,{children:"Status"}),i.jsx(Rt,{children:"Last Updated"}),i.jsx(Rt,{className:"text-right",children:"Actions"})]})}),i.jsx(Mo,{children:K.length===0?i.jsx(An,{children:i.jsx(Lt,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No stores found"})}):K.map(Te=>{var vt,Ct;return i.jsxs(An,{children:[i.jsxs(Lt,{className:"font-mono text-xs text-muted-foreground",children:[Te.id.substring(0,8),"..."]}),i.jsxs(Lt,{children:[i.jsx("div",{className:"font-medium",children:Te.storeName}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[Te.subdomain,".shelfmerch.com"]})]}),i.jsxs(Lt,{children:[i.jsx("div",{className:"text-sm",children:((vt=Te.owner)==null?void 0:vt.name)||"Unknown"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:(Ct=Te.owner)==null?void 0:Ct.email})]}),i.jsx(Lt,{children:Te.createdAt?new Date(Te.createdAt).toLocaleDateString():"-"}),i.jsx(Lt,{children:Te.productsCount||0}),i.jsx(Lt,{children:i.jsx(Ot,{variant:Te.isActive?"secondary":"destructive",className:Te.isActive?"bg-green-500/10 text-green-500 hover:bg-green-500/20":"",children:Te.isActive?"Active":"Inactive"})}),i.jsx(Lt,{children:Te.updatedAt?new Date(Te.updatedAt).toLocaleDateString():"-"}),i.jsx(Lt,{className:"text-right",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(pe,{variant:"ghost",size:"sm",asChild:!0,children:i.jsx(_t,{to:`/store/${Te.subdomain}`,children:"View"})}),i.jsxs(v8,{open:ce===Te.id,onOpenChange:qt=>{Pe(qt?Te.id:null)},children:[i.jsx(ACe,{asChild:!0,children:i.jsx(pe,{variant:"ghost",size:"sm",children:i.jsx(UL,{className:"h-4 w-4"})})}),i.jsxs(TN,{children:[i.jsxs(IN,{children:[i.jsx(ON,{children:Te.isActive?"Suspend Store?":"Reactivate Store?"}),i.jsx(LN,{children:Te.isActive?"This will temporarily disable the store and prevent new orders.":"This will reactivate the store and allow new orders."})]}),i.jsxs(MN,{children:[i.jsx(DN,{children:"Cancel"}),i.jsx(RN,{onClick:zt,disabled:ke,children:ke?"Processing...":Te.isActive?"Suspend":"Reactivate"})]})]})]})]})})]},Te.id)})})]})}),Q>ne&&i.jsx("div",{className:"mt-4",children:i.jsx(wee,{children:i.jsxs(jee,{children:[i.jsx(wS,{children:i.jsx(See,{onClick:()=>ae(Te=>Math.max(1,Te-1)),className:J===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:Math.min(5,Math.ceil(Q/ne))},(Te,vt)=>{const Ct=Math.ceil(Q/ne);let qt=Math.max(1,J-2);qt+4>Ct&&(qt=Math.max(1,Ct-4));const Nr=qt+vt;return Nr>Ct?null:i.jsx(wS,{children:i.jsx(dC,{isActive:J===Nr,onClick:()=>ae(Nr),className:"cursor-pointer",children:Nr})},Nr)}),i.jsx(wS,{children:i.jsx(Nee,{onClick:()=>ae(Te=>Math.min(Math.ceil(Q/ne),Te+1)),className:J>=Math.ceil(Q/ne)?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})})]})]}),o==="users"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage creators, partners, and platform users"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx(Ze,{children:i.jsx(Tt,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:m?"...":p})]}),i.jsx(xh,{className:"h-8 w-8 text-primary"})]})})}),i.jsx(Ze,{children:i.jsx(Tt,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Merchants"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:ze.length})]}),i.jsx(Lo,{className:"h-8 w-8 text-primary"})]})})}),i.jsx(Ze,{children:i.jsx(Tt,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approval"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:"3"})]}),i.jsx(Jo,{className:"h-8 w-8 text-yellow-500"})]})})})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"All Users"}),i.jsx(Xr,{children:"View and manage platform members"})]}),i.jsx(Tt,{children:i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{children:"User"}),i.jsx(Rt,{children:"Stores"}),i.jsx(Rt,{children:"Revenue"}),i.jsx(Rt,{children:"Status"}),i.jsx(Rt,{className:"text-right",children:"Actions"})]})}),i.jsx(Mo,{children:ze.map(Te=>i.jsxs(An,{children:[i.jsx(Lt,{children:i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:[Te.storeName," Owner"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[Te.userId,"@example.com"]})]})}),i.jsxs(Lt,{children:[1," store"]}),i.jsx(Lt,{children:"$0"}),i.jsx(Lt,{children:i.jsx(Ot,{variant:"secondary",className:"bg-green-500/10 text-green-500",children:"Active"})}),i.jsx(Lt,{className:"text-right",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(pe,{variant:"ghost",size:"sm",children:i.jsx(Zb,{className:"h-4 w-4"})}),i.jsx(pe,{variant:"ghost",size:"sm",className:"text-destructive",children:i.jsx(UL,{className:"h-4 w-4"})})]})})]},Te.userId))})]})})]})]}),o==="products"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Product Catalog"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage platform-wide base products for merchants"})]}),i.jsx(pe,{asChild:!0,className:"gap-2",children:i.jsxs(_t,{to:"/admin/products/new",children:[i.jsx(ha,{className:"h-4 w-4"}),"Add Base Product"]})})]}),!w&&y.length===0&&N&&i.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-yellow-800",children:"Could not load base products. Please try again."})}),i.jsx(sJe,{searchQuery:N,onSearchChange:Te=>{C(Te),k(1)},statusFilter:$,onStatusFilterChange:q,categoryFilter:G,onCategoryFilterChange:W,sortBy:B,onSortChange:O,totalCount:E,activeCount:y.filter(Te=>Te.isActive).length,draftCount:0,archivedCount:y.filter(Te=>!Te.isActive).length}),i.jsx("div",{className:"mt-4",children:i.jsx(aJe,{products:Pt,isLoading:w,onEdit:Te=>{window.location.href=`/admin/products/${Te}/edit`},onDuplicate:Te=>{$e.info("Duplicate functionality coming soon")},onArchive:async Te=>{try{const vt=await Di.delete(Te);vt&&vt.success?$e.success("Product archived successfully"):$e.error("Failed to archive product"),await ct()}catch(vt){$e.error(vt.message||"Failed to archive product")}},onDelete:async Te=>{try{const vt=await Di.delete(Te);vt&&vt.success?$e.success("Product deleted successfully"):$e.error("Failed to delete product"),await ct()}catch(vt){$e.error(vt.message||"Failed to delete product")}}})}),E>20&&!w&&y.length>0&&i.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(A-1)*20+1," to ",Math.min(A*20,E)," of ",E," products"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(pe,{variant:"outline",size:"sm",onClick:()=>k(Te=>Math.max(1,Te-1)),disabled:A===1,children:"Previous"}),i.jsx(pe,{variant:"outline",size:"sm",onClick:()=>k(Te=>Te+1),disabled:A*20>=E,children:"Next"})]})]})]}),o==="orders"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Order Management"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor all platform orders and fulfillment"})]}),i.jsxs(pe,{variant:"outline",className:"gap-2",children:[i.jsx(nf,{className:"h-4 w-4"}),"Export Orders"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsx(Ze,{children:i.jsxs(Tt,{className:"p-6",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:He.filter(Te=>Te.status==="on-hold").length})]})}),i.jsx(Ze,{children:i.jsxs(Tt,{className:"p-6",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"In Production"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:He.filter(Te=>Te.status==="in-production").length})]})}),i.jsx(Ze,{children:i.jsxs(Tt,{className:"p-6",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipped"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:He.filter(Te=>Te.status==="shipped").length})]})}),i.jsx(Ze,{children:i.jsxs(Tt,{className:"p-6",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivered"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:He.filter(Te=>Te.status==="delivered").length})]})})]}),i.jsxs(Ze,{children:[i.jsx(yr,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(vr,{children:"Recent Orders"}),i.jsx(Xr,{children:"Latest platform-wide orders"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Er,{defaultValue:"all",children:[i.jsx(Ar,{className:"w-32",children:i.jsx(Tr,{})}),i.jsxs(kr,{children:[i.jsx(at,{value:"all",children:"All Status"}),i.jsx(at,{value:"pending",children:"Pending"}),i.jsx(at,{value:"production",children:"In Production"}),i.jsx(at,{value:"shipped",children:"Shipped"})]})]}),i.jsx(pe,{variant:"outline",size:"icon",children:i.jsx(m3,{className:"h-4 w-4"})})]})]})}),i.jsxs(Tt,{children:[Ae&&i.jsx("p",{className:"mb-4 text-sm text-destructive",children:Ae}),ft?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading orders..."}):He.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No orders found."}):i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{children:"Order ID"}),i.jsx(Rt,{children:"Customer"}),i.jsx(Rt,{children:"Store"}),i.jsx(Rt,{children:"Items"}),i.jsx(Rt,{children:"Total"}),i.jsx(Rt,{children:"Status"}),i.jsx(Rt,{className:"text-right",children:"Actions"})]})}),i.jsx(Mo,{children:He.slice(0,10).map(Te=>{var Or,fr;const vt=(Te.id||Te._id||"").toString(),Ct=Te.storeId&&typeof Te.storeId=="object"?Te.storeId.name:"Direct",qt=Te.status,Nr=lr=>{switch(lr){case"delivered":return"bg-green-500/10 text-green-500";case"shipped":return"bg-blue-500/10 text-blue-500";case"in-production":return"bg-yellow-500/10 text-yellow-500";case"refunded":return"bg-purple-500/10 text-purple-500";case"cancelled":return"bg-red-500/10 text-red-500";case"on-hold":default:return"bg-muted text-muted-foreground"}};return i.jsxs(An,{children:[i.jsx(Lt,{className:"font-medium",children:vt?vt.slice(0,8):"-"}),i.jsx(Lt,{children:Te.customerEmail}),i.jsx(Lt,{children:i.jsx(Ot,{variant:"secondary",children:Ct||"Direct"})}),i.jsx(Lt,{children:((Or=Te.items)==null?void 0:Or.length)??0}),i.jsxs(Lt,{children:["$",((fr=Te.total)==null?void 0:fr.toFixed(2))??"0.00"]}),i.jsx(Lt,{children:i.jsxs(Er,{value:qt,onValueChange:async lr=>{try{const br=lr;await cf.updateStatus(vt,br),nt(er=>er.map(bn=>{const ls=bn._id||bn.id,Qs=Te._id||Te.id;return ls===Qs?{...bn,status:br}:bn}))}catch(br){console.error("Failed to update order status:",br),$e.error("Failed to update order status")}},children:[i.jsx(Ar,{className:"w-32 h-8 text-xs",children:i.jsx(Tr,{children:i.jsx(Ot,{variant:"secondary",className:Nr(qt),children:qt})})}),i.jsx(kr,{children:yt.map(lr=>i.jsx(at,{value:lr.value,children:lr.label},lr.value))})]})}),i.jsx(Lt,{className:"text-right",children:i.jsx(pe,{variant:"ghost",size:"sm",asChild:!0,children:i.jsx(_t,{to:`/admin/orders/${vt}`,children:i.jsx(gs,{className:"h-4 w-4"})})})})]},vt||Math.random())})})]})]})]})]}),o==="fulfillment"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Fulfillment & Logistics"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor print partners and delivery performance"})]}),i.jsxs(pe,{className:"gap-2",children:[i.jsx(Up,{className:"h-4 w-4"}),"Add Partner"]})]}),i.jsxs(Ze,{className:"mb-8",children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Fulfillment Partners"}),i.jsx(Xr,{children:"Active print and shipping providers"})]}),i.jsx(Tt,{children:i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{children:"Partner"}),i.jsx(Rt,{children:"Status"}),i.jsx(Rt,{children:"Performance"}),i.jsx(Rt,{children:"Avg. Fulfillment"}),i.jsx(Rt,{children:"Orders"}),i.jsx(Rt,{className:"text-right",children:"Actions"})]})}),i.jsx(Mo,{children:It.map(Te=>i.jsxs(An,{children:[i.jsx(Lt,{className:"font-medium",children:Te.name}),i.jsx(Lt,{children:i.jsx(Ot,{variant:"secondary",className:Te.status==="active"?"bg-green-500/10 text-green-500":"bg-yellow-500/10 text-yellow-500",children:Te.status})}),i.jsx(Lt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full ${Te.performance>=95?"bg-green-500":"bg-yellow-500"}`,style:{width:`${Te.performance}%`}})}),i.jsxs("span",{className:"text-sm font-medium",children:[Te.performance,"%"]})]})}),i.jsx(Lt,{children:Te.avgTime}),i.jsx(Lt,{children:Te.orders.toLocaleString()}),i.jsx(Lt,{className:"text-right",children:i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(pe,{variant:"ghost",size:"sm",children:i.jsx(Zb,{className:"h-4 w-4"})}),i.jsx(pe,{variant:"ghost",size:"sm",children:i.jsx(sN,{className:"h-4 w-4"})})]})})]},Te.id))})]})})]})]}),o==="support"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Support & Moderation"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage tickets, reports, and user inquiries"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx(Ze,{children:i.jsx(Tt,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Open Tickets"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:Qt.filter(Te=>Te.status==="open").length})]}),i.jsx(lS,{className:"h-8 w-8 text-destructive"})]})})}),i.jsx(Ze,{children:i.jsx(Tt,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:Qt.filter(Te=>Te.status==="in-progress").length})]}),i.jsx(Oce,{className:"h-8 w-8 text-yellow-500"})]})})}),i.jsx(Ze,{children:i.jsx(Tt,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved Today"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:Qt.filter(Te=>Te.status==="resolved").length})]}),i.jsx(Xb,{className:"h-8 w-8 text-green-500"})]})})})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Support Tickets"}),i.jsx(Xr,{children:"Recent customer inquiries and issues"})]}),i.jsx(Tt,{children:i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{children:"Ticket ID"}),i.jsx(Rt,{children:"User"}),i.jsx(Rt,{children:"Subject"}),i.jsx(Rt,{children:"Priority"}),i.jsx(Rt,{children:"Status"}),i.jsx(Rt,{className:"text-right",children:"Actions"})]})}),i.jsx(Mo,{children:Qt.map(Te=>i.jsxs(An,{children:[i.jsx(Lt,{className:"font-medium",children:Te.id}),i.jsx(Lt,{children:Te.user}),i.jsx(Lt,{children:Te.subject}),i.jsx(Lt,{children:i.jsx(Ot,{variant:"secondary",className:Te.priority==="high"?"bg-destructive/10 text-destructive":Te.priority==="medium"?"bg-yellow-500/10 text-yellow-500":"bg-muted text-muted-foreground",children:Te.priority})}),i.jsx(Lt,{children:i.jsx(Ot,{variant:"secondary",className:Te.status==="resolved"?"bg-green-500/10 text-green-500":Te.status==="in-progress"?"bg-blue-500/10 text-blue-500":"bg-muted text-muted-foreground",children:Te.status})}),i.jsx(Lt,{className:"text-right",children:i.jsx(pe,{variant:"ghost",size:"sm",children:"View Details"})})]},Te.id))})]})})]})]}),o==="marketing"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Marketing & Announcements"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage platform communications and campaigns"})]})}),i.jsxs(Ze,{className:"mb-8",children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Send Announcement"}),i.jsx(Xr,{children:"Broadcast message to all stores or specific users"})]}),i.jsxs(Tt,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Recipients"}),i.jsxs(Er,{defaultValue:"all",children:[i.jsx(Ar,{children:i.jsx(Tr,{})}),i.jsxs(kr,{children:[i.jsx(at,{value:"all",children:"All Users"}),i.jsx(at,{value:"merchants",children:"All Merchants"}),i.jsx(at,{value:"active",children:"Active Stores Only"}),i.jsx(at,{value:"custom",children:"Custom Selection"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Subject"}),i.jsx(rt,{placeholder:"Enter announcement subject"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Message"}),i.jsx(Ei,{placeholder:"Write your announcement...",rows:6,value:d,onChange:Te=>h(Te.target.value)})]}),i.jsxs(pe,{className:"w-full gap-2",children:[i.jsx(dI,{className:"h-4 w-4"}),"Send Announcement"]})]})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Previous Announcements"}),i.jsx(Xr,{children:"History of platform communications"})]}),i.jsx(Tt,{children:i.jsx("div",{className:"space-y-4",children:[{date:"2 days ago",subject:"New product templates available",recipients:"All Merchants"},{date:"1 week ago",subject:"Platform maintenance scheduled",recipients:"All Users"},{date:"2 weeks ago",subject:"Shipping rates update",recipients:"Active Stores"}].map((Te,vt)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:Te.subject}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Sent to ",Te.recipients,"  ",Te.date]})]}),i.jsx(pe,{variant:"ghost",size:"sm",children:"View"})]},vt))})})]})]}),o==="analytics"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Platform Analytics"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Detailed insights and performance metrics"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Er,{value:c,onValueChange:u,children:[i.jsx(Ar,{className:"w-32",children:i.jsx(Tr,{})}),i.jsxs(kr,{children:[i.jsx(at,{value:"week",children:"This Week"}),i.jsx(at,{value:"month",children:"This Month"}),i.jsx(at,{value:"quarter",children:"This Quarter"}),i.jsx(at,{value:"year",children:"This Year"})]})]}),i.jsxs(pe,{variant:"outline",className:"gap-2",children:[i.jsx(nf,{className:"h-4 w-4"}),"Export PDF"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Revenue Over Time"}),i.jsx(Xr,{children:"Monthly revenue trends"})]}),i.jsx(Tt,{children:i.jsx(w5,{width:"100%",height:300,children:i.jsxs(dKe,{data:At,children:[i.jsx(SS,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),i.jsx(bg,{dataKey:"month",stroke:"hsl(var(--muted-foreground))"}),i.jsx(wg,{stroke:"hsl(var(--muted-foreground))"}),i.jsx(oc,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),i.jsx(cx,{dataKey:"revenue",fill:"hsl(var(--primary))"})]})})})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Order Volume"}),i.jsx(Xr,{children:"Monthly order count"})]}),i.jsx(Tt,{children:i.jsx(w5,{width:"100%",height:300,children:i.jsxs(Bz,{data:At,children:[i.jsx(SS,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),i.jsx(bg,{dataKey:"month",stroke:"hsl(var(--muted-foreground))"}),i.jsx(wg,{stroke:"hsl(var(--muted-foreground))"}),i.jsx(oc,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),i.jsx(Oy,{type:"monotone",dataKey:"orders",stroke:"hsl(var(--primary))",strokeWidth:2})]})})})]})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Key Metrics Summary"}),i.jsx(Xr,{children:"Platform performance indicators"})]}),i.jsx(Tt,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Order Value"}),i.jsxs("p",{className:"text-2xl font-bold mt-1",children:["$",(ot/(He.length||1)).toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Fulfillment Rate"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:"96%"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer Satisfaction"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:"4.8/5.0"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Return Rate"}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:"2.1%"})]})]})})]})]}),o==="wallets"&&i.jsx(fKe,{}),o==="invoices"&&i.jsx(rJe,{}),o==="audit"&&i.jsx(nJe,{}),o==="settings"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Platform Settings"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure global platform options"})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Payment Settings"}),i.jsx(Xr,{children:"Manage payment methods and fees"})]}),i.jsxs(Tt,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Platform Commission"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Percentage taken from each sale"})]}),i.jsx(rt,{className:"w-24",defaultValue:"15%"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Transaction Fee"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Fixed fee per transaction"})]}),i.jsx(rt,{className:"w-24",defaultValue:"$0.30"})]})]})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Shipping Configuration"}),i.jsx(Xr,{children:"Global shipping rates and regions"})]}),i.jsxs(Tt,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Domestic Shipping"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Base rate for domestic orders"})]}),i.jsx(rt,{className:"w-24",defaultValue:"$5.99"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"International Shipping"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Base rate for international orders"})]}),i.jsx(rt,{className:"w-24",defaultValue:"$12.99"})]})]})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Print Partners Integration"}),i.jsx(Xr,{children:"Connect fulfillment providers"})]}),i.jsx(Tt,{children:i.jsxs(pe,{variant:"outline",className:"w-full gap-2",children:[i.jsx(Yce,{className:"h-4 w-4"}),"Configure API Integrations"]})})]})]})]})]})})]})},lJe=()=>{const{id:t}=Do(),e=rs(),[r,n]=b.useState(null),[s,a]=b.useState(!1),[o,l]=b.useState(null);b.useEffect(()=>{let p=!0;return(async()=>{if(t)try{a(!0),l(null);const m=await cf.getById(t),g=m&&(m.data||m);p&&n(g)}catch(m){p&&l((m==null?void 0:m.message)||"Failed to load order")}finally{p&&a(!1)}})(),()=>{p=!1}},[t]);const c=p=>typeof p!="number"?"-":`$${p.toFixed(2)}`,u=p=>{if(!p)return"-";const f=new Date(p);return Number.isNaN(f.getTime())?"-":f.toLocaleString()},d=r&&r.storeId&&typeof r.storeId=="object"?r.storeId.name:"Direct",h=r?(r._id||r.id||"").toString():t;return i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[i.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:i.jsx(ao,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Order Details"}),i.jsxs("p",{className:"text-muted-foreground text-sm",children:["Order ",h?`#${h.slice(0,8)}`:""]})]})]}),o&&i.jsx("p",{className:"mb-4 text-sm text-destructive",children:o}),s&&!r&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading order..."}),!s&&!r&&!o&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Order not found."}),r&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(Ze,{className:"md:col-span-2",children:[i.jsxs(yr,{className:"flex flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(vr,{children:"Overview"}),i.jsx(Xr,{children:"Key information about this order"})]}),i.jsx(Ot,{variant:"secondary",children:r.status})]}),i.jsxs(Tt,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Customer"}),i.jsxs("p",{className:"font-medium flex items-center gap-2 mt-1",children:[i.jsx(dI,{className:"h-4 w-4 text-muted-foreground"}),r.customerEmail||"Unknown"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Store"}),i.jsxs("p",{className:"font-medium flex items-center gap-2 mt-1",children:[i.jsx(Lo,{className:"h-4 w-4 text-muted-foreground"}),d]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Created"}),i.jsxs("p",{className:"font-medium flex items-center gap-2 mt-1",children:[i.jsx(Jo,{className:"h-4 w-4 text-muted-foreground"}),u(r.createdAt)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Updated"}),i.jsxs("p",{className:"font-medium flex items-center gap-2 mt-1",children:[i.jsx(Jo,{className:"h-4 w-4 text-muted-foreground"}),u(r.updatedAt)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Total"}),i.jsx("p",{className:"font-medium mt-1",children:c(r.total)})]})]})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Actions"}),i.jsx(Xr,{children:"Quick admin actions"})]}),i.jsx(Tt,{className:"space-y-2",children:i.jsx(pe,{variant:"outline",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/admin?tab=orders",children:[i.jsx(pc,{className:"h-4 w-4 mr-2"}),"Back to Orders"]})})})]})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Items"}),i.jsx(Xr,{children:"Products included in this order"})]}),i.jsx(Tt,{children:!r.items||r.items.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No items on this order."}):i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{children:"Product"}),i.jsx(Rt,{children:"Variant"}),i.jsx(Rt,{children:"Quantity"}),i.jsx(Rt,{children:"Price"}),i.jsx(Rt,{children:"Total"})]})}),i.jsx(Mo,{children:r.items.map((p,f)=>{const m=p.variantName||p.variant;let g;if(!m)g="-";else if(typeof m=="string")g=m;else if(typeof m=="object"){const y=Object.entries(m).filter(([x,w])=>w!=null&&w!=="");g=y.length?y.map(([x,w])=>`${x}: ${w}`).join(", "):"[variant]"}else g=String(m);return i.jsxs(An,{children:[i.jsx(Lt,{className:"font-medium",children:p.productName||p.name||"Product"}),i.jsx(Lt,{children:g}),i.jsx(Lt,{children:p.quantity??1}),i.jsx(Lt,{children:c(p.price)}),i.jsx(Lt,{children:c((p.price||0)*(p.quantity||1))})]},f)})})]})})]}),r.items&&r.items.length>0&&r.items.some(p=>{var f;return(f=p.storeProductId)==null?void 0:f.designData})&&i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsxs(vr,{className:"flex items-center gap-2",children:[i.jsx(ab,{className:"h-5 w-5"}),"Design & Preview"]}),i.jsx(Xr,{children:"Design elements and preview images for ordered products"})]}),i.jsx(Tt,{children:r.items.map((p,f)=>{const m=p.storeProductId,g=m==null?void 0:m.designData;if(!g)return null;const y=g.views||{},x=g.previewImagesByView||{},w=g.elements||[],S=Object.keys(y).length>0?Object.keys(y):Object.keys(x);return i.jsxs("div",{className:"mb-6 last:mb-0",children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(pc,{className:"h-4 w-4"}),p.productName||(m==null?void 0:m.title)||"Product"]}),S.length>0?i.jsxs(_c,{defaultValue:S[0],className:"w-full",children:[i.jsx(Fl,{className:"mb-4",children:S.map(N=>i.jsxs(Zr,{value:N,className:"capitalize",children:[i.jsx(gh,{className:"h-3 w-3 mr-1"}),N]},N))}),S.map(N=>{const C=y[N]||{},A=C.previewImageUrl||x[N],k=C.elements||w.filter(T=>T.view===N||!T.view&&N==="front"),E=C.designUrlsByPlaceholder||{};return i.jsx(sn,{value:N,children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h5",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(ca,{className:"h-4 w-4"}),"Preview"]}),A?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"border rounded-lg overflow-hidden bg-muted",children:i.jsx("img",{src:A,alt:`${N} view preview`,className:"w-full h-auto object-contain max-h-[300px]"})}),i.jsx("div",{className:"mt-2 flex gap-2",children:i.jsx(pe,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs("a",{href:A,download:!0,target:"_blank",rel:"noreferrer",children:[i.jsx(nf,{className:"h-4 w-4 mr-1"}),"Download design"]})})})]}):i.jsxs("div",{className:"border rounded-lg bg-muted p-8 text-center text-muted-foreground",children:[i.jsx(ca,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No preview available"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h5",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(ab,{className:"h-4 w-4"}),"Design Elements"]}),i.jsx("div",{className:"border rounded-lg bg-muted/50 p-3 space-y-2 max-h-[300px] overflow-y-auto",children:k.length>0?k.map((T,R)=>i.jsxs("div",{className:"text-xs bg-background p-2 rounded border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx(Ot,{variant:"outline",className:"text-xs",children:T.type}),T.id&&i.jsxs("span",{className:"text-muted-foreground",children:["#",T.id.slice(0,6)]})]}),T.type==="text"&&T.text&&i.jsx("p",{className:"mt-1 truncate",children:T.text}),T.type==="image"&&T.imageUrl&&i.jsx("img",{src:T.imageUrl,alt:"Design element",className:"mt-1 h-12 w-12 object-contain rounded border"}),i.jsxs("div",{className:"mt-1 text-muted-foreground",children:[T.x!==void 0&&T.y!==void 0&&i.jsxs("span",{children:["Pos: (",Math.round(T.x),", ",Math.round(T.y),")"]}),T.width&&T.height&&i.jsxs("span",{className:"ml-2",children:["Size: ",Math.round(T.width),"",Math.round(T.height)]})]})]},R)):Object.keys(E).length>0?Object.entries(E).map(([T,R])=>i.jsxs("div",{className:"text-xs bg-background p-2 rounded border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx(Ot,{variant:"outline",className:"text-xs",children:"placeholder"}),i.jsxs("span",{className:"text-muted-foreground",children:["#",T.slice(0,6)]})]}),R&&i.jsx("img",{src:R,alt:"Design",className:"mt-1 h-12 w-12 object-contain rounded border"})]},T)):i.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No design elements"})})]})]})},N)})]}):g.previewImageUrl?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h5",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(ca,{className:"h-4 w-4"}),"Preview"]}),i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"border rounded-lg overflow-hidden bg-muted",children:i.jsx("img",{src:g.previewImageUrl,alt:"Product preview",className:"w-full h-auto object-contain max-h-[300px]"})}),i.jsx("div",{className:"mt-2 flex gap-2",children:i.jsx(pe,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs("a",{href:g.previewImageUrl,download:!0,target:"_blank",rel:"noreferrer",children:[i.jsx(nf,{className:"h-4 w-4 mr-1"}),"Download design"]})})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h5",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(ab,{className:"h-4 w-4"}),"Elements"]}),i.jsx("div",{className:"border rounded-lg bg-muted/50 p-3",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.length," element(s)"]})})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No design data available"})]},f)})})]})]})]})})},cJe=["Cotton","Polyester","Unisex","Eco-Friendly","Limited Edition"],uJe=({data:t,onChange:e})=>{const r=rs(),[n,s]=b.useState([]),[a,o]=b.useState(!1),l=b.useMemo(()=>t.categoryId?Yp(t.categoryId):[],[t.categoryId]),c=b.useMemo(()=>t.categoryId?uX(t.categoryId,t.subcategoryIds):[],[t.categoryId,t.subcategoryIds]);b.useEffect(()=>{if(!t.categoryId){s([]);return}(async()=>{o(!0);try{const w=await ob.getAll({categoryId:t.categoryId,subcategoryId:t.subcategoryIds[0]});w.success&&w.data&&s(w.data)}catch(w){console.error("Error fetching dynamic catalogue fields:",w)}finally{o(!1)}})()},[t.categoryId,t.subcategoryIds]);const u=b.useMemo(()=>{const x=n.map(N=>({key:N.key,label:N.label,type:N.type,options:N.options||[],required:N.required||!1,placeholder:N.placeholder||"",unit:N.unit||""})),w=c.map(N=>N.key),S=x.filter(N=>!w.includes(N.key));return[...c,...S]},[c,n]);b.useEffect(()=>{if(t.subcategoryIds.length>0){const x=Lye(t.subcategoryIds[0]);t.productTypeCode!==x&&e({...t,productTypeCode:x})}},[t.subcategoryIds]);const d=x=>{x.trim()&&!t.tags.includes(x.trim())&&e({...t,tags:[...t.tags,x.trim()]})},h=x=>{e({...t,tags:t.tags.filter(w=>w!==x)})},p=x=>{e({...t,categoryId:x,subcategoryIds:[],attributes:{}})},f=x=>{t.subcategoryIds.includes(x)||e({...t,subcategoryIds:[...t.subcategoryIds,x]})},m=x=>{e({...t,subcategoryIds:t.subcategoryIds.filter(w=>w!==x)})},g=(x,w)=>{e({...t,attributes:{...t.attributes,[x]:w}})},y=x=>{var S;const w=t.attributes[x.key]??"";switch(x.type){case"select":return i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:x.key,children:[x.label,x.required&&i.jsx("span",{className:"text-destructive ml-1",children:"*"}),x.unit&&i.jsxs("span",{className:"text-muted-foreground text-xs ml-1",children:["(",x.unit,")"]})]}),i.jsxs(Er,{value:w,onValueChange:N=>g(x.key,N),children:[i.jsx(Ar,{id:x.key,children:i.jsx(Tr,{placeholder:`Select ${x.label.toLowerCase()}`})}),i.jsx(kr,{children:(S=x.options)==null?void 0:S.map(N=>i.jsx(at,{value:N,children:N},N))})]})]},x.key);case"number":return i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:x.key,children:[x.label,x.required&&i.jsx("span",{className:"text-destructive ml-1",children:"*"}),x.unit&&i.jsxs("span",{className:"text-muted-foreground text-xs ml-1",children:["(",x.unit,")"]})]}),i.jsx(rt,{id:x.key,type:"number",placeholder:x.placeholder,value:w,onChange:N=>g(x.key,parseFloat(N.target.value)||0)})]},x.key);case"textarea":return i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:x.key,children:[x.label,x.required&&i.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),i.jsx(Ei,{id:x.key,placeholder:x.placeholder,value:w,onChange:N=>g(x.key,N.target.value),rows:3})]},x.key);case"text":default:return i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:x.key,children:[x.label,x.required&&i.jsx("span",{className:"text-destructive ml-1",children:"*"}),x.unit&&i.jsxs("span",{className:"text-muted-foreground text-xs ml-1",children:["(",x.unit,")"]})]}),i.jsx(rt,{id:x.key,placeholder:x.placeholder,value:w,onChange:N=>g(x.key,N.target.value)})]},x.key)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"productName",children:"Product Name *"}),i.jsx(rt,{id:"productName",placeholder:"Enter product name",value:t.name,onChange:x=>e({...t,name:x.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"description",children:"Description *"}),i.jsx(Ei,{id:"description",placeholder:"Enter product description",value:t.description,onChange:x=>e({...t,description:x.target.value}),rows:4})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"category",children:"Category *"}),i.jsxs(Er,{value:t.categoryId,onValueChange:p,children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select a category"})}),i.jsx(kr,{children:Object.values(el).map(x=>i.jsx(at,{value:x.id,children:x.name},x.id))})]})]}),t.categoryId&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Subcategories"}),i.jsxs(Er,{value:"",onValueChange:f,children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select subcategories"})}),i.jsx(kr,{children:l.map(x=>i.jsx(at,{value:x,children:x},x))})]}),t.subcategoryIds.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.subcategoryIds.map(x=>i.jsxs(Ot,{variant:"secondary",className:"gap-1",children:[x,i.jsx(Ri,{className:"h-3 w-3 cursor-pointer",onClick:()=>m(x)})]},x))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"basePrice",children:"Base Price ($) *"}),i.jsx(rt,{id:"basePrice",type:"number",placeholder:"0.00",value:t.basePrice||"",onChange:x=>e({...t,basePrice:parseFloat(x.target.value)||0}),min:"0",step:"0.01"})]}),u.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(je,{className:"text-base font-semibold",children:"Product Attributes"}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>r("/admin/catalogue-fields",{state:{from:window.location.pathname}}),children:[i.jsx(ha,{className:"h-4 w-4"}),"Add Attribute"]})]}),u.map(x=>y(x))]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(nN,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:"Product Tags"})]})}),i.jsxs(Er,{value:"",onValueChange:d,children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select from common tags"})}),i.jsx(kr,{children:cJe.map(x=>i.jsx(at,{value:x,children:x},x))})]}),t.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.tags.map(x=>i.jsxs(Ot,{variant:"outline",className:"gap-1",children:[x,i.jsx(Ri,{className:"h-3 w-3 cursor-pointer",onClick:()=>h(x)})]},x))})]})]})},dJe=[{key:"front",label:"Front View"},{key:"back",label:"Back View"},{key:"left",label:"Left View"},{key:"right",label:"Right View"}],hJe=({variant:t,isOpen:e,onClose:r,onSave:n})=>{var m;const{toast:s}=Uy(),[a,o]=b.useState(t.viewImages||{front:"",back:"",left:"",right:""}),[l,c]=b.useState(new Set),[u,d]=b.useState(!1);b.useEffect(()=>{o(t.viewImages||{front:"",back:"",left:"",right:""})},[t._id,t.id,t.viewImages]);const h=b.useCallback(async(g,y)=>{c(x=>new Set(x).add(g));try{const x=await em.uploadImage(y,"variant-images");o(w=>({...w,[g]:x})),s({title:"Upload successful",description:`${g.charAt(0).toUpperCase()+g.slice(1)} image uploaded`})}catch(x){console.error("Error uploading variant image:",x),s({title:"Upload failed",description:`Failed to upload image: ${x instanceof Error?x.message:"Unknown error"}`,variant:"destructive"})}finally{c(x=>{const w=new Set(x);return w.delete(g),w})}},[s]),p=b.useCallback(g=>{o(y=>({...y,[g]:""}))},[]),f=b.useCallback(()=>{d(!0);try{const g=t._id||t.id;n(g,a),s({title:"Saved",description:"Variant images updated successfully"}),r()}catch{s({title:"Error",description:"Failed to save variant images",variant:"destructive"})}finally{d(!1)}},[t.id,a,n,r,s]);return i.jsx(dl,{open:e,onOpenChange:g=>!g&&r(),children:i.jsxs(Fo,{className:"max-w-2xl",children:[i.jsx(Bo,{children:i.jsxs($o,{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full border-2",style:{backgroundColor:t.colorHex||"#ccc",borderColor:((m=t.color)==null?void 0:m.toLowerCase())==="white"?"#E5E7EB":"transparent"}}),"Variant Images  ",t.size," / ",t.color]})}),i.jsx("div",{className:"grid grid-cols-2 gap-4 py-4",children:dJe.map(({key:g,label:y})=>{const x=(a==null?void 0:a[g])||"",w=l.has(g);return i.jsx(Ze,{className:"overflow-hidden",children:i.jsxs(Tt,{className:"p-3 space-y-2",children:[i.jsx(je,{className:"text-sm font-medium",children:y}),i.jsx("div",{className:"relative aspect-square bg-muted rounded-md overflow-hidden flex items-center justify-center",children:w?i.jsxs("div",{className:"flex flex-col items-center text-muted-foreground",children:[i.jsx(Zn,{className:"h-8 w-8 animate-spin"}),i.jsx("span",{className:"text-xs mt-1",children:"Uploading..."})]}):x?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:x,alt:`${t.color} ${y}`,className:"w-full h-full object-cover"}),i.jsx(pe,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-7 w-7 opacity-0 hover:opacity-100 transition-opacity",onClick:()=>p(g),children:i.jsx(ol,{className:"h-4 w-4"})})]}):i.jsxs("div",{className:"flex flex-col items-center text-muted-foreground",children:[i.jsx(ca,{className:"h-8 w-8"}),i.jsx("span",{className:"text-xs mt-1",children:"No image"})]})}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:S=>{var C;const N=(C=S.target.files)==null?void 0:C[0];N&&h(g,N)},disabled:w}),i.jsxs(pe,{variant:"outline",size:"sm",className:"w-full gap-2",disabled:w,children:[i.jsx(ll,{className:"h-4 w-4"}),x?"Change":"Upload"]})]})]})},g)})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" Upload base product images for this color variant. These will be used in the Mockups Library for realistic previews."}),i.jsxs(Xg,{children:[i.jsx(pe,{variant:"outline",onClick:r,children:"Cancel"}),i.jsx(pe,{onClick:f,disabled:u||l.size>0,children:u?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Images"})]})]})})},fJe=({availableSizes:t,availableColors:e,variants:r,onSizesChange:n,onColorsChange:s,onVariantsChange:a,baseSku:o="PROD",categoryId:l,subcategoryId:c})=>{const[u,d]=b.useState(""),[h,p]=b.useState(""),[f,m]=b.useState(""),[g,y]=b.useState([]),[x,w]=b.useState([]),[S,N]=b.useState({}),[C,A]=b.useState(!1),[k,E]=b.useState(null),T=b.useMemo(()=>l?dye(l,c):{sizes:["XS","S","M","L","XL","XXL"],colors:["White","Black","Gray"],allowCustomSizes:!0,allowCustomColors:!0,sizeLabel:"Size"},[l,c]),R=b.useCallback(async()=>{if(!l){y([]),w([]),N({});return}A(!0);try{const Y=await Gp.getAll({categoryId:l,subcategoryId:c||void 0}),D=Array.isArray(Y)?Y:Y&&Y.data&&Array.isArray(Y.data)?Y.data:[];if(Array.isArray(D)){D.length===0&&console.warn("[ProductVariantsSection] No variant options returned from DB",{categoryId:l,subcategoryId:c});const Z=D.filter(se=>se.optionType==="size").map(se=>se.value),ie=Array.from(new Set(Z)),he=D.filter(se=>se.optionType==="color"),J=he.map(se=>se.value),ae=Array.from(new Set(J)),ne={};he.forEach(se=>{se.colorHex&&(!ne[se.value]||se.subcategoryId)&&(ne[se.value]=se.colorHex)}),y(ie),w(ae),N(ne),ie.length===0&&ae.length===0&&console.warn("[ProductVariantsSection] Empty sizes/colors after processing DB options",{categoryId:l,subcategoryId:c})}}catch(Y){console.error("Error fetching variant options from database:",Y)}finally{A(!1)}},[l,c]);b.useEffect(()=>{R()},[R]);const I=b.useMemo(()=>g,[g]),L=b.useMemo(()=>x,[x]),U={...T};b.useEffect(()=>{if(t.length===0||e.length===0){a([]);return}const Y=[];t.forEach(Z=>{e.forEach(ie=>{const he=r.find(J=>J.size===Z&&J.color===ie);if(he)Y.push(he);else{const J=`${o}-${Z.toUpperCase().replace(/\s+/g,"-")}-${ie.toUpperCase().replace(/\s+/g,"-")}`,ae=S[ie]||pp(ie);Y.push({id:`${Z}-${ie}-${Date.now()}-${Math.random()}`,size:Z,color:ie,colorHex:ae,sku:J,price:void 0,isActive:!0})}})});const D=Y.filter(Z=>t.includes(Z.size)&&e.includes(Z.color));console.log("[ProductVariantsSection] variant auto-gen effect triggered",{availableSizes:t,availableColors:e,existingVariantsCount:r.length}),a(D),console.log("[ProductVariantsSection] after onVariantsChange",{validVariantsWithImages:D.filter(Z=>Z.viewImages&&Object.values(Z.viewImages).some(ie=>ie)).length})},[t,e,o]);const $=(Y,D)=>{n(D?[...t,Y]:t.filter(Z=>Z!==Y))},q=(Y,D)=>{s(D?[...e,Y]:e.filter(Z=>Z!==Y))},G=async()=>{const Y=u.trim();if(Y){if(t.includes(Y)){wi({title:"Duplicate Option",description:"This size option already exists",variant:"destructive"});return}if(n([...t,Y]),d(""),l)try{await Gp.create({categoryId:l,subcategoryId:c||void 0,optionType:"size",value:Y}),y(D=>Array.from(new Set([...D||[],Y]))),await R(),wi({title:"Success",description:"Custom size added globally. It will now appear as a checkbox for all future products."})}catch(D){console.log("Custom size added for this product only:",D),wi({title:"Added to Product",description:"Custom size added to this product. (May already exist globally)"})}}},W=async()=>{const Y=h.trim(),D=f.trim();if(Y){if(D&&!/^#[0-9A-F]{6}$/i.test(D)){wi({title:"Invalid Hex Color",description:"Please enter a valid hex color (e.g., #FF5733)",variant:"destructive"});return}if(e.includes(Y)){wi({title:"Duplicate Option",description:"This color option already exists",variant:"destructive"});return}if(D&&N(Z=>({...Z,[Y]:D})),s([...e,Y]),p(""),m(""),l)try{await Gp.create({categoryId:l,subcategoryId:c||void 0,optionType:"color",value:Y,colorHex:D||void 0}),w(Z=>Array.from(new Set([...Z||[],Y]))),await R(),wi({title:"Success",description:"Custom color added globally. It will now appear as a checkbox for all future products."})}catch(Z){console.log("Custom color added for this product only:",Z),wi({title:"Added to Product",description:"Custom color added to this product. (May already exist globally)"})}}},B=b.useCallback((Y,D)=>{a(r.map(Z=>Z.id===Y?{...Z,...D}:Z))},[r,a]),O=()=>{a(r.map(Y=>({...Y,colorHex:Y.colorHex||S[Y.color]||pp(Y.color),sku:`${o}-${Y.size}-${Y.color.toUpperCase().replace(/\s+/g,"-")}`,price:Y.price})))},K=b.memo(function({variant:D,onUpdate:Z,onClickImages:ie}){var ke;const[he,J]=b.useState(D.sku??""),[ae,ne]=b.useState(D.price!==void 0?String(D.price):""),[se,Q]=b.useState(!!D.isActive);b.useEffect(()=>{J(D.sku??""),ne(D.price!==void 0?String(D.price):""),Q(!!D.isActive)},[D.sku,D.price,D.isActive]);const re=b.useCallback(oe=>{const Oe=oe.target.value;J(Oe)},[]),le=b.useCallback(()=>{Z(D.id,{sku:he})},[Z,D.id,he]),ve=b.useCallback(oe=>{const Oe=oe.target.value;(Oe===""||/^\d*\.?\d*$/.test(Oe))&&ne(Oe)},[]),fe=b.useCallback(()=>{const oe=ae,Oe=oe===""||oe==="."?void 0:parseFloat(oe),Ie=oe===""||oe==="."||isNaN(Oe)||Oe<0?void 0:Oe;Z(D.id,{price:Ie})},[Z,D.id,ae]),X=b.useCallback(oe=>{Q(oe)},[]),ce=b.useCallback(()=>{Z(D.id,{isActive:se})},[Z,D.id,se]),Pe=D.viewImages?Object.values(D.viewImages).filter(oe=>oe&&oe.trim()!=="").length:0;return i.jsx(Ze,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-2 items-center",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-xs text-muted-foreground",children:"Size"}),i.jsx("p",{className:"text-sm font-medium",children:D.size})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full border flex-shrink-0",style:{backgroundColor:D.colorHex||"#ccc",borderColor:((ke=D.color)==null?void 0:ke.toLowerCase())==="white"?"#E5E7EB":"transparent"}}),i.jsxs("div",{children:[i.jsx(je,{className:"text-xs text-muted-foreground",children:"Color"}),i.jsx("p",{className:"text-sm font-medium",children:D.color})]})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-xs text-muted-foreground",children:"SKU"}),i.jsx(rt,{value:he,onChange:re,onBlur:le,onKeyDown:oe=>oe.key==="Enter"&&le(),className:"h-8 text-sm"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-xs text-muted-foreground",children:"Price"}),i.jsx(rt,{type:"text",inputMode:"decimal",value:ae,onChange:ve,onBlur:fe,onKeyDown:oe=>oe.key==="Enter"&&fe(),placeholder:"0.00",className:"h-8 text-sm"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wq,{children:i.jsxs(wfe,{children:[i.jsx(jfe,{asChild:!0,children:i.jsxs(pe,{variant:"outline",size:"icon",className:"h-8 w-8 relative",onClick:()=>ie(D),children:[i.jsx(zce,{className:"h-4 w-4"}),Pe>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-[10px] rounded-full w-4 h-4 flex items-center justify-center",children:Pe})]})}),i.jsx(jq,{children:i.jsxs("p",{children:["Manage variant images (",Pe,"/4)"]})})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(je,{className:"text-xs",children:"Active"}),i.jsx(Xs,{checked:se,onCheckedChange:oe=>X(oe),onBlur:ce,onKeyDown:oe=>{(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),ce())}})]})]})]})})},(Y,D)=>Y.variant.id===D.variant.id&&Y.variant.sku===D.variant.sku&&Y.variant.price===D.variant.price&&Y.variant.isActive===D.variant.isActive&&Y.variant.viewImages===D.variant.viewImages);return i.jsxs("div",{className:"space-y-6",children:[l&&i.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-md border border-primary/20",children:[i.jsx(nN,{className:"h-4 w-4 text-primary mt-0.5"}),i.jsxs("div",{className:"text-sm",children:[i.jsxs("p",{className:"font-medium",children:["Variant options for: ",l,c?`  ${c}`:""]}),i.jsxs("p",{className:"text-muted-foreground text-xs mt-1",children:[U.sizeLabel||"Size"," and color options are pre-configured for this product type. You can add custom options below."]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(je,{className:"text-base font-semibold",children:U.sizeLabel||"Available Sizes"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:I.map(Y=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:`size-${Y}`,checked:t.includes(Y),onCheckedChange:D=>$(Y,D)}),i.jsx(je,{htmlFor:`size-${Y}`,className:"text-sm font-normal cursor-pointer",children:Y})]},Y))}),U.allowCustomSizes!==!1&&i.jsxs("div",{className:"mt-3 space-y-2",children:[U.sizeHint&&i.jsxs("p",{className:"text-xs text-muted-foreground italic",children:[" ",U.sizeHint]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(rt,{placeholder:`Add custom ${(U.sizeLabel||"size").toLowerCase()}...`,value:u,onChange:Y=>d(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&G()}),i.jsx(pe,{onClick:G,size:"sm",variant:"secondary",children:"Add Custom"})]})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(je,{className:"text-base font-semibold",children:"Available Colors"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:L.map(Y=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:`color-${Y}`,checked:e.includes(Y),onCheckedChange:D=>q(Y,D)}),i.jsx("div",{className:"w-5 h-5 rounded-full border-2 shadow-sm flex-shrink-0",style:{background:S[Y]||pp(Y),borderColor:Y==="White"||Y==="Clear"?"#E5E7EB":"rgba(0, 0, 0, 0.1)"}}),i.jsx(je,{htmlFor:`color-${Y}`,className:"text-sm font-normal cursor-pointer flex-1",children:Y})]},Y))}),U.allowCustomColors!==!1&&i.jsxs("div",{className:"mt-3 space-y-2",children:[U.colorHint&&i.jsxs("p",{className:"text-xs text-muted-foreground italic",children:[" ",U.colorHint]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(rt,{placeholder:"Color name (e.g., Forest Blue)",value:h,onChange:Y=>p(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&W(),className:"flex-1"}),i.jsx(rt,{placeholder:"Hex (e.g., #1E40AF)",value:f,onChange:Y=>m(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&W(),className:"w-32"}),i.jsx(pe,{onClick:W,size:"sm",variant:"secondary",children:"Add Custom"})]})]})]}),i.jsx(ln,{}),r.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(je,{className:"text-base font-semibold",children:["Generated Variants (",r.length,")"]}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:O,className:"gap-2",children:[i.jsx(hh,{className:"h-4 w-4"}),"Regenerate SKUs"]})]}),i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:r.map(Y=>i.jsx(K,{variant:Y,onUpdate:B,onClickImages:E},Y.id))})]}),r.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i.jsx("p",{className:"text-sm",children:"Select sizes and colors to generate variants"})}),k&&i.jsx(hJe,{variant:k,isOpen:!!k,onClose:()=>E(null),onSave:(Y,D)=>{console.log("[ProductVariantsSection] onSave called",{variantId:Y,viewImages:D});const Z=r.find(ie=>(ie._id||ie.id)===Y);if(console.log("[ProductVariantsSection] sourceVariant",Z),Z){const ie=r.map(he=>he.color===Z.color?{...he,viewImages:{...D}}:he);console.log("[ProductVariantsSection] updatedVariants",ie.map(he=>({id:he._id||he.id,color:he.color,viewImages:he.viewImages}))),a(ie),wi({title:"Images Updated",description:`Updated images for all ${Z.color} variants`})}E(null)}})]})},rie=({views:t,activeView:e,viewImages:r,placeholderCounts:n,onViewChange:s,onImageUpload:a,onImageRemove:o,uploadingViews:l})=>{const c=u=>({front:"Front",back:"Back",left:"Left",right:"Right"})[u]||u.charAt(0).toUpperCase()+u.slice(1);return i.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.map(u=>{const d=e===u,h=!!r[u],p=l==null?void 0:l.has(u),f=`view-upload-${u}`;return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(je,{className:`text-sm capitalize ${d?"font-bold":""}`,children:[c(u)," View"]}),n[u]>0&&i.jsx(Ot,{variant:d?"default":"secondary",className:"text-xs",children:n[u]})]}),h&&i.jsx(pe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>o(u),children:i.jsx(Ri,{className:"h-3 w-3"})})]}),i.jsx(pe,{variant:d?"default":"outline",size:"sm",className:`w-full transition-all ${d?"font-bold shadow-md bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,onClick:()=>{if(h)s(u);else{const m=document.getElementById(f);m&&!p&&m.click()}},children:h?i.jsxs("span",{className:`text-xs ${d?"font-bold":""}`,children:[" ",c(u)]}):i.jsx("span",{className:"text-xs text-muted-foreground",children:p?"Uploading":c(u)})}),i.jsx("input",{id:f,type:"file",accept:"image/*",className:"hidden",onChange:m=>{var y;const g=(y=m.target.files)==null?void 0:y[0];g&&(a(u,g),s(u),m.target.value="")}})]},u)})})},pJe=({isActive:t,canvasWidth:e,canvasHeight:r,backgroundImage:n,imageX:s,imageY:a,imageWidth:o,imageHeight:l,onComplete:c,onCancel:u,magneticThreshold:d=20,simplifyTolerance:h=2})=>{const[f,m]=b.useState([]),[g,y]=b.useState(!1),[x,w]=b.useState(null),[S,N]=b.useState(null),C=b.useRef(null);b.useEffect(()=>{if(!n||!t||o<=0||l<=0)return;const B=document.createElement("canvas");B.width=Math.round(o),B.height=Math.round(l);const O=B.getContext("2d");if(!O)return;O.drawImage(n,0,0,B.width,B.height);const K=O.getImageData(0,0,B.width,B.height);C.current=K;const Y=A(K);N(Y)},[n,t,o,l]);const A=B=>{const{width:O,height:K,data:Y}=B,D=new Uint8ClampedArray(Y.length),Z=new Uint8ClampedArray(O*K);for(let J=0;J<K;J++)for(let ae=0;ae<O;ae++){const ne=(J*O+ae)*4,se=Y[ne],Q=Y[ne+1],re=Y[ne+2];Z[J*O+ae]=Math.round(.299*se+.587*Q+.114*re)}const ie=[-1,0,1,-2,0,2,-1,0,1],he=[-1,-2,-1,0,0,0,1,2,1];for(let J=1;J<K-1;J++)for(let ae=1;ae<O-1;ae++){let ne=0,se=0;for(let fe=-1;fe<=1;fe++)for(let X=-1;X<=1;X++){const ce=(J+fe)*O+(ae+X),Pe=(fe+1)*3+(X+1);ne+=Z[ce]*ie[Pe],se+=Z[ce]*he[Pe]}const Q=Math.sqrt(ne*ne+se*se),re=(J*O+ae)*4,ve=Math.min(255,Math.max(0,Math.round(Q)))>50;D[re]=ve?255:0,D[re+1]=ve?255:0,D[re+2]=ve?255:0,D[re+3]=255}return D},k=(B,O)=>{const K=B-s,Y=O-a;return K<0||K>=o||Y<0||Y>=l?null:{x:K,y:Y}},E=(B,O)=>({x:B+s,y:O+a}),T=(B,O)=>{if(!S||!C.current)return B;const{width:K,height:Y}=C.current,D=O==null?void 0:O.searchRadius,Z=O==null?void 0:O.maxSnapDistance,ie=O==null?void 0:O.edgeThreshold,he=Z*Z;return B.map(J=>{const ae=k(J.x,J.y);if(!ae)return J;const ne=ae.x,se=ae.y,Q=Math.max(0,Math.floor(ne-D)),re=Math.min(K-1,Math.floor(ne+D)),le=Math.max(0,Math.floor(se-D)),ve=Math.min(Y-1,Math.floor(se+D));let fe=0,X=0,ce=0,Pe=Number.POSITIVE_INFINITY;for(let He=le;He<=ve;He++)for(let nt=Q;nt<=re;nt++){const ft=(He*K+nt)*4,Fe=S[ft];if(Fe>=ie){const Ae=nt-ne,it=He-se,Ee=Ae*Ae+it*it;(Fe>fe||Fe===fe&&Ee<Pe)&&(fe=Fe,X=Ae,ce=it,Pe=Ee)}}if(fe<ie||Pe>he)return J;const ke=ne+X,oe=se+ce,Oe=Math.max(0,Math.min(K-1,ke)),Ie=Math.max(0,Math.min(Y-1,oe));return E(Oe,Ie)})},R=(B,O)=>{const K=k(B,O);if(!K||!S||!C.current)return{x:B,y:O};const{width:Y,height:D}=C.current,Z=K.x,ie=K.y;let he=d*d,J={x:Z,y:ie};const ae=d,ne=Math.max(0,Math.floor(Z-ae)),se=Math.min(Y-1,Math.floor(Z+ae)),Q=Math.max(0,Math.floor(ie-ae)),re=Math.min(D-1,Math.floor(ie+ae));for(let le=Q;le<=re;le++)for(let ve=ne;ve<=se;ve++){const fe=(le*Y+ve)*4;if(S[fe]>0){const X=ve-Z,ce=le-ie,Pe=X*X+ce*ce;Pe<he&&(he=Pe,J={x:ve,y:le})}}return{x:J.x+s,y:J.y+a}},I=B=>{if(!t)return;const O=B.target.getStage();if(!O)return;const K=O.getPointerPosition();if(!K)return;const Y=R(K.x,K.y);if(w(Y),g){const D={x:K.x,y:K.y},Z=f[f.length-1],ie=Z&&Math.hypot(D.x-Z.x,D.y-Z.y);(!Z||(ie??0)>4)&&m(he=>[...he,D])}},L=B=>{if(!t||B.evt.button!==0)return;const O=B.target.getStage();if(!O)return;const K=O.getPointerPosition();K&&(O.container().style.cursor="crosshair",y(!0),m([{x:K.x,y:K.y}]))},U=()=>{var O;if(!t||!g)return;const B=(O=document.querySelector("canvas"))==null?void 0:O.parentElement;if(B&&(B.style.cursor="default"),f.length>=3){const K=T(f,{searchRadius:8,maxSnapDistance:5,edgeThreshold:1}),Y=$(K,h*2),D=q(Y,4),Z=G(D,10),ie=Z.length>1?[...Z,Z[0]]:Z;c(ie)}else u();y(!1),m([])};b.useEffect(()=>{const B=O=>{O.key==="Escape"&&t&&(y(!1),m([]),u())};return window.addEventListener("keydown",B),()=>{window.removeEventListener("keydown",B)}},[t,u]);const $=(B,O)=>{if(B.length<=2)return B;const K=O*O,Y=(he,J,ae)=>{let ne=J.x,se=J.y,Q=ae.x-ne,re=ae.y-se;if(Q!==0||re!==0){const le=((he.x-ne)*Q+(he.y-se)*re)/(Q*Q+re*re);le>1?(ne=ae.x,se=ae.y):le>0&&(ne+=Q*le,se+=re*le)}return Q=he.x-ne,re=he.y-se,Q*Q+re*re},D=(he,J,ae,ne,se)=>{let Q=ne,re=-1;for(let le=J+1;le<ae;le++){const ve=Y(he[le],he[J],he[ae]);ve>Q&&(re=le,Q=ve)}re!==-1&&(re-J>1&&D(he,J,re,ne,se),se.push(he[re]),ae-re>1&&D(he,re,ae,ne,se))},Z=B.length-1,ie=[B[0]];return D(B,0,Z,K,ie),ie.push(B[Z]),ie},q=(B,O=3)=>{if(B.length<3)return B;const K=[B[0]];for(let Y=1;Y<B.length;Y++){const D=K[K.length-1],Z=B[Y],ie=Z.x-D.x,he=Z.y-D.y;ie*ie+he*he>=O*O&&K.push(Z)}return K},G=(B,O=8)=>{if(B.length<4)return B;const Y=(J=>J*Math.PI/180)(O),D=(J,ae,ne)=>{const se=J.x-ae.x,Q=J.y-ae.y,re=ne.x-ae.x,le=ne.y-ae.y,ve=se*re+Q*le,fe=Math.hypot(se,Q),X=Math.hypot(re,le);if(fe===0||X===0)return 0;let ce=ve/(fe*X);return ce=Math.max(-1,Math.min(1,ce)),Math.acos(ce)},Z=B[0].x===B[B.length-1].x&&B[0].y===B[B.length-1].y,ie=Z?B.slice(0,-1):B.slice(),he=[];for(let J=0;J<ie.length;J++){const ae=ie[(J-1+ie.length)%ie.length],ne=ie[J],se=ie[(J+1)%ie.length],Q=D(ae,ne,se);Math.abs(Math.PI-Q)<=Y||Q<=Y||he.push(ne)}return Z&&he.length>0&&he.push({...he[0]}),he.length>=3?he:B},W=B=>B.reduce((O,K)=>(O.push(K.x,K.y),O),[]);return t?i.jsxs(i.Fragment,{children:[f.length>0&&i.jsx(Pi,{points:W(f),stroke:"#FF00FF",strokeWidth:2,lineCap:"round",lineJoin:"round",dash:[5,5]}),x&&i.jsx(E2e,{x:x.x,y:x.y,radius:5,fill:"rgba(255, 0, 255, 0.5)",stroke:"#FF00FF",strokeWidth:1}),i.jsx(Pi,{points:[0,0,e,0,e,r,0,r,0,0],closed:!0,stroke:"transparent",fill:"transparent",onMouseDown:L,onMouseMove:I,onMouseUp:U,listening:t})]}):null},nie=({mockupImageUrl:t,placeholders:e,activePlaceholderId:r,onPlaceholderChange:n,onPlaceholderSelect:s,onPlaceholderAdd:a,onPlaceholderDelete:o,onLassoPlaceholderCreate:l,canvasWidth:c=800,canvasHeight:u=600,physicalWidth:d,physicalHeight:h,unit:p="in"})=>{const[f,m]=b.useState(null),[g,y]=b.useState({width:0,height:0,x:0,y:0}),x=b.useRef(null),w=b.useRef(null),S=b.useRef({}),N=b.useRef(null),[C,A]=b.useState(!1),[k,E]=b.useState([]),T=40,R=c-T*2,I=u-T*2,L=(()=>{if(!d||!h||d<=0||h<=0)return 10;const O=R/d,K=I/h;return Math.min(O,K)})(),U=O=>O/L,$=O=>O*L,q=O=>p==="cm"?`${O.toFixed(1)} cm`:`${O.toFixed(1)}"`;b.useEffect(()=>{if(!t){m(null),y({width:0,height:0,x:0,y:0});return}console.log("CanvasMockup loading image:",t);const O=new window.Image;O.crossOrigin="anonymous",O.onload=()=>{console.log("CanvasMockup image loaded:",O.width,O.height),m(O);const K=O.width/O.height,Y=R,D=I;let Z=Y,ie=Y/K;ie>D&&(ie=D,Z=D*K);const he=T+(Y-Z)/2,J=T+(D-ie)/2;y({width:Z,height:ie,x:he,y:J})},O.onerror=K=>{console.error("CanvasMockup image failed to load:",K,t),console.log("Retrying without crossOrigin...");const Y=new window.Image;Y.onload=()=>{console.log("CanvasMockup image loaded without crossOrigin (Lasso may fail)"),m(Y);const D=Y.width/Y.height,Z=R,ie=I;let he=Z,J=Z/D;J>ie&&(J=ie,he=ie*D);const ae=T+(Z-he)/2,ne=T+(ie-J)/2;y({width:he,height:J,x:ae,y:ne})},Y.src=t},O.src=t},[t,c,u,R,I,T]),b.useEffect(()=>{var O,K;r&&w.current&&S.current[r]?(w.current.nodes([S.current[r]]),(O=w.current.getLayer())==null||O.batchDraw()):w.current&&(w.current.nodes([]),(K=w.current.getLayer())==null||K.batchDraw())},[r]),b.useEffect(()=>{E(O=>O.filter(K=>e.some(Y=>Y.id===K.id)))},[e]);const G=(O,K)=>{const Y=K.target,D=U(Y.x()-T),Z=U(Y.y()-T);n(O,{xIn:D,yIn:Z})},W=(O,K)=>{const Y=K.target,D=Y.scaleX(),Z=Y.scaleY(),ie=e.find(Q=>Q.id===O);if(!ie)return;const he=ie.lockSize??!1,J=ie.scale??1;Y.scaleX(1),Y.scaleY(1);const ae=Y.rotation(),ne=U(Y.x()-T),se=U(Y.y()-T);if(he){const Q=J*D,re=J*Z,le=(Q+re)/2;n(O,{xIn:ne,yIn:se,scale:Math.max(.1,le),rotationDeg:ae})}else{const Q=Math.max(5,Y.width()*D),re=Math.max(5,Y.height()*Z),le=U(Q),ve=U(re);n(O,{xIn:ne,yIn:se,widthIn:le,heightIn:ve,scale:1,rotationDeg:ae})}},B=O=>{O.target===O.target.getStage()&&!C&&s(null)};return b.useEffect(()=>{if(!N.current){const K=document.createElement("canvas");K.width=20*2,K.height=20*2;const Y=K.getContext("2d");Y&&(Y.fillStyle="#f5f5f5",Y.fillRect(0,0,K.width,K.height),Y.fillStyle="#e5e5e5",Y.fillRect(0,0,20,20),Y.fillRect(20,20,20,20)),N.current=K.toDataURL()}},[]),t?i.jsxs("div",{className:"border-2 border-border rounded-lg overflow-hidden relative",style:{backgroundImage:N.current?`url(${N.current})`:void 0},children:[i.jsx(bM,{width:c,height:u,ref:x,onClick:B,onTap:B,style:{cursor:C?"crosshair":"default"},children:i.jsxs(fb,{children:[(()=>{const K=[];for(let Y=T;Y<c-T;Y+=20)K.push(i.jsx(Pi,{points:[Y,T,Y,u-T],stroke:"#CCCCCC",strokeWidth:.5,opacity:.25,listening:!1},`v-grid-${Y}`));for(let Y=T;Y<u-T;Y+=20)K.push(i.jsx(Pi,{points:[T,Y,c-T,Y],stroke:"#CCCCCC",strokeWidth:.5,opacity:.25,listening:!1},`h-grid-${Y}`));return K})(),f&&g.width>0&&i.jsx(pb,{image:f,x:g.x,y:g.y,width:g.width,height:g.height,listening:!1}),e.map(O=>{const K=r===O.id,Y=O.scale??1,D=O.shapeType==="polygon"&&O.polygonPoints&&O.polygonPoints.length>=3,Z=T+$(O.xIn),ie=T+$(O.yIn),he=$(O.widthIn)*Y,J=$(O.heightIn)*Y,ae=D?O.renderPolygonPoints&&O.renderPolygonPoints.length>=3?O.renderPolygonPoints:O.polygonPoints:[],ne=D?ae.map(se=>[T+$(se.xIn)*Y,T+$(se.yIn)*Y]).flat():[];return i.jsxs(xe.Fragment,{children:[D?i.jsx(I2e,{ref:se=>{se&&(S.current[O.id]=se)},sceneFunc:(se,Q)=>{if(se.beginPath(),ne.length>=6){se.moveTo(ne[0],ne[1]);for(let re=2;re<ne.length;re+=2)se.lineTo(ne[re],ne[re+1]);se.closePath()}se.fillStrokeShape(Q)},fill:K?"rgba(244, 114, 182, 0.3)":"rgba(244, 114, 182, 0.15)",stroke:K?"rgb(236, 72, 153)":"rgba(244, 114, 182, 0.5)",strokeWidth:K?3:2,draggable:!0,onClick:()=>s(O.id),onTap:()=>s(O.id),onDragEnd:se=>G(O.id,se),onTransformEnd:se=>W(O.id,se)}):i.jsx(ac,{ref:se=>{se&&(S.current[O.id]=se)},x:Z,y:ie,width:he,height:J,rotation:O.rotationDeg,fill:K?"rgba(244, 114, 182, 0.3)":"rgba(244, 114, 182, 0.15)",stroke:K?"rgb(236, 72, 153)":"rgba(244, 114, 182, 0.5)",strokeWidth:K?3:2,draggable:!0,onClick:()=>s(O.id),onTap:()=>s(O.id),onDragEnd:se=>G(O.id,se),onTransformEnd:se=>W(O.id,se)}),K&&!D&&i.jsxs(i.Fragment,{children:[i.jsx(ac,{x:Z-2,y:ie-2,width:he+4,height:J+4,rotation:O.rotationDeg,stroke:"rgba(59, 130, 246, 0.8)",strokeWidth:2,dash:[4,4],listening:!1}),(()=>{const se=Z+he/2,Q=ie+J/2,re=O.rotationDeg*Math.PI/180;return[{x:Z,y:ie},{x:Z+he,y:ie},{x:Z+he,y:ie+J},{x:Z,y:ie+J}].map((ve,fe)=>{const X=ve.x-se,ce=ve.y-Q,Pe=se+X*Math.cos(re)-ce*Math.sin(re),ke=Q+X*Math.sin(re)+ce*Math.cos(re);return i.jsx(ac,{x:Pe-4,y:ke-4,width:8,height:8,fill:"rgba(59, 130, 246, 1)",stroke:"white",strokeWidth:1.5,listening:!1},`corner-${fe}`)})})()]}),K&&D&&i.jsx(Pi,{points:ne,closed:!0,stroke:"rgba(59, 130, 246, 0.8)",strokeWidth:2,dash:[4,4],listening:!1})]},O.id)}),k.map((O,K)=>{const Y=O.points.reduce((D,Z)=>(D.push(Z.x,Z.y),D),[]);return i.jsx(Pi,{points:Y,stroke:"#FF00FF",strokeWidth:2,lineCap:"round",lineJoin:"round",closed:!0,listening:!1},`lasso-path-${K}`)}),f&&g.width>0&&g.height>0&&i.jsx(pJe,{isActive:C,canvasWidth:c,canvasHeight:u,backgroundImage:f,imageX:g.x,imageY:g.y,imageWidth:g.width,imageHeight:g.height,onComplete:O=>{if(console.log("Magnetic lasso completed with points:",O),l&&O.length>=3){const K=O.map(le=>({xIn:U(le.x-T),yIn:U(le.y-T)})),Y=O.map(le=>le.x),D=O.map(le=>le.y),Z=Math.min(...Y),ie=Math.max(...Y),he=Math.min(...D),J=Math.max(...D),ae=U(Z-T),ne=U(he-T),se=U(ie-Z),Q=U(J-he),re=l({xIn:ae,yIn:ne,widthIn:se,heightIn:Q,rotationDeg:0,scale:1,lockSize:!1,shapeType:"polygon",polygonPoints:K});typeof re=="string"&&re.length>0&&E(le=>[...le,{id:re,points:O}])}A(!1)},onCancel:()=>{A(!1)}}),r&&(()=>{const O=e.find(re=>re.id===r);if(!O)return null;const K=O.scale??1,Y=T+$(O.xIn),D=T+$(O.yIn),Z=$(O.widthIn)*K,ie=$(O.heightIn)*K,he=Y+Z/2,J=D+ie/2,ae=Y,ne=Y+Z,se=D,Q=D+ie;return i.jsxs(i.Fragment,{children:[i.jsx(Pi,{points:[0,J,c,J],stroke:"rgba(59, 130, 246, 0.5)",strokeWidth:1,dash:[5,5],listening:!1}),i.jsx(Pi,{points:[he,0,he,u],stroke:"rgba(59, 130, 246, 0.5)",strokeWidth:1,dash:[5,5],listening:!1}),i.jsx(Pi,{points:[0,se,c,se],stroke:"rgba(59, 130, 246, 0.3)",strokeWidth:1,dash:[3,3],listening:!1}),i.jsx(Pi,{points:[0,Q,c,Q],stroke:"rgba(59, 130, 246, 0.3)",strokeWidth:1,dash:[3,3],listening:!1}),i.jsx(Pi,{points:[ae,0,ae,u],stroke:"rgba(59, 130, 246, 0.3)",strokeWidth:1,dash:[3,3],listening:!1}),i.jsx(Pi,{points:[ne,0,ne,u],stroke:"rgba(59, 130, 246, 0.3)",strokeWidth:1,dash:[3,3],listening:!1}),i.jsx(ac,{x:0,y:J-4,width:8,height:8,fill:"rgba(59, 130, 246, 0.8)",stroke:"rgba(59, 130, 246, 1)",strokeWidth:1,listening:!1}),i.jsx(ac,{x:c-8,y:J-4,width:8,height:8,fill:"rgba(59, 130, 246, 0.8)",stroke:"rgba(59, 130, 246, 1)",strokeWidth:1,listening:!1}),i.jsx(ac,{x:he-4,y:0,width:8,height:8,fill:"rgba(59, 130, 246, 0.8)",stroke:"rgba(59, 130, 246, 1)",strokeWidth:1,listening:!1}),i.jsx(ac,{x:he-4,y:u-8,width:8,height:8,fill:"rgba(59, 130, 246, 0.8)",stroke:"rgba(59, 130, 246, 1)",strokeWidth:1,listening:!1}),i.jsx(ah,{x:ae-35,y:J-7,text:`X: ${q(O.xIn)}`,fontSize:11,fontStyle:"bold",fill:"rgba(59, 130, 246, 0.9)",align:"right",listening:!1}),i.jsx(ah,{x:he+5,y:se-20,text:`Y: ${q(O.yIn)}`,fontSize:11,fontStyle:"bold",fill:"rgba(59, 130, 246, 0.9)",listening:!1}),i.jsx(ah,{x:he-20,y:Q+15,text:`W: ${q(O.widthIn)}`,fontSize:11,fontStyle:"bold",fill:"rgba(59, 130, 246, 0.9)",listening:!1}),i.jsx(ah,{x:ae-35,y:J+5,text:`H: ${q(O.heightIn)}`,fontSize:11,fontStyle:"bold",fill:"rgba(59, 130, 246, 0.9)",align:"right",listening:!1})]})})(),i.jsx(M2e,{ref:w,boundBoxFunc:(O,K)=>Math.abs(K.width)<5||Math.abs(K.height)<5?O:K,rotateEnabled:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right","top-center","bottom-center","middle-left","middle-right"]})]})}),i.jsxs("div",{className:"flex items-center justify-between p-4 border-t bg-card",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(pe,{variant:"default",size:"sm",onClick:a,className:"gap-2",children:[i.jsx(aN,{className:"h-4 w-4"}),"Add Placeholder"]}),i.jsxs(pe,{variant:C?"secondary":"outline",size:"sm",onClick:()=>A(O=>!O),className:"gap-2",children:[i.jsx(Xce,{className:"h-4 w-4"}),C?"Exit Magnetic Lasso":"Magnetic Lasso"]}),r&&i.jsxs(pe,{variant:"destructive",size:"sm",onClick:()=>o(r),className:"gap-2",children:[i.jsx(Ri,{className:"h-4 w-4"}),"Delete Placeholder"]})]}),r&&i.jsx("div",{className:"text-sm text-muted-foreground",children:e.find(O=>O.id===r)&&i.jsx("span",{children:"Placeholder selected"})})]})]}):i.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-8 min-h-[500px] flex items-center justify-center",style:{backgroundImage:N.current?`url(${N.current})`:void 0},children:i.jsx("div",{className:"text-center text-muted-foreground",children:i.jsx("p",{className:"text-sm",children:"Upload a mockup image to start"})})})};function ES(t,e){if(t.length<3)return t;const r=t.map(c=>({x:c.xIn,y:c.yIn})),n=r.length>0&&r[0].x===r[r.length-1].x&&r[0].y===r[r.length-1].y,s=n?r.slice(0,-1):r;let a=s;e.roundCorners>0&&(a=xJe(s,e.roundCorners/100,n));let o;if(e.smoothness>0){const c=Math.max(1,Math.floor(e.smoothness/100*50));o=mJe(a,c,n)}else o=a;let l=o;if(e.bulgeStrength>0&&(l=vJe(o,e.bulgeStrength/100,n)),n&&l.length>0){const c=l[l.length-1],u=l[0];(c.x!==u.x||c.y!==u.y)&&l.push({...u})}return l.map(c=>({xIn:c.x,yIn:c.y}))}function mJe(t,e,r=!0){if(t.length<2)return t;if(t.length===2){const l=[];for(let c=0;c<=e;c++){const u=c/e;l.push({x:t[0].x+(t[1].x-t[0].x)*u,y:t[0].y+(t[1].y-t[0].y)*u})}return l}const n=[],s=t.length,a=l=>r?t[l%s]:l<0?t[0]:l>=s?t[s-1]:t[l],o=r?s:s-1;for(let l=0;l<o;l++){const c=a(l-1),u=a(l),d=a(l+1),h=a(l+2);for(let p=0;p<e;p++){const f=p/e,m=gJe(c,u,d,h,f);n.push(m)}}return!r&&t.length>0&&n.push(t[t.length-1]),n}function gJe(t,e,r,n,s){const a=s*s,o=a*s,l=-.5*o+a-.5*s,c=1.5*o-2.5*a+1,u=-1.5*o+2*a+.5*s,d=.5*o-.5*a;return{x:l*t.x+c*e.x+u*r.x+d*n.x,y:l*t.y+c*e.y+u*r.y+d*n.y}}function xJe(t,e,r=!0){if(t.length<3)return t;const n=[];t.length;for(let s=0;s<t.length;s++){const a=t[(s-1+t.length)%t.length],o=t[s],l=t[(s+1)%t.length],c=yJe(a,o,l),u=Math.abs(Math.PI-c);if(u>.1&&e>0){const d=Math.min(1,u*e*2),h={x:o.x-a.x,y:o.y-a.y},p={x:l.x-o.x,y:l.y-o.y},f=Math.hypot(h.x,h.y),m=Math.hypot(p.x,p.y);if(f>0&&m>0){h.x/=f,h.y/=f,p.x/=m,p.y/=m;const g={x:(h.x+p.x)*.5,y:(h.y+p.y)*.5},y=Math.hypot(g.x,g.y);y>0&&(g.x/=y,g.y/=y);const x=Math.min(f,m)*.1*d;n.push({x:o.x-g.x*x,y:o.y-g.y*x})}else n.push(o)}else n.push(o)}return n.length>=3?n:t}function yJe(t,e,r){const n=t.x-e.x,s=t.y-e.y,a=r.x-e.x,o=r.y-e.y,l=n*a+s*o,c=Math.hypot(n,s),u=Math.hypot(a,o);if(c===0||u===0)return Math.PI;const d=Math.max(-1,Math.min(1,l/(c*u)));return Math.acos(d)}function vJe(t,e,r=!0){if(t.length<3||e<=0)return t;const n=[];t.length;for(let s=0;s<t.length;s++){const a=t[(s-1+t.length)%t.length],o=t[s],l=t[(s+1)%t.length],c={x:o.x-a.x,y:o.y-a.y},u={x:l.x-o.x,y:l.y-o.y},d=Math.hypot(c.x,c.y),h=Math.hypot(u.x,u.y);if(d>0&&h>0){c.x/=d,c.y/=d,u.x/=h,u.y/=h;const p={x:(c.x+u.x)*.5,y:(c.y+u.y)*.5},f={x:-p.y,y:p.x},g=c.x*u.y-c.y*u.x>0,x=Math.abs(Math.atan2(u.y*c.x-u.x*c.y,u.x*c.x+u.y*c.y))*e*Math.min(d,h)*.1,w={x:f.x*x*(g?1:-.3),y:f.y*x*(g?1:-.3)};n.push({x:o.x+w.x,y:o.y+w.y})}else n.push(o)}return n}const sie=({placeholder:t,onUpdate:e,unit:r="in"})=>{var c,u,d,h,p,f;if(!t)return i.jsx("div",{className:"text-sm text-muted-foreground text-center py-4",children:"Select a placeholder to edit its properties"});const n=r==="cm"?"cm":'"',s=m=>m.toFixed(1),a=m=>{if(isNaN(m))return"0";const g=Math.round(m*10)/10;return g%1===0?g.toString():g.toFixed(1)},o=t.lockSize??!1,l=t.scale??1;return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted/50 rounded-lg border",children:[i.jsx(Un,{id:"lockSize",checked:o,onCheckedChange:m=>{e({lockSize:m===!0})}}),i.jsxs(je,{htmlFor:"lockSize",className:"text-sm font-medium leading-none cursor-pointer flex items-center gap-2",children:[o?i.jsx(kV,{className:"h-4 w-4"}):i.jsx(Jce,{className:"h-4 w-4"}),"Lock print size (inches)"]})]}),o&&i.jsx("div",{className:"text-xs text-muted-foreground bg-blue-50 dark:bg-blue-950/20 p-2 rounded border border-blue-200 dark:border-blue-900",children:"Print size is locked. Dragging handles will only change visual scale, not actual print dimensions."}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:"x",children:["X Position (",n,")"]}),i.jsx(rt,{id:"x",type:"number",value:a(t.xIn),onChange:m=>{const g=parseFloat(m.target.value);isNaN(g)||e({xIn:g})},step:"0.1"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:"y",children:["Y Position (",n,")"]}),i.jsx(rt,{id:"y",type:"number",value:a(t.yIn),onChange:m=>{const g=parseFloat(m.target.value);isNaN(g)||e({yIn:g})},step:"0.1"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:"width",children:["Width (",n,") ",o&&""]}),i.jsx(rt,{id:"width",type:"number",value:a(t.widthIn),onChange:m=>{const g=parseFloat(m.target.value);!isNaN(g)&&g>0&&e({widthIn:g,scale:1})},min:"0.1",step:"0.1",disabled:o})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(je,{htmlFor:"height",children:["Height (",n,") ",o&&""]}),i.jsx(rt,{id:"height",type:"number",value:a(t.heightIn),onChange:m=>{const g=parseFloat(m.target.value);!isNaN(g)&&g>0&&e({heightIn:g,scale:1})},min:"0.1",step:"0.1",disabled:o})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"rotation",children:"Rotation (degrees)"}),i.jsx(rt,{id:"rotation",type:"number",value:t.rotationDeg,onChange:m=>{const g=parseFloat(m.target.value);isNaN(g)||e({rotationDeg:g})},min:"0",max:"360",step:"1"})]}),l!==1&&i.jsx("div",{className:"pt-2 border-t",children:i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Visual scale: ",(l*100).toFixed(0),"%"]})}),i.jsx("div",{className:"pt-2 border-t",children:i.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["X: ",s(t.xIn),n," | Y: ",s(t.yIn),n," | W: ",s(t.widthIn),n," | H: ",s(t.heightIn),n," | R: ",t.rotationDeg,""]})}),t.shapeType==="polygon"&&t.polygonPoints&&t.polygonPoints.length>=3&&i.jsxs("div",{className:"pt-4 border-t space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(je,{className:"text-sm font-semibold",children:"Shape Refinement"}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{e({shapeRefinement:{smoothness:0,bulgeStrength:0,roundCorners:0},renderPolygonPoints:void 0})},className:"h-7 text-xs",children:[i.jsx(oue,{className:"h-3 w-3 mr-1"}),"Reset"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(je,{className:"text-xs",children:"Smoothness"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[((c=t.shapeRefinement)==null?void 0:c.smoothness)??0,"%"]})]}),i.jsx(Pp,{value:[((u=t.shapeRefinement)==null?void 0:u.smoothness)??0],onValueChange:([m])=>{const y={...t.shapeRefinement||{smoothness:0,bulgeStrength:0,roundCorners:0},smoothness:m},x=ES(t.polygonPoints,y);e({shapeRefinement:y,renderPolygonPoints:x})},min:0,max:100,step:1,className:"w-full"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"0 = original polygon, 100 = very smooth curve"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(je,{className:"text-xs",children:"Bulge Strength"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[((d=t.shapeRefinement)==null?void 0:d.bulgeStrength)??0,"%"]})]}),i.jsx(Pp,{value:[((h=t.shapeRefinement)==null?void 0:h.bulgeStrength)??0],onValueChange:([m])=>{const y={...t.shapeRefinement||{smoothness:0,bulgeStrength:0,roundCorners:0},bulgeStrength:m},x=ES(t.polygonPoints,y);e({shapeRefinement:y,renderPolygonPoints:x})},min:0,max:100,step:1,className:"w-full"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"0 = neutral, 100 = exaggerate convex regions"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(je,{className:"text-xs",children:"Round Corners"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[((p=t.shapeRefinement)==null?void 0:p.roundCorners)??0,"%"]})]}),i.jsx(Pp,{value:[((f=t.shapeRefinement)==null?void 0:f.roundCorners)??0],onValueChange:([m])=>{const y={...t.shapeRefinement||{smoothness:0,bulgeStrength:0,roundCorners:0},roundCorners:m},x=ES(t.polygonPoints,y);e({shapeRefinement:y,renderPolygonPoints:x})},min:0,max:100,step:1,className:"w-full"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"0 = sharp corners, 100 = very rounded"})]})]})]})]})},bJe=({views:t,onViewsChange:e,physicalWidth:r,physicalHeight:n,physicalLength:s,unit:a="in",displacementSettings:o,onDisplacementSettingsChange:l})=>{var T,R,I,L,U,$,q,G;const[c,u]=b.useState("front"),[d,h]=b.useState(new Set),{toast:p}=Uy(),f=t.find(W=>W.key===c)||{mockupImageUrl:"",placeholders:[]},m=b.useCallback(async(W,B)=>{h(O=>new Set(O).add(W));try{const O=await em.uploadImage(B,"mockups"),K=t.map(Y=>Y.key===W?{...Y,mockupImageUrl:O}:Y);t.find(Y=>Y.key===W)||K.push({key:W,mockupImageUrl:O,placeholders:[]}),e(K),p({title:"Upload successful",description:`Mockup image for ${W} view uploaded to S3 successfully`})}catch(O){console.error("Error uploading mockup image:",O),p({title:"Upload failed",description:`Failed to upload mockup image: ${O instanceof Error?O.message:"Unknown error"}`,variant:"destructive"})}finally{h(O=>{const K=new Set(O);return K.delete(W),K})}},[t,e,p]),g=b.useCallback(W=>{const B=t.map(O=>O.key===W?{...O,mockupImageUrl:"",placeholders:[]}:O);e(B)},[t,e]),y=b.useCallback(()=>{const K=(c==="left"||c==="right"?s||18:r||20)/2-6/2,Y=(n||24)/2-6/2,D={id:`${c}-${Date.now()}`,xIn:K,yIn:Y,widthIn:6,heightIn:6,rotationDeg:0,scale:1,lockSize:!1},Z=t.map(ie=>ie.key===c?{...ie,placeholders:[...ie.placeholders,D]}:ie);t.find(ie=>ie.key===c)||Z.push({key:c,mockupImageUrl:f.mockupImageUrl,placeholders:[D]}),e(Z)},[c,t,f.mockupImageUrl,e,r,n,s]),x=b.useCallback(W=>{const B=`${c}-${Date.now()}`,O={id:B,...W},K=t.map(Y=>Y.key===c?{...Y,placeholders:[...Y.placeholders,O]}:Y);return t.find(Y=>Y.key===c)||K.push({key:c,mockupImageUrl:f.mockupImageUrl,placeholders:[O]}),e(K),B},[c,t,f.mockupImageUrl,e]),w=b.useCallback((W,B)=>{const O=t.map(K=>K.key===c?{...K,placeholders:K.placeholders.map(Y=>Y.id===W?{...Y,...B}:Y)}:K);e(O)},[c,t,e]);b.useEffect(()=>{if(t.some(B=>B.placeholders.some(O=>O.shapeType==="polygon"&&O.polygonPoints&&O.polygonPoints.length>=3&&O.shapeRefinement&&(!O.renderPolygonPoints||O.renderPolygonPoints.length===0)))){const B=t.map(O=>({...O,placeholders:O.placeholders.map(K=>{if(K.shapeType==="polygon"&&K.polygonPoints&&K.polygonPoints.length>=3&&K.shapeRefinement&&(!K.renderPolygonPoints||K.renderPolygonPoints.length===0)){const Y=ES(K.polygonPoints,K.shapeRefinement);return{...K,renderPolygonPoints:Y}}return K})}));e(B)}},[t,e]);const S=b.useCallback(W=>{const B=t.map(O=>O.key===c?{...O,placeholders:O.placeholders.filter(K=>K.id!==W)}:O);e(B)},[c,t,e]),[N,C]=b.useState(null),A={front:((T=t.find(W=>W.key==="front"))==null?void 0:T.placeholders.length)||0,back:((R=t.find(W=>W.key==="back"))==null?void 0:R.placeholders.length)||0,left:((I=t.find(W=>W.key==="left"))==null?void 0:I.placeholders.length)||0,right:((L=t.find(W=>W.key==="right"))==null?void 0:L.placeholders.length)||0},k={front:((U=t.find(W=>W.key==="front"))==null?void 0:U.mockupImageUrl)||null,back:(($=t.find(W=>W.key==="back"))==null?void 0:$.mockupImageUrl)||null,left:((q=t.find(W=>W.key==="left"))==null?void 0:q.mockupImageUrl)||null,right:((G=t.find(W=>W.key==="right"))==null?void 0:G.mockupImageUrl)||null},E=f.placeholders.find(W=>W.id===N)||null;return i.jsxs("div",{className:"space-y-4",children:[i.jsx(rie,{views:["front","back","left","right"],activeView:c,viewImages:k,placeholderCounts:A,onViewChange:u,onImageUpload:m,onImageRemove:g,uploadingViews:d}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-4",children:[i.jsx(nie,{mockupImageUrl:f.mockupImageUrl,placeholders:f.placeholders,activePlaceholderId:N,onPlaceholderChange:w,onPlaceholderSelect:C,onPlaceholderAdd:y,onPlaceholderDelete:S,onLassoPlaceholderCreate:x,canvasWidth:800,canvasHeight:600,physicalWidth:c==="left"||c==="right"?s:r,physicalHeight:n,unit:a}),i.jsxs(Ze,{children:[i.jsx(yr,{children:i.jsx(vr,{className:"text-sm",children:"Placeholder Properties"})}),i.jsx(Tt,{children:i.jsx(sie,{placeholder:E,onUpdate:W=>{N&&w(N,W)},unit:a})})]})]})]})},eP=[{value:"lifestyle",label:"Lifestyle"},{value:"flat-front",label:"Flat Front"},{value:"flat-back",label:"Flat Back"},{value:"size-chart",label:"Size Chart"},{value:"detail",label:"Detail"},{value:"other",label:"Other"}],wJe=({images:t,onChange:e})=>{var q;const r=b.useRef(null),[n,s]=b.useState(null),[a,o]=b.useState(null),[l,c]=b.useState(null),[u,d]=b.useState(null),[h,p]=b.useState(""),[f,m]=b.useState(!1),[g,y]=b.useState(new Set),{toast:x}=Uy(),w=async G=>{const W=G.target.files;if(!W||W.length===0)return;const B=Array.from(W).filter(O=>O.type.startsWith("image/"));if(B.length===0){x({title:"Invalid file type",description:"Please select image files only",variant:"destructive"});return}try{const O=B.map(async D=>{const Z=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`;y(ie=>new Set(ie).add(Z));try{const ie=await em.uploadImage(D,"gallery"),he={id:`gallery-${Z}`,url:ie,position:t.length+B.indexOf(D),isPrimary:t.length===0&&B.indexOf(D)===0,imageType:"other",altText:""};return y(J=>{const ae=new Set(J);return ae.delete(Z),ae}),he}catch(ie){return console.error("Error uploading image:",ie),y(he=>{const J=new Set(he);return J.delete(Z),J}),x({title:"Upload failed",description:`Failed to upload ${D.name}: ${ie instanceof Error?ie.message:"Unknown error"}`,variant:"destructive"}),null}}),Y=(await Promise.all(O)).filter(D=>D!==null);if(Y.length>0){const D=t.map(Z=>({...Z,isPrimary:!1}));e([...D,...Y]),x({title:"Upload successful",description:`${Y.length} image(s) uploaded to S3 successfully`})}}catch(O){console.error("Error uploading images:",O),x({title:"Upload failed",description:"Failed to upload images. Please try again.",variant:"destructive"})}r.current&&(r.current.value="")},S=G=>{const W=t.find(K=>K.id===G),B=t.filter(K=>K.id!==G);W!=null&&W.isPrimary&&B.length>0&&(B[0].isPrimary=!0);const O=B.map((K,Y)=>({...K,position:Y}));e(O)},N=G=>{const W=t.map(B=>({...B,isPrimary:B.id===G}));e(W)},C=(G,W)=>{const B=t.map(O=>O.id===G?{...O,imageType:W}:O);e(B)},A=(G,W)=>{const B=t.map(O=>O.id===G?{...O,altText:W}:O);e(B)},k=(G,W)=>{s(G),m(!0),W.dataTransfer.effectAllowed="move",W.dataTransfer.setData("text/html","")},E=(G,W)=>{G.preventDefault(),G.dataTransfer.dropEffect="move",o(W)},T=()=>{o(null)},R=(G,W)=>{if(G.preventDefault(),n===null||n===W){s(null),o(null);return}const B=[...t].sort((Y,D)=>Y.position-D.position),[O]=B.splice(n,1);B.splice(W,0,O);const K=B.map((Y,D)=>({...Y,position:D}));e(K),s(null),o(null)},I=()=>{s(null),o(null),m(!1)},L=G=>{d(G),p(G.altText||"")},U=()=>{u&&(A(u.id,h),d(null),p(""))},$=[...t].sort((G,W)=>G.position-W.position);return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(pe,{type:"button",variant:"outline",onClick:()=>{var G;return(G=r.current)==null?void 0:G.click()},className:"gap-2",disabled:g.size>0,children:g.size>0?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"h-4 w-4 animate-spin"}),"Uploading to S3..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ll,{className:"h-4 w-4"}),"Upload Images"]})})}),i.jsx("input",{ref:r,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:w}),t.length===0?i.jsx(Ze,{children:i.jsxs(Tt,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(ll,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'No images uploaded yet. Click "Upload Images" to add product gallery images.'})]})}):i.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3",children:$.map((G,W)=>{var Y;const B=((Y=eP.find(D=>D.value===G.imageType))==null?void 0:Y.label)||"Other",O=n===W,K=a===W;return i.jsx(Ze,{className:dt("relative group overflow-hidden transition-all","hover:shadow-lg hover:scale-[1.02]",O&&"opacity-40 scale-95 z-50 cursor-grabbing",K&&"ring-2 ring-primary ring-offset-2 scale-[1.05]",!O&&"cursor-grab"),draggable:!0,onDragStart:D=>k(W,D),onDragOver:D=>E(D,W),onDragLeave:T,onDrop:D=>R(D,W),onDragEnd:I,children:i.jsxs("div",{className:"aspect-square relative bg-muted cursor-pointer",onClick:D=>{!O&&!D.target.closest("button")&&!D.target.closest('[role="combobox"]')&&c(G)},children:[i.jsx("img",{src:G.url,alt:G.altText||`Gallery image ${W+1}`,className:dt("w-full h-full object-cover transition-transform",!O&&"group-hover:scale-105",O&&"opacity-50"),draggable:!1}),G.isPrimary&&i.jsxs("div",{className:"absolute top-1.5 left-1.5 bg-primary/90 backdrop-blur-sm text-primary-foreground px-1.5 py-0.5 rounded text-[10px] font-medium flex items-center gap-0.5 shadow-sm",children:[i.jsx(mc,{className:"h-2.5 w-2.5 fill-current"}),"Primary"]}),G.imageType&&G.imageType!=="other"&&i.jsx("div",{className:"absolute top-1.5 right-1.5 bg-black/70 backdrop-blur-sm text-white px-1.5 py-0.5 rounded text-[10px] font-medium",children:B}),i.jsx("div",{className:"absolute top-1.5 right-1.5 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:i.jsx("div",{className:"bg-black/60 backdrop-blur-sm text-white p-1 rounded cursor-grab active:cursor-grabbing",children:i.jsx(NV,{className:"h-3 w-3"})})}),i.jsxs("div",{className:"absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2 p-2",children:[i.jsxs(pe,{type:"button",variant:"secondary",size:"sm",onClick:D=>{D.stopPropagation(),c(G)},className:"gap-2 w-full",children:[i.jsx(gh,{className:"h-3.5 w-3.5"}),"Preview"]}),i.jsxs(HM,{children:[i.jsx(VM,{asChild:!0,children:i.jsxs(pe,{type:"button",variant:"secondary",size:"sm",className:"gap-2 w-full",onClick:D=>D.stopPropagation(),children:[i.jsx(Gce,{className:"h-3.5 w-3.5"}),"More"]})}),i.jsxs(uC,{align:"end",onClick:D=>D.stopPropagation(),children:[!G.isPrimary&&i.jsxs(oh,{onClick:()=>N(G.id),className:"gap-2",children:[i.jsx(mc,{className:"h-4 w-4"}),"Set as Primary"]}),i.jsxs(oh,{onClick:()=>L(G),className:"gap-2",children:[i.jsx(sue,{className:"h-4 w-4"}),"Edit Alt Text"]}),i.jsx(y2,{}),i.jsxs(oh,{onClick:()=>S(G.id),className:"gap-2 text-destructive focus:text-destructive",children:[i.jsx(ol,{className:"h-4 w-4"}),"Delete"]})]})]}),i.jsxs(Er,{value:G.imageType||"other",onValueChange:D=>C(G.id,D),children:[i.jsx(Ar,{className:"w-full h-8 text-xs",onClick:D=>D.stopPropagation(),children:i.jsx(Tr,{})}),i.jsx(kr,{onClick:D=>D.stopPropagation(),children:eP.map(D=>i.jsx(at,{value:D.value,children:D.label},D.value))})]})]}),i.jsxs("div",{className:"absolute bottom-1.5 left-1.5 bg-black/60 backdrop-blur-sm text-white px-1.5 py-0.5 rounded text-[10px] font-medium",children:["#",G.position+1]})]})},G.id)})}),t.length>0&&i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 pt-2",children:[i.jsx("p",{children:" Drag images to reorder  Click to preview  One image must be marked as Primary"}),i.jsxs("p",{children:[" Total images: ",t.length]})]}),i.jsx(dl,{open:!!l,onOpenChange:G=>!G&&c(null),children:i.jsxs(Fo,{className:"max-w-4xl max-h-[90vh] p-0",children:[i.jsx(Bo,{className:"px-6 pt-6 pb-4",children:i.jsxs($o,{className:"flex items-center gap-2",children:[i.jsx(ca,{className:"h-5 w-5"}),"Image Preview",(l==null?void 0:l.isPrimary)&&i.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-0.5 rounded",children:"Primary"})]})}),l&&i.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[i.jsx("div",{className:"relative bg-muted rounded-lg overflow-hidden",children:i.jsx("img",{src:l.url,alt:l.altText||"Preview",className:"w-full h-auto max-h-[70vh] object-contain mx-auto"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-xs text-muted-foreground",children:"Image Type"}),i.jsx("p",{className:"font-medium",children:((q=eP.find(G=>G.value===l.imageType))==null?void 0:q.label)||"Other"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-xs text-muted-foreground",children:"Position"}),i.jsxs("p",{className:"font-medium",children:["#",l.position+1]})]}),l.altText&&i.jsxs("div",{className:"col-span-2",children:[i.jsx(je,{className:"text-xs text-muted-foreground",children:"Alt Text"}),i.jsx("p",{className:"font-medium",children:l.altText})]})]})]})]})}),i.jsx(dl,{open:!!u,onOpenChange:G=>!G&&d(null),children:i.jsxs(Fo,{children:[i.jsx(Bo,{children:i.jsx($o,{children:"Edit Alt Text"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"altText",children:"Alt Text"}),i.jsx(rt,{id:"altText",value:h,onChange:G=>p(G.target.value),placeholder:"Enter alt text for accessibility...",onKeyDown:G=>{G.key==="Enter"&&G.metaKey&&U()}}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe the image for screen readers and SEO"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(pe,{variant:"outline",onClick:()=>d(null),children:"Cancel"}),i.jsx(pe,{onClick:U,children:"Save"})]})]})]})})]})};var i7="Radio",[jJe,iie]=ma(i7),[SJe,NJe]=jJe(i7),aie=b.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=t,[h,p]=b.useState(null),f=Lr(e,y=>p(y)),m=b.useRef(!1),g=h?u||!!h.closest("form"):!0;return i.jsxs(SJe,{scope:r,checked:s,disabled:o,children:[i.jsx(ir.button,{type:"button",role:"radio","aria-checked":s,"data-state":uie(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:f,onClick:Ft(t.onClick,y=>{s||c==null||c(),g&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})}),g&&i.jsx(cie,{control:h,bubbles:!m.current,name:n,value:l,checked:s,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});aie.displayName=i7;var oie="RadioIndicator",lie=b.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,a=NJe(oie,r);return i.jsx(Fa,{present:n||a.checked,children:i.jsx(ir.span,{"data-state":uie(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})})});lie.displayName=oie;var CJe="RadioBubbleInput",cie=b.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...s},a)=>{const o=b.useRef(null),l=Lr(o,a),c=jw(r),u=yw(e);return b.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const m=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(m)}},[c,r,n]),i.jsx(ir.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cie.displayName=CJe;function uie(t){return t?"checked":"unchecked"}var _Je=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],o_="RadioGroup",[AJe]=ma(o_,[iv,iie]),die=iv(),hie=iie(),[kJe,PJe]=AJe(o_),fie=b.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...p}=t,f=die(r),m=am(u),[g,y]=cl({prop:a,defaultProp:s??null,onChange:h,caller:o_});return i.jsx(kJe,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:y,children:i.jsx(jM,{asChild:!0,...f,orientation:c,dir:m,loop:d,children:i.jsx(ir.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:m,...p,ref:e})})})});fie.displayName=o_;var pie="RadioGroupItem",mie=b.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,a=PJe(pie,r),o=a.disabled||n,l=die(r),c=hie(r),u=b.useRef(null),d=Lr(e,u),h=a.value===s.value,p=b.useRef(!1);return b.useEffect(()=>{const f=g=>{_Je.includes(g.key)&&(p.current=!0)},m=()=>p.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",m),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",m)}},[]),i.jsx(SM,{asChild:!0,...l,focusable:!o,active:h,children:i.jsx(aie,{disabled:o,required:a.required,checked:h,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:Ft(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:Ft(s.onFocus,()=>{var f;p.current&&((f=u.current)==null||f.click())})})})});mie.displayName=pie;var EJe="RadioGroupIndicator",gie=b.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=hie(r);return i.jsx(lie,{...s,...n,ref:e})});gie.displayName=EJe;var xie=fie,yie=mie,TJe=gie;const Ww=b.forwardRef(({className:t,...e},r)=>i.jsx(xie,{className:dt("grid gap-2",t),...e,ref:r}));Ww.displayName=xie.displayName;const xc=b.forwardRef(({className:t,...e},r)=>i.jsx(yie,{ref:r,className:dt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(TJe,{className:"flex items-center justify-center",children:i.jsx(uI,{className:"h-2.5 w-2.5 fill-current text-current"})})}));xc.displayName=yie.displayName;const IJe=({data:t,onChange:e})=>{var r;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-base font-semibold",children:"Package dimension"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Charge additional shipping costs based on packet dimensions covered here."})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"packageWidth",children:"Width"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rt,{id:"packageWidth",type:"number",placeholder:"0",value:t.packageWidthCm||"",onChange:n=>e({...t,packageWidthCm:parseFloat(n.target.value)||0}),min:"0",step:"0.1"}),i.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"cm"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"packageHeight",children:"Height"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rt,{id:"packageHeight",type:"number",placeholder:"0",value:t.packageHeightCm||"",onChange:n=>e({...t,packageHeightCm:parseFloat(n.target.value)||0}),min:"0",step:"0.1"}),i.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"cm"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"packageDepth",children:"Depth"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rt,{id:"packageDepth",type:"number",placeholder:"0",value:t.packageLengthCm||"",onChange:n=>e({...t,packageLengthCm:parseFloat(n.target.value)||0}),min:"0",step:"0.1"}),i.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"cm"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"packageWeight",children:"Weight"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rt,{id:"packageWeight",type:"number",placeholder:"0",value:t.packageWeightGrams?(t.packageWeightGrams/1e3).toFixed(1):"",onChange:n=>{const s=parseFloat(n.target.value)||0;e({...t,packageWeightGrams:s*1e3})},min:"0",step:"0.1"}),i.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Kg"})]})]})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(je,{className:"text-base font-semibold",children:"Delivery time"}),i.jsx(rN,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Ww,{value:t.deliveryTimeOption||"specific",onValueChange:n=>e({...t,deliveryTimeOption:n}),children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xc,{value:"none",id:"delivery-none"}),i.jsx(je,{htmlFor:"delivery-none",className:"font-normal cursor-pointer",children:"None"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xc,{value:"default",id:"delivery-default"}),i.jsx(je,{htmlFor:"delivery-default",className:"font-normal cursor-pointer",children:"Default delivery time: N/A - N/A Edit delivery time"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xc,{value:"specific",id:"delivery-specific"}),i.jsx(je,{htmlFor:"delivery-specific",className:"font-normal cursor-pointer",children:"Specific delivery time to this product"})]})]}),t.deliveryTimeOption==="specific"&&i.jsxs("div",{className:"space-y-4 ml-6 mt-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"inStockDelivery",children:"Delivery time of in-stock products:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rt,{id:"inStockDelivery",placeholder:"e.g., Delivered within 3-4 days",value:t.inStockDeliveryTime||"",onChange:n=>e({...t,inStockDeliveryTime:n.target.value})}),i.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"en"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"outOfStockDelivery",children:"Delivery time of out-of-stock products with allowed orders:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rt,{id:"outOfStockDelivery",placeholder:"e.g., Delivered within 5-7 days",value:t.outOfStockDeliveryTime||"",onChange:n=>e({...t,outOfStockDeliveryTime:n.target.value})}),i.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"en"})]})]})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(je,{className:"text-base font-semibold",children:"Shipping fees"}),i.jsx(rN,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs("div",{children:[i.jsx(je,{className:"text-sm text-muted-foreground",children:"Additional shipping costs"}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("span",{className:"text-sm",children:""}),i.jsx(rt,{type:"number",placeholder:"0.000000",value:t.additionalShippingCost||"",onChange:n=>e({...t,additionalShippingCost:parseFloat(n.target.value)||0}),min:"0",step:"0.01",className:"max-w-xs"})]})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(je,{className:"text-base font-semibold",children:"Available carriers"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(pe,{type:"button",variant:t.carrierSelection==="selected"?"default":"outline",onClick:()=>e({...t,carrierSelection:"selected"}),size:"sm",children:["Only selected carriers (",((r=t.selectedCarriers)==null?void 0:r.length)||0,")"]}),i.jsx(pe,{type:"button",variant:t.carrierSelection==="all"?"default":"outline",onClick:()=>e({...t,carrierSelection:"all"}),size:"sm",children:"All carriers"})]}),t.carrierSelection==="selected"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-sm",children:"Select carriers:"}),i.jsx("div",{className:"space-y-2",children:["Standard Shipping (3 - 7 business days)","Express Shipping (1 - 2 business days)","Overnight Shipping"].map(n=>{var s;return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`carrier-${n}`,checked:((s=t.selectedCarriers)==null?void 0:s.includes(n))||!1,onChange:a=>{const o=t.selectedCarriers||[];a.target.checked?e({...t,selectedCarriers:[...o,n]}):e({...t,selectedCarriers:o.filter(l=>l!==n)})},className:"rounded"}),i.jsx(je,{htmlFor:`carrier-${n}`,className:"font-normal cursor-pointer text-sm",children:n})]},n)})})]})]})]})},MJe=["All currencies","INR","USD","EUR","GBP"],OJe=["All countries","IN","US","UK","CA"],LJe=["All groups","Guest","Customer","VIP","Wholesale"],RJe=["All stores","Main Store","Store 2"],DJe=["All combinations"],FJe=({open:t,onClose:e,onSave:r,specificPrice:n=null,taxRate:s=0})=>{const[a,o]=b.useState({id:(n==null?void 0:n.id)||`sp_${Date.now()}`,combination:(n==null?void 0:n.combination)||"All combinations",currency:(n==null?void 0:n.currency)||"All currencies",country:(n==null?void 0:n.country)||"All countries",group:(n==null?void 0:n.group)||"All groups",store:(n==null?void 0:n.store)||"All stores",customer:(n==null?void 0:n.customer)||"",applyToAllCustomers:(n==null?void 0:n.applyToAllCustomers)??!0,minQuantity:(n==null?void 0:n.minQuantity)||1,startDate:(n==null?void 0:n.startDate)||"",endDate:(n==null?void 0:n.endDate)||"",isUnlimited:(n==null?void 0:n.isUnlimited)??!1,useDiscount:(n==null?void 0:n.useDiscount)??!1,discountValue:(n==null?void 0:n.discountValue)||0,discountType:(n==null?void 0:n.discountType)||"percentage",discountTaxMode:(n==null?void 0:n.discountTaxMode)||"tax_excluded",useSpecificPrice:(n==null?void 0:n.useSpecificPrice)??!1,specificPriceTaxExcl:(n==null?void 0:n.specificPriceTaxExcl)||0});b.useEffect(()=>{o(n||{id:`sp_${Date.now()}`,combination:"All combinations",currency:"All currencies",country:"All countries",group:"All groups",store:"All stores",customer:"",applyToAllCustomers:!0,minQuantity:1,startDate:"",endDate:"",isUnlimited:!1,useDiscount:!1,discountValue:0,discountType:"percentage",discountTaxMode:"tax_excluded",useSpecificPrice:!1,specificPriceTaxExcl:0})},[n,t]);const l=()=>{if(!a.useDiscount&&!a.useSpecificPrice){alert("Please select at least one impact on price: discount or specific price");return}const c={...a,specificPriceTaxIncl:a.specificPriceTaxExcl&&a.specificPriceTaxExcl>0?a.specificPriceTaxExcl*(1+(s||0)/100):void 0,discountTaxIncl:a.useDiscount&&a.discountValue&&a.discountValue>0?a.discountType==="amount"?a.discountValue*(1+(s||0)/100):a.discountValue:void 0};r(c),e()};return i.jsx(dl,{open:t,onOpenChange:e,children:i.jsxs(Fo,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Bo,{children:i.jsx($o,{children:n?"Edit specific price":"Add a specific price"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Apply to"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"currency",children:"Currency"}),i.jsxs(Er,{value:a.currency,onValueChange:c=>o({...a,currency:c}),children:[i.jsx(Ar,{id:"currency",children:i.jsx(Tr,{})}),i.jsx(kr,{children:MJe.map(c=>i.jsx(at,{value:c,children:c},c))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"country",children:"Country"}),i.jsxs(Er,{value:a.country,onValueChange:c=>o({...a,country:c}),children:[i.jsx(Ar,{id:"country",children:i.jsx(Tr,{})}),i.jsx(kr,{children:OJe.map(c=>i.jsx(at,{value:c,children:c},c))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"group",children:"Group"}),i.jsxs(Er,{value:a.group,onValueChange:c=>o({...a,group:c}),children:[i.jsx(Ar,{id:"group",children:i.jsx(Tr,{})}),i.jsx(kr,{children:LJe.map(c=>i.jsx(at,{value:c,children:c},c))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"store",children:"Store"}),i.jsxs(Er,{value:a.store,onValueChange:c=>o({...a,store:c}),children:[i.jsx(Ar,{id:"store",children:i.jsx(Tr,{})}),i.jsx(kr,{children:RJe.map(c=>i.jsx(at,{value:c,children:c},c))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xs,{checked:a.applyToAllCustomers,onCheckedChange:c=>o({...a,applyToAllCustomers:c,customer:""})}),i.jsx(je,{children:"Apply to all customers"})]}),!a.applyToAllCustomers&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"customer",children:"Search customer"}),i.jsx(rt,{id:"customer",placeholder:"Search for customer email or ID",value:a.customer||"",onChange:c=>o({...a,customer:c.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"combination",children:"Combination"}),i.jsxs(Er,{value:a.combination||"All combinations",onValueChange:c=>o({...a,combination:c}),children:[i.jsx(Ar,{id:"combination",children:i.jsx(Tr,{})}),i.jsx(kr,{children:DJe.map(c=>i.jsx(at,{value:c,children:c},c))})]})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"minQuantity",children:"Units (minimum number of units purchased)"}),i.jsx(rt,{id:"minQuantity",type:"number",min:"1",value:a.minQuantity||1,onChange:c=>o({...a,minQuantity:parseInt(c.target.value)||1})})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Duration"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xs,{checked:a.isUnlimited,onCheckedChange:c=>o({...a,isUnlimited:c,startDate:"",endDate:""})}),i.jsx(je,{children:"Unlimited"})]}),!a.isUnlimited&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"startDate",children:"Start date"}),i.jsx(rt,{id:"startDate",type:"date",value:a.startDate||"",onChange:c=>o({...a,startDate:c.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"endDate",children:"End date"}),i.jsx(rt,{id:"endDate",type:"date",value:a.endDate||"",onChange:c=>o({...a,endDate:c.target.value}),min:a.startDate||void 0})]})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Impact on price"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xs,{checked:a.useDiscount,onCheckedChange:c=>o({...a,useDiscount:c})}),i.jsx(je,{children:"Apply a discount to the initial price"})]}),a.useDiscount&&i.jsxs("div",{className:"grid grid-cols-3 gap-4 ml-8",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"discountValue",children:"Discount value"}),i.jsx(rt,{id:"discountValue",type:"number",step:"0.01",min:"0",value:a.discountValue||"",onChange:c=>o({...a,discountValue:parseFloat(c.target.value)||0})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"discountType",children:"Discount type"}),i.jsxs(Er,{value:a.discountType||"percentage",onValueChange:c=>o({...a,discountType:c}),children:[i.jsx(Ar,{id:"discountType",children:i.jsx(Tr,{})}),i.jsxs(kr,{children:[i.jsx(at,{value:"amount",children:"Amount"}),i.jsx(at,{value:"percentage",children:"Percentage"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"discountTaxMode",children:"Tax mode"}),i.jsxs(Er,{value:a.discountTaxMode||"tax_excluded",onValueChange:c=>o({...a,discountTaxMode:c}),children:[i.jsx(Ar,{id:"discountTaxMode",children:i.jsx(Tr,{})}),i.jsxs(kr,{children:[i.jsx(at,{value:"tax_excluded",children:"Tax excluded"}),i.jsx(at,{value:"tax_included",children:"Tax included"})]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xs,{checked:a.useSpecificPrice,onCheckedChange:c=>o({...a,useSpecificPrice:c})}),i.jsx(je,{children:"Set specific price"})]}),a.useSpecificPrice&&i.jsxs("div",{className:"space-y-2 ml-8",children:[i.jsx(je,{htmlFor:"specificPriceTaxExcl",children:"Retail price (tax excl.)"}),i.jsx(rt,{id:"specificPriceTaxExcl",type:"number",step:"0.01",min:"0",value:a.specificPriceTaxExcl||"",onChange:c=>o({...a,specificPriceTaxExcl:parseFloat(c.target.value)||0})})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i.jsx(pe,{variant:"outline",onClick:e,children:"Cancel"}),i.jsx(pe,{onClick:l,children:"Save and publish"})]})]})]})})},BJe=[0,5,12,18],$Je=({data:t,variants:e,onChange:r})=>{const[n,s]=b.useState(!1),[a,o]=b.useState(null);b.useEffect(()=>{t.gst||r({...t,gst:{slab:18,mode:"EXCLUSIVE",hsn:""}})},[t,r]);const l=t.gst||{slab:18,mode:"EXCLUSIVE",hsn:""},c=b.useMemo(()=>{if(!e||e.length===0)return null;const p=e.map(y=>y.price).filter(y=>y!==void 0&&y>0);if(p.length===0)return null;const f=Math.min(...p),m=Math.max(...p),g=y=>{if(l.mode==="EXCLUSIVE"){const x=y*(l.slab/100);return{initial:y,gst:x,final:y+x}}else{const x=y/(1+l.slab/100);return{initial:y,gst:y-x,final:y}}};return{min:g(f),max:g(m),count:e.length}},[e,l]),u=p=>{r({...t,gst:{...l,...p}})},d=p=>{const f=t.specificPrices||[],m=f.findIndex(y=>y.id===p.id);let g;m>=0?(g=[...f],g[m]=p):g=[...f,p],r({...t,specificPrices:g}),o(null)},h=p=>{if(confirm("Are you sure you want to delete this specific price?")){const f=(t.specificPrices||[]).filter(m=>m.id!==p);r({...t,specificPrices:f})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-1",children:"GST Configuration"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure GST settings for this product"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"gstSlab",children:"GST Slab *"}),i.jsxs(Er,{value:String(l.slab),onValueChange:p=>u({slab:parseInt(p)}),children:[i.jsx(Ar,{id:"gstSlab",children:i.jsx(Tr,{placeholder:"Select GST Slab"})}),i.jsx(kr,{children:BJe.map(p=>i.jsxs(at,{value:String(p),children:[p,"% GST Slab"]},p))})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(je,{children:"GST Mode *"}),i.jsxs(Ww,{value:l.mode,onValueChange:p=>u({mode:p}),className:"flex gap-4 pt-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xc,{value:"EXCLUSIVE",id:"mode-exclusive"}),i.jsx(je,{htmlFor:"mode-exclusive",className:"font-normal cursor-pointer",children:"Tax Exclusive"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xc,{value:"INCLUSIVE",id:"mode-inclusive"}),i.jsx(je,{htmlFor:"mode-inclusive",className:"font-normal cursor-pointer",children:"Tax Inclusive"})]})]}),i.jsx("p",{className:"text-[10px] text-muted-foreground pt-1",children:l.mode==="EXCLUSIVE"?"GST will be added ON TOP of variant prices.":"Variant prices already INCLUDE GST."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"hsnCode",children:"HSN Code (Optional)"}),i.jsx(rt,{id:"hsnCode",placeholder:"e.g., 6109",value:l.hsn||"",onChange:p=>u({hsn:p.target.value})})]})]}),i.jsxs(Rg,{className:"bg-primary/5 border-primary/20",children:[i.jsx(nN,{className:"h-4 w-4 text-primary"}),i.jsx(Dg,{className:"text-xs text-primary/80",children:"GST will apply on top of variant prices (after specific price rules if any)."})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Pricing Summary"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Summary based on variant prices set in Step 3"})]}),c?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{label:"Minimum Price",data:c.min},{label:"Maximum Price",data:c.max}].map((p,f)=>i.jsxs(Ze,{className:"p-4 bg-muted/30",children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase tracking-wider",children:p.label}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Base Price:"}),i.jsxs("span",{className:"text-lg font-semibold",children:["",p.data.initial.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:["GST (",l.slab,"%):"]}),i.jsxs("span",{className:"text-sm font-medium text-primary",children:[l.mode==="EXCLUSIVE"?"+":"","",p.data.gst.toFixed(2)]})]}),i.jsx(ln,{className:"my-1"}),i.jsxs("div",{className:"flex justify-between items-end pt-1",children:[i.jsx("span",{className:"text-sm font-bold",children:"Final Price:"}),i.jsxs("span",{className:"text-xl font-bold",children:["",p.data.final.toFixed(2)]})]})]})]},f))}):i.jsx("div",{className:"p-4 border border-dashed rounded-lg text-center text-muted-foreground",children:"No variant prices found. Please set prices in Step 3."}),l.mode==="EXCLUSIVE"&&i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 italic",children:[i.jsx(nN,{className:"h-3 w-3"}),"Base price is set per variant in Step 3. These prices exclude GST."]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Cost Price"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Your cost for this product (internal use)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"costPriceTaxExcl",children:"Cost price (tax excl.)"}),i.jsx(rt,{id:"costPriceTaxExcl",type:"number",step:"0.01",placeholder:"0.00",value:t.costPriceTaxExcl||"",onChange:p=>r({...t,costPriceTaxExcl:parseFloat(p.target.value)||0})})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Specific prices"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Set specific prices and bulk discounts for different conditions"})]}),i.jsxs(pe,{type:"button",onClick:()=>s(!0),className:"gap-2",children:[i.jsx(ha,{className:"h-4 w-4"}),"Add a specific price"]})]}),t.specificPrices&&t.specificPrices.length>0?i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{className:"w-12",children:"ID"}),i.jsx(Rt,{children:"Combination"}),i.jsx(Rt,{children:"Currency"}),i.jsx(Rt,{children:"Country"}),i.jsx(Rt,{children:"Group"}),i.jsx(Rt,{children:"Store"}),i.jsx(Rt,{children:"Customer"}),i.jsx(Rt,{children:"Specific price (tax excl.)"}),i.jsx(Rt,{children:"Discount (tax incl.)"}),i.jsx(Rt,{children:"Duration"}),i.jsx(Rt,{children:"Units"}),i.jsx(Rt,{className:"w-24",children:"Actions"})]})}),i.jsx(Mo,{children:t.specificPrices.map((p,f)=>i.jsxs(An,{children:[i.jsx(Lt,{className:"font-mono text-xs",children:f+1}),i.jsx(Lt,{children:p.combination||"All combinations"}),i.jsx(Lt,{children:p.currency||"All currencies"}),i.jsx(Lt,{children:p.country||"All countries"}),i.jsx(Lt,{children:p.group||"All groups"}),i.jsx(Lt,{children:p.store||"All stores"}),i.jsx(Lt,{children:p.applyToAllCustomers?"All customers":p.customer||""}),i.jsx(Lt,{children:p.useSpecificPrice&&p.specificPriceTaxExcl?`${p.specificPriceTaxExcl.toFixed(2)}`:""}),i.jsx(Lt,{children:p.useDiscount&&p.discountValue?`${p.discountType==="percentage"?p.discountValue+"%":`${p.discountValue.toFixed(2)}`}`:""}),i.jsx(Lt,{children:p.isUnlimited?"Unlimited":p.startDate&&p.endDate?`${p.startDate}  ${p.endDate}`:""}),i.jsx(Lt,{children:p.minQuantity||1}),i.jsx(Lt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>{o(p),s(!0)},className:"h-8 w-8 p-0",children:i.jsx(iue,{className:"h-4 w-4"})}),i.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(p.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:i.jsx(ol,{className:"h-4 w-4"})})]})})]},p.id))})]})}):i.jsxs("div",{className:"border rounded-lg p-8 text-center text-muted-foreground",children:[i.jsx("p",{children:"No specific prices defined yet."}),i.jsx("p",{className:"text-sm mt-1",children:'Click "Add a specific price" to create your first pricing rule.'})]})]}),i.jsx(FJe,{open:n,onClose:()=>{s(!1),o(null)},onSave:d,specificPrice:a,taxRate:t.taxRate})]})},zJe=({data:t,onChange:e})=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(je,{htmlFor:"minimumQuantity",children:"Minimum quantity for sale"}),i.jsx(rN,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(rt,{id:"minimumQuantity",type:"number",min:"1",placeholder:"1",value:t.minimumQuantity||"",onChange:r=>e({...t,minimumQuantity:parseInt(r.target.value)||1})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"The minimum quantity customers must order for this product"})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"stockLocation",children:"Stock location"}),i.jsx(rt,{id:"stockLocation",type:"text",placeholder:"Enter stock location",value:t.stockLocation||"",onChange:r=>e({...t,stockLocation:r.target.value})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Warehouse or location where this product is stored"})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(je,{htmlFor:"lowStockAlert",children:"Receive a low stock alert by email"}),i.jsx(rN,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xs,{id:"lowStockAlert",checked:t.lowStockAlertEnabled||!1,onCheckedChange:r=>e({...t,lowStockAlertEnabled:r})}),i.jsx(je,{children:t.lowStockAlertEnabled?"Yes":"No"})]})]}),t.lowStockAlertEnabled&&i.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-primary/20",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"lowStockEmail",children:"Email address"}),i.jsx(rt,{id:"lowStockEmail",type:"email",placeholder:"alert@example.com",value:t.lowStockAlertEmail||"",onChange:r=>e({...t,lowStockAlertEmail:r.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"lowStockThreshold",children:"Low stock threshold"}),i.jsx(rt,{id:"lowStockThreshold",type:"number",min:"1",placeholder:"10",value:t.lowStockThreshold||"",onChange:r=>e({...t,lowStockThreshold:parseInt(r.target.value)||0})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Alert will be sent when stock falls below this quantity"})]})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-base font-semibold",children:"When out of stock"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Define the product's behavior when stock runs out"})]}),i.jsxs(Ww,{value:t.outOfStockBehavior||"default",onValueChange:r=>e({...t,outOfStockBehavior:r}),children:[i.jsxs("div",{className:"flex items-center space-x-2 space-y-1",children:[i.jsx(xc,{value:"deny",id:"deny-orders"}),i.jsx(je,{htmlFor:"deny-orders",className:"font-normal cursor-pointer",children:"Deny orders"})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-y-1",children:[i.jsx(xc,{value:"allow",id:"allow-orders"}),i.jsx(je,{htmlFor:"allow-orders",className:"font-normal cursor-pointer",children:"Allow orders"})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-y-1",children:[i.jsx(xc,{value:"default",id:"default-behavior"}),i.jsx(je,{htmlFor:"default-behavior",className:"font-normal cursor-pointer",children:"Use default behavior (Allow orders)"})]})]}),i.jsx("div",{className:"text-sm",children:i.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Edit default behavior"})})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"currentStock",children:"Current stock quantity (optional)"}),i.jsx(rt,{id:"currentStock",type:"number",min:"0",placeholder:"0",value:t.currentStock||"",onChange:r=>e({...t,currentStock:parseInt(r.target.value)||void 0})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Current available quantity. This may be managed separately in inventory management."})]})]}),UJe=({data:t,onChange:e})=>{const[r,n]=b.useState(""),s=()=>{var o;r.trim()&&!((o=t.suppliers)!=null&&o.includes(r.trim()))&&(e({...t,suppliers:[...t.suppliers||[],r.trim()]}),n(""))},a=o=>{var l;e({...t,suppliers:((l=t.suppliers)==null?void 0:l.filter(c=>c!==o))||[]})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-base font-semibold",children:"Visibility"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Where do you want your product to appear?"})]}),i.jsxs(Ww,{value:t.visibility||"everywhere",onValueChange:o=>e({...t,visibility:o}),children:[i.jsxs("div",{className:"flex items-center space-x-2 space-y-1",children:[i.jsx(xc,{value:"everywhere",id:"everywhere"}),i.jsx(je,{htmlFor:"everywhere",className:"font-normal cursor-pointer",children:"Everywhere"})]}),i.jsx("p",{className:"text-xs text-muted-foreground ml-6",children:"Customers can access the product by browsing the catalog, using the search bar, or the link."}),i.jsxs("div",{className:"flex items-center space-x-2 space-y-1 mt-2",children:[i.jsx(xc,{value:"catalog",id:"catalog-only"}),i.jsx(je,{htmlFor:"catalog-only",className:"font-normal cursor-pointer",children:"Catalog only"})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-y-1 mt-2",children:[i.jsx(xc,{value:"search",id:"search-only"}),i.jsx(je,{htmlFor:"search-only",className:"font-normal cursor-pointer",children:"Search only"})]}),i.jsxs("div",{className:"flex items-center space-x-2 space-y-1 mt-2",children:[i.jsx(xc,{value:"nowhere",id:"nowhere"}),i.jsx(je,{htmlFor:"nowhere",className:"font-normal cursor-pointer",children:"Nowhere"})]})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(je,{htmlFor:"availableForOrder",className:"text-base font-semibold",children:"Available for order"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Allow customers to purchase this product"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xs,{id:"availableForOrder",checked:t.availableForOrder!==!1,onCheckedChange:o=>e({...t,availableForOrder:o})}),i.jsx(je,{children:t.availableForOrder!==!1?"Yes":"No"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:"applyOrderAllStores",defaultChecked:!1}),i.jsx(je,{htmlFor:"applyOrderAllStores",className:"font-normal text-sm",children:"Apply changes to all stores"})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(je,{htmlFor:"showPrice",className:"text-base font-semibold",children:"Show price"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Display price to customers on the product page"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xs,{id:"showPrice",checked:t.showPrice||!1,onCheckedChange:o=>e({...t,showPrice:o})}),i.jsx(je,{children:t.showPrice?"Yes":"No"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Un,{id:"applyPriceAllStores",defaultChecked:!1}),i.jsx(je,{htmlFor:"applyPriceAllStores",className:"font-normal text-sm",children:"Apply changes to all stores"})]})]}),i.jsx(ln,{}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(je,{htmlFor:"webOnly",className:"text-base font-semibold",children:"Web only (not sold in your retail store)"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This product is only available online, not in physical retail locations"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xs,{id:"webOnly",checked:t.webOnly||!1,onCheckedChange:o=>e({...t,webOnly:o})}),i.jsx(je,{children:t.webOnly?"Yes":"No"})]})]})}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(je,{className:"text-base font-semibold",children:"Suppliers"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Choose the suppliers associated with this product"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(rt,{placeholder:"Enter supplier name",value:r,onChange:o=>n(o.target.value),onKeyPress:o=>o.key==="Enter"&&s()}),i.jsxs(pe,{type:"button",onClick:s,variant:"secondary",size:"sm",className:"gap-2",children:[i.jsx(ha,{className:"h-4 w-4"}),"Add"]})]}),t.suppliers&&t.suppliers.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:t.suppliers.map(o=>i.jsxs(Ot,{variant:"secondary",className:"gap-1",children:[o,i.jsx("button",{onClick:()=>a(o),className:"ml-1 hover:text-destructive",children:i.jsx(Ri,{className:"h-3 w-3"})})]},o))})]})]})},WJe=({data:t,onChange:e})=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"mpn",children:"MPN (Manufacturer Part Number)"}),i.jsx(rt,{id:"mpn",type:"text",placeholder:"Enter MPN",value:t.mpn||"",onChange:r=>e({...t,mpn:r.target.value})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Manufacturer Part Number helps identify the product"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"upc",children:"UPC Barcode"}),i.jsx(rt,{id:"upc",type:"text",placeholder:"Enter UPC barcode",value:t.upc||"",onChange:r=>e({...t,upc:r.target.value}),maxLength:12}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Universal Product Code (12 digits)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"ean13",children:"EAN-13 or JAN Barcode"}),i.jsx(rt,{id:"ean13",type:"text",placeholder:"Enter EAN-13 or JAN barcode",value:t.ean13||"",onChange:r=>e({...t,ean13:r.target.value}),maxLength:13}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"European Article Number or Japanese Article Number (13 digits)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"isbn",children:"ISBN"}),i.jsx(rt,{id:"isbn",type:"text",placeholder:"Enter ISBN",value:t.isbn||"",onChange:r=>e({...t,isbn:r.target.value}),maxLength:17}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"International Standard Book Number (for books only)"})]})]}),GJe=({sampleMockups:t,onSampleMockupsChange:e,availableColors:r=[],selectedColorKey:n,onColorChange:s,physicalWidth:a=20,physicalHeight:o=24,physicalLength:l=18,unit:c="in",variants:u=[]})=>{var O,K,Y,D,Z,ie,he;const[d,h]=b.useState("front"),[p,f]=b.useState(null),[m,g]=b.useState(null),[y,x]=b.useState(new Set),{toast:w}=Uy(),S=t.filter(J=>J.viewKey===d&&(!J.colorKey||J.colorKey===n));!p&&S.length>0||p&&!S.find(J=>J.id===p)&&S.length>0?f(S[0].id):S.length===0&&p&&f(null);const N=t.find(J=>J.id===p)||null,C=((O=N==null?void 0:N.placeholders)==null?void 0:O.find(J=>J.id===m))||null,A={scaleX:20,scaleY:20,contrastBoost:1.5},k=b.useCallback(async(J,ae)=>{x(ne=>new Set(ne).add(J));try{const ne=await em.uploadImage(ae,"sample-mockups"),se={id:`mockup-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,viewKey:J,colorKey:n,imageUrl:ne,placeholders:[],metadata:{imageType:"other",caption:ae.name,order:S.length}};e([...t,se]),f(se.id),w({title:"Upload successful",description:`Sample mockup for ${J} view uploaded successfully`})}catch(ne){console.error("Error uploading sample mockup:",ne),w({title:"Upload failed",description:`Failed to upload image: ${ne instanceof Error?ne.message:"Unknown error"}`,variant:"destructive"})}finally{x(ne=>{const se=new Set(ne);return se.delete(J),se})}},[t,e,S.length,w]),E=b.useCallback(J=>{const ae=t.filter(ne=>ne.id!==J);e(ae),p===J&&f(null)},[t,e,p]),T=b.useCallback(J=>{const ae=t.filter(ne=>ne.viewKey!==J);e(ae)},[t,e]),R=b.useCallback(()=>{if(!N)return;const J=6,ae=6,se=(d==="left"||d==="right"?l:a)/2-J/2,Q=o/2-ae/2,re={id:`${d}-${Date.now()}`,xIn:se,yIn:Q,widthIn:J,heightIn:ae,rotationDeg:0,scale:1,lockSize:!1},le=t.map(ve=>ve.id===N.id?{...ve,placeholders:[...ve.placeholders,re]}:ve);e(le),g(re.id)},[N,d,l,a,o,t,e]),I=b.useCallback((J,ae)=>{if(!N)return;const ne=t.map(se=>se.id===N.id?{...se,placeholders:se.placeholders.map(Q=>Q.id===J?{...Q,...ae}:Q)}:se);e(ne)},[N,t,e]),L=b.useCallback(J=>{if(!N)return"";const ae=`${d}-${Date.now()}`,ne={id:ae,...J},se=t.map(Q=>Q.id===N.id?{...Q,placeholders:[...Q.placeholders,ne]}:Q);return e(se),g(ae),ae},[N,d,t,e]),U=b.useCallback(J=>{if(!N)return;const ae=t.map(ne=>ne.id===N.id?{...ne,placeholders:ne.placeholders.filter(se=>se.id!==J)}:ne);e(ae)},[N,t,e]),$=b.useCallback((J,ae)=>{if(!N)return;const ne=t.map(se=>se.id===N.id?{...se,metadata:{...se.metadata,[J]:ae}}:se);e(ne)},[N,t,e]),q=b.useCallback(J=>{if(!N)return;const ae=t.map(ne=>ne.id===N.id?{...ne,displacementSettings:{...ne.displacementSettings||A,...J}}:ne);e(ae)},[N,t,e]),G={front:t.filter(J=>J.viewKey==="front").length,back:t.filter(J=>J.viewKey==="back").length,left:t.filter(J=>J.viewKey==="left").length,right:t.filter(J=>J.viewKey==="right").length},W=t.filter(J=>!J.colorKey||J.colorKey===n),B={front:((K=W.find(J=>J.viewKey==="front"))==null?void 0:K.imageUrl)||null,back:((Y=W.find(J=>J.viewKey==="back"))==null?void 0:Y.imageUrl)||null,left:((D=W.find(J=>J.viewKey==="left"))==null?void 0:D.imageUrl)||null,right:((Z=W.find(J=>J.viewKey==="right"))==null?void 0:Z.imageUrl)||null};return b.useEffect(()=>{if(!n||!u.length)return;const J=u.find(se=>se.color===n);if(!J||!J.viewImages)return;const ae=["front","back","left","right"],ne=[];ae.forEach(se=>{var le;const Q=(le=J.viewImages)==null?void 0:le[se];!Q||t.some(ve=>ve.viewKey===se&&ve.colorKey===n)||ne.push({id:`mockup-${Date.now()}-${se}-${Math.random().toString(36).substr(2,5)}`,viewKey:se,colorKey:n,imageUrl:Q,placeholders:[],metadata:{imageType:"other",caption:`Variant Image (${n})`,order:t.length+ne.length}})}),ne.length>0&&(e([...t,...ne]),p||f(ne[0].id))},[n,u,t,e,p]),i.jsxs("div",{className:"space-y-4",children:[r.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.map(J=>{const ae=t.filter(se=>se.colorKey===J).length,ne=n===J;return i.jsxs(pe,{variant:ne?"default":"outline",size:"sm",onClick:()=>s==null?void 0:s(J),className:`gap-2 ${ne?"ring-2 ring-primary ring-offset-1":""}`,children:[i.jsx("span",{className:`w-3 h-3 rounded-full border ${J.toLowerCase()==="white"?"border-gray-200":"border-transparent"}`,style:{backgroundColor:J.toLowerCase()}}),J,ae>0&&i.jsx("span",{className:`ml-1 text-[10px] px-1.5 py-0.5 rounded-full ${ne?"bg-primary-foreground text-primary":"bg-muted text-muted-foreground"}`,children:ae})]},J)})}),i.jsx(rie,{views:["front","back","left","right"],activeView:d,viewImages:B,placeholderCounts:G,onViewChange:h,onImageUpload:k,onImageRemove:T,uploadingViews:y}),S.length>0&&i.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[S.map(J=>i.jsxs("div",{className:`
                relative group cursor-pointer border-2 rounded-lg overflow-hidden flex-shrink-0 w-24 h-24
                ${J.id===p?"border-primary ring-2 ring-primary ring-offset-2":"border-muted hover:border-foreground/20"}
              `,onClick:()=>f(J.id),children:[i.jsx("img",{src:J.imageUrl,alt:"Mockup thumbnail",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(pe,{variant:"destructive",size:"icon",className:"h-6 w-6",onClick:ae=>{ae.stopPropagation(),E(J.id)},children:i.jsx(ol,{className:"h-3 w-3"})})}),J.placeholders.length>0&&i.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/50 text-white text-[10px] px-1 rounded",children:[J.placeholders.length," PH"]})]},J.id)),i.jsxs("div",{className:"w-24 h-24 border-2 border-dashed border-muted rounded-lg flex items-center justify-center cursor-pointer hover:border-primary/50 text-muted-foreground hover:text-primary transition-colors relative",children:[i.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"absolute inset-0 opacity-0 cursor-pointer",onChange:J=>{J.target.files&&Array.from(J.target.files).forEach(ae=>k(d,ae))}}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(ca,{className:"h-6 w-6 mb-1"}),i.jsx("span",{className:"text-[10px]",children:"Add More"})]})]})]}),N?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-4",children:[i.jsx(nie,{mockupImageUrl:N.imageUrl,placeholders:N.placeholders,activePlaceholderId:m,onPlaceholderChange:I,onPlaceholderSelect:g,onPlaceholderAdd:R,onPlaceholderDelete:U,onLassoPlaceholderCreate:L,canvasWidth:800,canvasHeight:600,physicalWidth:d==="left"||d==="right"?l:a,physicalHeight:o,unit:c}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Ze,{children:[i.jsx(yr,{className:"pb-3",children:i.jsx(vr,{className:"text-sm",children:"Mockup Settings"})}),i.jsxs(Tt,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium",children:"Image Type"}),i.jsxs(Er,{value:((ie=N.metadata)==null?void 0:ie.imageType)||"other",onValueChange:J=>$("imageType",J),children:[i.jsx(Ar,{className:"h-8",children:i.jsx(Tr,{placeholder:"Select type"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"lifestyle",children:"Lifestyle"}),i.jsx(at,{value:"flat-front",children:"Flat Front"}),i.jsx(at,{value:"flat-back",children:"Flat Back"}),i.jsx(at,{value:"folded",children:"Folded"}),i.jsx(at,{value:"person",children:"Person"}),i.jsx(at,{value:"detail",children:"Detail"}),i.jsx(at,{value:"other",children:"Other"})]})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium",children:"Caption (Optional)"}),i.jsx("input",{className:"flex h-8 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:((he=N.metadata)==null?void 0:he.caption)||"",onChange:J=>$("caption",J.target.value),placeholder:"e.g. Woman in park"})]}),i.jsxs("div",{className:"pt-2 border-t space-y-2",children:[i.jsx("p",{className:"text-xs font-semibold text-muted-foreground",children:"Realism Settings (WebGL displacement)"}),(()=>{const J=N.displacementSettings||A;return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[i.jsx("span",{children:"Displacement X"}),i.jsx("span",{className:"font-mono",children:J.scaleX})]}),i.jsx("input",{type:"range",min:0,max:100,step:1,value:J.scaleX,onChange:ae=>q({scaleX:Number(ae.target.value)}),className:"w-full"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[i.jsx("span",{children:"Displacement Y"}),i.jsx("span",{className:"font-mono",children:J.scaleY})]}),i.jsx("input",{type:"range",min:0,max:100,step:1,value:J.scaleY,onChange:ae=>q({scaleY:Number(ae.target.value)}),className:"w-full"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[i.jsx("span",{children:"Fold Contrast"}),i.jsx("span",{className:"font-mono",children:J.contrastBoost.toFixed(1)})]}),i.jsx("input",{type:"range",min:1,max:5,step:.1,value:J.contrastBoost,onChange:ae=>q({contrastBoost:Number(ae.target.value)}),className:"w-full"})]})]})})()]})]})]}),i.jsxs(Ze,{children:[i.jsx(yr,{className:"pb-3",children:i.jsx(vr,{className:"text-sm",children:"Placeholder Properties"})}),i.jsx(Tt,{children:i.jsx(sie,{placeholder:C,onUpdate:J=>{m&&I(m,J)},unit:c})})]})]})]}):S.length===0&&i.jsxs("div",{className:"h-64 flex flex-col items-center justify-center border-2 border-dashed rounded-lg text-muted-foreground",children:[i.jsxs("p",{className:"mb-2",children:["No sample mockups for ",d," view"]}),i.jsx("p",{className:"text-sm",children:"Upload images above to get started"})]})]})},eW=()=>{var K,Y,D,Z,ie,he;const t=rs(),{id:e}=Do(),r=!!e,[n,s]=b.useState("catalogue"),[a,o]=b.useState(r),[l,c]=b.useState({name:"",description:"",categoryId:"",subcategoryIds:[],basePrice:0,tags:[],productTypeCode:"",attributes:{}}),[u,d]=b.useState({mpn:"",upc:"",ean13:"",isbn:""}),[h,p]=b.useState([]),[f,m]=b.useState([]),[g,y]=b.useState([]),[x,w]=b.useState("");b.useEffect(()=>{f.length>0&&!x&&w(f[0])},[f,x]);const S=20,N=24,C=18,A={scaleX:20,scaleY:20,contrastBoost:1.5},[k,E]=b.useState({views:[{key:"front",mockupImageUrl:"",placeholders:[]},{key:"back",mockupImageUrl:"",placeholders:[]},{key:"left",mockupImageUrl:"",placeholders:[]},{key:"right",mockupImageUrl:"",placeholders:[]}],sampleMockups:[],dpi:300,physicalDimensions:{width:S,height:N,length:C},displacementSettings:A}),[T,R]=b.useState([]),[I,L]=b.useState({packageLengthCm:0,packageWidthCm:0,packageHeightCm:0,packageWeightGrams:0}),[U,$]=b.useState({retailPriceTaxExcl:0,taxRule:"",taxRate:0,retailPriceTaxIncl:0,costPriceTaxExcl:0,gst:{slab:18,mode:"EXCLUSIVE",hsn:""}}),[q,G]=b.useState({minimumQuantity:1,stockLocation:"",lowStockAlertEnabled:!1,lowStockAlertEmail:"",lowStockThreshold:10,outOfStockBehavior:"default",currentStock:void 0}),[W,B]=b.useState({visibility:"everywhere",availableForOrder:!0,showPrice:!0,webOnly:!1,suppliers:[]});b.useEffect(()=>{(async()=>{if(!(!r||!e)){o(!0);try{const ae=await Di.getById(e);if(ae&&ae.success===!0&&ae.data){const ne=ae.data;if(ne.catalogue&&c({name:ne.catalogue.name||"",description:ne.catalogue.description||"",categoryId:ne.catalogue.categoryId||"",subcategoryIds:ne.catalogue.subcategoryIds||[],basePrice:ne.catalogue.basePrice||0,tags:ne.catalogue.tags||[],productTypeCode:ne.catalogue.productTypeCode||"",attributes:ne.catalogue.attributes||{}}),ne.details&&d({mpn:ne.details.mpn||"",upc:ne.details.upc||"",ean13:ne.details.ean13||"",isbn:ne.details.isbn||""}),ne.design){const se=(ne.design.views||[]).map(Q=>({...Q,placeholders:(Q.placeholders||[]).map(re=>({id:re.id,xIn:re.xIn,yIn:re.yIn,widthIn:re.widthIn??re.wIn??6,heightIn:re.heightIn??re.hIn??6,rotationDeg:re.rotationDeg??0,scale:re.scale??1,lockSize:re.lockSize??!1,shapeType:re.shapeType,polygonPoints:re.polygonPoints}))}));E({views:se.length>0?se:[{key:"front",mockupImageUrl:"",placeholders:[]},{key:"back",mockupImageUrl:"",placeholders:[]},{key:"left",mockupImageUrl:"",placeholders:[]},{key:"right",mockupImageUrl:"",placeholders:[]}],sampleMockups:ne.design.sampleMockups||[],dpi:ne.design.dpi||300,physicalDimensions:ne.design.physicalDimensions||{width:S,height:N,length:C},displacementSettings:ne.design.displacementSettings||A})}ne.shipping&&L({packageLengthCm:ne.shipping.packageLengthCm||0,packageWidthCm:ne.shipping.packageWidthCm||0,packageHeightCm:ne.shipping.packageHeightCm||0,packageWeightGrams:ne.shipping.packageWeightGrams||0,deliveryTimeOption:ne.shipping.deliveryTimeOption||"specific",inStockDeliveryTime:ne.shipping.inStockDeliveryTime||"",outOfStockDeliveryTime:ne.shipping.outOfStockDeliveryTime||"",additionalShippingCost:ne.shipping.additionalShippingCost||0,carrierSelection:ne.shipping.carrierSelection||"all",selectedCarriers:ne.shipping.selectedCarriers||[]}),ne.variants&&y(ne.variants),ne.availableSizes&&p(ne.availableSizes),ne.availableColors&&m(ne.availableColors),ne.galleryImages&&R(ne.galleryImages),ne.pricing&&$(ne.pricing),ne.stocks&&G(ne.stocks),ne.options&&B(ne.options)}else $e.error("Product not found"),t("/admin?tab=products")}catch(ae){console.error("Failed to fetch product:",ae),$e.error(ae.message||"Failed to load product"),t("/admin?tab=products")}finally{o(!1)}}})()},[r,e]);const O=async()=>{if(!l.name||!l.description||!l.categoryId||l.basePrice===0){$e.error("Please fill in all required catalogue fields");return}if(h.length===0||f.length===0){$e.error("Please select at least one size and one color");return}if(!k.views.some(Q=>Q.mockupImageUrl)){$e.error("Please upload at least one mockup image");return}if(T.length===0){$e.error("Please upload at least one product gallery image");return}if(!T.some(Q=>Q.isPrimary)){$e.error("Please mark one image as Primary");return}if(I.packageLengthCm===0||I.packageWidthCm===0||I.packageHeightCm===0||I.packageWeightGrams===0){$e.error("Please fill in all shipping and packaging dimensions");return}const ne={...k,views:(k.views||[]).map(Q=>({...Q,placeholders:(Q.placeholders||[]).map(re=>{let{xIn:le,yIn:ve,widthIn:fe,heightIn:X}=re;if((le===void 0||ve===void 0||fe===void 0||X===void 0)&&Array.isArray(re.polygonPoints)&&re.polygonPoints.length>=3){const ce=re.polygonPoints,Pe=ce.map(nt=>nt.xIn),ke=ce.map(nt=>nt.yIn),oe=Math.min(...Pe),Oe=Math.max(...Pe),Ie=Math.min(...ke),He=Math.max(...ke);le=oe,ve=Ie,fe=Oe-oe,X=He-Ie}return{...re,xIn:le,yIn:ve,widthIn:fe,heightIn:X}}).filter(re=>re.xIn!==void 0&&re.yIn!==void 0&&re.widthIn!==void 0&&re.heightIn!==void 0)}))},se={catalogue:l,details:u,design:ne,shipping:I,pricing:U,stocks:q,options:W,variants:g,availableSizes:h,availableColors:f,galleryImages:T};try{let Q;if(r&&e?Q=await Di.update(e,se):Q=await Di.create(se),Q&&Q.success===!0)$e.success(Q.message||(r?"Product updated successfully!":"Product created successfully!")),t("/admin?tab=products");else{const re=(Q==null?void 0:Q.message)||(Q==null?void 0:Q.error)||(r?"Failed to update product":"Failed to create product");$e.error(re),Q!=null&&Q.errors&&Array.isArray(Q.errors)&&console.error("Validation errors:",Q.errors)}}catch(Q){console.error(`Error ${r?"updating":"creating"} product:`,Q);let re=r?"Failed to update product. Please try again.":"Failed to create product. Please try again.";Q.message?re=Q.message:Q.error&&(re=Q.error),$e.error(re)}};return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-card",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"gap-2",children:[i.jsx(ao,{className:"h-4 w-4"}),"Back to Products"]})}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(pe,{variant:"outline",onClick:()=>t("/admin"),children:"Admin User"})})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a?i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"h-8 w-64 bg-muted animate-pulse rounded mb-2"}),i.jsx("div",{className:"h-4 w-96 bg-muted animate-pulse rounded mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:r?"Loading product data...":"Preparing form..."})]}):i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:r?"Edit Product":"Add New Product"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:r?"Update the catalogue product details":"Create a catalogue product that merchants can use in their stores"})]}),i.jsx(Ze,{children:i.jsx(Tt,{className:"pt-6",children:i.jsxs(_c,{value:n,onValueChange:s,className:"w-full",children:[i.jsxs(Fl,{className:"grid w-full grid-cols-4 md:grid-cols-10 mb-6",children:[i.jsxs(Zr,{value:"catalogue",className:"flex items-center gap-2",children:[i.jsx("span",{className:"hidden sm:inline",children:"1."})," Catalogue"]}),i.jsxs(Zr,{value:"details",className:"flex items-center gap-2",children:[i.jsx("span",{className:"hidden sm:inline",children:"2."})," Details"]}),i.jsxs(Zr,{value:"variants",className:"flex items-center gap-2",children:[i.jsx("span",{className:"hidden sm:inline",children:"3."})," Variants"]}),i.jsxs(Zr,{value:"design",className:"flex items-center gap-2",children:[i.jsx("span",{className:"hidden sm:inline",children:"4."})," Design"]}),i.jsxs(Zr,{value:"sample-mockups",className:"flex items-center gap-2",children:[i.jsx("span",{className:"hidden sm:inline",children:"5."})," Samples"]}),i.jsxs(Zr,{value:"gallery",className:"flex items-center gap-2",children:[i.jsx("span",{className:"hidden sm:inline",children:"6."})," Gallery"]}),i.jsxs(Zr,{value:"pricing",className:"flex items-center gap-2",children:[i.jsx("span",{className:"hidden sm:inline",children:"7."})," Pricing"]}),i.jsxs(Zr,{value:"stocks",className:"flex items-center gap-2",children:[i.jsx("span",{className:"hidden sm:inline",children:"8."})," Stocks"]}),i.jsxs(Zr,{value:"options",className:"flex items-center gap-2",children:[i.jsx("span",{className:"hidden sm:inline",children:"9."})," Options"]}),i.jsxs(Zr,{value:"shipping",className:"flex items-center gap-2",children:[i.jsx("span",{className:"hidden sm:inline",children:"10."})," Shipping"]})]}),i.jsxs(sn,{value:"catalogue",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Step 1: Product Catalogue Info"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Store data for merchants - product name, description, category, tags, and base price"})]}),i.jsx(uJe,{data:l,onChange:c}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsxs(pe,{onClick:()=>s("details"),className:"gap-2",children:["Next: Details",i.jsx(gs,{className:"h-4 w-4"})]})})]}),i.jsxs(sn,{value:"details",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Step 2: Product Details"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter product identification codes and barcodes (optional)"})]}),i.jsx(WJe,{data:u,onChange:d}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsxs(pe,{variant:"outline",onClick:()=>s("catalogue"),className:"gap-2",children:[i.jsx(nc,{className:"h-4 w-4"}),"Back"]}),i.jsxs(pe,{onClick:()=>s("variants"),className:"gap-2",children:["Next: Variants",i.jsx(gs,{className:"h-4 w-4"})]})]})]}),i.jsxs(sn,{value:"variants",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Step 3: Product Variants"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select available sizes and colors. Variants will be auto-generated with SKUs."})]}),i.jsx(fJe,{availableSizes:h,availableColors:f,variants:g,onSizesChange:p,onColorsChange:m,onVariantsChange:y,baseSku:l.name.toUpperCase().replace(/\s+/g,"-")||"PROD",categoryId:l.categoryId,subcategoryId:l.subcategoryIds[0]}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsxs(pe,{variant:"outline",onClick:()=>s("details"),className:"gap-2",children:[i.jsx(nc,{className:"h-4 w-4"}),"Back"]}),i.jsxs(pe,{onClick:()=>s("design"),className:"gap-2",children:["Next: Design",i.jsx(gs,{className:"h-4 w-4"})]})]})]}),i.jsxs(sn,{value:"design",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Step 4: Mockup & Print Area Editor"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload mockup images and define print areas for each view (Front, Back, Left, Right)"})]}),i.jsx(bJe,{views:k.views,onViewsChange:J=>E(ae=>({...ae,views:J})),physicalWidth:((K=k.physicalDimensions)==null?void 0:K.width)??S,physicalHeight:((Y=k.physicalDimensions)==null?void 0:Y.height)??N,physicalLength:((D=k.physicalDimensions)==null?void 0:D.length)??C,unit:"in"}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsxs(pe,{variant:"outline",onClick:()=>s("variants"),className:"gap-2",children:[i.jsx(nc,{className:"h-4 w-4"}),"Back"]}),i.jsxs(pe,{onClick:()=>s("sample-mockups"),className:"gap-2",children:["Next: Samples",i.jsx(gs,{className:"h-4 w-4"})]})]})]}),i.jsxs(sn,{value:"sample-mockups",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Step 5: Sample Mockups"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload multiple sample mockups (lifestyle, flat lays) per view. These will be used to generate mockups for the user."})]}),i.jsx(GJe,{sampleMockups:k.sampleMockups||[],onSampleMockupsChange:J=>E(ae=>({...ae,sampleMockups:J})),availableColors:f,selectedColorKey:x,onColorChange:w,physicalWidth:((Z=k.physicalDimensions)==null?void 0:Z.width)??S,physicalHeight:((ie=k.physicalDimensions)==null?void 0:ie.height)??N,physicalLength:((he=k.physicalDimensions)==null?void 0:he.length)??C,unit:"in",variants:g}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsxs(pe,{variant:"outline",onClick:()=>s("design"),className:"gap-2",children:[i.jsx(nc,{className:"h-4 w-4"}),"Back"]}),i.jsxs(pe,{onClick:()=>s("gallery"),className:"gap-2",children:["Next: Gallery",i.jsx(gs,{className:"h-4 w-4"})]})]})]}),i.jsxs(sn,{value:"gallery",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Step 6: Product Gallery Images"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload customer-facing product images (size charts, flat shots, lifestyle photos, etc.)"})]}),i.jsx(wJe,{images:T,onChange:R}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsxs(pe,{variant:"outline",onClick:()=>s("sample-mockups"),className:"gap-2",children:[i.jsx(nc,{className:"h-4 w-4"}),"Back"]}),i.jsxs(pe,{onClick:()=>s("pricing"),className:"gap-2",children:["Next: Pricing",i.jsx(gs,{className:"h-4 w-4"})]})]})]}),i.jsxs(sn,{value:"pricing",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Step 7: Pricing"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Set retail prices, tax rules, cost price, and optional price per unit"})]}),i.jsx($Je,{data:U,variants:g,onChange:$}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsxs(pe,{variant:"outline",onClick:()=>s("gallery"),className:"gap-2",children:[i.jsx(nc,{className:"h-4 w-4"}),"Back"]}),i.jsxs(pe,{onClick:()=>s("stocks"),className:"gap-2",children:["Next: Stocks",i.jsx(gs,{className:"h-4 w-4"})]})]})]}),i.jsxs(sn,{value:"stocks",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Step 8: Stocks & Inventory"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure stock management, minimum quantities, and low stock alerts"})]}),i.jsx(zJe,{data:q,onChange:G}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsxs(pe,{variant:"outline",onClick:()=>s("pricing"),className:"gap-2",children:[i.jsx(nc,{className:"h-4 w-4"}),"Back"]}),i.jsxs(pe,{onClick:()=>s("options"),className:"gap-2",children:["Next: Options",i.jsx(gs,{className:"h-4 w-4"})]})]})]}),i.jsxs(sn,{value:"options",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Step 9: Product Options"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure product visibility, availability, price display, and supplier associations"})]}),i.jsx(UJe,{data:W,onChange:B}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsxs(pe,{variant:"outline",onClick:()=>s("stocks"),className:"gap-2",children:[i.jsx(nc,{className:"h-4 w-4"}),"Back"]}),i.jsxs(pe,{onClick:()=>s("shipping"),className:"gap-2",children:["Next: Shipping",i.jsx(gs,{className:"h-4 w-4"})]})]})]}),i.jsxs(sn,{value:"shipping",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Step 10: Shipping & Packaging"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Package dimensions and weight for courier APIs and Shopify shipping"})]}),i.jsx(IJe,{data:I,onChange:L}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsxs(pe,{variant:"outline",onClick:()=>s("options"),className:"gap-2",children:[i.jsx(nc,{className:"h-4 w-4"}),"Back"]}),i.jsx(pe,{size:"lg",onClick:O,className:"min-w-[200px]",disabled:a,children:r?"Update Product":"Create Product"})]})]})]})})})]})]})},HJe=({mockupImageUrl:t,placeholders:e,canvasWidth:r=800,canvasHeight:n=600,physicalWidth:s=20,physicalHeight:a=24,unit:o="in"})=>{const[l,c]=b.useState(null),[u,d]=b.useState({width:0,height:0,x:0,y:0}),h=b.useRef(null),p=b.useRef(null),f=40,m=r-f*2,g=n-f*2,y=(()=>{if(!s||!a||s<=0||a<=0)return 10;const w=m/s,S=g/a;return Math.min(w,S)})(),x=w=>w*y;return b.useEffect(()=>{if(!t){c(null),d({width:0,height:0,x:0,y:0});return}const w=new window.Image;w.crossOrigin="anonymous",w.onload=()=>{c(w);const S=w.width/w.height,N=m,C=g;let A=N,k=N/S;k>C&&(k=C,A=C*S);const E=f+(N-A)/2,T=f+(C-k)/2;d({width:A,height:k,x:E,y:T})},w.src=t},[t,r,n,m,g,f]),b.useEffect(()=>{if(!p.current){const S=document.createElement("canvas");S.width=20*2,S.height=20*2;const N=S.getContext("2d");N&&(N.fillStyle="#f5f5f5",N.fillRect(0,0,S.width,S.height),N.fillStyle="#e5e5e5",N.fillRect(0,0,20,20),N.fillRect(20,20,20,20)),p.current=S.toDataURL()}},[]),t?i.jsxs("div",{className:"border-2 border-border rounded-lg overflow-hidden relative",style:{backgroundImage:p.current?`url(${p.current})`:void 0},children:[i.jsx(bM,{width:r,height:n,ref:h,style:{cursor:"default"},children:i.jsxs(fb,{children:[(()=>{const S=[];for(let N=f;N<r-f;N+=20)S.push(i.jsx(Pi,{points:[N,f,N,n-f],stroke:"#CCCCCC",strokeWidth:.5,opacity:.25,listening:!1},`v-grid-${N}`));for(let N=f;N<n-f;N+=20)S.push(i.jsx(Pi,{points:[f,N,r-f,N],stroke:"#CCCCCC",strokeWidth:.5,opacity:.25,listening:!1},`h-grid-${N}`));return S})(),l&&u.width>0&&i.jsx(pb,{image:l,x:u.x,y:u.y,width:u.width,height:u.height,listening:!1}),e.map((w,S)=>{const N=f+x(w.xIn),C=f+x(w.yIn),A=x(w.widthIn),k=x(w.heightIn),E=N+A/2,T=C+k/2;return i.jsxs(xe.Fragment,{children:[i.jsx(ac,{x:N,y:C,width:A,height:k,rotation:w.rotationDeg,fill:"rgba(244, 114, 182, 0.2)",stroke:"rgb(236, 72, 153)",strokeWidth:2,listening:!1}),i.jsx(ah,{x:E-40,y:T-10,text:`${S+1}`,fontSize:12,fontStyle:"bold",fill:"rgb(236, 72, 153)",align:"center",listening:!1})]},w.id||S)})]})}),e.length>0&&i.jsx("div",{className:"flex items-center gap-2 p-3 border-t bg-card text-xs text-muted-foreground",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-pink-500 bg-pink-500/20 rounded"}),i.jsxs("span",{children:["Print Areas (",e.length,")"]})]})})]}):i.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-8 min-h-[400px] flex items-center justify-center bg-muted/30",children:i.jsx("div",{className:"text-center text-muted-foreground",children:i.jsx("p",{className:"text-sm",children:"No mockup image"})})})},VJe=()=>{var d,h,p,f,m,g,y,x,w,S,N,C,A,k,E,T,R,I,L;const{id:t}=Do(),e=rs(),[r,n]=b.useState(null),[s,a]=b.useState(!0);b.useEffect(()=>{(async()=>{if(t){a(!0);try{const $=await Di.getById(t);$&&$.success===!0&&$.data||$&&$.data?n($.data):($e.error(($==null?void 0:$.message)||"Product not found"),e("/admin?tab=products"))}catch($){console.error("Failed to fetch product:",$),$e.error($.message||"Failed to load product details"),e("/admin?tab=products")}finally{a(!1)}}})()},[t]);const o=U=>U?new Date(U).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",l=U=>U==null?"$0.00":`$${U.toFixed(2)}`,c=U=>U!=null&&U.isActive?"active":"inactive",u=U=>{var q,G,W;const $=(q=U==null?void 0:U.galleryImages)==null?void 0:q.find(B=>B.isPrimary);return($==null?void 0:$.url)||((W=(G=U==null?void 0:U.galleryImages)==null?void 0:G[0])==null?void 0:W.url)||""};return s?i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-card",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsx(kn,{className:"h-10 w-64"})})}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx(kn,{className:"h-96 w-full"})})]}):r?i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-card",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>e("/admin?tab=products"),className:"gap-2",children:[i.jsx(ao,{className:"h-4 w-4"}),"Back to Products"]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(pe,{variant:"outline",onClick:()=>e(`/admin/products/${t}/edit`),className:"gap-2",children:[i.jsx(Zb,{className:"h-4 w-4"}),"Edit Product"]}),i.jsx(pe,{variant:"outline",onClick:()=>e("/admin"),children:"Admin Dashboard"})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[u(r)?i.jsx("img",{src:u(r),alt:((d=r.catalogue)==null?void 0:d.name)||"Product",className:"h-24 w-24 rounded-lg object-cover border"}):i.jsx("div",{className:"h-24 w-24 rounded-lg bg-muted flex items-center justify-center border",children:i.jsx(Sr,{className:"h-8 w-8 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:((h=r.catalogue)==null?void 0:h.name)||"Unnamed Product"}),i.jsx("p",{className:"text-muted-foreground mb-3",children:((p=r.catalogue)==null?void 0:p.description)||"No description provided"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(iT,{status:c(r)}),i.jsxs(Ot,{variant:"outline",className:"gap-2",children:[i.jsx(p3,{className:"h-3 w-3"}),l((f=r.catalogue)==null?void 0:f.basePrice)]}),i.jsxs(Ot,{variant:"outline",className:"gap-2",children:[i.jsx($ce,{className:"h-3 w-3"}),"Created ",o(r.createdAt)]})]})]})]})})}),i.jsxs(_c,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Fl,{className:"grid w-full grid-cols-5",children:[i.jsx(Zr,{value:"overview",children:"Overview"}),i.jsx(Zr,{value:"variants",children:"Variants"}),i.jsx(Zr,{value:"design",children:"Design"}),i.jsx(Zr,{value:"gallery",children:"Gallery"}),i.jsx(Zr,{value:"shipping",children:"Shipping"})]}),i.jsxs(sn,{value:"overview",className:"space-y-6 mt-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(Ze,{children:[i.jsx(yr,{children:i.jsxs(vr,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(ab,{className:"h-4 w-4"}),"Variants"]})}),i.jsxs(Tt,{children:[i.jsx("p",{className:"text-3xl font-bold",children:((m=r.variants)==null?void 0:m.length)||0}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Total variants"})]})]}),i.jsxs(Ze,{children:[i.jsx(yr,{children:i.jsxs(vr,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(gh,{className:"h-4 w-4"}),"Views"]})}),i.jsxs(Tt,{children:[i.jsx("p",{className:"text-3xl font-bold",children:((y=(g=r.design)==null?void 0:g.views)==null?void 0:y.filter(U=>U.mockupImageUrl).length)||0}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Mockup views"})]})]}),i.jsxs(Ze,{children:[i.jsx(yr,{children:i.jsxs(vr,{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(CV,{className:"h-4 w-4"}),"Gallery Images"]})}),i.jsxs(Tt,{children:[i.jsx("p",{className:"text-3xl font-bold",children:((x=r.galleryImages)==null?void 0:x.length)||0}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Total images"})]})]})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Product Information"}),i.jsx(Xr,{children:"Basic product details"})]}),i.jsxs(Tt,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Product Name"}),i.jsx("p",{className:"text-base font-semibold",children:((w=r.catalogue)==null?void 0:w.name)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Base Price"}),i.jsx("p",{className:"text-base font-semibold",children:l((S=r.catalogue)==null?void 0:S.basePrice)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),i.jsx("div",{className:"mt-1",children:i.jsx(iT,{status:c(r)})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),i.jsx("p",{className:"text-base font-semibold",children:o(r.createdAt)})]}),((N=r.catalogue)==null?void 0:N.material)&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Material"}),i.jsx("p",{className:"text-base font-semibold",children:r.catalogue.material})]}),((C=r.catalogue)==null?void 0:C.brand)&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Brand"}),i.jsx("p",{className:"text-base font-semibold",children:r.catalogue.brand})]})]}),((A=r.catalogue)==null?void 0:A.description)&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Description"}),i.jsx("p",{className:"text-base",children:r.catalogue.description})]}),((k=r.catalogue)==null?void 0:k.tags)&&r.catalogue.tags.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:r.catalogue.tags.map((U,$)=>i.jsx(Ot,{variant:"secondary",children:U},$))})]})]})]})]}),i.jsx(sn,{value:"variants",className:"space-y-6 mt-6",children:i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Product Variants"}),i.jsxs(Xr,{children:[((E=r.variants)==null?void 0:E.length)||0," variant",((T=r.variants)==null?void 0:T.length)!==1?"s":""," available"]})]}),i.jsx(Tt,{children:r.variants&&r.variants.length>0?i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.variants.map((U,$)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"font-semibold",children:U.sku||`Variant ${$+1}`}),U.isActive!==!1?i.jsx(Xb,{className:"h-4 w-4 text-green-500"}):i.jsx(ny,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs("div",{className:"space-y-1 text-sm",children:[U.size&&i.jsxs("p",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Size:"})," ",U.size]}),U.color&&i.jsxs("p",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Color:"})," ",U.color]}),U.price&&i.jsxs("p",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Price:"})," ",l(U.price)]})]})]},$))})}):i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No variants configured"})})]})}),i.jsx(sn,{value:"design",className:"space-y-6 mt-6",children:i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Design & Mockups"}),i.jsx(Xr,{children:"Mockup images and print area configurations"})]}),i.jsx(Tt,{children:(R=r.design)!=null&&R.views&&r.design.views.length>0?i.jsx("div",{className:"space-y-8",children:r.design.views.map((U,$)=>i.jsxs("div",{className:"space-y-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"col-span-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold capitalize",children:U.key||`View ${$+1}`}),U.placeholders&&U.placeholders.length>0&&i.jsxs(Ot,{variant:"secondary",children:[U.placeholders.length," print area",U.placeholders.length!==1?"s":""]})]}),U.mockupImageUrl?i.jsx(HJe,{mockupImageUrl:U.mockupImageUrl,placeholders:U.placeholders||[],canvasWidth:800,canvasHeight:600,physicalWidth:20,physicalHeight:24,unit:"in"}):i.jsx("div",{className:"border rounded-lg p-8 bg-muted flex items-center justify-center min-h-[400px]",children:i.jsx("p",{className:"text-muted-foreground",children:"No mockup image"})})]}),U.placeholders&&U.placeholders.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-4 mt-4",children:U.placeholders.map((q,G)=>{var B,O,K,Y,D;const W=(q.wIn||0)*(q.hIn||0);return i.jsxs(Ze,{children:[i.jsx(yr,{className:"pb-3",children:i.jsxs(vr,{className:"text-sm flex items-center justify-between",children:[i.jsxs("span",{children:["Print Area ",G+1]}),i.jsxs(Ot,{variant:"secondary",children:[W.toFixed(2)," in"]})]})}),i.jsxs(Tt,{className:"text-xs space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Position:"}),i.jsxs("span",{className:"font-mono",children:["X: ",((B=q.xIn)==null?void 0:B.toFixed(2))||"0.00",'", Y: ',((O=q.yIn)==null?void 0:O.toFixed(2))||"0.00",'"']})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Size:"}),i.jsxs("span",{className:"font-mono",children:[((K=q.wIn)==null?void 0:K.toFixed(2))||"0.00",'"  ',((Y=q.hIn)==null?void 0:Y.toFixed(2))||"0.00",'"']})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Rotation:"}),i.jsxs("span",{className:"font-mono",children:[((D=q.rotationDeg)==null?void 0:D.toFixed(1))||"0.0",""]})]})]})]},G)})})]},$))}):i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No design views configured"})})]})}),i.jsx(sn,{value:"gallery",className:"space-y-6 mt-6",children:i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Gallery Images"}),i.jsxs(Xr,{children:[((I=r.galleryImages)==null?void 0:I.length)||0," image",((L=r.galleryImages)==null?void 0:L.length)!==1?"s":""," in gallery"]})]}),i.jsx(Tt,{children:r.galleryImages&&r.galleryImages.length>0?i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.galleryImages.map((U,$)=>i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"aspect-square border rounded-lg overflow-hidden",children:i.jsx("img",{src:U.url,alt:`Gallery image ${$+1}`,className:"w-full h-full object-cover"})}),U.isPrimary&&i.jsx(Ot,{className:"absolute top-2 right-2",children:"Primary"})]},$))}):i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No gallery images"})})]})}),i.jsx(sn,{value:"shipping",className:"space-y-6 mt-6",children:i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Shipping & Packaging"}),i.jsx(Xr,{children:"Package dimensions and weight"})]}),i.jsx(Tt,{children:r.shipping?i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Length"}),i.jsxs("p",{className:"text-2xl font-bold mt-1",children:[r.shipping.packageLengthCm||0," cm"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Width"}),i.jsxs("p",{className:"text-2xl font-bold mt-1",children:[r.shipping.packageWidthCm||0," cm"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Height"}),i.jsxs("p",{className:"text-2xl font-bold mt-1",children:[r.shipping.packageHeightCm||0," cm"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Weight"}),i.jsxs("p",{className:"text-2xl font-bold mt-1",children:[r.shipping.packageWeightGrams||0," g"]})]})]}):i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No shipping information configured"})})]})})]})]})]}):null};function qJe(){const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,a]=b.useState("all"),[o,l]=b.useState("all"),[c,u]=b.useState(""),[d,h]=b.useState(""),[p,f]=b.useState("size"),[m,g]=b.useState(""),[y,x]=b.useState(!1),w=async()=>{n(!0);try{const E=await Gp.getAll();E.success&&E.data&&e(E.data)}catch(E){console.error("Error fetching options:",E),wi({title:"Error",description:"Failed to load custom variant options",variant:"destructive"})}finally{n(!1)}};b.useEffect(()=>{w()},[]);const S=t.filter(E=>!(s!=="all"&&E.categoryId!==s||o!=="all"&&E.optionType!==o)),N=async E=>{if(confirm("Are you sure you want to delete this option?"))try{await Gp.delete(E),e(T=>T.filter(R=>R._id!==E)),wi({title:"Success",description:"Custom option deleted successfully"})}catch(T){console.error("Error deleting option:",T),wi({title:"Error",description:"Failed to delete option",variant:"destructive"})}},C=async()=>{if(!c||!m.trim()){wi({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}x(!0);try{(await Gp.create({categoryId:c,subcategoryId:d||void 0,optionType:p,value:m.trim()})).success&&(wi({title:"Success",description:"Custom option added successfully"}),g(""),h(""),w())}catch(E){console.error("Error adding option:",E),wi({title:"Error",description:E.message||"Failed to add option. It may already exist.",variant:"destructive"})}finally{x(!1)}},A=E=>{const T=Object.values(el).find(R=>R.id===E);return T!=null&&T.subcategories?[...T.subcategories]:[]},k=S.reduce((E,T)=>{const R=T.categoryId;return E[R]||(E[R]=[]),E[R].push(T),E},{});return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsxs("div",{className:"container flex h-16 items-center px-4",children:[i.jsx(pe,{variant:"ghost",size:"sm",asChild:!0,className:"mr-4",children:i.jsxs(_t,{to:"/admin",children:[i.jsx(ao,{className:"mr-2 h-4 w-4"}),"Back to Admin"]})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Manage Variant Options"})]})}),i.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[i.jsxs(Rg,{children:[i.jsx(ju,{className:"h-4 w-4"}),i.jsxs(Dg,{children:["Custom options added here will appear as ",i.jsx("strong",{children:"checkbox options"})," for all products in the selected category/subcategory. They are saved permanently and don't require app restart."]})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Add New Custom Option"}),i.jsx(Xr,{children:"Create a new size or color option that will be available as a checkbox for future products"})]}),i.jsxs(Tt,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Category *"}),i.jsxs(Er,{value:c,onValueChange:u,children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select category"})}),i.jsx(kr,{children:Object.values(el).map(E=>i.jsx(at,{value:E.id,children:E.name},E.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Subcategory (Optional)"}),i.jsxs(Er,{value:d,onValueChange:h,disabled:!c,children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"All subcategories"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"",children:"All subcategories"}),c&&A(c).map(E=>i.jsx(at,{value:E,children:E},E))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Option Type *"}),i.jsxs(Er,{value:p,onValueChange:E=>f(E),children:[i.jsx(Ar,{children:i.jsx(Tr,{})}),i.jsxs(kr,{children:[i.jsx(at,{value:"size",children:"Size"}),i.jsx(at,{value:"color",children:"Color"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Value *"}),i.jsx(rt,{placeholder:p==="size"?"e.g., 2424, Youth M":"e.g., Brand Blue, PMS 185C",value:m,onChange:E=>g(E.target.value),onKeyPress:E=>E.key==="Enter"&&C()})]})]}),i.jsx(pe,{onClick:C,disabled:y,children:y?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ha,{className:"mr-2 h-4 w-4"}),"Add Custom Option"]})})]})]}),i.jsxs(Ze,{children:[i.jsx(yr,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(vr,{children:"All Custom Options"}),i.jsx(Xr,{children:"View and manage all custom variant options"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Er,{value:s,onValueChange:a,children:[i.jsx(Ar,{className:"w-[180px]",children:i.jsx(Tr,{placeholder:"All Categories"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"all",children:"All Categories"}),Object.values(el).map(E=>i.jsx(at,{value:E.id,children:E.name},E.id))]})]}),i.jsxs(Er,{value:o,onValueChange:l,children:[i.jsx(Ar,{className:"w-[150px]",children:i.jsx(Tr,{placeholder:"All Types"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"all",children:"All Types"}),i.jsx(at,{value:"size",children:"Sizes"}),i.jsx(at,{value:"color",children:"Colors"})]})]})]})]})}),i.jsx(Tt,{children:r?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(Zn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):S.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No custom options found. Add one above to get started."}):i.jsx("div",{className:"space-y-6",children:Object.entries(k).map(([E,T])=>{const R=Object.values(el).find(I=>I.id===E);return i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:(R==null?void 0:R.name)||E}),i.jsx("div",{className:"space-y-2",children:T.map(I=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ot,{variant:I.optionType==="size"?"default":"secondary",children:I.optionType}),i.jsx("span",{className:"font-medium",children:I.value}),I.subcategoryId&&i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",I.subcategoryId,")"]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Used: ",I.usageCount,""]})]}),i.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>N(I._id),children:i.jsx(ol,{className:"h-4 w-4 text-destructive"})})]},I._id))}),i.jsx(ln,{className:"mt-4"})]},E)})})})]})]})]})}const YJe=()=>{const t=rs(),e=Vi(),[r,n]=b.useState([]),[s,a]=b.useState(!0),[o,l]=b.useState(""),[c,u]=b.useState({categoryId:"",subcategoryId:"",key:"",label:"",type:"text",options:[],required:!1,placeholder:"",unit:""}),[d,h]=b.useState(""),p=N=>N.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),f=async()=>{a(!0);try{const N=o?{categoryId:o}:void 0,C=await ob.getAll(N);C.success&&C.data&&n(C.data)}catch(N){console.error("Error fetching catalogue fields:",N),wi({title:"Error",description:"Failed to fetch catalogue fields",variant:"destructive"})}finally{a(!1)}};b.useEffect(()=>{f()},[o]);const m=async()=>{var C;if(!c.categoryId||!c.label||!c.type){wi({title:"Validation Error",description:"Category, Label, and Type are required",variant:"destructive"});return}const N=c.key||p(c.label);if(!N){wi({title:"Validation Error",description:"Could not generate field key from label. Please ensure label contains valid characters.",variant:"destructive"});return}try{if((await ob.create({...c,key:N,subcategoryId:c.subcategoryId||void 0})).success){wi({title:"Success",description:"Catalogue field created successfully"}),u({categoryId:"",subcategoryId:"",key:"",label:"",type:"text",options:[],required:!1,placeholder:"",unit:""}),h(""),f();const k=((C=e.state)==null?void 0:C.from)||"/admin/product-creation";setTimeout(()=>{t(k)},1e3)}}catch(A){console.error("Error creating field:",A),wi({title:"Error",description:A.message||"Failed to create catalogue field",variant:"destructive"})}},g=async N=>{if(confirm("Are you sure you want to delete this field? This action cannot be undone."))try{(await ob.delete(N)).success&&(wi({title:"Success",description:"Field deleted successfully"}),f())}catch(C){console.error("Error deleting field:",C),wi({title:"Error",description:C.message||"Failed to delete field",variant:"destructive"})}},y=()=>{d.trim()&&!c.options.includes(d.trim())&&(u({...c,options:[...c.options,d.trim()]}),h(""))},x=N=>{u({...c,options:c.options.filter(C=>C!==N)})},w=()=>c.categoryId?Yp(c.categoryId):[],S=r.reduce((N,C)=>{const A=`${C.categoryId}${C.subcategoryId?`-${C.subcategoryId}`:""}`;return N[A]||(N[A]=[]),N[A].push(C),N},{});return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-card",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(_t,{to:"/admin",children:i.jsxs(pe,{variant:"ghost",size:"sm",className:"gap-2",children:[i.jsx(ao,{className:"h-4 w-4"}),"Back to Admin"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manage Catalogue Fields"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Add custom product attributes for specific categories"})]})]})})})}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsxs(vr,{className:"flex items-center gap-2",children:[i.jsx(ha,{className:"h-5 w-5"}),"Add New Catalogue Field"]}),i.jsx(Xr,{children:"Define a new product attribute for a specific category/subcategory"})]}),i.jsxs(Tt,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Category *"}),i.jsxs(Er,{value:c.categoryId,onValueChange:N=>u({...c,categoryId:N,subcategoryId:""}),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select category"})}),i.jsx(kr,{children:Object.values(el).map(N=>i.jsx(at,{value:N.id,children:N.name},N.id))})]})]}),c.categoryId&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Subcategory (Optional)"}),i.jsxs(Er,{value:c.subcategoryId||"__all__",onValueChange:N=>u({...c,subcategoryId:N==="__all__"?"":N}),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"All subcategories"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"__all__",children:"All subcategories"}),w().map(N=>i.jsx(at,{value:N,children:N},N))]})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Display Label *"}),i.jsx(rt,{placeholder:"e.g., Print Area",value:c.label,onChange:N=>{const C=N.target.value,A=p(C);u({...c,label:C,key:A})}}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Field key will be auto-generated: ",i.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:c.label?p(c.label):"..."})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Field Type *"}),i.jsxs(Er,{value:c.type,onValueChange:N=>u({...c,type:N}),children:[i.jsx(Ar,{children:i.jsx(Tr,{})}),i.jsxs(kr,{children:[i.jsx(at,{value:"text",children:"Text"}),i.jsx(at,{value:"textarea",children:"Textarea"}),i.jsx(at,{value:"number",children:"Number"}),i.jsx(at,{value:"select",children:"Select (Dropdown)"})]})]})]}),c.type==="select"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Options *"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(rt,{placeholder:"Add option...",value:d,onChange:N=>h(N.target.value),onKeyPress:N=>N.key==="Enter"&&y()}),i.jsx(pe,{type:"button",onClick:y,variant:"secondary",size:"sm",children:"Add"})]}),c.options.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:c.options.map(N=>i.jsxs(Ot,{variant:"secondary",className:"gap-1",children:[N,i.jsx("button",{onClick:()=>x(N),children:i.jsx(ol,{className:"h-3 w-3"})})]},N))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Placeholder"}),i.jsx(rt,{placeholder:"e.g., Enter value...",value:c.placeholder,onChange:N=>u({...c,placeholder:N.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Unit"}),i.jsx(rt,{placeholder:"e.g., cm or inches",value:c.unit,onChange:N=>u({...c,unit:N.target.value})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"required",checked:c.required,onChange:N=>u({...c,required:N.target.checked}),className:"rounded"}),i.jsx(je,{htmlFor:"required",children:"Required field"})]}),i.jsxs(pe,{onClick:m,className:"w-full gap-2",children:[i.jsx(Kb,{className:"h-4 w-4"}),"Create Field"]})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Existing Custom Fields"}),i.jsxs(Xr,{children:[r.length," custom field",r.length!==1?"s":""," defined"]})]}),i.jsxs(Tt,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Filter by Category"}),i.jsxs(Er,{value:o||"__all__",onValueChange:N=>l(N==="__all__"?"":N),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"All categories"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"__all__",children:"All categories"}),Object.values(el).map(N=>i.jsx(at,{value:N.id,children:N.name},N.id))]})]})]}),i.jsx(ln,{}),i.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:s?i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Loading fields..."}):Object.keys(S).length===0?i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No custom fields defined yet. Add one using the form."}):Object.entries(S).map(([N,C])=>{var T;const A=C[0],k=((T=el[A.categoryId])==null?void 0:T.name)||A.categoryId,E=A.subcategoryId||"All";return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ot,{variant:"outline",children:k}),A.subcategoryId&&i.jsx(Ot,{variant:"secondary",children:E})]}),C.map(R=>i.jsx(Ze,{className:"p-3",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium",children:R.label}),i.jsx(Ot,{variant:"outline",className:"text-xs",children:R.type}),R.required&&i.jsx(Ot,{variant:"destructive",className:"text-xs",children:"Required"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Key: ",i.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:R.key})]}),R.options&&R.options.length>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Options: ",R.options.join(", ")]}),R.unit&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Unit: ",R.unit]})]}),i.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>g(R._id),className:"text-destructive hover:text-destructive",children:i.jsx(ol,{className:"h-4 w-4"})})]})},R._id))]},N)})})]})]})})]})})]})},z5="http://shelfmerch.in/api",XJe=()=>{const{user:t}=Ba(),[e,r]=b.useState([]),[n,s]=b.useState(!1),[a,o]=b.useState(!1),[l,c]=b.useState(null),[u,d]=b.useState(""),[h,p]=b.useState({title:"",description:"",category:"graphics",type:"svg",tags:"",recommendedWidth:"",recommendedHeight:"",designNotes:"",usage:"all",license:"commercial",fontFamily:"",sampleText:"",seamless:!1,patternRepeat:"repeat"}),[f,m]=b.useState({category:"",type:"",search:""}),[g,y]=b.useState("grid"),x=b.useCallback(async()=>{s(!0);try{const k=localStorage.getItem("token"),E=new URLSearchParams;f.category&&E.append("category",f.category),f.type&&E.append("type",f.type),f.search&&E.append("search",f.search);const T=await fetch(`${z5}/api/assets/admin/all?${E.toString()}`,{headers:{Authorization:`Bearer ${k}`}});if(!T.ok)throw new Error("Failed to fetch assets");const R=await T.json();r(R.data||[])}catch(k){console.error("Error fetching assets:",k),$e.error("Failed to load assets")}finally{s(!1)}},[f]);b.useEffect(()=>{(t==null?void 0:t.role)==="superadmin"&&x()},[t,x]);const w=k=>{var I;const E=(I=k.target.files)==null?void 0:I[0];if(!E)return;if(!["image/svg+xml","image/png","image/jpeg","image/jpg","image/webp"].includes(E.type)){$e.error("Invalid file type. Please upload SVG, PNG, JPG, or WEBP");return}c(E);const R=new FileReader;R.onloadend=()=>{d(R.result)},R.readAsDataURL(E),E.type==="image/svg+xml"?p(L=>({...L,type:"svg"})):p(L=>({...L,type:"png"}))},S=(k,E)=>{p(T=>({...T,[k]:E}))},N=async k=>{if(k.preventDefault(),!l){$e.error("Please select a file");return}if(!h.title||!h.category){$e.error("Title and category are required");return}o(!0);try{const E=localStorage.getItem("token"),T=new FormData;T.append("file",l),Object.entries(h).forEach(([L,U])=>{U!==""&&U!==null&&U!==void 0&&T.append(L,U.toString())});const R=await fetch(`${z5}/api/assets/admin/upload`,{method:"POST",headers:{Authorization:`Bearer ${E}`},body:T});if(!R.ok){const L=await R.json();throw new Error(L.message||"Upload failed")}const I=await R.json();$e.success("Asset uploaded successfully"),c(null),d(""),p({title:"",description:"",category:"graphics",type:"svg",tags:"",recommendedWidth:"",recommendedHeight:"",designNotes:"",usage:"all",license:"commercial",fontFamily:"",sampleText:"",seamless:!1,patternRepeat:"repeat"}),x()}catch(E){console.error("Upload error:",E),$e.error(E.message||"Failed to upload asset")}finally{o(!1)}},C=async k=>{if(confirm("Are you sure you want to delete this asset?"))try{const E=localStorage.getItem("token");if(!(await fetch(`${z5}/api/assets/admin/${k}`,{method:"DELETE",headers:{Authorization:`Bearer ${E}`}})).ok)throw new Error("Failed to delete asset");$e.success("Asset deleted successfully"),x()}catch(E){console.error("Delete error:",E),$e.error("Failed to delete asset")}},A=async(k,E)=>{try{const T=localStorage.getItem("token");if(!(await fetch(`${z5}/api/assets/admin/${k}`,{method:"PUT",headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify({isPublished:!E})})).ok)throw new Error("Failed to update asset");$e.success(`Asset ${E?"unpublished":"published"}`),x()}catch(T){console.error("Update error:",T),$e.error("Failed to update asset")}};return(t==null?void 0:t.role)!=="superadmin"?i.jsx("div",{className:"container mx-auto p-8",children:i.jsx(Ze,{children:i.jsxs(Tt,{className:"p-8 text-center",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Access Denied"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"You need admin privileges to access this page."})]})})}):i.jsxs("div",{className:"container mx-auto p-8 max-w-7xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Asset Management"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Upload and manage design assets for the editor"})]}),i.jsxs(Ot,{variant:"secondary",children:[e.length," Assets"]})]}),i.jsxs(_c,{defaultValue:"upload",className:"space-y-6",children:[i.jsxs(Fl,{children:[i.jsxs(Zr,{value:"upload",children:[i.jsx(ll,{className:"w-4 h-4 mr-2"}),"Upload"]}),i.jsxs(Zr,{value:"library",children:[i.jsx(ca,{className:"w-4 h-4 mr-2"}),"Library"]}),i.jsxs(Zr,{value:"batch",children:[i.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Batch Upload"]})]}),i.jsx(sn,{value:"upload",children:i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Upload Single Asset"}),i.jsx(Xr,{children:"Upload SVG, PNG, JPG, or WEBP files for the design editor"})]}),i.jsx(Tt,{children:i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx(je,{children:"File"}),i.jsx("div",{className:"mt-2 border-2 border-dashed rounded-lg p-8 text-center",children:u?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"max-w-md mx-auto",children:(l==null?void 0:l.type)==="image/svg+xml"?i.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-muted rounded",dangerouslySetInnerHTML:{__html:u.includes("data:")?atob(u.split(",")[1]):""}}):i.jsx("img",{src:u,alt:"Preview",className:"w-full h-64 object-contain bg-muted rounded"})}),i.jsxs(pe,{type:"button",variant:"outline",onClick:()=>{c(null),d("")},children:[i.jsx(ol,{className:"w-4 h-4 mr-2"}),"Remove"]})]}):i.jsxs("label",{className:"cursor-pointer",children:[i.jsx(qce,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload or drag and drop"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"SVG, PNG, JPG, WEBP (max 100MB)"}),i.jsx("input",{type:"file",className:"hidden",accept:".svg,.png,.jpg,.jpeg,.webp",onChange:w})]})})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"title",children:"Title *"}),i.jsx(rt,{id:"title",value:h.title,onChange:k=>S("title",k.target.value),placeholder:"Beach Pattern",required:!0})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"category",children:"Category *"}),i.jsxs(Er,{value:h.category,onValueChange:k=>S("category",k),children:[i.jsx(Ar,{children:i.jsx(Tr,{})}),i.jsxs(kr,{children:[i.jsx(at,{value:"graphics",children:"Graphics"}),i.jsx(at,{value:"patterns",children:"Patterns"}),i.jsx(at,{value:"textTemplates",children:"Text Templates"}),i.jsx(at,{value:"icons",children:"Icons"}),i.jsx(at,{value:"shapes",children:"Shapes"}),i.jsx(at,{value:"fonts",children:"Fonts"}),i.jsx(at,{value:"logos",children:"Logos"})]})]})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(je,{htmlFor:"description",children:"Description"}),i.jsx(Ei,{id:"description",value:h.description,onChange:k=>S("description",k.target.value),placeholder:"Describe the asset...",rows:3})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(je,{htmlFor:"tags",children:"Tags (comma separated)"}),i.jsx(rt,{id:"tags",value:h.tags,onChange:k=>S("tags",k.target.value),placeholder:"beach, summer, pattern, tropical"})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"width",children:"Recommended Width (px)"}),i.jsx(rt,{id:"width",type:"number",value:h.recommendedWidth,onChange:k=>S("recommendedWidth",k.target.value),placeholder:"3000"})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"height",children:"Recommended Height (px)"}),i.jsx(rt,{id:"height",type:"number",value:h.recommendedHeight,onChange:k=>S("recommendedHeight",k.target.value),placeholder:"3000"})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"usage",children:"Usage"}),i.jsxs(Er,{value:h.usage,onValueChange:k=>S("usage",k),children:[i.jsx(Ar,{children:i.jsx(Tr,{})}),i.jsxs(kr,{children:[i.jsx(at,{value:"all",children:"All"}),i.jsx(at,{value:"front print",children:"Front Print"}),i.jsx(at,{value:"back print",children:"Back Print"}),i.jsx(at,{value:"sticker",children:"Sticker"}),i.jsx(at,{value:"accessory",children:"Accessory"})]})]})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"license",children:"License"}),i.jsxs(Er,{value:h.license,onValueChange:k=>S("license",k),children:[i.jsx(Ar,{children:i.jsx(Tr,{})}),i.jsxs(kr,{children:[i.jsx(at,{value:"commercial",children:"Commercial"}),i.jsx(at,{value:"CC0",children:"CC0"}),i.jsx(at,{value:"royalty-free",children:"Royalty-Free"}),i.jsx(at,{value:"custom",children:"Custom"})]})]})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(je,{htmlFor:"notes",children:"Design Notes"}),i.jsx(Ei,{id:"notes",value:h.designNotes,onChange:k=>S("designNotes",k.target.value),placeholder:"Great for t-shirts and hoodies...",rows:2})]})]}),i.jsx(pe,{type:"submit",disabled:a||!l,children:a?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ll,{className:"w-4 h-4 mr-2"}),"Upload Asset"]})})]})})]})}),i.jsx(sn,{value:"library",children:i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(vr,{children:"Asset Library"}),i.jsx(Xr,{children:"Manage your uploaded assets"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(pe,{variant:"outline",size:"icon",onClick:()=>y("grid"),children:i.jsx(SV,{className:"w-4 h-4"})}),i.jsx(pe,{variant:"outline",size:"icon",onClick:()=>y("list"),children:i.jsx(AV,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx(rt,{placeholder:"Search assets...",value:f.search,onChange:k=>m(E=>({...E,search:k.target.value})),onKeyDown:k=>k.key==="Enter"&&x()})}),i.jsxs(Er,{value:f.category||"all",onValueChange:k=>m(E=>({...E,category:k==="all"?"":k})),children:[i.jsx(Ar,{className:"w-40",children:i.jsx(Tr,{placeholder:"Category"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"all",children:"All"}),i.jsx(at,{value:"graphics",children:"Graphics"}),i.jsx(at,{value:"patterns",children:"Patterns"}),i.jsx(at,{value:"icons",children:"Icons"}),i.jsx(at,{value:"shapes",children:"Shapes"}),i.jsx(at,{value:"logos",children:"Logos"})]})]}),i.jsx(pe,{onClick:x,children:i.jsx(pl,{className:"w-4 h-4"})})]})]}),i.jsx(Tt,{children:n?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(Zn,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):e.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ca,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"No assets found"})]}):g==="grid"?i.jsx("div",{className:"grid grid-cols-4 gap-4",children:e.map(k=>i.jsxs(Ze,{className:"overflow-hidden",children:[i.jsx("div",{className:"aspect-square bg-muted flex items-center justify-center p-4",children:k.previewUrl?i.jsx("img",{src:k.previewUrl,alt:k.title,className:"w-full h-full object-contain"}):i.jsx(ca,{className:"w-12 h-12 text-muted-foreground"})}),i.jsxs(Tt,{className:"p-3",children:[i.jsx("h4",{className:"font-semibold text-sm truncate",children:k.title}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsx(Ot,{variant:"secondary",className:"text-xs",children:k.category}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(pe,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>A(k._id,k.isPublished),children:i.jsx(gh,{className:"w-3 h-3"})}),i.jsx(pe,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>C(k._id),children:i.jsx(ol,{className:"w-3 h-3"})})]})]})]})]},k._id))}):i.jsx("div",{className:"space-y-2",children:e.map(k=>i.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[i.jsx("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center",children:k.previewUrl?i.jsx("img",{src:k.previewUrl,alt:k.title,className:"w-full h-full object-contain"}):i.jsx(ca,{className:"w-6 h-6 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold",children:k.title}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.category,"  ",k.views," views  ",k.downloads," downloads"]})]}),i.jsx(Ot,{variant:k.isPublished?"default":"secondary",children:k.isPublished?"Published":"Draft"}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>A(k._id,k.isPublished),children:i.jsx(gh,{className:"w-4 h-4"})}),i.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>C(k._id),children:i.jsx(ol,{className:"w-4 h-4"})})]})]},k._id))})})]})}),i.jsx(sn,{value:"batch",children:i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Batch Upload"}),i.jsx(Xr,{children:"Upload multiple assets at once using a ZIP file with metadata.json"})]}),i.jsx(Tt,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[i.jsx(Sr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Upload a ZIP file containing:"}),i.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 mb-4",children:[i.jsx("li",{children:" assets/ folder with your files"}),i.jsx("li",{children:" metadata.json with asset information"})]}),i.jsxs(pe,{variant:"outline",children:[i.jsx(ll,{className:"w-4 h-4 mr-2"}),"Select ZIP File"]})]}),i.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Example metadata.json:"}),i.jsx("pre",{className:"text-xs overflow-x-auto",children:`[
  {
    "title": "Retro Sunburst",
    "description": "Vintage retro sun shape",
    "tags": ["retro", "sun", "graphic"],
    "type": "svg",
    "category": "graphics",
    "fileName": "sunburst.svg",
    "recommendedSize": {
      "width": 2500,
      "height": 2500
    },
    "designNotes": "Great for t-shirts"
  }
]`})]})]})})]})})]})]})},KJe=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(!1),s=rs(),{user:a}=Ba(),o=async l=>{if(l.preventDefault(),!t.trim()){$e.error("Please enter a store name");return}if(!(a!=null&&a.id)){$e.error("You must be logged in to create a store");return}t.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),n(!0);try{const c=await ua.create({name:t.trim(),theme:"modern"});if(!c.success||!c.data)throw new Error(c.message||"Failed to create store");const u=c.data;$e.success(`Store created! Your store is live at ${u.subdomain}.shelfmerch.com`,{duration:5e3}),s("/stores")}catch(c){console.error("Error creating store:",c),$e.error(c.message||"Failed to create store. Please try again.")}finally{n(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:i.jsxs(Ze,{className:"w-full max-w-2xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:i.jsx(Lo,{className:"w-8 h-8 text-primary"})}),i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create Your Store"}),i.jsx("p",{className:"text-muted-foreground",children:"Your product is saved! Now let's create your storefront."})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground",children:i.jsx(Gi,{className:"w-4 h-4"})}),i.jsx("span",{className:"font-medium",children:"Product Created"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 border-primary",children:"2"}),i.jsx("span",{className:"font-medium",children:"Create Store"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 border-muted-foreground",children:"3"}),i.jsx("span",{className:"text-muted-foreground",children:"Go Live"})]})]}),i.jsx("div",{className:"w-full h-2 bg-muted rounded-full",children:i.jsx("div",{className:"w-1/3 h-2 bg-primary rounded-full"})})]}),i.jsxs("form",{onSubmit:o,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"storeName",children:"Store Name"}),i.jsx(rt,{id:"storeName",placeholder:"My Awesome Store",value:t,onChange:l=>e(l.target.value),required:!0})]}),i.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[i.jsx(je,{className:"text-sm text-muted-foreground mb-2 block",children:"Your store URL will be:"}),i.jsx("p",{className:"text-lg font-mono font-semibold",children:t?`${t.toLowerCase().replace(/[^a-z0-9]/g,"-")}.shelfmerch.com`:"yourstore.shelfmerch.com"})]}),i.jsxs("div",{className:"bg-accent/50 border border-accent-foreground/20 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"What you get:"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Gi,{className:"w-4 h-4 text-primary"}),"Custom branded storefront"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Gi,{className:"w-4 h-4 text-primary"}),"Secure checkout integration"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Gi,{className:"w-4 h-4 text-primary"}),"Automatic order fulfillment"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Gi,{className:"w-4 h-4 text-primary"}),"Real-time analytics dashboard"]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(pe,{type:"button",variant:"outline",className:"flex-1",onClick:()=>s("/dashboard"),disabled:r,children:"Skip for Now"}),i.jsx(pe,{type:"submit",className:"flex-1",disabled:r||!t.trim(),children:r?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Store..."]}):"Create Store"})]})]})]})})},ZJe=()=>{var n,s,a,o,l,c,u,d,h,p,f,m;const t=rs(),r=(n=Vi().state)==null?void 0:n.order;return b.useEffect(()=>{r||t("/")},[r,t]),r?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs(Ze,{className:"max-w-2xl w-full p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-6",children:i.jsx(Xb,{className:"w-12 h-12 text-green-600"})}),i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Order Confirmed!"}),i.jsx("p",{className:"text-muted-foreground text-lg",children:"Thank you for your purchase. Your order has been received and is being processed."})]}),i.jsxs("div",{className:"space-y-6 mb-8",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 p-6 bg-muted rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Order Number"}),i.jsxs("p",{className:"font-semibold",children:["#",(s=r.id)==null?void 0:s.slice(0,8).toUpperCase()]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),i.jsx("p",{className:"font-semibold truncate",children:r.customerEmail})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Status"}),i.jsx("p",{className:"font-semibold capitalize",children:(a=r.status)==null?void 0:a.replace("-"," ")})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total"}),i.jsxs("p",{className:"font-semibold text-primary",children:["$",(o=r.total)==null?void 0:o.toFixed(2)]})]})]}),i.jsxs("div",{className:"border-t pt-6",children:[i.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[i.jsx(Sr,{className:"h-5 w-5"}),"Order Items"]}),i.jsx("div",{className:"space-y-3",children:(l=r.items)==null?void 0:l.map((g,y)=>{var x,w;return i.jsxs("div",{className:"flex justify-between items-center py-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:g.productName}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[(x=g.variant)==null?void 0:x.color," / ",(w=g.variant)==null?void 0:w.size,"  ",g.quantity]})]}),i.jsxs("p",{className:"font-semibold",children:["$",(g.price*g.quantity).toFixed(2)]})]},y)})})]}),i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h3",{className:"font-semibold mb-4",children:"Shipping Address"}),i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsx("p",{className:"font-medium",children:(c=r.shippingAddress)==null?void 0:c.fullName}),i.jsx("p",{children:(u=r.shippingAddress)==null?void 0:u.address1}),((d=r.shippingAddress)==null?void 0:d.address2)&&i.jsx("p",{children:r.shippingAddress.address2}),i.jsxs("p",{children:[(h=r.shippingAddress)==null?void 0:h.city,", ",(p=r.shippingAddress)==null?void 0:p.state," ",(f=r.shippingAddress)==null?void 0:f.zipCode]}),i.jsx("p",{children:(m=r.shippingAddress)==null?void 0:m.country})]})]})]}),i.jsxs("div",{className:"bg-accent/50 border border-accent-foreground/20 rounded-lg p-4 mb-6",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"What's Next?"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:" You'll receive an email confirmation shortly"}),i.jsx("li",{children:" Your order will be processed within 1-2 business days"}),i.jsx("li",{children:" Shipping typically takes 3-5 business days"}),i.jsx("li",{children:" Track your order status via the link in your email"})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(pe,{variant:"outline",className:"flex-1",onClick:()=>t(-1),children:[i.jsx(sy,{className:"mr-2 h-4 w-4"}),"Continue Shopping"]}),i.jsx(pe,{className:"flex-1",onClick:()=>t("/"),children:"Back to Home"})]})]})}):null},tW=[{type:"header",name:"Header",description:"Navigation bar with logo and menu",icon:"LayoutHeader",category:"layout",defaultSettings:{logo:"",storeName:"My Store",showSearch:!0,menuItems:[{label:"Home",link:"/"},{label:"Products",link:"/products"},{label:"About",link:"/about"}]},defaultStyles:{backgroundColor:"#ffffff",padding:{top:16,right:32,bottom:16,left:32}}},{type:"announcement-bar",name:"Announcement bar",description:"Display a short message or promotion above the header",icon:"Megaphone",category:"layout",availableOn:["home","product"],defaultSettings:{message:"Free shipping on orders over $75",linkLabel:"",linkUrl:"",showClose:!0,alignment:"center"},defaultStyles:{backgroundColor:"#111827",textAlign:"center",padding:{top:8,right:16,bottom:8,left:16}}},{type:"hero",name:"Hero Banner",description:"Large banner with heading and call-to-action",icon:"Image",category:"content",defaultSettings:{heading:"Welcome to Our Store",subheading:"Discover amazing products",buttonText:"Shop Now",buttonLink:"#products",backgroundImage:"",alignment:"center"},defaultStyles:{backgroundColor:"#f3f4f6",padding:{top:80,right:32,bottom:80,left:32},textAlign:"center"}},{type:"product-grid",name:"Product Grid",description:"Display products in a grid layout",icon:"Grid3x3",category:"commerce",defaultSettings:{heading:"Featured Products",columns:4,showAll:!0,productIds:[],showPrice:!0,showAddToCart:!0,layout:"grid",maxProducts:8},defaultStyles:{backgroundColor:"#ffffff",padding:{top:64,right:32,bottom:64,left:32}}},{type:"product-collection",name:"Product Collection",description:"Curated collection of products",icon:"LayoutGrid",category:"commerce",defaultSettings:{heading:"Shop by Collection",description:"Explore our curated collections",collections:[],layout:"grid",showPrice:!0,maxProductsPerCollection:4,filterBy:"subcategory"},defaultStyles:{backgroundColor:"#ffffff",padding:{top:64,right:32,bottom:64,left:32}}},{type:"text",name:"Text Block",description:"Rich text content with formatting",icon:"Type",category:"content",defaultSettings:{heading:"About Us",content:"<p>Tell your story here. Add your brand message and connect with customers.</p>",alignment:"left"},defaultStyles:{backgroundColor:"#ffffff",padding:{top:48,right:32,bottom:48,left:32}}},{type:"image",name:"Image Gallery",description:"Single image or image gallery",icon:"ImageIcon",category:"content",defaultSettings:{images:[],layout:"single",aspectRatio:"16:9",gridColumns:3},defaultStyles:{backgroundColor:"#ffffff",padding:{top:32,right:32,bottom:32,left:32}}},{type:"newsletter",name:"Newsletter Signup",description:"Email capture form",icon:"Mail",category:"marketing",defaultSettings:{heading:"Stay Updated",description:"Subscribe to get special offers and updates",buttonText:"Subscribe",placeholder:"Enter your email",successMessage:"Thanks for subscribing!"},defaultStyles:{backgroundColor:"#f9fafb",padding:{top:64,right:32,bottom:64,left:32},textAlign:"center"}},{type:"testimonials",name:"Testimonials",description:"Customer reviews and testimonials",icon:"MessageSquare",category:"marketing",defaultSettings:{heading:"What Our Customers Say",testimonials:[{name:"John Doe",rating:5,text:"Amazing products and great service!",avatar:""}],layout:"carousel"},defaultStyles:{backgroundColor:"#ffffff",padding:{top:64,right:32,bottom:64,left:32}}},{type:"footer",name:"Footer",description:"Footer with links and information",icon:"LayoutFooter",category:"layout",defaultSettings:{sections:[{title:"Shop",links:[{label:"All Products",url:"/products"},{label:"New Arrivals",url:"/new"}]},{title:"Support",links:[{label:"Contact Us",url:"/contact"}]}],copyright:" 2025 Your Store. All rights reserved.",socialLinks:[]},defaultStyles:{backgroundColor:"#1f2937",padding:{top:48,right:32,bottom:32,left:32}}},{type:"custom-html",name:"Custom HTML",description:"Add custom HTML code",icon:"Code",category:"content",defaultSettings:{html:"<div><p>Add your custom HTML here</p></div>"},defaultStyles:{backgroundColor:"#ffffff",padding:{top:32,right:32,bottom:32,left:32}}},{type:"product-details",name:"Product details",description:"Showcase product information, price, and purchase actions",icon:"Shirt",category:"commerce",availableOn:["product"],defaultSettings:{badgeText:"Bestseller",showBadge:!0,showRating:!0,ratingValue:4.8,ratingCount:128,tagline:"Premium quality you can feel",showTrustBadges:!0,trustBadges:[{icon:"Truck",title:"Fast fulfillment",text:"Ships in 2-3 business days"},{icon:"ShieldCheck",title:"Quality guarantee",text:"30-day hassle-free returns"}],showReviews:!0,showSizeChart:!0},defaultStyles:{backgroundColor:"#ffffff",padding:{top:48,right:32,bottom:48,left:32}}},{type:"product-recommendations",name:"You may also like",description:"Suggest other products related to the current item",icon:"Sparkles",category:"commerce",availableOn:["product"],defaultSettings:{heading:"You may also like",subheading:"Complete the look with these hand-picked items.",maxItems:4,layout:"grid"},defaultStyles:{backgroundColor:"#ffffff",padding:{top:48,right:32,bottom:48,left:32}}}],QJe={primaryColor:"#2563eb",secondaryColor:"#64748b",accentColor:"#f59e0b",backgroundColor:"#ffffff",textColor:"#1e293b",headingFont:"Inter, sans-serif",bodyFont:"Inter, sans-serif",buttonStyle:"rounded",cardStyle:"elevated",spacing:"normal"},U5=()=>({version:"1.0",pages:[{id:"home",name:"Home",slug:"/",isSystemPage:!0,sections:[]},{id:"product",name:"Product Page",slug:"/product",isSystemPage:!0,sections:[]}],activePageId:"home",globalStyles:QJe,draft:!0}),vie=b.createContext(void 0),Xx=t=>{var s;const e=[...t.pages],r=(a,o)=>{e.find(c=>c.slug===a)||e.push({id:`${a.replace(/\W+/g,"")}-${Math.random().toString(36).slice(2,8)}`,name:o,slug:a,isSystemPage:!0,sections:[]})};r("/","Home"),r("/product","Product Page");const n=t.activePageId&&e.some(a=>a.id===t.activePageId)?t.activePageId:(s=e[0])==null?void 0:s.id;return{...t,pages:e,activePageId:n}};function JJe(t,e){const{past:r,present:n,future:s}=t;switch(e.type){case"ADD_SECTION":{const a=n.pages.map(o=>o.id===e.pageId?{...o,sections:[...o.sections,e.section]}:o);return{past:[...r.slice(-49),n],present:{...n,pages:a},future:[]}}case"REMOVE_SECTION":{const a=n.pages.map(o=>o.id===e.pageId?{...o,sections:o.sections.filter(l=>l.id!==e.sectionId)}:o);return{past:[...r.slice(-49),n],present:{...n,pages:a},future:[]}}case"UPDATE_SECTION":{const a=n.pages.map(o=>o.id===e.pageId?{...o,sections:o.sections.map(l=>l.id===e.sectionId?{...l,...e.updates}:l)}:o);return{past:[...r.slice(-49),n],present:{...n,pages:a},future:[]}}case"REORDER_SECTIONS":{const a=n.pages.map(o=>o.id===e.pageId?{...o,sections:e.sections.map((l,c)=>({...l,order:c}))}:o);return{past:[...r.slice(-49),n],present:{...n,pages:a},future:[]}}case"UPDATE_GLOBAL_STYLES":return{past:[...r.slice(-49),n],present:{...n,globalStyles:{...n.globalStyles,...e.styles}},future:[]};case"ADD_PAGE":{const a={...e.page,id:Math.random().toString(36).substr(2,9)};return{past:[...r.slice(-49),n],present:{...n,pages:[...n.pages,a],activePageId:a.id},future:[]}}case"REMOVE_PAGE":{const a={...n};return a.pages=a.pages.filter(o=>o.id!==e.pageId),a.activePageId===e.pageId&&a.pages.length>0&&(a.activePageId=a.pages[0].id),{past:[...r.slice(-49),n],present:a,future:[]}}case"UPDATE_PAGE":{const a={...n},o=a.pages.findIndex(l=>l.id===e.pageId);return o>=0&&(a.pages[o]={...a.pages[o],...e.updates}),{past:[...r.slice(-49),n],present:a,future:[]}}case"SET_ACTIVE_PAGE":return{past:r,present:{...n,activePageId:e.pageId},future:s};case"UNDO":{if(r.length===0)return t;const a=r[r.length-1];return{past:r.slice(0,r.length-1),present:a,future:[n,...s]}}case"REDO":{if(s.length===0)return t;const a=s[0],o=s.slice(1);return{past:[...r,n],present:a,future:o}}case"LOAD_BUILDER":return{past:[],present:e.builder,future:[]};default:return t}}const eet=({children:t})=>{const[e,r]=b.useReducer(JJe,{past:[],present:Xx(U5()),future:[]}),[n,s]=b.useState("desktop"),[a,o]=b.useState(null),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[h,p]=b.useState(!1),f=e.present,m=e.past.length>0,g=e.future.length>0,y=b.useCallback((W,B)=>{r({type:"ADD_SECTION",section:W,pageId:B||f.activePageId})},[f.activePageId]),x=b.useCallback((W,B)=>{r({type:"REMOVE_SECTION",sectionId:W,pageId:B||f.activePageId})},[f.activePageId]),w=b.useCallback((W,B,O)=>{r({type:"UPDATE_SECTION",sectionId:W,updates:B,pageId:O||f.activePageId})},[f.activePageId]),S=b.useCallback((W,B)=>{r({type:"REORDER_SECTIONS",sections:W,pageId:B||f.activePageId})},[f.activePageId]),N=b.useCallback(W=>{r({type:"UPDATE_GLOBAL_STYLES",styles:W})},[]),C=b.useCallback(W=>{r({type:"ADD_PAGE",page:W})},[]),A=b.useCallback(W=>{r({type:"REMOVE_PAGE",pageId:W})},[]),k=b.useCallback((W,B)=>{r({type:"UPDATE_PAGE",pageId:W,updates:B})},[]),E=b.useCallback(W=>{r({type:"SET_ACTIVE_PAGE",pageId:W})},[]),T=b.useCallback(()=>{r({type:"UNDO"})},[]),R=b.useCallback(()=>{r({type:"REDO"})},[]),I=b.useCallback(async W=>{if(!l)try{if(c(!0),(await M1.saveDraft(W,f)).success){const O=`store_builder_draft_${W}`;localStorage.setItem(O,JSON.stringify({...f,draft:!0,lastSaved:new Date().toISOString()})),$e.success("Draft saved!")}else throw new Error("Failed to save draft")}catch(B){console.error("Error saving draft:",B);const O=`store_builder_draft_${W}`;localStorage.setItem(O,JSON.stringify({...f,draft:!0,lastSaved:new Date().toISOString()})),$e.warning("Saved locally (offline mode)")}finally{c(!1)}},[f,l]),L=b.useCallback(async W=>{if(!u)try{d(!0);const B=await M1.publish(W,f);if(B.success)localStorage.removeItem(`store_builder_draft_${W}`),window.dispatchEvent(new CustomEvent("shelfmerch-data-update",{detail:{type:"store-builder-published",storeId:W,data:B.data}})),$e.success("Store published!");else throw new Error("Failed to publish")}catch(B){console.error("Error publishing builder:",B),$e.error((B==null?void 0:B.message)||"Failed to publish store")}finally{d(!1)}},[f,u]),U=b.useCallback(async W=>{try{p(!0);const B=await M1.get(W);if(B.success&&B.data){r({type:"LOAD_BUILDER",builder:Xx(B.data)});return}const O=`store_builder_draft_${W}`,K=localStorage.getItem(O);if(K)try{const Y=JSON.parse(K);r({type:"LOAD_BUILDER",builder:Xx(Y)}),$e.info("Loaded local draft");return}catch(Y){console.error("Failed to parse local draft:",Y)}r({type:"LOAD_BUILDER",builder:U5()})}catch(B){console.error("Error loading builder from backend:",B);const O=`store_builder_draft_${W}`,K=localStorage.getItem(O);if(K)try{const Y=JSON.parse(K);r({type:"LOAD_BUILDER",builder:Xx(Y)}),$e.warning("Loaded from local cache (offline mode)");return}catch(Y){console.error("Failed to parse local draft:",Y)}$e.error("Failed to load builder")}finally{p(!1)}},[]),$=b.useCallback(W=>{r({type:"LOAD_BUILDER",builder:Xx(W)})},[]),q=b.useCallback(async W=>{if(W)try{const B=await M1.reset(W);if(B.success){r({type:"LOAD_BUILDER",builder:Xx(B.data||U5())}),localStorage.removeItem(`store_builder_draft_${W}`),$e.success("Builder reset to default");return}}catch(B){console.error("Error resetting builder:",B),$e.error("Failed to reset builder")}r({type:"LOAD_BUILDER",builder:U5()})},[]),G=b.useCallback(()=>f.pages.find(W=>W.id===f.activePageId),[f.pages,f.activePageId]);return b.useEffect(()=>{const W=B=>{(B.metaKey||B.ctrlKey)&&B.key==="z"&&!B.shiftKey?(B.preventDefault(),T()):(B.metaKey||B.ctrlKey)&&(B.key==="y"||B.key==="z"&&B.shiftKey)&&(B.preventDefault(),R())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[T,R]),i.jsx(vie.Provider,{value:{builder:f,history:e,previewMode:n,selectedSectionId:a,canUndo:m,canRedo:g,isSaving:l,isPublishing:u,isLoading:h,dispatch:r,addSection:y,removeSection:x,updateSection:w,reorderSections:S,updateGlobalStyles:N,addPage:C,removePage:A,updatePage:k,setActivePage:E,setSelectedSection:o,setPreviewMode:s,undo:T,redo:R,saveDraft:I,publishBuilder:L,loadBuilder:$,loadFromBackend:U,resetBuilder:q,getActivePage:G},children:t})},tet=()=>{const t=b.useContext(vie);if(t===void 0)throw new Error("useBuilder must be used within a BuilderProvider");return t};function ret(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return b.useMemo(()=>n=>{e.forEach(s=>s(n))},e)}const l_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nv(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function a7(t){return"nodeType"in t}function zl(t){var e,r;return t?Nv(t)?t:a7(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function o7(t){const{Document:e}=zl(t);return t instanceof e}function Gw(t){return Nv(t)?!1:t instanceof zl(t).HTMLElement}function bie(t){return t instanceof zl(t).SVGElement}function Cv(t){return t?Nv(t)?t.document:a7(t)?o7(t)?t:Gw(t)||bie(t)?t.ownerDocument:document:document:document}const jh=l_?b.useLayoutEffect:b.useEffect;function l7(t){const e=b.useRef(t);return jh(()=>{e.current=t}),b.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function net(){const t=b.useRef(null),e=b.useCallback((n,s)=>{t.current=setInterval(n,s)},[]),r=b.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function rw(t,e){e===void 0&&(e=[t]);const r=b.useRef(t);return jh(()=>{r.current!==t&&(r.current=t)},e),r}function Hw(t,e){const r=b.useRef();return b.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function G4(t){const e=l7(t),r=b.useRef(null),n=b.useCallback(s=>{s!==r.current&&(e==null||e(s,r.current)),r.current=s},[]);return[r,n]}function aT(t){const e=b.useRef();return b.useEffect(()=>{e.current=t},[t]),e.current}let tP={};function Vw(t,e){return b.useMemo(()=>{if(e)return e;const r=tP[t]==null?0:tP[t]+1;return tP[t]=r,t+"-"+r},[t,e])}function wie(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((a,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=a[c];d!=null&&(a[c]=d+t*u)}return a},{...e})}}const z0=wie(1),nw=wie(-1);function set(t){return"clientX"in t&&"clientY"in t}function c7(t){if(!t)return!1;const{KeyboardEvent:e}=zl(t.target);return e&&t instanceof e}function iet(t){if(!t)return!1;const{TouchEvent:e}=zl(t.target);return e&&t instanceof e}function oT(t){if(iet(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return set(t)?{x:t.clientX,y:t.clientY}:null}const sw=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[sw.Translate.toString(t),sw.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),rW="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function aet(t){return t.matches(rW)?t:t.querySelector(rW)}const oet={display:"none"};function cet(t){let{id:e,value:r}=t;return xe.createElement("div",{id:e,style:oet},r)}function uet(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return xe.createElement("div",{id:e,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function det(){const[t,e]=b.useState("");return{announce:b.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const jie=b.createContext(null);function het(t){const e=b.useContext(jie);b.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function fet(){const[t]=b.useState(()=>new Set),e=b.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[b.useCallback(n=>{let{type:s,event:a}=n;t.forEach(o=>{var l;return(l=o[s])==null?void 0:l.call(o,a)})},[t]),e]}const pet={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},met={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function get(t){let{announcements:e=met,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=pet}=t;const{announce:a,announcement:o}=det(),l=Vw("DndLiveRegion"),[c,u]=b.useState(!1);if(b.useEffect(()=>{u(!0)},[]),het(b.useMemo(()=>({onDragStart(h){let{active:p}=h;a(e.onDragStart({active:p}))},onDragMove(h){let{active:p,over:f}=h;e.onDragMove&&a(e.onDragMove({active:p,over:f}))},onDragOver(h){let{active:p,over:f}=h;a(e.onDragOver({active:p,over:f}))},onDragEnd(h){let{active:p,over:f}=h;a(e.onDragEnd({active:p,over:f}))},onDragCancel(h){let{active:p,over:f}=h;a(e.onDragCancel({active:p,over:f}))}}),[a,e])),!c)return null;const d=xe.createElement(xe.Fragment,null,xe.createElement(cet,{id:n,value:s.draggable}),xe.createElement(uet,{id:l,announcement:o}));return r?hu.createPortal(d,r):d}var aa;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(aa||(aa={}));function H4(){}function nW(t,e){return b.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function xet(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return b.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const kd=Object.freeze({x:0,y:0});function yet(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function vet(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function bet(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function sW(t){let{left:e,top:r,height:n,width:s}=t;return[{x:e,y:r},{x:e+s,y:r},{x:e,y:r+n},{x:e+s,y:r+n}]}function Sie(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}const wet=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=sW(e),a=[];for(const o of n){const{id:l}=o,c=r.get(l);if(c){const u=sW(c),d=s.reduce((p,f,m)=>p+yet(u[m],f),0),h=Number((d/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:h}})}}return a.sort(vet)};function jet(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),o=s-n,l=a-r;if(n<s&&r<a){const c=e.width*e.height,u=t.width*t.height,d=o*l,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const Net=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const s=[];for(const a of n){const{id:o}=a,l=r.get(o);if(l){const c=jet(l,e);c>0&&s.push({id:o,data:{droppableContainer:a,value:c}})}}return s.sort(bet)};function Cet(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function Nie(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:kd}function _et(t){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((o,l)=>({...o,top:o.top+t*l.y,bottom:o.bottom+t*l.y,left:o.left+t*l.x,right:o.right+t*l.x}),{...r})}}const Aet=_et(1);function ket(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Pet(t,e,r){const n=ket(e);if(!n)return t;const{scaleX:s,scaleY:a,x:o,y:l}=n,c=t.left-o-(1-s)*parseFloat(r),u=t.top-l-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=s?t.width/s:t.width,h=a?t.height/a:t.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const Eet={ignoreTransform:!1};function _v(t,e){e===void 0&&(e=Eet);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=zl(t).getComputedStyle(t);u&&(r=Pet(r,u,d))}const{top:n,left:s,width:a,height:o,bottom:l,right:c}=r;return{top:n,left:s,width:a,height:o,bottom:l,right:c}}function iW(t){return _v(t,{ignoreTransform:!0})}function Tet(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function Iet(t,e){return e===void 0&&(e=zl(t).getComputedStyle(t)),e.position==="fixed"}function Met(t,e){e===void 0&&(e=zl(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=e[s];return typeof a=="string"?r.test(a):!1})}function c_(t,e){const r=[];function n(s){if(e!=null&&r.length>=e||!s)return r;if(o7(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!Gw(s)||bie(s)||r.includes(s))return r;const a=zl(t).getComputedStyle(s);return s!==t&&Met(s,a)&&r.push(s),Iet(s,a)?r:n(s.parentNode)}return t?n(t):r}function Cie(t){const[e]=c_(t,1);return e??null}function rP(t){return!l_||!t?null:Nv(t)?t:a7(t)?o7(t)||t===Cv(t).scrollingElement?window:Gw(t)?t:null:null}function _ie(t){return Nv(t)?t.scrollX:t.scrollLeft}function Aie(t){return Nv(t)?t.scrollY:t.scrollTop}function lT(t){return{x:_ie(t),y:Aie(t)}}var Ma;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ma||(Ma={}));function kie(t){return!l_||!t?!1:t===document.scrollingElement}function Pie(t){const e={x:0,y:0},r=kie(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},s=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,o=t.scrollTop>=n.y,l=t.scrollLeft>=n.x;return{isTop:s,isLeft:a,isBottom:o,isRight:l,maxScroll:n,minScroll:e}}const Oet={x:.2,y:.2};function Let(t,e,r,n,s){let{top:a,left:o,right:l,bottom:c}=r;n===void 0&&(n=10),s===void 0&&(s=Oet);const{isTop:u,isBottom:d,isLeft:h,isRight:p}=Pie(t),f={x:0,y:0},m={x:0,y:0},g={height:e.height*s.y,width:e.width*s.x};return!u&&a<=e.top+g.height?(f.y=Ma.Backward,m.y=n*Math.abs((e.top+g.height-a)/g.height)):!d&&c>=e.bottom-g.height&&(f.y=Ma.Forward,m.y=n*Math.abs((e.bottom-g.height-c)/g.height)),!p&&l>=e.right-g.width?(f.x=Ma.Forward,m.x=n*Math.abs((e.right-g.width-l)/g.width)):!h&&o<=e.left+g.width&&(f.x=Ma.Backward,m.x=n*Math.abs((e.left+g.width-o)/g.width)),{direction:f,speed:m}}function Ret(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:e,left:r,right:n,bottom:s}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:s,width:t.clientWidth,height:t.clientHeight}}function Eie(t){return t.reduce((e,r)=>z0(e,lT(r)),kd)}function Det(t){return t.reduce((e,r)=>e+_ie(r),0)}function Fet(t){return t.reduce((e,r)=>e+Aie(r),0)}function Bet(t,e){if(e===void 0&&(e=_v),!t)return;const{top:r,left:n,bottom:s,right:a}=e(t);Cie(t)&&(s<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const $et=[["x",["left","right"],Det],["y",["top","bottom"],Fet]];class u7{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=c_(r),s=Eie(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,o,l]of $et)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(n),d=s[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class kb{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var s;(s=this.target)==null||s.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function zet(t){const{EventTarget:e}=zl(t);return t instanceof e?t:Cv(t)}function nP(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var nu;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(nu||(nu={}));function aW(t){t.preventDefault()}function Uet(t){t.stopPropagation()}var _n;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(_n||(_n={}));const Tie={start:[_n.Space,_n.Enter],cancel:[_n.Esc],end:[_n.Space,_n.Enter,_n.Tab]},Wet=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case _n.Right:return{...r,x:r.x+25};case _n.Left:return{...r,x:r.x-25};case _n.Down:return{...r,y:r.y+25};case _n.Up:return{...r,y:r.y-25}}};class d7{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new kb(Cv(r)),this.windowListeners=new kb(zl(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nu.Resize,this.handleCancel),this.windowListeners.add(nu.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nu.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&Bet(n),r(kd)}handleKeyDown(e){if(c7(e)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:a=Tie,coordinateGetter:o=Wet,scrollBehavior:l="smooth"}=s,{code:c}=e;if(a.end.includes(c)){this.handleEnd(e);return}if(a.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:kd;this.referenceCoordinates||(this.referenceCoordinates=d);const h=o(e,{active:r,context:n.current,currentCoordinates:d});if(h){const p=nw(h,d),f={x:0,y:0},{scrollableAncestors:m}=n.current;for(const g of m){const y=e.code,{isTop:x,isRight:w,isLeft:S,isBottom:N,maxScroll:C,minScroll:A}=Pie(g),k=Ret(g),E={x:Math.min(y===_n.Right?k.right-k.width/2:k.right,Math.max(y===_n.Right?k.left:k.left+k.width/2,h.x)),y:Math.min(y===_n.Down?k.bottom-k.height/2:k.bottom,Math.max(y===_n.Down?k.top:k.top+k.height/2,h.y))},T=y===_n.Right&&!w||y===_n.Left&&!S,R=y===_n.Down&&!N||y===_n.Up&&!x;if(T&&E.x!==h.x){const I=g.scrollLeft+p.x,L=y===_n.Right&&I<=C.x||y===_n.Left&&I>=A.x;if(L&&!p.y){g.scrollTo({left:I,behavior:l});return}L?f.x=g.scrollLeft-I:f.x=y===_n.Right?g.scrollLeft-C.x:g.scrollLeft-A.x,f.x&&g.scrollBy({left:-f.x,behavior:l});break}else if(R&&E.y!==h.y){const I=g.scrollTop+p.y,L=y===_n.Down&&I<=C.y||y===_n.Up&&I>=A.y;if(L&&!p.x){g.scrollTo({top:I,behavior:l});return}L?f.y=g.scrollTop-I:f.y=y===_n.Down?g.scrollTop-C.y:g.scrollTop-A.y,f.y&&g.scrollBy({top:-f.y,behavior:l});break}}this.handleMove(e,z0(nw(h,this.referenceCoordinates),f))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}d7.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=Tie,onActivation:s}=e,{active:a}=r;const{code:o}=t.nativeEvent;if(n.start.includes(o)){const l=a.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function oW(t){return!!(t&&"distance"in t)}function lW(t){return!!(t&&"delay"in t)}class h7{constructor(e,r,n){var s;n===void 0&&(n=zet(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:a}=e,{target:o}=a;this.props=e,this.events=r,this.document=Cv(o),this.documentListeners=new kb(this.document),this.listeners=new kb(n),this.windowListeners=new kb(zl(o)),this.initialCoordinates=(s=oT(a))!=null?s:kd,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(nu.Resize,this.handleCancel),this.windowListeners.add(nu.DragStart,aW),this.windowListeners.add(nu.VisibilityChange,this.handleCancel),this.windowListeners.add(nu.ContextMenu,aW),this.documentListeners.add(nu.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(lW(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(oW(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:s}=this.props;s(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(nu.Click,Uet,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nu.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:s,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!s)return;const c=(r=oT(e))!=null?r:kd,u=nw(s,c);if(!n&&l){if(oW(l)){if(l.tolerance!=null&&nP(u,l.tolerance))return this.handleCancel();if(nP(u,l.distance))return this.handleStart()}if(lW(l)&&nP(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===_n.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Get={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class f7 extends h7{constructor(e){const{event:r}=e,n=Cv(r.target);super(e,Get,n)}}f7.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const Het={move:{name:"mousemove"},end:{name:"mouseup"}};var cT;(function(t){t[t.RightClick=2]="RightClick"})(cT||(cT={}));class Vet extends h7{constructor(e){super(e,Het,Cv(e.event.target))}}Vet.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===cT.RightClick?!1:(n==null||n({event:r}),!0)}}];const sP={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class qet extends h7{constructor(e){super(e,sP)}static setup(){return window.addEventListener(sP.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(sP.move.name,e)};function e(){}}}qet.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var Pb;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Pb||(Pb={}));var V4;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(V4||(V4={}));function Yet(t){let{acceleration:e,activator:r=Pb.Pointer,canScroll:n,draggingRect:s,enabled:a,interval:o=5,order:l=V4.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:p}=t;const f=Ket({delta:h,disabled:!a}),[m,g]=net(),y=b.useRef({x:0,y:0}),x=b.useRef({x:0,y:0}),w=b.useMemo(()=>{switch(r){case Pb.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Pb.DraggableRect:return s}},[r,s,c]),S=b.useRef(null),N=b.useCallback(()=>{const A=S.current;if(!A)return;const k=y.current.x*x.current.x,E=y.current.y*x.current.y;A.scrollBy(k,E)},[]),C=b.useMemo(()=>l===V4.TreeOrder?[...u].reverse():u,[l,u]);b.useEffect(()=>{if(!a||!u.length||!w){g();return}for(const A of C){if((n==null?void 0:n(A))===!1)continue;const k=u.indexOf(A),E=d[k];if(!E)continue;const{direction:T,speed:R}=Let(A,E,w,e,p);for(const I of["x","y"])f[I][T[I]]||(R[I]=0,T[I]=0);if(R.x>0||R.y>0){g(),S.current=A,m(N,o),y.current=R,x.current=T;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[e,N,n,g,a,o,JSON.stringify(w),JSON.stringify(f),m,u,C,d,JSON.stringify(p)])}const Xet={x:{[Ma.Backward]:!1,[Ma.Forward]:!1},y:{[Ma.Backward]:!1,[Ma.Forward]:!1}};function Ket(t){let{delta:e,disabled:r}=t;const n=aT(e);return Hw(s=>{if(r||!n||!s)return Xet;const a={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Ma.Backward]:s.x[Ma.Backward]||a.x===-1,[Ma.Forward]:s.x[Ma.Forward]||a.x===1},y:{[Ma.Backward]:s.y[Ma.Backward]||a.y===-1,[Ma.Forward]:s.y[Ma.Forward]||a.y===1}}},[r,e,n])}function Zet(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return Hw(s=>{var a;return e==null?null:(a=n??s)!=null?a:null},[n,e])}function Qet(t,e){return b.useMemo(()=>t.reduce((r,n)=>{const{sensor:s}=n,a=s.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,n)}));return[...r,...a]},[]),[t,e])}var iw;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(iw||(iw={}));var uT;(function(t){t.Optimized="optimized"})(uT||(uT={}));const cW=new Map;function Jet(t,e){let{dragging:r,dependencies:n,config:s}=e;const[a,o]=b.useState(null),{frequency:l,measure:c,strategy:u}=s,d=b.useRef(t),h=y(),p=rw(h),f=b.useCallback(function(x){x===void 0&&(x=[]),!p.current&&o(w=>w===null?x:w.concat(x.filter(S=>!w.includes(S))))},[p]),m=b.useRef(null),g=Hw(x=>{if(h&&!r)return cW;if(!x||x===cW||d.current!==t||a!=null){const w=new Map;for(let S of t){if(!S)continue;if(a&&a.length>0&&!a.includes(S.id)&&S.rect.current){w.set(S.id,S.rect.current);continue}const N=S.node.current,C=N?new u7(c(N),N):null;S.rect.current=C,C&&w.set(S.id,C)}return w}return x},[t,a,r,h,c]);return b.useEffect(()=>{d.current=t},[t]),b.useEffect(()=>{h||f()},[r,h]),b.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),b.useEffect(()=>{h||typeof l!="number"||m.current!==null||(m.current=setTimeout(()=>{f(),m.current=null},l))},[l,h,f,...n]),{droppableRects:g,measureDroppableContainers:f,measuringScheduled:a!=null};function y(){switch(u){case iw.Always:return!1;case iw.BeforeDragging:return r;default:return!r}}}function Iie(t,e){return Hw(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function ett(t,e){return Iie(t,e)}function ttt(t){let{callback:e,disabled:r}=t;const n=l7(e),s=b.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return b.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function u_(t){let{callback:e,disabled:r}=t;const n=l7(e),s=b.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return b.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function rtt(t){return new u7(_v(t),t)}function uW(t,e,r){e===void 0&&(e=rtt);const[n,s]=b.useState(null);function a(){s(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=ttt({callback(c){if(t)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){a();break}}}}),l=u_({callback:a});return jh(()=>{a(),t?(l==null||l.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[t]),n}function ntt(t){const e=Iie(t);return Nie(t,e)}const dW=[];function stt(t){const e=b.useRef(t),r=Hw(n=>t?n&&n!==dW&&t&&e.current&&t.parentNode===e.current.parentNode?n:c_(t):dW,[t]);return b.useEffect(()=>{e.current=t},[t]),r}function itt(t){const[e,r]=b.useState(null),n=b.useRef(t),s=b.useCallback(a=>{const o=rP(a.target);o&&r(l=>l?(l.set(o,lT(o)),new Map(l)):null)},[]);return b.useEffect(()=>{const a=n.current;if(t!==a){o(a);const l=t.map(c=>{const u=rP(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,lT(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=t}return()=>{o(t),o(a)};function o(l){l.forEach(c=>{const u=rP(c);u==null||u.removeEventListener("scroll",s)})}},[s,t]),b.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,o)=>z0(a,o),kd):Eie(t):kd,[t,e])}function hW(t,e){e===void 0&&(e=[]);const r=b.useRef(null);return b.useEffect(()=>{r.current=null},e),b.useEffect(()=>{const n=t!==kd;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?nw(t,r.current):kd}function att(t){b.useEffect(()=>{if(!l_)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function ott(t,e){return b.useMemo(()=>t.reduce((r,n)=>{let{eventName:s,handler:a}=n;return r[s]=o=>{a(o,e)},r},{}),[t,e])}function Mie(t){return b.useMemo(()=>t?Tet(t):null,[t])}const fW=[];function ltt(t,e){e===void 0&&(e=_v);const[r]=t,n=Mie(r?zl(r):null),[s,a]=b.useState(fW);function o(){a(()=>t.length?t.map(c=>kie(c)?n:new u7(e(c),c)):fW)}const l=u_({callback:o});return jh(()=>{l==null||l.disconnect(),o(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),s}function ctt(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Gw(e)?e:t}function utt(t){let{measure:e}=t;const[r,n]=b.useState(null),s=b.useCallback(u=>{for(const{target:d}of u)if(Gw(d)){n(h=>{const p=e(d);return h?{...h,width:p.width,height:p.height}:p});break}},[e]),a=u_({callback:s}),o=b.useCallback(u=>{const d=ctt(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),n(d?e(d):null)},[e,a]),[l,c]=G4(o);return b.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const dtt=[{sensor:f7,options:{}},{sensor:d7,options:{}}],htt={current:{}},TS={draggable:{measure:iW},droppable:{measure:iW,strategy:iw.WhileDragging,frequency:uT.Optimized},dragOverlay:{measure:_v}};class Eb extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const ftt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Eb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:H4},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:TS,measureDroppableContainers:H4,windowRect:null,measuringScheduled:!1},ptt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:H4,draggableNodes:new Map,over:null,measureDroppableContainers:H4},d_=b.createContext(ptt),Oie=b.createContext(ftt);function mtt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Eb}}}function gtt(t,e){switch(e.type){case aa.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case aa.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case aa.DragEnd:case aa.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case aa.RegisterDroppable:{const{element:r}=e,{id:n}=r,s=new Eb(t.droppable.containers);return s.set(n,r),{...t,droppable:{...t.droppable,containers:s}}}case aa.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=e,a=t.droppable.containers.get(r);if(!a||n!==a.key)return t;const o=new Eb(t.droppable.containers);return o.set(r,{...a,disabled:s}),{...t,droppable:{...t.droppable,containers:o}}}case aa.UnregisterDroppable:{const{id:r,key:n}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const a=new Eb(t.droppable.containers);return a.delete(r),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function xtt(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:s}=b.useContext(d_),a=aT(n),o=aT(r==null?void 0:r.id);return b.useEffect(()=>{if(!e&&!n&&a&&o!=null){if(!c7(a)||document.activeElement===a.target)return;const l=s.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=aet(d);if(h){h.focus();break}}})}},[n,e,s,o,a]),null}function ytt(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((s,a)=>a({transform:s,...n}),r):r}function vtt(t){return b.useMemo(()=>({draggable:{...TS.draggable,...t==null?void 0:t.draggable},droppable:{...TS.droppable,...t==null?void 0:t.droppable},dragOverlay:{...TS.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function btt(t){let{activeNode:e,measure:r,initialRect:n,config:s=!0}=t;const a=b.useRef(!1),{x:o,y:l}=typeof s=="boolean"?{x:s,y:s}:s;jh(()=>{if(!o&&!l||!e){a.current=!1;return}if(a.current||!n)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=r(u),h=Nie(d,n);if(o||(h.x=0),l||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=Cie(u);p&&p.scrollBy({top:h.y,left:h.x})}},[e,o,l,n,r])}const Lie=b.createContext({...kd,scaleX:1,scaleY:1});var dp;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(dp||(dp={}));const wtt=b.memo(function(e){var r,n,s,a;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=dtt,collisionDetection:h=Net,measuring:p,modifiers:f,...m}=e;const g=b.useReducer(gtt,void 0,mtt),[y,x]=g,[w,S]=fet(),[N,C]=b.useState(dp.Uninitialized),A=N===dp.Initialized,{draggable:{active:k,nodes:E,translate:T},droppable:{containers:R}}=y,I=k!=null?E.get(k):null,L=b.useRef({initial:null,translated:null}),U=b.useMemo(()=>{var Vt;return k!=null?{id:k,data:(Vt=I==null?void 0:I.data)!=null?Vt:htt,rect:L}:null},[k,I]),$=b.useRef(null),[q,G]=b.useState(null),[W,B]=b.useState(null),O=rw(m,Object.values(m)),K=Vw("DndDescribedBy",o),Y=b.useMemo(()=>R.getEnabled(),[R]),D=vtt(p),{droppableRects:Z,measureDroppableContainers:ie,measuringScheduled:he}=Jet(Y,{dragging:A,dependencies:[T.x,T.y],config:D.droppable}),J=Zet(E,k),ae=b.useMemo(()=>W?oT(W):null,[W]),ne=Ht(),se=ett(J,D.draggable.measure);btt({activeNode:k!=null?E.get(k):null,config:ne.layoutShiftCompensation,initialRect:se,measure:D.draggable.measure});const Q=uW(J,D.draggable.measure,se),re=uW(J?J.parentElement:null),le=b.useRef({activatorEvent:null,active:null,activeNode:J,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ve=R.getNodeFor((r=le.current.over)==null?void 0:r.id),fe=utt({measure:D.dragOverlay.measure}),X=(n=fe.nodeRef.current)!=null?n:J,ce=A?(s=fe.rect)!=null?s:Q:null,Pe=!!(fe.nodeRef.current&&fe.rect),ke=ntt(Pe?null:Q),oe=Mie(X?zl(X):null),Oe=stt(A?ve??J:null),Ie=ltt(Oe),He=ytt(f,{transform:{x:T.x-ke.x,y:T.y-ke.y,scaleX:1,scaleY:1},activatorEvent:W,active:U,activeNodeRect:Q,containerNodeRect:re,draggingNodeRect:ce,over:le.current.over,overlayNodeRect:fe.rect,scrollableAncestors:Oe,scrollableAncestorRects:Ie,windowRect:oe}),nt=ae?z0(ae,T):null,ft=itt(Oe),Fe=hW(ft),Ae=hW(ft,[Q]),it=z0(He,Fe),Ee=ce?Aet(ce,He):null,Re=U&&Ee?h({active:U,collisionRect:Ee,droppableRects:Z,droppableContainers:Y,pointerCoordinates:nt}):null,We=Sie(Re,"id"),[Ge,ze]=b.useState(null),ot=Pe?He:z0(He,Ae),lt=Cet(ot,(a=Ge==null?void 0:Ge.rect)!=null?a:null,Q),yt=b.useRef(null),Pt=b.useCallback((Vt,It)=>{let{sensor:Qt,options:Ut}=It;if($.current==null)return;const Zt=E.get($.current);if(!Zt)return;const Te=Vt.nativeEvent,vt=new Qt({active:$.current,activeNode:Zt,event:Te,options:Ut,context:le,onAbort(qt){if(!E.get(qt))return;const{onDragAbort:Or}=O.current,fr={id:qt};Or==null||Or(fr),w({type:"onDragAbort",event:fr})},onPending(qt,Nr,Or,fr){if(!E.get(qt))return;const{onDragPending:br}=O.current,er={id:qt,constraint:Nr,initialCoordinates:Or,offset:fr};br==null||br(er),w({type:"onDragPending",event:er})},onStart(qt){const Nr=$.current;if(Nr==null)return;const Or=E.get(Nr);if(!Or)return;const{onDragStart:fr}=O.current,lr={activatorEvent:Te,active:{id:Nr,data:Or.data,rect:L}};hu.unstable_batchedUpdates(()=>{fr==null||fr(lr),C(dp.Initializing),x({type:aa.DragStart,initialCoordinates:qt,active:Nr}),w({type:"onDragStart",event:lr}),G(yt.current),B(Te)})},onMove(qt){x({type:aa.DragMove,coordinates:qt})},onEnd:Ct(aa.DragEnd),onCancel:Ct(aa.DragCancel)});yt.current=vt;function Ct(qt){return async function(){const{active:Or,collisions:fr,over:lr,scrollAdjustedTranslate:br}=le.current;let er=null;if(Or&&br){const{cancelDrop:bn}=O.current;er={activatorEvent:Te,active:Or,collisions:fr,delta:br,over:lr},qt===aa.DragEnd&&typeof bn=="function"&&await Promise.resolve(bn(er))&&(qt=aa.DragCancel)}$.current=null,hu.unstable_batchedUpdates(()=>{x({type:qt}),C(dp.Uninitialized),ze(null),G(null),B(null),yt.current=null;const bn=qt===aa.DragEnd?"onDragEnd":"onDragCancel";if(er){const ls=O.current[bn];ls==null||ls(er),w({type:bn,event:er})}})}}},[E]),ct=b.useCallback((Vt,It)=>(Qt,Ut)=>{const Zt=Qt.nativeEvent,Te=E.get(Ut);if($.current!==null||!Te||Zt.dndKit||Zt.defaultPrevented)return;const vt={active:Te};Vt(Qt,It.options,vt)===!0&&(Zt.dndKit={capturedBy:It.sensor},$.current=Ut,Pt(Qt,It))},[E,Pt]),zt=Qet(d,ct);att(d),jh(()=>{Q&&N===dp.Initializing&&C(dp.Initialized)},[Q,N]),b.useEffect(()=>{const{onDragMove:Vt}=O.current,{active:It,activatorEvent:Qt,collisions:Ut,over:Zt}=le.current;if(!It||!Qt)return;const Te={active:It,activatorEvent:Qt,collisions:Ut,delta:{x:it.x,y:it.y},over:Zt};hu.unstable_batchedUpdates(()=>{Vt==null||Vt(Te),w({type:"onDragMove",event:Te})})},[it.x,it.y]),b.useEffect(()=>{const{active:Vt,activatorEvent:It,collisions:Qt,droppableContainers:Ut,scrollAdjustedTranslate:Zt}=le.current;if(!Vt||$.current==null||!It||!Zt)return;const{onDragOver:Te}=O.current,vt=Ut.get(We),Ct=vt&&vt.rect.current?{id:vt.id,rect:vt.rect.current,data:vt.data,disabled:vt.disabled}:null,qt={active:Vt,activatorEvent:It,collisions:Qt,delta:{x:Zt.x,y:Zt.y},over:Ct};hu.unstable_batchedUpdates(()=>{ze(Ct),Te==null||Te(qt),w({type:"onDragOver",event:qt})})},[We]),jh(()=>{le.current={activatorEvent:W,active:U,activeNode:J,collisionRect:Ee,collisions:Re,droppableRects:Z,draggableNodes:E,draggingNode:X,draggingNodeRect:ce,droppableContainers:R,over:Ge,scrollableAncestors:Oe,scrollAdjustedTranslate:it},L.current={initial:ce,translated:Ee}},[U,J,Re,Ee,E,X,ce,Z,R,Ge,Oe,it]),Yet({...ne,delta:T,draggingRect:Ee,pointerCoordinates:nt,scrollableAncestors:Oe,scrollableAncestorRects:Ie});const jt=b.useMemo(()=>({active:U,activeNode:J,activeNodeRect:Q,activatorEvent:W,collisions:Re,containerNodeRect:re,dragOverlay:fe,draggableNodes:E,droppableContainers:R,droppableRects:Z,over:Ge,measureDroppableContainers:ie,scrollableAncestors:Oe,scrollableAncestorRects:Ie,measuringConfiguration:D,measuringScheduled:he,windowRect:oe}),[U,J,Q,W,Re,re,fe,E,R,Z,Ge,ie,Oe,Ie,D,he,oe]),At=b.useMemo(()=>({activatorEvent:W,activators:zt,active:U,activeNodeRect:Q,ariaDescribedById:{draggable:K},dispatch:x,draggableNodes:E,over:Ge,measureDroppableContainers:ie}),[W,zt,U,Q,x,K,E,Ge,ie]);return xe.createElement(jie.Provider,{value:S},xe.createElement(d_.Provider,{value:At},xe.createElement(Oie.Provider,{value:jt},xe.createElement(Lie.Provider,{value:lt},u)),xe.createElement(xtt,{disabled:(l==null?void 0:l.restoreFocus)===!1})),xe.createElement(get,{...l,hiddenTextDescribedById:K}));function Ht(){const Vt=(q==null?void 0:q.autoScrollEnabled)===!1,It=typeof c=="object"?c.enabled===!1:c===!1,Qt=A&&!Vt&&!It;return typeof c=="object"?{...c,enabled:Qt}:{enabled:Qt}}}),jtt=b.createContext(null),pW="button",Stt="Draggable";function Ntt(t){let{id:e,data:r,disabled:n=!1,attributes:s}=t;const a=Vw(Stt),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:p}=b.useContext(d_),{role:f=pW,roleDescription:m="draggable",tabIndex:g=0}=s??{},y=(c==null?void 0:c.id)===e,x=b.useContext(y?Lie:jtt),[w,S]=G4(),[N,C]=G4(),A=ott(o,e),k=rw(r);jh(()=>(h.set(e,{id:e,key:a,node:w,activatorNode:N,data:k}),()=>{const T=h.get(e);T&&T.key===a&&h.delete(e)}),[h,e]);const E=b.useMemo(()=>({role:f,tabIndex:g,"aria-disabled":n,"aria-pressed":y&&f===pW?!0:void 0,"aria-roledescription":m,"aria-describedby":d.draggable}),[n,f,g,y,m,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:E,isDragging:y,listeners:n?void 0:A,node:w,over:p,setNodeRef:S,setActivatorNodeRef:C,transform:x}}function Ctt(){return b.useContext(Oie)}const _tt="Droppable",Att={timeout:25};function ktt(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:s}=t;const a=Vw(_tt),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=b.useContext(d_),d=b.useRef({disabled:r}),h=b.useRef(!1),p=b.useRef(null),f=b.useRef(null),{disabled:m,updateMeasurementsFor:g,timeout:y}={...Att,...s},x=rw(g??n),w=b.useCallback(()=>{if(!h.current){h.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),f.current=null},y)},[y]),S=u_({callback:w,disabled:m||!o}),N=b.useCallback((E,T)=>{S&&(T&&(S.unobserve(T),h.current=!1),E&&S.observe(E))},[S]),[C,A]=G4(N),k=rw(e);return b.useEffect(()=>{!S||!C.current||(S.disconnect(),h.current=!1,S.observe(C.current))},[C,S]),b.useEffect(()=>(l({type:aa.RegisterDroppable,element:{id:n,key:a,disabled:r,node:C,rect:p,data:k}}),()=>l({type:aa.UnregisterDroppable,key:a,id:n})),[n]),b.useEffect(()=>{r!==d.current.disabled&&(l({type:aa.SetDroppableDisabled,id:n,key:a,disabled:r}),d.current.disabled=r)},[n,a,r,l]),{active:o,rect:p,isOver:(c==null?void 0:c.id)===n,node:C,over:c,setNodeRef:A}}function p7(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function Ptt(t,e){return t.reduce((r,n,s)=>{const a=e.get(n);return a&&(r[s]=a),r},Array(t.length))}function W5(t){return t!==null&&t>=0}function Ett(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ttt(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Rie=t=>{let{rects:e,activeIndex:r,overIndex:n,index:s}=t;const a=p7(e,n,r),o=e[s],l=a[s];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},G5={scaleX:1,scaleY:1},Itt=t=>{var e;let{activeIndex:r,activeNodeRect:n,index:s,rects:a,overIndex:o}=t;const l=(e=a[r])!=null?e:n;if(!l)return null;if(s===r){const u=a[o];return u?{x:0,y:r<o?u.top+u.height-(l.top+l.height):u.top-l.top,...G5}:null}const c=Mtt(a,s,r);return s>r&&s<=o?{x:0,y:-l.height-c,...G5}:s<r&&s>=o?{x:0,y:l.height+c,...G5}:{x:0,y:0,...G5}};function Mtt(t,e,r){const n=t[e],s=t[e-1],a=t[e+1];return n?r<e?s?n.top-(s.top+s.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const Die="Sortable",Fie=xe.createContext({activeIndex:-1,containerId:Die,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Rie,disabled:{draggable:!1,droppable:!1}});function Ott(t){let{children:e,id:r,items:n,strategy:s=Rie,disabled:a=!1}=t;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=Ctt(),h=Vw(Die,r),p=l.rect!==null,f=b.useMemo(()=>n.map(A=>typeof A=="object"&&"id"in A?A.id:A),[n]),m=o!=null,g=o?f.indexOf(o.id):-1,y=u?f.indexOf(u.id):-1,x=b.useRef(f),w=!Ett(f,x.current),S=y!==-1&&g===-1||w,N=Ttt(a);jh(()=>{w&&m&&d(f)},[w,f,m,d]),b.useEffect(()=>{x.current=f},[f]);const C=b.useMemo(()=>({activeIndex:g,containerId:h,disabled:N,disableTransforms:S,items:f,overIndex:y,useDragOverlay:p,sortedRects:Ptt(f,c),strategy:s}),[g,h,N.draggable,N.droppable,S,f,y,c,p,s]);return xe.createElement(Fie.Provider,{value:C},e)}const Ltt=t=>{let{id:e,items:r,activeIndex:n,overIndex:s}=t;return p7(r,n,s).indexOf(e)},Rtt=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:s,items:a,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=t;return!u||!n||l!==a&&s===o?!1:r?!0:o!==s&&e===c},Dtt={duration:200,easing:"ease"},Bie="transform",Ftt=sw.Transition.toString({property:Bie,duration:0,easing:"linear"}),Btt={roleDescription:"sortable"};function $tt(t){let{disabled:e,index:r,node:n,rect:s}=t;const[a,o]=b.useState(null),l=b.useRef(r);return jh(()=>{if(!e&&r!==l.current&&n.current){const c=s.current;if(c){const u=_v(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}r!==l.current&&(l.current=r)},[e,r,n,s]),b.useEffect(()=>{a&&o(null)},[a]),a}function ztt(t){let{animateLayoutChanges:e=Rtt,attributes:r,disabled:n,data:s,getNewIndex:a=Ltt,id:o,strategy:l,resizeObserverConfig:c,transition:u=Dtt}=t;const{items:d,containerId:h,activeIndex:p,disabled:f,disableTransforms:m,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:w}=b.useContext(Fie),S=Utt(n,f),N=d.indexOf(o),C=b.useMemo(()=>({sortable:{containerId:h,index:N,items:d},...s}),[h,s,N,d]),A=b.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:k,node:E,isOver:T,setNodeRef:R}=ktt({id:o,data:C,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...c}}),{active:I,activatorEvent:L,activeNodeRect:U,attributes:$,setNodeRef:q,listeners:G,isDragging:W,over:B,setActivatorNodeRef:O,transform:K}=Ntt({id:o,data:C,attributes:{...Btt,...r},disabled:S.draggable}),Y=ret(R,q),D=!!I,Z=D&&!m&&W5(p)&&W5(y),ie=!x&&W,he=ie&&Z?K:null,ae=Z?he??(l??w)({rects:g,activeNodeRect:U,activeIndex:p,overIndex:y,index:N}):null,ne=W5(p)&&W5(y)?a({id:o,items:d,activeIndex:p,overIndex:y}):N,se=I==null?void 0:I.id,Q=b.useRef({activeId:se,items:d,newIndex:ne,containerId:h}),re=d!==Q.current.items,le=e({active:I,containerId:h,isDragging:W,isSorting:D,id:o,index:N,items:d,newIndex:Q.current.newIndex,previousItems:Q.current.items,previousContainerId:Q.current.containerId,transition:u,wasDragging:Q.current.activeId!=null}),ve=$tt({disabled:!le,index:N,node:E,rect:k});return b.useEffect(()=>{D&&Q.current.newIndex!==ne&&(Q.current.newIndex=ne),h!==Q.current.containerId&&(Q.current.containerId=h),d!==Q.current.items&&(Q.current.items=d)},[D,ne,h,d]),b.useEffect(()=>{if(se===Q.current.activeId)return;if(se!=null&&Q.current.activeId==null){Q.current.activeId=se;return}const X=setTimeout(()=>{Q.current.activeId=se},50);return()=>clearTimeout(X)},[se]),{active:I,activeIndex:p,attributes:$,data:C,rect:k,index:N,newIndex:ne,items:d,isOver:T,isSorting:D,isDragging:W,listeners:G,node:E,overIndex:y,over:B,setNodeRef:Y,setActivatorNodeRef:O,setDroppableNodeRef:R,setDraggableNodeRef:q,transform:ve??ae,transition:fe()};function fe(){if(ve||re&&Q.current.newIndex===N)return Ftt;if(!(ie&&!c7(L)||!u)&&(D||le))return sw.Transition.toString({...u,property:Bie})}}function Utt(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t==null?void 0:t.draggable)!=null?r:e.draggable,droppable:(n=t==null?void 0:t.droppable)!=null?n:e.droppable}}function q4(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Wtt=[_n.Down,_n.Right,_n.Up,_n.Left],Gtt=(t,e)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:a,over:o,scrollableAncestors:l}}=e;if(Wtt.includes(t.code)){if(t.preventDefault(),!r||!n)return;const c=[];a.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const p=s.get(h.id);if(p)switch(t.code){case _n.Down:n.top<p.top&&c.push(h);break;case _n.Up:n.top>p.top&&c.push(h);break;case _n.Left:n.left>p.left&&c.push(h);break;case _n.Right:n.left<p.left&&c.push(h);break}});const u=wet({collisionRect:n,droppableRects:s,droppableContainers:c});let d=Sie(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const h=a.get(r.id),p=a.get(d),f=p?s.get(p.id):null,m=p==null?void 0:p.node.current;if(m&&f&&h&&p){const y=c_(m).some((A,k)=>l[k]!==A),x=$ie(h,p),w=Htt(h,p),S=y||!x?{x:0,y:0}:{x:w?n.width-f.width:0,y:w?n.height-f.height:0},N={x:f.left,y:f.top};return S.x&&S.y?N:nw(N,S)}}}};function $ie(t,e){return!q4(t)||!q4(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Htt(t,e){return!q4(t)||!q4(e)||!$ie(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const Vtt=({images:t})=>{const[e,r]=b.useState(0),n=()=>{r(o=>o===0?t.length-1:o-1)},s=()=>{r(o=>o===t.length-1?0:o+1)};if(t.length===0)return null;const a=t[e];return i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-muted",children:a.url?i.jsx("img",{src:a.url,alt:a.caption||`Image ${e+1}`,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(ca,{className:"h-12 w-12 text-muted-foreground"})})}),t.length>1&&i.jsxs(i.Fragment,{children:[i.jsx(pe,{variant:"outline",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white",onClick:n,children:i.jsx(nc,{className:"h-4 w-4"})}),i.jsx(pe,{variant:"outline",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white",onClick:s,children:i.jsx(gs,{className:"h-4 w-4"})}),i.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:t.map((o,l)=>i.jsx("button",{className:dt("w-2 h-2 rounded-full transition-colors",l===e?"bg-white":"bg-white/50"),onClick:()=>r(l)},l))})]}),a.caption&&i.jsx("p",{className:"mt-3 text-sm text-muted-foreground text-center",children:a.caption})]})},Xm=({product:t,layout:e,showPrice:r=!0,showAddToCart:n=!0,onClick:s})=>{var o;const a=t.mockupUrl||((o=t.mockupUrls)==null?void 0:o[0]);return e==="list"?i.jsxs(Ze,{className:dt("p-4 transition-shadow flex gap-4",s&&"cursor-pointer hover:shadow-lg"),onClick:s,children:[i.jsx("div",{className:"w-24 h-24 bg-muted rounded flex-shrink-0 flex items-center justify-center overflow-hidden",children:a?i.jsx("img",{src:a,alt:t.name,className:"w-full h-full object-cover"}):i.jsx(Sr,{className:"h-8 w-8 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold truncate",children:t.name}),t.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:t.description}),r&&i.jsxs("p",{className:"text-lg font-bold mt-2",children:["$",t.price.toFixed(2)]})]}),n&&i.jsx(pe,{size:"sm",className:"self-center flex-shrink-0",children:"Add to Cart"})]}):i.jsxs(Ze,{className:dt("p-4 transition-shadow",s&&"cursor-pointer hover:shadow-lg"),onClick:s,children:[i.jsx("div",{className:"aspect-square bg-muted mb-4 rounded flex items-center justify-center overflow-hidden",children:a?i.jsx("img",{src:a,alt:t.name,className:"w-full h-full object-cover"}):i.jsx(Sr,{className:"h-12 w-12 text-muted-foreground"})}),i.jsx("h3",{className:"font-semibold line-clamp-2",children:t.name}),r&&i.jsxs("p",{className:"text-lg font-bold mt-2",children:["$",t.price.toFixed(2)]}),n&&i.jsx(pe,{size:"sm",className:"w-full mt-3",children:"Add to Cart"})]})},iP=({products:t,showPrice:e,showAddToCart:r,onProductClick:n})=>{const[s,a]=b.useState(0),o=4,l=Math.max(0,t.length-o),c=()=>a(d=>Math.max(0,d-1)),u=()=>a(d=>Math.min(l,d+1));return i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"overflow-hidden",children:i.jsx("div",{className:"flex gap-4 transition-transform duration-300",style:{transform:`translateX(-${s*(100/o+1.5)}%)`},children:t.map(d=>i.jsx("div",{className:"flex-shrink-0",style:{width:`calc(${100/o}% - 12px)`},children:i.jsx(Xm,{product:d,layout:"carousel",showPrice:e,showAddToCart:r,onClick:()=>n==null?void 0:n(d)})},d.id))})}),t.length>o&&i.jsxs(i.Fragment,{children:[i.jsx(pe,{variant:"outline",size:"icon",className:"absolute -left-4 top-1/2 -translate-y-1/2 bg-white shadow-md",onClick:c,disabled:s===0,children:i.jsx(nc,{className:"h-4 w-4"})}),i.jsx(pe,{variant:"outline",size:"icon",className:"absolute -right-4 top-1/2 -translate-y-1/2 bg-white shadow-md",onClick:u,disabled:s>=l,children:i.jsx(gs,{className:"h-4 w-4"})})]})]})},Y4=({section:t,products:e=[],isPreview:r=!1,globalStyles:n,onProductClick:s})=>{const a=t.styles.textAlign||t.settings&&t.settings.alignment||"left",o={backgroundColor:t.styles.backgroundColor||"transparent",backgroundImage:t.styles.backgroundImage?`url(${t.styles.backgroundImage})`:void 0,backgroundSize:t.styles.backgroundImage?"cover":void 0,backgroundRepeat:t.styles.backgroundImage?"no-repeat":void 0,padding:t.styles.padding?`${t.styles.padding.top}px ${t.styles.padding.right}px ${t.styles.padding.bottom}px ${t.styles.padding.left}px`:"32px",margin:t.styles.margin?`${t.styles.margin.top}px ${t.styles.margin.right}px ${t.styles.margin.bottom}px ${t.styles.margin.left}px`:"0",textAlign:a,maxWidth:"100%",borderRadius:t.styles.borderRadius||void 0},l=t.styles.maxWidth&&t.styles.maxWidth!=="100%"?{maxWidth:t.styles.maxWidth,margin:"0 auto"}:void 0;switch(t.type){case"header":return i.jsx("div",{style:o,className:"border-b p-4",children:i.jsx("div",{className:"container mx-auto",children:i.jsx("h1",{className:"text-2xl font-bold",children:t.settings.storeName||"My Store"})})});case"announcement-bar":return i.jsx("div",{style:{...o,backgroundColor:t.styles.backgroundColor||"#111827",color:t.styles.color||"#ffffff",padding:t.styles.padding?`${t.styles.padding.top}px ${t.styles.padding.right}px ${t.styles.padding.bottom}px ${t.styles.padding.left}px`:"12px 16px"},children:i.jsxs("div",{className:"container mx-auto flex flex-col items-center justify-center gap-2 text-sm md:flex-row",children:[i.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[i.jsx(PV,{className:"h-4 w-4"}),i.jsx("span",{children:t.settings.message||"Share a limited time offer or store update here."})]}),t.settings.linkLabel&&t.settings.linkUrl&&i.jsx(pe,{size:"sm",variant:"secondary",children:t.settings.linkLabel})]})});case"hero":return i.jsx("div",{style:o,children:i.jsxs("div",{className:"container mx-auto",style:{...l,textAlign:a},children:[i.jsx("h1",{className:"text-5xl font-bold mb-4",children:t.settings.heading}),t.settings.subheading&&i.jsx("p",{className:"text-xl mb-8",children:t.settings.subheading}),t.settings.buttonText&&i.jsx(pe,{size:"lg",children:t.settings.buttonText})]})});case"product-grid":{const c=Math.min(Math.max(Number(t.settings.columns)||4,1),4),u=t.settings.layout||"grid",d=t.settings.maxProducts||8,h=e.slice(0,d),p=t.settings.showPrice!==!1,f=t.settings.showAddToCart!==!1;return i.jsx("div",{style:o,children:i.jsxs("div",{className:"container mx-auto",style:l,children:[t.settings.heading&&i.jsx("h2",{className:"text-3xl font-bold mb-8",children:t.settings.heading}),h.length===0?i.jsxs("div",{className:"text-center py-12 border border-dashed rounded-xl bg-muted/20",children:[i.jsx(Sr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No products available"})]}):u==="list"?i.jsx("div",{className:"space-y-4",children:h.map(m=>i.jsx(Xm,{product:m,layout:"list",showPrice:p,showAddToCart:f,onClick:()=>s==null?void 0:s(m)},m.id))}):u==="carousel"?i.jsx(iP,{products:h,showPrice:p,showAddToCart:f,onProductClick:s}):i.jsx("div",{className:dt("grid gap-6",c===1?"grid-cols-1":"grid-cols-2",c===2&&"md:grid-cols-2",c===3&&"md:grid-cols-3",c===4&&"md:grid-cols-4"),children:h.map(m=>i.jsx(Xm,{product:m,layout:"grid",showPrice:p,showAddToCart:f,onClick:()=>s==null?void 0:s(m)},m.id))})]})})}case"product-collection":{const c=Array.isArray(t.settings.collections)?t.settings.collections:[],u=t.settings.layout||"grid",d=t.settings.filterBy||"subcategory",h=t.settings.maxProductsPerCollection||4,p=t.settings.showPrice!==!1,f=m=>!e||e.length===0?[]:m?e.filter(g=>{var C,A,k,E,T,R,I,L,U;const y=((A=(C=g.catalogProduct)==null?void 0:C.categoryId)==null?void 0:A.toString())||g.categoryId,x=((k=g.catalogProduct)==null?void 0:k.subcategoryIds)||g.subcategoryIds||[],w=((R=(T=(E=g.catalogProduct)==null?void 0:E.subcategoryIds)==null?void 0:T[0])==null?void 0:R.toString())||g.subcategoryId,S=(I=m.subcategoryId)==null?void 0:I.toString(),N=(L=m.categoryId)==null?void 0:L.toString();return d==="subcategory"&&S&&(w===S||Array.isArray(x)&&x.map(q=>(q==null?void 0:q.toString())||q).includes(S)||((U=g.subcategoryId)==null?void 0:U.toString())===S)?!0:d==="category"&&N||d==="subcategory"&&!S&&N?y===N:!1}).slice(0,h):[];return c.length===0?i.jsx("div",{style:o,children:i.jsxs("div",{className:"container mx-auto",style:l,children:[t.settings.heading&&i.jsx("h2",{className:"text-3xl font-bold mb-6",children:t.settings.heading}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use this section to highlight curated groups of products. Switch layout between grid, carousel, or list in the settings panel."})]})}):i.jsx("div",{style:o,children:i.jsxs("div",{className:"container mx-auto",style:l,children:[t.settings.heading&&i.jsx("h2",{className:"text-3xl font-bold mb-4",children:t.settings.heading}),t.settings.description&&i.jsx("p",{className:"text-muted-foreground mb-8",children:t.settings.description}),i.jsx("div",{className:"space-y-12",children:c.map((m,g)=>{const y=f(m);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-2xl font-semibold",children:m.name||`Collection ${g+1}`}),y.length>0&&i.jsxs("span",{className:"text-sm text-muted-foreground",children:[y.length," product",y.length!==1?"s":""]})]}),y.length===0?i.jsxs("div",{className:"text-center py-8 border border-dashed rounded-xl bg-muted/20",children:[i.jsx(Sr,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No products found for this collection"})]}):u==="list"?i.jsx("div",{className:"space-y-4",children:y.map(x=>i.jsx(Xm,{product:x,layout:"list",showPrice:p,showAddToCart:!1,onClick:()=>s==null?void 0:s(x)},x.id))}):u==="carousel"?i.jsx(iP,{products:y,showPrice:p,showAddToCart:!1,onProductClick:s}):i.jsx("div",{className:"grid gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:y.map(x=>i.jsx(Xm,{product:x,layout:"grid",showPrice:p,showAddToCart:!1,onClick:()=>s==null?void 0:s(x)},x.id))})]},g)})})]})})}case"text":return i.jsx("div",{style:o,children:i.jsxs("div",{className:"container mx-auto",style:l,children:[t.settings.heading&&i.jsx("h2",{className:"text-3xl font-bold mb-4",children:t.settings.heading}),i.jsx("div",{dangerouslySetInnerHTML:{__html:t.settings.content||""}})]})});case"image":{const c=t.settings.layout||"single",u=Array.isArray(t.settings.images)?t.settings.images.map(h=>typeof h=="string"?{url:h,caption:""}:h):[],d=(h,p)=>i.jsxs("div",{className:"flex flex-col",children:[h.url?i.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-muted",children:i.jsx("img",{src:h.url,alt:h.caption||`Image ${p+1}`,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none",f.target.parentElement.innerHTML=`
                    <div class="w-full h-full flex items-center justify-center">
                      <svg class="h-10 w-10 text-muted-foreground" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21 15 16 10 5 21"/>
                      </svg>
                    </div>
                  `}})}):i.jsx("div",{className:"aspect-video rounded-xl border border-dashed border-muted-foreground/40 bg-muted flex items-center justify-center",children:i.jsx(ca,{className:"h-10 w-10 text-muted-foreground"})}),h.caption&&i.jsx("p",{className:"mt-2 text-sm text-muted-foreground text-center",children:h.caption})]},p);if(u.length===0)return i.jsx("div",{style:o,children:i.jsx("div",{className:"container mx-auto",style:l,children:i.jsxs("div",{className:"text-center py-8 border border-dashed rounded-xl bg-muted/20",children:[i.jsx(ca,{className:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No images yet"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Add images in the settings panel"})]})})});if(c==="single")return i.jsx("div",{style:o,children:i.jsx("div",{className:"container mx-auto",style:l,children:d(u[0],0)})});if(c==="grid"){const h=Math.min(Math.max(Number(t.settings.gridColumns)||3,2),4);return i.jsx("div",{style:o,children:i.jsx("div",{className:"container mx-auto",style:l,children:i.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${h}, minmax(0, 1fr))`},children:u.map((p,f)=>d(p,f))})})})}return i.jsx("div",{style:o,children:i.jsx("div",{className:"container mx-auto",style:l,children:i.jsx(Vtt,{images:u})})})}case"video":{const c=t.settings.videoUrl||"",u=t.settings.provider||"youtube",d=t.settings.autoplay??!1,h=t.settings.controls??!0,p=t.settings.aspectRatio||"16:9",[f,m]=p.split(":").map(Number),g=f&&m?f/m:16/9,y=S=>{const N=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/];for(const C of N){const A=S.match(C);if(A)return A[1]}return null},x=S=>{const N=[/(?:vimeo\.com\/)(\d+)/,/(?:player\.vimeo\.com\/video\/)(\d+)/];for(const C of N){const A=S.match(C);if(A)return A[1]}return null},w=()=>{if(!c)return i.jsxs("div",{className:"aspect-video rounded-xl border border-dashed border-muted-foreground/40 bg-muted flex flex-col items-center justify-center gap-3 text-muted-foreground",children:[i.jsx(Sr,{className:"h-10 w-10"}),i.jsx("p",{className:"text-sm",children:"No video URL provided"}),i.jsx("p",{className:"text-xs",children:"Add a video URL in the settings panel"})]});const S=/\.(mp4|webm|ogg|mov)(\?.*)?$/i.test(c);if(u==="custom"||S)return i.jsx("div",{className:"rounded-xl overflow-hidden bg-black",style:{aspectRatio:g},children:i.jsx("video",{src:c,controls:h,autoPlay:d,muted:d,loop:!0,className:"w-full h-full object-contain",style:{aspectRatio:g},children:"Your browser does not support the video tag."})});if(u==="youtube"){const N=y(c);if(!N)return i.jsxs("div",{className:"aspect-video rounded-xl border border-dashed border-muted-foreground/40 bg-muted flex flex-col items-center justify-center gap-3 text-muted-foreground",children:[i.jsx(Sr,{className:"h-10 w-10"}),i.jsx("p",{className:"text-sm",children:"Invalid YouTube URL"}),i.jsx("p",{className:"text-xs",children:"Please provide a valid YouTube URL"})]});const C=`https://www.youtube.com/embed/${N}${d?"?autoplay=1&mute=1":""}${h?"":"&controls=0"}`;return i.jsx("div",{className:"rounded-xl overflow-hidden bg-black",style:{aspectRatio:g},children:i.jsx("iframe",{src:C,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{aspectRatio:g}})})}if(u==="vimeo"){const N=x(c);if(!N)return i.jsxs("div",{className:"aspect-video rounded-xl border border-dashed border-muted-foreground/40 bg-muted flex flex-col items-center justify-center gap-3 text-muted-foreground",children:[i.jsx(Sr,{className:"h-10 w-10"}),i.jsx("p",{className:"text-sm",children:"Invalid Vimeo URL"}),i.jsx("p",{className:"text-xs",children:"Please provide a valid Vimeo URL"})]});const C=`https://player.vimeo.com/video/${N}${d?"?autoplay=1&muted=1":""}${h?"":"&controls=0"}`;return i.jsx("div",{className:"rounded-xl overflow-hidden bg-black",style:{aspectRatio:g},children:i.jsx("iframe",{src:C,className:"w-full h-full",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,style:{aspectRatio:g}})})}return i.jsxs("div",{className:"aspect-video rounded-xl border border-dashed border-muted-foreground/40 bg-muted flex flex-col items-center justify-center gap-3 text-muted-foreground",children:[i.jsx(Sr,{className:"h-10 w-10"}),i.jsx("p",{className:"text-sm",children:"Unsupported video provider"})]})};return i.jsx("div",{style:o,children:i.jsx("div",{className:"container mx-auto",style:l,children:w()})})}case"newsletter":return i.jsx("div",{style:o,children:i.jsxs("div",{className:"container mx-auto max-w-2xl",style:{...l,textAlign:a},children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:t.settings.heading}),t.settings.description&&i.jsx("p",{className:"text-muted-foreground mb-4",children:t.settings.description}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(rt,{placeholder:t.settings.placeholder,className:"flex-1"}),i.jsxs(pe,{children:[i.jsx(dI,{className:"h-4 w-4 mr-2"}),t.settings.buttonText]})]})]})});case"product-details":return i.jsx("div",{style:o,children:i.jsx("div",{className:"container mx-auto",style:l,children:i.jsxs("div",{className:"grid gap-8 lg:grid-cols-[minmax(0,1.1fr)_minmax(0,0.9fr)]",children:[i.jsx("div",{className:"rounded-xl border border-dashed border-muted-foreground/40 bg-muted/40 aspect-square flex items-center justify-center",children:i.jsx(Sr,{className:"h-12 w-12 text-muted-foreground"})}),i.jsxs("div",{className:"space-y-4",children:[t.settings.showBadge!==!1&&i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:[i.jsx(_p,{className:"h-3 w-3"}),t.settings.badgeText||"Bestseller"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-3xl font-bold",children:"Product name"}),t.settings.tagline&&i.jsx("p",{className:"text-sm text-muted-foreground",children:t.settings.tagline})]}),t.settings.showRating!==!1&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(_p,{className:"h-4 w-4 text-yellow-400"}),i.jsxs("span",{children:[t.settings.ratingValue??4.8," rating"]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[t.settings.ratingCount??120," reviews"]})]}),i.jsx("div",{className:"rounded-lg border bg-card p-4 text-sm text-muted-foreground",children:"Preview how pricing, variant selectors, and purchase actions will appear on the live store. Customize messaging, badges, and supporting content here."}),t.settings.showTrustBadges!==!1&&Array.isArray(t.settings.trustBadges)&&i.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:t.settings.trustBadges.map((c,u)=>i.jsxs(Ze,{className:"p-4 flex items-start gap-3",children:[i.jsx("div",{className:"rounded-md bg-primary/10 p-2 text-primary",children:c.icon==="Truck"?i.jsx(Up,{className:"h-4 w-4"}):i.jsx(MV,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold",children:c.title||"Benefit title"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:c.text||"Highlight fulfillment, quality, or return policies to build trust."})]})]},u))})]})]})})});case"product-recommendations":{const c=t.settings.layout||"grid",u=t.settings.maxItems||4,d=e.slice(0,u),h=!0,p=!1;return i.jsx("div",{style:o,children:i.jsxs("div",{className:"container mx-auto",style:l,children:[i.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold",children:t.settings.heading||"You may also like"}),t.settings.subheading&&i.jsx("p",{className:"text-sm text-muted-foreground",children:t.settings.subheading})]}),d.length===0?i.jsxs("div",{className:"text-center py-8 border border-dashed rounded-xl bg-muted/20",children:[i.jsx(Sr,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No products available"})]}):c==="list"?i.jsx("div",{className:"space-y-4",children:d.map(f=>i.jsx(Xm,{product:f,layout:"list",showPrice:h,showAddToCart:p,onClick:()=>s==null?void 0:s(f)},f.id))}):c==="carousel"?i.jsx(iP,{products:d,showPrice:h,showAddToCart:p,onProductClick:s}):i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:d.map(f=>i.jsx(Xm,{product:f,layout:"grid",showPrice:h,showAddToCart:p,onClick:()=>s==null?void 0:s(f)},f.id))})]})})}case"footer":return i.jsx("div",{style:{...o,color:"#fff",textAlign:"center"},children:i.jsx("div",{className:"container mx-auto",style:l,children:i.jsx("p",{children:t.settings.copyright||" 2025 Your Store. All rights reserved."})})});default:return i.jsx("div",{style:o,children:i.jsx("div",{className:"container mx-auto",children:i.jsxs("p",{className:"text-muted-foreground",children:["Section type: ",t.type]})})})}},qtt=({section:t,products:e,globalStyles:r,onEdit:n,onRemove:s,onToggleVisibility:a,onSelect:o,isSelected:l=!1})=>{const{attributes:c,listeners:u,setNodeRef:d,transform:h,transition:p,isDragging:f}=ztt({id:t.id}),m={transform:sw.Transform.toString(h),transition:p,opacity:f?.5:1};return i.jsxs("div",{ref:d,style:m,className:dt("relative group border-2 border-dashed border-transparent hover:border-primary rounded-xl transition-all",l&&"border-primary shadow-lg"),onClick:()=>o==null?void 0:o(t),children:[i.jsx("div",{className:t.visible?"":"opacity-50",children:i.jsx(Y4,{section:t,products:e,globalStyles:r,isPreview:!0})}),i.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors pointer-events-none"}),i.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto",children:[i.jsx(pe,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0",...c,...u,children:i.jsx(NV,{className:"h-4 w-4"})}),i.jsx(pe,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0",onClick:()=>a(t.id),children:t.visible?i.jsx(gh,{className:"h-4 w-4"}):i.jsx(jV,{className:"h-4 w-4"})}),i.jsx(pe,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0",onClick:()=>n(t),children:i.jsx(Zb,{className:"h-4 w-4"})}),i.jsx(pe,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",onClick:()=>s(t.id),children:i.jsx(ol,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:i.jsx("div",{className:"bg-primary text-primary-foreground text-xs px-2 py-1 rounded",children:t.type})})]})},Ytt=({section:t,onUpdate:e,onRemove:r,onDuplicate:n})=>{if(!t)return i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center px-6 text-sm text-muted-foreground",children:[i.jsx("p",{children:"Select a section on the canvas to customize its content and styling."}),i.jsxs("p",{className:"mt-2",children:["You can also click ",i.jsx("span",{className:"font-medium",children:"Preview"})," to see how your store looks in different devices."]})]});const s=t.styles.padding||{top:32,right:32,bottom:32,left:32},a=t.styles.margin||{top:0,right:0,bottom:0,left:0},o=(h,p)=>{e({settings:{...t.settings,[h]:p}})},l=(h,p)=>{e({styles:{...t.styles,[h]:p}})},c=(h,p)=>{const f=Number(p);Number.isNaN(f)||e({styles:{...t.styles,padding:{...s,[h]:f}}})},u=(h,p)=>{const f=Number(p);Number.isNaN(f)||e({styles:{...t.styles,margin:{...a,[h]:f}}})},d=()=>{var h,p,f;switch(t.type){case"announcement-bar":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"announcement-message",children:"Message"}),i.jsx(rt,{id:"announcement-message",value:t.settings.message||"",onChange:m=>o("message",m.target.value),placeholder:"Free shipping on orders over $75"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"announcement-link-label",children:"Link label"}),i.jsx(rt,{id:"announcement-link-label",value:t.settings.linkLabel||"",onChange:m=>o("linkLabel",m.target.value),placeholder:"Shop now"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"announcement-link-url",children:"Link URL"}),i.jsx(rt,{id:"announcement-link-url",value:t.settings.linkUrl||"",onChange:m=>o("linkUrl",m.target.value),placeholder:"/products"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Alignment"}),i.jsxs(Er,{value:t.settings.alignment||"center",onValueChange:m=>o("alignment",m),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select alignment"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"left",children:"Left"}),i.jsx(at,{value:"center",children:"Center"}),i.jsx(at,{value:"right",children:"Right"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Show close button"}),i.jsx(Xs,{checked:t.settings.showClose??!0,onCheckedChange:m=>o("showClose",m)})]})]});case"hero":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"hero-heading",children:"Heading"}),i.jsx(rt,{id:"hero-heading",value:t.settings.heading||"",onChange:m=>o("heading",m.target.value),placeholder:"Welcome to Our Store"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"hero-subheading",children:"Subheading"}),i.jsx(Ei,{id:"hero-subheading",value:t.settings.subheading||"",onChange:m=>o("subheading",m.target.value),placeholder:"Share what makes your products special."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"hero-button-text",children:"Button Text"}),i.jsx(rt,{id:"hero-button-text",value:t.settings.buttonText||"",onChange:m=>o("buttonText",m.target.value),placeholder:"Shop Now"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"hero-button-link",children:"Button Link"}),i.jsx(rt,{id:"hero-button-link",value:t.settings.buttonLink||"",onChange:m=>o("buttonLink",m.target.value),placeholder:"#products"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Content Alignment"}),i.jsxs(Er,{value:t.settings.alignment||"center",onValueChange:m=>o("alignment",m),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select alignment"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"left",children:"Left"}),i.jsx(at,{value:"center",children:"Center"}),i.jsx(at,{value:"right",children:"Right"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"hero-background-image",children:"Background Image URL"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(rt,{id:"hero-background-image",value:t.styles.backgroundImage||"",onChange:m=>l("backgroundImage",m.target.value),placeholder:"https://example.com/hero.jpg or upload an image",className:"flex-1"}),t.styles.backgroundImage&&i.jsx(pe,{type:"button",variant:"outline",size:"icon",onClick:()=>l("backgroundImage",""),title:"Remove image",children:i.jsx(Ri,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:async m=>{var x;const g=(x=m.target.files)==null?void 0:x[0];if(!g)return;if(!g.type.startsWith("image/")){$e.error("Invalid file type",{description:"Please upload a valid image file"});return}const y=10*1024*1024;if(g.size>y){$e.error("File too large",{description:"Image file must be less than 10MB"});return}try{const w=await em.uploadImage(g,"gallery");l("backgroundImage",w),$e.success("Image uploaded successfully",{description:"Background image has been uploaded"})}catch(w){console.error("Error uploading image:",w),$e.error("Upload failed",{description:w instanceof Error?w.message:"Failed to upload image. Please try again."})}finally{m.target.value=""}},className:"hidden",id:"hero-background-image-upload"}),i.jsxs(pe,{type:"button",variant:"outline",onClick:()=>{var m;return(m=document.getElementById("hero-background-image-upload"))==null?void 0:m.click()},className:"w-full",children:[i.jsx(ll,{className:"h-4 w-4 mr-2"}),"Upload Background Image"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave blank to use a solid background color."})]})]});case"text":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"text-heading",children:"Heading"}),i.jsx(rt,{id:"text-heading",value:t.settings.heading||"",onChange:m=>o("heading",m.target.value),placeholder:"About Us"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"text-content",children:"Content"}),i.jsx(Ei,{id:"text-content",rows:6,value:t.settings.content||"",onChange:m=>o("content",m.target.value),placeholder:"<p>Use simple HTML to style your text.</p>"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"HTML is supported. Use <p>, <strong>, etc."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Text Alignment"}),i.jsxs(Er,{value:t.settings.alignment||"left",onValueChange:m=>o("alignment",m),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select alignment"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"left",children:"Left"}),i.jsx(at,{value:"center",children:"Center"}),i.jsx(at,{value:"right",children:"Right"})]})]})]})]});case"newsletter":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"newsletter-heading",children:"Heading"}),i.jsx(rt,{id:"newsletter-heading",value:t.settings.heading||"",onChange:m=>o("heading",m.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"newsletter-description",children:"Description"}),i.jsx(Ei,{id:"newsletter-description",rows:3,value:t.settings.description||"",onChange:m=>o("description",m.target.value)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"newsletter-button-text",children:"Button Text"}),i.jsx(rt,{id:"newsletter-button-text",value:t.settings.buttonText||"",onChange:m=>o("buttonText",m.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"newsletter-placeholder",children:"Input Placeholder"}),i.jsx(rt,{id:"newsletter-placeholder",value:t.settings.placeholder||"",onChange:m=>o("placeholder",m.target.value)})]})]})]});case"product-grid":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"product-grid-heading",children:"Heading"}),i.jsx(rt,{id:"product-grid-heading",value:t.settings.heading||"",onChange:m=>o("heading",m.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Layout"}),i.jsxs(Er,{value:t.settings.layout||"grid",onValueChange:m=>o("layout",m),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select layout"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"grid",children:"Grid"}),i.jsx(at,{value:"carousel",children:"Carousel"}),i.jsx(at,{value:"list",children:"List"})]})]})]}),(t.settings.layout||"grid")==="grid"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"product-grid-columns",children:"Columns"}),i.jsx(rt,{id:"product-grid-columns",type:"number",min:1,max:4,value:t.settings.columns||4,onChange:m=>o("columns",Number(m.target.value))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"product-grid-max",children:"Max Products"}),i.jsx(rt,{id:"product-grid-max",type:"number",min:1,max:12,value:t.settings.maxProducts||8,onChange:m=>o("maxProducts",Number(m.target.value))})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Show Pricing"}),i.jsx(Xs,{checked:t.settings.showPrice??!0,onCheckedChange:m=>o("showPrice",m)})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Show Add to Cart"}),i.jsx(Xs,{checked:t.settings.showAddToCart??!0,onCheckedChange:m=>o("showAddToCart",m)})]})]});case"product-collection":{const m=Array.isArray(t.settings.collections)?t.settings.collections:[],g=()=>{o("collections",[...m,{name:"",subcategoryId:"",categoryId:""}])},y=(w,S,N)=>{const C=[...m],A=C[w]||{name:"",subcategoryId:"",categoryId:"",imageUrl:""};if(S==="categoryId"){const k=N,E=A.subcategoryId||"";E&&k?Yp(k).includes(E)?C[w]={...A,categoryId:N}:C[w]={...A,categoryId:N,subcategoryId:""}:C[w]={...A,categoryId:N}}else C[w]={...A,[S]:N};o("collections",C)},x=w=>{o("collections",m.filter((S,N)=>N!==w))};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"collection-heading",children:"Heading"}),i.jsx(rt,{id:"collection-heading",value:t.settings.heading||"",onChange:w=>o("heading",w.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"collection-description",children:"Description"}),i.jsx(Ei,{id:"collection-description",rows:3,value:t.settings.description||"",onChange:w=>o("description",w.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Layout"}),i.jsxs(Er,{value:t.settings.layout||"grid",onValueChange:w=>o("layout",w),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select layout"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"grid",children:"Grid"}),i.jsx(at,{value:"carousel",children:"Carousel"}),i.jsx(at,{value:"list",children:"List"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Filter Products By"}),i.jsxs(Er,{value:t.settings.filterBy||"subcategory",onValueChange:w=>o("filterBy",w),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select filter"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"subcategory",children:"Subcategory"}),i.jsx(at,{value:"category",children:"Category"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Max Products Per Collection"}),i.jsx(rt,{type:"number",min:1,max:12,value:t.settings.maxProductsPerCollection||4,onChange:w=>o("maxProductsPerCollection",Number(w.target.value))})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Show Pricing"}),i.jsx(Xs,{checked:t.settings.showPrice??!0,onCheckedChange:w=>o("showPrice",w)})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(je,{children:["Collections (",m.length,")"]}),i.jsx(pe,{size:"sm",variant:"outline",onClick:g,children:"Add Collection"})]}),m.length===0?i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 border border-dashed rounded",children:"No collections yet. Add a collection to group products."}):i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:m.map((w,S)=>i.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-muted/20",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Collection ",S+1]}),i.jsx(pe,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-destructive",onClick:()=>x(S),children:""})]}),i.jsx(rt,{value:w.name,onChange:N=>y(S,"name",N.target.value),placeholder:"Collection name",className:"text-sm"}),t.settings.filterBy==="subcategory"?i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-xs",children:"Category"}),i.jsxs(Er,{value:w.categoryId||"",onValueChange:N=>{const C=[...m],A=C[S]||{name:"",subcategoryId:"",categoryId:"",imageUrl:""},k=A.subcategoryId||"";k&&N?Yp(N).includes(k)?C[S]={...A,categoryId:N}:C[S]={...A,categoryId:N,subcategoryId:""}:C[S]={...A,categoryId:N},o("collections",C)},children:[i.jsx(Ar,{className:"text-sm",children:i.jsx(Tr,{placeholder:"Select category"})}),i.jsx(kr,{children:Object.values(el).map(N=>i.jsx(at,{value:N.id,children:N.name},N.id))})]}),w.categoryId&&i.jsxs(i.Fragment,{children:[i.jsx(je,{className:"text-xs",children:"Subcategory"}),i.jsxs(Er,{value:w.subcategoryId||"",onValueChange:N=>y(S,"subcategoryId",N),children:[i.jsx(Ar,{className:"text-sm",children:i.jsx(Tr,{placeholder:"Select subcategory"})}),i.jsx(kr,{children:Yp(w.categoryId).map(N=>i.jsx(at,{value:N,children:N},N))})]})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-xs",children:"Category"}),i.jsxs(Er,{value:w.categoryId||"",onValueChange:N=>y(S,"categoryId",N),children:[i.jsx(Ar,{className:"text-sm",children:i.jsx(Tr,{placeholder:"Select category"})}),i.jsx(kr,{children:Object.values(el).map(N=>i.jsx(at,{value:N.id,children:N.name},N.id))})]})]}),i.jsx(rt,{value:w.imageUrl||"",onChange:N=>y(S,"imageUrl",N.target.value),placeholder:"Collection image URL (optional)",className:"text-sm"})]},S))})]})]})}case"image":{const m=t.settings.layout||"single",g=Array.isArray(t.settings.images)?t.settings.images.map(A=>typeof A=="string"?{url:A,caption:""}:A):[],y=A=>{A==="single"&&g.length>1&&o("images",g.slice(0,1)),o("layout",A)},x=(A,k,E)=>{const T=[...g];T[A]||(T[A]={url:"",caption:""}),T[A]={...T[A],[k]:E},o("images",T)},w=async(A,k)=>{if(!k.type.startsWith("image/")){$e.error("Invalid file type",{description:"Please upload a valid image file"});return}const E=10*1024*1024;if(k.size>E){$e.error("File too large",{description:"Image file must be less than 10MB"});return}try{const T=await em.uploadImage(k,"gallery");x(A,"url",T),$e.success("Image uploaded successfully",{description:`Image ${A+1} has been uploaded`})}catch(T){console.error("Error uploading image:",T),$e.error("Upload failed",{description:T instanceof Error?T.message:"Failed to upload image. Please try again."})}},S=()=>{o("images",[...g,{url:"",caption:""}])},N=A=>{o("images",g.filter((k,E)=>E!==A))},C=(A,k)=>{const E=k==="up"?A-1:A+1;if(E<0||E>=g.length)return;const T=[...g];[T[A],T[E]]=[T[E],T[A]],o("images",T)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Layout"}),i.jsxs(Er,{value:m,onValueChange:y,children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select layout"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"single",children:"Single"}),i.jsx(at,{value:"grid",children:"Grid"}),i.jsx(at,{value:"carousel",children:"Carousel"})]})]})]}),m==="grid"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Grid Columns"}),i.jsx(rt,{type:"number",min:2,max:4,value:t.settings.gridColumns||3,onChange:A=>o("gridColumns",Number(A.target.value))})]}),m==="single"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"image-url",children:"Image URL"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(rt,{id:"image-url",value:((h=g[0])==null?void 0:h.url)||"",onChange:A=>x(0,"url",A.target.value),placeholder:"https://example.com/featured.jpg or upload an image",className:"flex-1"}),((p=g[0])==null?void 0:p.url)&&i.jsx(pe,{type:"button",variant:"outline",size:"icon",onClick:()=>x(0,"url",""),title:"Remove image",children:i.jsx(Ri,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:async A=>{var E;const k=(E=A.target.files)==null?void 0:E[0];k&&(await w(0,k),A.target.value="")},className:"hidden",id:"single-image-upload"}),i.jsxs(pe,{type:"button",variant:"outline",onClick:()=>{var A;return(A=document.getElementById("single-image-upload"))==null?void 0:A.click()},className:"w-full",children:[i.jsx(ll,{className:"h-4 w-4 mr-2"}),"Upload Image"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Caption"}),i.jsx(rt,{value:((f=g[0])==null?void 0:f.caption)||"",onChange:A=>x(0,"caption",A.target.value),placeholder:"Optional caption"})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(je,{children:["Images (",g.length,")"]}),i.jsx(pe,{size:"sm",variant:"outline",onClick:S,children:"Add image"})]}),g.length===0?i.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 border border-dashed rounded",children:'No images yet. Click "Add image" to get started.'}):i.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:g.map((A,k)=>i.jsxs("div",{className:"rounded-lg border p-3 space-y-2 bg-muted/20",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Image ",k+1]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(pe,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>C(k,"up"),disabled:k===0,children:""}),i.jsx(pe,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>C(k,"down"),disabled:k===g.length-1,children:""}),i.jsx(pe,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-destructive",onClick:()=>N(k),children:""})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(rt,{value:A.url,onChange:E=>x(k,"url",E.target.value),placeholder:"Image URL or upload",className:"text-sm flex-1"}),i.jsx("input",{type:"file",accept:"image/*",onChange:async E=>{var R;const T=(R=E.target.files)==null?void 0:R[0];T&&(await w(k,T),E.target.value="")},className:"hidden",id:`image-upload-${k}`}),i.jsx(pe,{type:"button",variant:"outline",size:"icon",onClick:()=>{var E;return(E=document.getElementById(`image-upload-${k}`))==null?void 0:E.click()},title:"Upload image",className:"flex-shrink-0",children:i.jsx(ll,{className:"h-4 w-4"})}),A.url&&i.jsx(pe,{type:"button",variant:"outline",size:"icon",onClick:()=>x(k,"url",""),title:"Remove image",className:"flex-shrink-0",children:i.jsx(Ri,{className:"h-4 w-4"})})]}),i.jsx(rt,{value:A.caption||"",onChange:E=>x(k,"caption",E.target.value),placeholder:"Caption (optional)",className:"text-sm"})]},k))})]})]})}case"product-details":{const m=Array.isArray(t.settings.trustBadges)?[...t.settings.trustBadges]:[];for(;m.length<2;)m.push({icon:"Truck",title:"",text:""});const g=(y,x,w)=>{const S=[...m];S[y]={...S[y]||{},[x]:w},o("trustBadges",S)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Show badge"}),i.jsx(Xs,{checked:t.settings.showBadge??!0,onCheckedChange:y=>o("showBadge",y)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"product-details-badge",children:"Badge text"}),i.jsx(rt,{id:"product-details-badge",value:t.settings.badgeText||"",onChange:y=>o("badgeText",y.target.value),placeholder:"Bestseller"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"product-details-tagline",children:"Tagline"}),i.jsx(rt,{id:"product-details-tagline",value:t.settings.tagline||"",onChange:y=>o("tagline",y.target.value),placeholder:"Premium quality you can feel"})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Show rating"}),i.jsx(Xs,{checked:t.settings.showRating??!0,onCheckedChange:y=>o("showRating",y)})]}),t.settings.showRating!==!1&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"product-details-rating-value",children:"Rating value"}),i.jsx(rt,{id:"product-details-rating-value",type:"number",min:0,max:5,step:.1,value:t.settings.ratingValue??4.8,onChange:y=>o("ratingValue",Number(y.target.value))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"product-details-rating-count",children:"Rating count"}),i.jsx(rt,{id:"product-details-rating-count",type:"number",min:0,value:t.settings.ratingCount??120,onChange:y=>o("ratingCount",Number(y.target.value))})]})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Show trust badges"}),i.jsx(Xs,{checked:t.settings.showTrustBadges??!0,onCheckedChange:y=>o("showTrustBadges",y)})]}),t.settings.showTrustBadges!==!1&&i.jsx("div",{className:"space-y-4",children:m.slice(0,2).map((y,x)=>i.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[i.jsxs("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:["Badge ",x+1]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:`badge-title-${x}`,children:"Title"}),i.jsx(rt,{id:`badge-title-${x}`,value:y.title||"",onChange:w=>g(x,"title",w.target.value),placeholder:"Fast fulfillment"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:`badge-text-${x}`,children:"Description"}),i.jsx(rt,{id:`badge-text-${x}`,value:y.text||"",onChange:w=>g(x,"text",w.target.value),placeholder:"Ships in 2-3 business days"})]})]},x))}),i.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Show reviews"}),i.jsx(Xs,{checked:t.settings.showReviews??!0,onCheckedChange:y=>o("showReviews",y)})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-muted/40 px-3 py-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Show size chart"}),i.jsx(Xs,{checked:t.settings.showSizeChart??!0,onCheckedChange:y=>o("showSizeChart",y)})]})]})}case"product-recommendations":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"recommendations-heading",children:"Heading"}),i.jsx(rt,{id:"recommendations-heading",value:t.settings.heading||"",onChange:m=>o("heading",m.target.value),placeholder:"You may also like"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"recommendations-subheading",children:"Subheading"}),i.jsx(Ei,{id:"recommendations-subheading",rows:3,value:t.settings.subheading||"",onChange:m=>o("subheading",m.target.value),placeholder:"Suggest complementary items or bundles."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"recommendations-max-items",children:"Products to show"}),i.jsx(rt,{id:"recommendations-max-items",type:"number",min:1,max:8,value:t.settings.maxItems||4,onChange:m=>o("maxItems",Number(m.target.value))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Layout"}),i.jsxs(Er,{value:t.settings.layout||"grid",onValueChange:m=>o("layout",m),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select layout"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"grid",children:"Grid"}),i.jsx(at,{value:"carousel",children:"Carousel"}),i.jsx(at,{value:"list",children:"List"})]})]})]})]})]});case"testimonials":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"testimonials-heading",children:"Heading"}),i.jsx(rt,{id:"testimonials-heading",value:t.settings.heading||"",onChange:m=>o("heading",m.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Layout"}),i.jsxs(Er,{value:t.settings.layout||"carousel",onValueChange:m=>o("layout",m),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select layout"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"carousel",children:"Carousel"}),i.jsx(at,{value:"grid",children:"Grid"}),i.jsx(at,{value:"list",children:"List"})]})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Editing testimonial entries will be available soon."})]});case"header":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"header-store-name",children:"Store Name"}),i.jsx(rt,{id:"header-store-name",value:t.settings.storeName||"",onChange:m=>o("storeName",m.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Show Search"}),i.jsx(Xs,{checked:t.settings.showSearch??!0,onCheckedChange:m=>o("showSearch",m)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Navigation menu editing will be available in a future update."})]});case"footer":return i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"footer-text",children:"Footer Text"}),i.jsx(Ei,{id:"footer-text",rows:3,value:t.settings.copyright||"",onChange:m=>o("copyright",m.target.value)})]})});case"reviews":return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"reviews-heading",children:"Heading"}),i.jsx(rt,{id:"reviews-heading",value:t.settings.heading||"",onChange:m=>o("heading",m.target.value),placeholder:"Customer Reviews"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Reviews are associated with specific products and will be displayed automatically on product pages."})]});case"custom-html":return i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"custom-html",children:"HTML Content"}),i.jsx(Ei,{id:"custom-html",rows:8,value:t.settings.html||"",onChange:m=>o("html",m.target.value)})]})});default:return null}};return i.jsxs("div",{className:"flex h-full flex-col",children:[i.jsxs("div",{className:"flex items-start justify-between px-6 py-5",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Editing"}),i.jsx("h2",{className:"text-lg font-semibold capitalize",children:t.type.replace("-"," ")})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[n&&i.jsx(pe,{size:"sm",variant:"outline",onClick:n,children:"Duplicate"}),i.jsx(pe,{size:"sm",variant:"destructive",onClick:r,children:"Remove"})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-5 space-y-8",children:[i.jsxs("section",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Visibility"}),i.jsx(Xs,{checked:t.visible,onCheckedChange:h=>e({visible:h})})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Hidden sections will not appear on your published store, but you can keep editing them here."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Content"}),d()||i.jsx("p",{className:"text-xs text-muted-foreground",children:"This section type does not have editable content yet."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h3",{className:"text-sm font-medium",children:"Layout & Styles"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Background Color"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rt,{type:"color",className:dt("h-10 w-10 cursor-pointer rounded-md border border-input bg-background p-1"),value:t.styles.backgroundColor||"#ffffff",onChange:h=>l("backgroundColor",h.target.value)}),i.jsx(rt,{value:t.styles.backgroundColor||"#ffffff",onChange:h=>l("backgroundColor",h.target.value),placeholder:"#ffffff"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Text Align"}),i.jsxs(Er,{value:t.styles.textAlign||t.settings.alignment||"left",onValueChange:h=>l("textAlign",h),children:[i.jsx(Ar,{children:i.jsx(Tr,{placeholder:"Select align"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"left",children:"Left"}),i.jsx(at,{value:"center",children:"Center"}),i.jsx(at,{value:"right",children:"Right"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Max Width"}),i.jsx(rt,{value:t.styles.maxWidth||"100%",onChange:h=>l("maxWidth",h.target.value),placeholder:"e.g. 1100px or 100%"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Border Radius"}),i.jsx(rt,{value:t.styles.borderRadius||"",onChange:h=>l("borderRadius",h.target.value),placeholder:"e.g. 16px"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Padding"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(je,{className:"text-xs",children:"Top"}),i.jsx(rt,{type:"number",value:s.top,onChange:h=>c("top",h.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(je,{className:"text-xs",children:"Bottom"}),i.jsx(rt,{type:"number",value:s.bottom,onChange:h=>c("bottom",h.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(je,{className:"text-xs",children:"Left"}),i.jsx(rt,{type:"number",value:s.left,onChange:h=>c("left",h.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(je,{className:"text-xs",children:"Right"}),i.jsx(rt,{type:"number",value:s.right,onChange:h=>c("right",h.target.value)})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Margin"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(je,{className:"text-xs",children:"Top"}),i.jsx(rt,{type:"number",value:a.top,onChange:h=>u("top",h.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(je,{className:"text-xs",children:"Bottom"}),i.jsx(rt,{type:"number",value:a.bottom,onChange:h=>u("bottom",h.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(je,{className:"text-xs",children:"Left"}),i.jsx(rt,{type:"number",value:a.left,onChange:h=>u("left",h.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(je,{className:"text-xs",children:"Right"}),i.jsx(rt,{type:"number",value:a.right,onChange:h=>u("right",h.target.value)})]})]})]})]})]})]})},Xtt={desktop:"max-w-[1200px]",tablet:"max-w-[760px]",mobile:"max-w-[420px]"},Ktt=["layout","content","commerce","marketing"],Ztt=()=>{const{storeId:t}=Do(),e=rs(),{products:r}=pme(),[n,s]=b.useState(null),[a,o]=b.useState(!0),{builder:l,previewMode:c,setPreviewMode:u,getActivePage:d,addSection:h,removeSection:p,reorderSections:f,updateSection:m,undo:g,redo:y,canUndo:x,canRedo:w,saveDraft:S,publishBuilder:N,loadFromBackend:C,isSaving:A,isPublishing:k,isLoading:E,selectedSectionId:T,setSelectedSection:R,setActivePage:I}=tet(),L=d();b.useEffect(()=>{(async()=>{if(!t){e("/stores");return}try{o(!0);const re=await ua.getById(t,!0);re.success&&re.data?s(re.data):($e.error("Store not found"),e("/stores"))}catch(re){console.error("Error loading store:",re),$e.error((re==null?void 0:re.message)||"Failed to load store"),e("/stores")}finally{o(!1)}})()},[t,e]),b.useEffect(()=>{n!=null&&n.id&&C(n.id)},[n==null?void 0:n.id,C]);const U=xet(nW(f7,{activationConstraint:{distance:8}}),nW(d7,{coordinateGetter:Gtt})),$=(L==null?void 0:L.slug)==="/product"?"product":"home",q=b.useMemo(()=>tW.filter(Q=>Q.availableOn?Q.availableOn.includes($):!0),[$]),G=b.useMemo(()=>new Map(q.map(re=>[re.type,re])),[q]),W=b.useMemo(()=>$==="product"?[{label:"Header sections",components:["announcement-bar","header"].map(re=>G.get(re)).filter(re=>!!re)},{label:"Page sections",components:["product-details","product-recommendations","text","newsletter"].map(re=>G.get(re)).filter(re=>!!re)},{label:"Footer sections",components:["footer"].map(re=>G.get(re)).filter(re=>!!re)}].filter(re=>re.components.length>0):Ktt.map(Q=>({label:Q.charAt(0).toUpperCase()+Q.slice(1),components:q.filter(re=>re.category===Q)})).filter(Q=>Q.components.length>0),[$,q,G]),B=b.useMemo(()=>L?[...L.sections].sort((Q,re)=>Q.order-re.order):[],[L]),O=b.useMemo(()=>B.find(Q=>Q.id===T)??null,[B,T]);b.useEffect(()=>{T&&!B.find(Q=>Q.id===T)&&R(null)},[B,T,R]);const K=Q=>{const re=tW.find(ve=>ve.type===Q);if(!re||!L)return;const le={id:Math.random().toString(36).slice(2),type:re.type,order:L.sections.length,visible:!0,settings:{...re.defaultSettings},styles:{...re.defaultStyles}};h(le),R(le.id),$e.success(`${re.name} added`)},Y=async()=>{n&&await S(n.id)},D=async()=>{n&&await N(n.id)},[Z,ie]=b.useState(!1);b.useEffect(()=>{if(n!=null&&n.id){const Q=`store_builder_draft_${n.id}`,re=localStorage.getItem(Q);ie(!!re)}},[n==null?void 0:n.id]);const he=async()=>{if(!(n!=null&&n.id))return;const Q=`store_builder_draft_${n.id}`,re=localStorage.getItem(Q);if(!re){$e.info("No local draft found");return}try{const le=JSON.parse(re);await S(n.id),$e.success("Local draft imported to backend"),localStorage.removeItem(Q),ie(!1)}catch{$e.error("Failed to import local draft")}},J=b.useCallback(Q=>{const{active:re,over:le}=Q;if(!le||re.id===le.id)return;const ve=B.findIndex(ce=>ce.id===re.id),fe=B.findIndex(ce=>ce.id===le.id);if(ve===-1||fe===-1)return;const X=p7(B,ve,fe).map((ce,Pe)=>({...ce,order:Pe}));f(X)},[f,B]),ae=Q=>{const re=B.find(le=>le.id===Q);re&&m(Q,{visible:!re.visible})},ne=Q=>{p(Q),T===Q&&R(null)},se=(Q,re)=>{m(Q,re)};return a||E?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx(Zn,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading store builder"})]})}):n?i.jsxs("div",{className:"min-h-screen flex flex-col bg-muted/20",children:[i.jsx("div",{className:"border-b bg-card sticky top-0 z-50",children:i.jsxs("div",{className:"px-6 py-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>e("/stores"),children:[i.jsx(ao,{className:"h-4 w-4 mr-2"}),"Back to stores"]}),i.jsx(ln,{orientation:"vertical",className:"h-6"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Store builder"}),i.jsx("h1",{className:"text-lg font-semibold",children:n.storeName})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pe,{variant:"ghost",size:"sm",onClick:g,disabled:!x,children:i.jsx(LV,{className:"h-4 w-4"})}),i.jsx(pe,{variant:"ghost",size:"sm",onClick:y,disabled:!w,children:i.jsx(TV,{className:"h-4 w-4"})}),i.jsx(ln,{orientation:"vertical",className:"h-6 mx-2"}),Z&&i.jsxs(pe,{variant:"outline",size:"sm",onClick:he,children:[i.jsx(ll,{className:"h-4 w-4 mr-2"}),"Import local draft"]}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:Y,disabled:A,children:[A?i.jsx(Zn,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Kb,{className:"h-4 w-4 mr-2"}),A?"Saving":"Save draft"]}),i.jsxs(pe,{size:"sm",onClick:D,disabled:k,children:[k?i.jsx(Zn,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(gh,{className:"h-4 w-4 mr-2"}),k?"Publishing":"Publish"]})]})]})}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[i.jsxs("aside",{className:"w-72 border-r bg-card flex flex-col",children:[i.jsxs("div",{className:"px-5 py-4 border-b",children:[i.jsx("h2",{className:"text-sm font-semibold",children:"Components"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click any component to add it to the current page."})]}),i.jsx(ul,{className:"flex-1",children:i.jsx("div",{className:"px-5 py-4 space-y-6",children:W.map(Q=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-muted-foreground",children:[i.jsx("span",{children:Q.label}),i.jsx(ln,{className:"flex-1 ml-3"})]}),i.jsx("div",{className:"space-y-2",children:Q.components.map(re=>i.jsxs(pe,{variant:"outline",className:"w-full justify-between",onClick:()=>K(re.type),children:[i.jsx("span",{className:"font-medium",children:re.name}),i.jsx(gs,{className:"h-4 w-4"})]},re.type))})]},Q.label))})}),i.jsxs("div",{className:"px-5 py-4 border-t text-xs text-muted-foreground space-y-1",children:[i.jsxs("p",{children:["Sections: ",i.jsx("span",{className:"font-semibold",children:B.length})]}),i.jsx("p",{children:"Draft saved locally until you publish."})]})]}),i.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"border-b bg-background px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold",children:"Page preview"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(L==null?void 0:L.name)||"No page selected","  ",B.length," sections"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Er,{value:L==null?void 0:L.id,onValueChange:Q=>{R(null),I(Q)},children:[i.jsx(Ar,{className:"w-48",children:i.jsx(Tr,{placeholder:"Select page"})}),i.jsx(kr,{children:l.pages.map(Q=>i.jsxs(at,{value:Q.id,children:[Q.name," ",Q.isSystemPage?"(System)":""]},Q.id))})]}),["desktop","tablet","mobile"].map(Q=>{const re=Q==="desktop"?rue:Q==="tablet"?uue:lue;return i.jsxs(pe,{size:"sm",variant:c===Q?"default":"outline",onClick:()=>u(Q),className:dt(c===Q&&"bg-primary text-primary-foreground"),children:[i.jsx(re,{className:"h-4 w-4 mr-2"}),Q.charAt(0).toUpperCase()+Q.slice(1)]},Q)})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-8 bg-muted/40 flex justify-center",children:i.jsxs("div",{className:dt("w-full space-y-4 transition-all duration-300",Xtt[c]),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(Ot,{variant:"outline",children:n.storeName}),i.jsx("span",{children:"Preview mode"})]}),i.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>K("hero"),children:[i.jsx(ha,{className:"h-4 w-4 mr-1"}),"Add hero"]})]}),B.length>0?i.jsx(wtt,{sensors:U,onDragEnd:J,children:i.jsx(Ott,{items:B.map(Q=>Q.id),strategy:Itt,children:i.jsx("div",{className:"space-y-4",children:B.map(Q=>i.jsx(qtt,{section:Q,products:r,globalStyles:l.globalStyles,onEdit:()=>R(Q.id),onRemove:ne,onToggleVisibility:ae,onSelect:()=>R(Q.id),isSelected:T===Q.id},Q.id))})})}):i.jsx("div",{className:"border border-dashed border-muted-foreground/40 rounded-xl bg-background py-16 flex flex-col items-center justify-center text-center",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary rounded-full px-3 py-1 text-xs font-medium",children:[i.jsx(ha,{className:"h-3 w-3"}),"Start building"]}),i.jsx("h3",{className:"text-xl font-semibold",children:"Add your first section"}),i.jsx("p",{className:"text-sm text-muted-foreground max-w-sm",children:"Choose a component from the left to start designing your storefront. You can drag to reorder and customize each section."}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(pe,{size:"sm",onClick:()=>K("hero"),children:"Add hero banner"}),i.jsx(pe,{size:"sm",variant:"outline",onClick:()=>K("product-grid"),children:"Add product grid"})]})]})})]})})]}),i.jsxs("aside",{className:"w-[360px] border-l bg-card flex flex-col",children:[i.jsxs("div",{className:"px-5 py-4 border-b",children:[i.jsx("h2",{className:"text-sm font-semibold",children:"Section settings"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Adjust content and styling for the selected section."})]}),i.jsx("div",{className:"flex-1 min-h-0",children:i.jsx(Ytt,{section:O,onUpdate:Q=>{O&&se(O.id,Q)},onRemove:()=>{O&&ne(O.id)}})})]})]})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx("p",{className:"text-muted-foreground",children:"Store not found"}),i.jsx(pe,{onClick:()=>e("/stores"),children:"Back to stores"})]})})},Qtt=()=>i.jsx(eet,{children:i.jsx(Ztt,{})}),Jtt=()=>{const t=Vi();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),i.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},ert=()=>{const{productId:t}=Do(),e=rs(),{user:r}=Ba(),[n,s]=b.useState(null),[a,o]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(""),[h,p]=b.useState(""),[f,m]=b.useState(!1),[g,y]=b.useState(!0),[x,w]=b.useState([]),S=b.useRef(null);b.useEffect(()=>{if(!(r!=null&&r.id)||!t)return;const I=tv(r.id).find(L=>L.id===t)??null;if(!I){$e.error("Product not found"),e("/dashboard");return}s(I),o(I.name),c(I.description||""),d(I.price.toFixed(2)),w(I.mockupUrls&&I.mockupUrls.length>0?I.mockupUrls:I.mockupUrl?[I.mockupUrl]:[]),p(typeof I.compareAtPrice=="number"?I.compareAtPrice.toFixed(2):""),y(!1)},[r==null?void 0:r.id,t,e]);const N=b.useMemo(()=>{if(!u)return null;const R=parseFloat(u);if(Number.isNaN(R))return null;const I=n!=null&&n.price?Math.min(n.price,R)*.6:R*.6,L=n!=null&&n.price?Math.max(n.price,R)*.6:R*.6,U=R-L,$=R-I;return{min:U.toFixed(2),max:$.toFixed(2)}},[u,n]),C=()=>{if(!(r!=null&&r.id)||!n)return;const R=parseFloat(u);if(Number.isNaN(R)){$e.error("Please enter a valid retail price");return}const I={...n,name:a.trim()||"Untitled product",description:l.trim(),price:R,compareAtPrice:h&&parseFloat(h)||void 0,mockupUrls:x,mockupUrl:x[0]||n.mockupUrl,updatedAt:new Date().toISOString()};Hq(r.id,I),s(I),$e.success("Draft saved")},A=()=>{C(),$e.success("Product ready to publish",{description:"You can now sync this product with your store when you are ready."})},k=()=>{e("/dashboard")},E=async R=>{if(!R||R.length===0)return;const I=L=>new Promise((U,$)=>{const q=new FileReader;q.onload=()=>U(q.result||""),q.onerror=()=>$(new Error("Failed to read file")),q.readAsDataURL(L)});try{const L=await Promise.all(Array.from(R).map(U=>I(U)));w(U=>{const $=[...U,...L],q=new Set;return $.filter(W=>q.has(W)?!1:(q.add(W),!0)).slice(0,6)}),$e.success("Mockup uploaded successfully")}catch(L){console.error(L),$e.error("Failed to upload mockup. Please try again.")}finally{S.current&&(S.current.value="")}},T=x[0]||(n==null?void 0:n.mockupUrl);return!(r!=null&&r.id)||!t?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/20",children:i.jsxs(Ze,{className:"p-8 text-center space-y-4",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Unable to load product"}),i.jsx("p",{className:"text-muted-foreground",children:"Make sure you are signed in and selected a valid product."}),i.jsx(pe,{onClick:()=>e("/dashboard"),children:"Back to Dashboard"})]})}):g||!n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/20",children:i.jsx(Ze,{className:"p-8 text-center space-y-4",children:i.jsx("div",{className:"flex items-center justify-center h-12",children:i.jsx("span",{className:"text-muted-foreground",children:"Loading product"})})})}):i.jsxs("div",{className:"min-h-screen bg-muted/20",children:[i.jsx("header",{className:"border-b bg-background",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(pe,{variant:"ghost",className:"w-fit gap-2 px-0 text-muted-foreground",onClick:k,children:[i.jsx(ao,{className:"h-4 w-4"}),"Back to My Products"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:a||"Untitled product"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Finalize your listing details, pricing, and publishing settings before pushing live."})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pe,{variant:"outline",onClick:C,children:"Save as Draft"}),i.jsx(pe,{onClick:A,children:"Publish"})]})]})}),i.jsxs("main",{className:"max-w-6xl mx-auto px-6 py-8 grid gap-6 lg:grid-cols-[1fr,340px]",children:[i.jsxs("section",{className:"space-y-6",children:[i.jsxs(Ze,{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Selected mockups"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload or pick your product mockups to showcase in your storefront."})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(pe,{variant:"outline",size:"sm",className:"gap-2",asChild:!0,children:i.jsxs(_t,{to:`/designer/${n.baseProduct}`,children:[i.jsx(_p,{className:"h-4 w-4"}),"Edit design"]})}),i.jsxs(pe,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>{var R;return(R=S.current)==null?void 0:R.click()},children:[i.jsx(ll,{className:"h-4 w-4"}),"Upload mockup"]}),i.jsx("input",{ref:S,type:"file",accept:"image/*",multiple:!0,onChange:R=>E(R.target.files),className:"hidden"})]})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:Array.from({length:3}).map((R,I)=>{const L=x[I];return i.jsx("div",{className:"aspect-square rounded-lg border border-dashed border-muted-foreground/40 flex items-center justify-center bg-background",children:L?i.jsx("img",{src:L,alt:`${n.name} mockup ${I+1}`,className:"h-full w-full object-cover"}):i.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(ca,{className:"h-6 w-6"}),i.jsxs("span",{children:["Mockup ",I+1]})]})},I)})})]}),i.jsxs(Ze,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Listing details"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Update how this product appears in your storefront and sales channels."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"title",children:"Title"}),i.jsx(rt,{id:"title",value:a,onChange:R=>o(R.target.value),placeholder:"Add a catchy product title"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep it short, descriptive, and highlight the key value of your product."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"description",children:"Description"}),i.jsx(Ei,{id:"description",value:l,onChange:R=>c(R.target.value),placeholder:"Describe your product, materials, or any care instructions.",rows:6})]})]}),i.jsxs(Ze,{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Personalization"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow customers to add special requests, names, or notes to their orders."})]}),i.jsx(Xs,{checked:f,onCheckedChange:m,"aria-label":"Toggle personalization"})]}),f&&i.jsx(Ei,{placeholder:"Provide instructions for how customers should submit personalization requests.",rows:4})]}),i.jsxs(Ze,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Pricing"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Set the retail price you want to charge and track your estimated profit."})]}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"retailPrice",children:"Retail price"}),i.jsx(rt,{id:"retailPrice",value:u,onChange:R=>d(R.target.value),placeholder:"e.g. 29.99",inputMode:"decimal"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"compareAtPrice",children:"Compare-at price"}),i.jsx(rt,{id:"compareAtPrice",value:h,onChange:R=>p(R.target.value),placeholder:"Optional",inputMode:"decimal"})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Costs"}),i.jsx("div",{className:"text-2xl font-semibold mt-2",children:n?`$${n.price.toFixed(2)}`:""}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This is the base cost from your selected provider."})]}),i.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Estimated profit"}),i.jsx("div",{className:"text-2xl font-semibold mt-2",children:N?`$${N.min} - $${N.max}`:""}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on your retail price minus production costs."})]})]})]}),i.jsxs(Ze,{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Publishing settings"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose which product details to sync when publishing to your store."})]}),i.jsx("div",{className:"space-y-3",children:[{id:"syncTitle",label:"Product title",defaultChecked:!0},{id:"syncDescription",label:"Description",defaultChecked:!0},{id:"syncMockups",label:"Mockups",defaultChecked:!0},{id:"syncPricing",label:"Colors, sizes, prices, and SKUs",defaultChecked:!1}].map(R=>i.jsxs("label",{className:"flex items-center gap-3",children:[i.jsx(Un,{id:R.id,defaultChecked:R.defaultChecked}),i.jsx("span",{className:"text-sm",children:R.label})]},R.id))})]})]}),i.jsxs("aside",{className:"space-y-6",children:[i.jsxs(Ze,{className:"overflow-hidden",children:[i.jsx("div",{className:"aspect-square bg-muted/50 flex items-center justify-center",children:T?i.jsx("img",{src:T,alt:n.name,className:"h-full w-full object-cover"}):i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(ca,{className:"h-8 w-8"}),i.jsx("span",{children:"No mockup uploaded"})]})}),i.jsxs("div",{className:"p-4 space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold",children:a||n.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Base product  ",i.jsx("span",{className:"font-medium capitalize",children:n.baseProduct})]}),i.jsxs("div",{className:"pt-3 flex flex-wrap items-center gap-2",children:[i.jsxs(Ot,{variant:"secondary",children:[n.variants.colors.length," colors"]}),i.jsxs(Ot,{variant:"secondary",children:[n.variants.sizes.length," sizes"]})]})]})]}),i.jsxs(Ze,{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold uppercase text-muted-foreground",children:"Summary"}),i.jsxs("p",{className:"text-3xl font-bold",children:["$",u||n.price.toFixed(2)]})]}),i.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Base cost"}),i.jsxs("span",{children:["$",n.price.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Estimated profit"}),i.jsx("span",{children:N?`$${N.min} - $${N.max}`:""})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{variant:"outline",className:"w-full",onClick:C,children:"Save changes"}),i.jsx(pe,{className:"w-full",onClick:A,children:"Publish"})]})]})]})]})]})},H5=t=>(t||"").trim().toLowerCase().replace(/\s+/g,""),mW=()=>{const t=rs(),e=Vi(),[r]=vw(),{state:n}=e,s=r.get("storeProductId")||(n==null?void 0:n.storeProductId),[a,o]=b.useState(null),[l,c]=b.useState(!1),[u,d]=b.useState({});b.useEffect(()=>{s&&(c(!0),La.getById(s).then(Q=>{Q.success&&Q.data?(o(Q.data),console.log("Loaded draft for editing:",Q.data)):$e.error("Failed to load draft data")}).catch(Q=>{console.error("Error loading draft:",Q),$e.error("Failed to load draft: "+(Q.message||"Unknown error"))}).finally(()=>{c(!1)}))},[s]);const h=(n==null?void 0:n.productId)||(a==null?void 0:a.catalogProductId),[p,f]=b.useState(()=>(a==null?void 0:a.title)||(n==null?void 0:n.title)||"wyz Logo Circle Graphic T-Shirt | Minimal Branding Tee"),[m,g]=b.useState(()=>(a==null?void 0:a.description)||(n==null?void 0:n.description)||"This relaxed-fit garment-dyed tee wears in like an old favorite...");b.useEffect(()=>{a&&(a.title&&f(a.title),a.description&&g(a.description))},[a]);const[y,x]=b.useState(!1),[w,S]=b.useState(!1),[N,C]=b.useState(!1),[A,k]=b.useState(!0),[E,T]=b.useState(!0),[R,I]=b.useState(!0),[L,U]=b.useState(!1),[$,q]=b.useState([]),G=b.useRef({}),[W,B]=b.useState([]),[O,K]=b.useState(new Set),[Y,D]=b.useState(!1);b.useEffect(()=>{(async()=>{D(!0);try{const re=await ua.listMyStores();if(re.success&&Array.isArray(re.data)){B(re.data);const le=new Set(re.data.map(ve=>ve._id||ve.id));K(le)}}catch(re){console.error("Failed to fetch stores:",re),$e.error("Failed to load connected stores")}finally{D(!1)}})()},[]),b.useEffect(()=>{const Q=(n==null?void 0:n.productId)||(a==null?void 0:a.catalogProductId);if(console.log("[ListingEditor] Fetch catalog variants:",{productId:Q,fromState:n==null?void 0:n.productId,fromDraft:a==null?void 0:a.catalogProductId}),!Q){console.log("[ListingEditor] No productId available yet, skipping fetch");return}let re=!1;return(async()=>{var le;try{console.log("[ListingEditor] Calling catalogVariantsApi.listByProduct:",Q);const ve=await Bq.listByProduct(Q);console.log("[ListingEditor] Raw API response:",{resp:ve,respType:typeof ve,isArray:Array.isArray(ve),hasData:!!(ve!=null&&ve.data),dataType:typeof(ve==null?void 0:ve.data),dataIsArray:Array.isArray(ve==null?void 0:ve.data)});let fe=[];if(Array.isArray(ve)?fe=ve:Array.isArray(ve==null?void 0:ve.data)?fe=ve.data:Array.isArray((le=ve==null?void 0:ve.data)==null?void 0:le.data)&&(fe=ve.data.data),console.log("[ListingEditor] Extracted data array:",{length:fe.length,sample:fe[0],sampleFields:fe[0]?Object.keys(fe[0]):[]}),!Array.isArray(fe)||re){console.warn("[ListingEditor] No valid data array, aborting");return}const X={};fe.forEach(ce=>{const Pe=H5(ce.size||""),ke=H5(ce.color||""),oe=`${Pe}__${ke}`,Oe=typeof ce.basePrice=="number"&&Number.isFinite(ce.basePrice)?ce.basePrice:void 0,Ie=typeof ce.price=="number"&&Number.isFinite(ce.price)?ce.price:void 0,He=Oe!==void 0?Oe:Ie!==void 0?Ie:0,nt=ce.sku||ce.skuTemplate||"";X[oe]={cost:He,id:ce._id||ce.id,sku:nt},console.log("[ListingEditor] Mapped catalog variant:",{originalSize:ce.size,originalColor:ce.color,normalizedKey:oe,basePrice:Oe,price:Ie,finalCost:He,sku:nt,id:ce._id||ce.id})}),console.log("[ListingEditor] Final variantCostMap:",{keyCount:Object.keys(X).length,keys:Object.keys(X),sampleEntry:Object.entries(X)[0]}),re||d(X)}catch(ve){console.error("[ListingEditor] Failed to load catalog variant costs:",ve)}})(),()=>{re=!0}},[h,a==null?void 0:a.catalogProductId]),b.useEffect(()=>{const Q=(n==null?void 0:n.variants)||[];if(console.log("[ListingEditor] Recompute variantRows:",{incomingCount:Q.length,variantCostMapKeys:Object.keys(u).length,existingRowsCount:$.length,sampleIncoming:Q[0]}),!Q.length){console.log("[ListingEditor] No incoming variants, skipping row creation");return}const re=Q.map(le=>{const ve=H5(le.size||""),fe=H5(le.color||""),X=`${ve}__${fe}`,ce=u[X];console.log("[ListingEditor] Processing variant:",{originalSize:le.size,originalColor:le.color,normalizedKey:X,foundInMap:!!ce,mappedData:ce});const Pe=ce==null?void 0:ce.cost,oe=(Number.isFinite(Pe)?Pe:Number.isFinite(le.productionCost)?le.productionCost:0)||0;console.log("[ListingEditor] Cost resolution:",{costFromCatalog:Pe,costFromIncoming:le.productionCost,finalCost:oe});const Oe=`${le.size}__${le.color}`,Ie=G.current[Oe];let He=0;Ie!==void 0&&Number.isFinite(Ie)?(He=Ie,console.log("[ListingEditor] Preserving user-entered retailPrice:",Ie)):Number.isFinite(le.price)?He=le.price:Number.isFinite(n==null?void 0:n.baseSellingPrice)?He=n.baseSellingPrice:oe>0&&(He=parseFloat((oe/.6).toFixed(2)));const nt={id:(ce==null?void 0:ce.id)||le.id,size:le.size,color:le.color,sku:(ce==null?void 0:ce.sku)||le.sku||"",productionCost:parseFloat(oe.toFixed(2)),retailPrice:He};return He>0&&(G.current[Oe]=He),nt});console.log("[ListingEditor] Final rows created:",{count:re.length,sampleRow:re[0],allCosts:re.map(le=>le.productionCost),allSkus:re.map(le=>le.sku)}),q(re)},[n==null?void 0:n.variants,n==null?void 0:n.baseSellingPrice,u]),b.useEffect(()=>{$.forEach(Q=>{const re=`${Q.size}__${Q.color}`;Q.retailPrice>0&&(G.current[re]=Q.retailPrice)})},[$]);const[Z,ie]=b.useState(!1),he=$.length>0,J=b.useMemo(()=>{if(!$.length)return null;const Q=$.map(Ie=>Ie.retailPrice).filter(Ie=>Number.isFinite(Ie)),re=$.map(Ie=>Ie.productionCost).filter(Ie=>Number.isFinite(Ie));if(!Q.length||!re.length)return null;const le=$.map(Ie=>Ie.retailPrice-Ie.productionCost),ve=$.map(Ie=>!Ie.retailPrice||Ie.retailPrice<=0?0:(Ie.retailPrice-Ie.productionCost)/Ie.retailPrice),fe=Math.min(...Q),X=Math.max(...Q),ce=Math.min(...re),Pe=Math.max(...re),ke=Math.min(...le),oe=Math.max(...le),Oe=ve.reduce((Ie,He)=>Ie+He,0)/ve.length;return{minRetail:fe,maxRetail:X,minCost:ce,maxCost:Pe,minProfit:ke,maxProfit:oe,avgMargin:Oe}},[$]),ae=()=>{t(-1)},ne=()=>{console.log("Save as draft clicked")},se=()=>{(async()=>{var Q;if(!s){$e.error("No draft ID available. Please start from Design Editor.");return}if(O.size===0){$e.error("Please select at least one store to publish to.");return}ie(!0);try{const re=Array.from(new Set(($||[]).map(ke=>ke.color).filter(ke=>!!ke&&ke.trim().length>0))),le=Array.from(new Set(($||[]).map(ke=>ke.size).filter(ke=>!!ke&&ke.trim().length>0))),fe={status:"published",designData:{...(a==null?void 0:a.designData)||(n==null?void 0:n.designData)||{},...re.length?{selectedColors:re}:{},...le.length?{selectedSizes:le}:{}}};A&&(fe.title=p),E&&(fe.description=m),Array.isArray(n==null?void 0:n.galleryImages)&&(fe.galleryImages=n.galleryImages),n!=null&&n.baseSellingPrice?fe.sellingPrice=n.baseSellingPrice:(Q=$[0])!=null&&Q.retailPrice&&(fe.sellingPrice=$[0].retailPrice),$&&$.length>0&&(fe.variants=$.filter(ke=>ke.id).map(ke=>({catalogProductVariantId:ke.id,sku:ke.sku||"",sellingPrice:ke.retailPrice,isActive:!0})));const X=Array.from(O);console.log("[ListingEditor] Publishing to stores:",X);let ce=0;const Pe=[];if(X.length>0){const ke=X[0];try{const oe={...fe,storeId:ke},Oe=await La.update(s,oe);Oe&&Oe.success?(ce++,console.log("[ListingEditor] Updated existing draft for store:",ke)):Pe.push("Failed to update for first store")}catch(oe){Pe.push((oe==null?void 0:oe.message)||"Failed to update first store")}}if(X.length>1){const ke=(a==null?void 0:a.catalogProductId)||(n==null?void 0:n.productId);if(!ke)console.warn("[ListingEditor] No catalogProductId available for creating copies");else for(let oe=1;oe<X.length;oe++){const Oe=X[oe];try{const Ie={storeId:Oe,catalogProductId:ke,sellingPrice:fe.sellingPrice||0,title:fe.title,description:fe.description,designData:fe.designData,galleryImages:fe.galleryImages,variants:fe.variants,status:"published"};console.log("[ListingEditor] Creating new StoreProduct for store:",Oe);const He=await La.create(Ie);He&&He.success?(ce++,console.log("[ListingEditor] Created product for store:",Oe)):Pe.push(`Failed to create for store ${Oe}`)}catch(Ie){console.error("[ListingEditor] Error creating for store",Oe,Ie),Pe.push((Ie==null?void 0:Ie.message)||`Failed for store ${Oe}`)}}}ce===X.length?$e.success(`Product published to ${ce} store${ce>1?"s":""}!`):ce>0?$e.warning(`Published to ${ce}/${X.length} stores. ${Pe.join(", ")}`):$e.error("Failed to publish: "+Pe.join(", ")),ce>0&&t("/stores",{state:{...n,storeProductId:s,title:p,description:m,variantRows:$}})}catch(re){console.error("Publish failed",re),$e.error((re==null?void 0:re.message)||"Publish failed")}finally{ie(!1)}})()};return l?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading draft data..."})]})}):i.jsxs("div",{className:"min-h-screen bg-muted/20",children:[i.jsx("header",{className:"border-b bg-background",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(pe,{variant:"ghost",className:"w-fit gap-2 px-0 text-muted-foreground",onClick:ae,children:[i.jsx(ao,{className:"h-4 w-4"}),"Back"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Listing editor"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure listing details, pricing, and publishing options before pushing live."})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pe,{variant:"outline",onClick:ne,children:"Save as draft"}),i.jsx(pe,{onClick:se,disabled:Z,children:Z?"Publishing":"Publish"})]})]})}),i.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-8 space-y-6",children:[i.jsxs(Ze,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Listing details"}),i.jsx("p",{className:"text-sm text-muted-foreground max-w-2xl",children:"A good listing title is clear, concise, and highlights key features to attract buyers and improve visibility."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"title",children:"Title"}),i.jsx(rt,{id:"title",value:p,onChange:Q=>f(Q.target.value),placeholder:"Enter product title"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(je,{htmlFor:"description",children:"Description"})}),i.jsx(Ei,{id:"description",value:m,onChange:Q=>g(Q.target.value),rows:6})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Un,{id:"addSizeTable",checked:y,onCheckedChange:Q=>x(!!Q)}),i.jsx(je,{htmlFor:"addSizeTable",className:"text-sm font-normal",children:"Add size table to description"})]})]}),i.jsxs(Ze,{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Personalization"}),i.jsx("p",{className:"text-sm text-muted-foreground max-w-xl",children:"Let buyers add custom requests for text, design, and moreon average, they are willing to pay extra for personalization."})]}),i.jsx(Xs,{checked:w,onCheckedChange:S,"aria-label":"Toggle personalization"})]}),w&&i.jsx(Ei,{placeholder:"Add optional instructions or notes about personalization for your buyers.",rows:4})]}),i.jsxs(Ze,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Pricing"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Review retail prices, costs, and estimated profit for each variant."})]}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Retail price"}),J?i.jsxs("p",{className:"text-lg font-semibold",children:["$",J.minRetail.toFixed(2)," - $",J.maxRetail.toFixed(2)]}):i.jsx("p",{className:"text-lg font-semibold",children:""})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Costs"}),J?i.jsxs("p",{className:"text-lg font-semibold",children:["$",J.minCost.toFixed(2)," - $",J.maxCost.toFixed(2)]}):i.jsx("p",{className:"text-lg font-semibold",children:""})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Estimated profit"}),J?i.jsxs("p",{className:"text-lg font-semibold",children:["$",J.minProfit.toFixed(2)," - $",J.maxProfit.toFixed(2)," (",Math.round(J.avgMargin*100),"%)"]}):i.jsx("p",{className:"text-lg font-semibold",children:""})]})]}),i.jsx(ln,{}),i.jsxs(_c,{defaultValue:"quick",className:"w-full",children:[i.jsx("div",{className:"flex items-center justify-between gap-2",children:i.jsxs(Fl,{children:[i.jsx(Zr,{value:"quick",children:"Quick overview"}),i.jsx(Zr,{value:"detailed",children:"Detailed table view"})]})}),i.jsx(sn,{value:"quick",className:"mt-4",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the detailed table to adjust pricing per size or variant. Changes here will update your retail price and estimated profit."})}),i.jsx(sn,{value:"detailed",className:"mt-4",children:i.jsxs(To,{children:[i.jsx(Io,{children:i.jsxs(An,{children:[i.jsx(Rt,{className:"w-[80px]",children:"Size"}),i.jsx(Rt,{children:"Color"}),i.jsx(Rt,{children:"Inventory"}),i.jsx(Rt,{children:"SKU"}),i.jsx(Rt,{children:"Retail price"}),i.jsx(Rt,{children:"Profit"}),i.jsx(Rt,{children:"Profit margin"}),i.jsx(Rt,{children:"Production cost"})]})}),i.jsx(Mo,{children:he?$.map(Q=>{const re=Q.retailPrice-Q.productionCost,le=Q.retailPrice>0?Math.round(re/Q.retailPrice*100):0;return i.jsxs(An,{children:[i.jsx(Lt,{className:"font-medium",children:Q.size}),i.jsx(Lt,{children:Q.color}),i.jsx(Lt,{children:"All in stock"}),i.jsx(Lt,{className:"font-mono text-xs",children:Q.sku}),i.jsx(Lt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:"USD"}),i.jsx(rt,{className:"h-8 w-24",value:Number.isFinite(Q.retailPrice)?Q.retailPrice.toFixed(2):"",inputMode:"decimal",onChange:ve=>{const fe=ve.target.value.replace(/[^0-9.]/g,""),X=parseFloat(fe),ce=Number.isNaN(X)?0:parseFloat(X.toFixed(2)),Pe=`${Q.size}__${Q.color}`;G.current[Pe]=ce,q(ke=>ke.map(oe=>oe===Q?{...oe,retailPrice:ce}:oe))}})]})}),i.jsxs(Lt,{children:["USD ",re.toFixed(2)]}),i.jsxs(Lt,{children:[le,"%"]}),i.jsxs(Lt,{children:["USD ",Q.productionCost.toFixed(2)]})]},Q.id||`${Q.size}-${Q.color}-${Q.sku}`)}):i.jsx(An,{children:i.jsx(Lt,{colSpan:8,className:"text-center text-muted-foreground",children:"No variants received from Design editor. Publish from a designed product to configure pricing."})})})]})})]})]}),i.jsxs(Ze,{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Publishing destination"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select which stores to publish this product to."})]}),Y?i.jsxs("div",{className:"flex items-center gap-2 py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading stores..."})]}):W.length>0?i.jsxs("div",{className:"space-y-3",children:[W.map(Q=>{const re=Q._id||Q.id||"",le=O.has(re);return i.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-muted/30 transition-colors cursor-pointer",children:[i.jsx(Un,{checked:le,onCheckedChange:ve=>{const fe=new Set(O);ve?fe.add(re):fe.delete(re),K(fe)}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:Q.name}),Q.subdomain&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Q.subdomain})]}),i.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${Q.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Q.status==="active"?"Connected":Q.status||"Draft"})]},re)}),O.size===0&&i.jsx("p",{className:"text-sm text-amber-600 bg-amber-50 p-2 rounded",children:" Please select at least one store to publish to."})]}):i.jsxs("div",{className:"text-center py-4 border rounded-lg bg-muted/20",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No stores connected yet."}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Go to Stores page to create or connect a store."})]})]}),i.jsxs(Ze,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Publishing settings"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Control product visibility and which details to sync when publishing to your store."})]}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Un,{id:"hideInStore",checked:N,onCheckedChange:Q=>C(!!Q)}),i.jsx(je,{htmlFor:"hideInStore",className:"text-sm font-normal",children:"Hide in store"})]})}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"Sync product details"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Select which product details to sync and publish on your store. This will not impact SEO."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[i.jsx(Un,{checked:A,onCheckedChange:Q=>k(!!Q)}),i.jsx("span",{children:"Product title"})]}),i.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[i.jsx(Un,{checked:E,onCheckedChange:Q=>T(!!Q)}),i.jsx("span",{children:"Description"})]}),i.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[i.jsx(Un,{checked:R,onCheckedChange:Q=>I(!!Q)}),i.jsx("span",{children:"Mockups"})]}),i.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[i.jsx(Un,{checked:L,onCheckedChange:Q=>U(!!Q)}),i.jsx("span",{children:"Colors, sizes, prices, and SKUs"})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-3 pt-2 sm:flex-row sm:justify-end",children:[i.jsx(pe,{variant:"outline",onClick:ne,children:"Save as draft"}),i.jsx(pe,{onClick:se,children:"Publish"})]})]})]})]})},zie=b.createContext(void 0),eu=({children:t})=>{const[e,r]=b.useState(null),[n,s]=b.useState(!0),a=Pr,o=async d=>{const h=localStorage.getItem(`store_token_${d}`);if(!h){r(null),s(!1);return}try{const p=await fetch(`${a}/store-auth/me`,{headers:{Authorization:`Bearer ${h}`}}),f=await p.json();p.ok&&f.success?r(f.customer):(localStorage.removeItem(`store_token_${d}`),r(null))}catch(p){console.error("Auth check failed",p)}finally{s(!1)}},l=async(d,h,p)=>{try{const f=await fetch(`${a}/store-auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subdomain:d,email:h,password:p})}),m=await f.json();return f.ok&&m.success?(localStorage.setItem(`store_token_${d}`,m.token),r(m.customer),$e.success("Logged in successfully"),!0):($e.error(m.message||"Login failed"),!1)}catch(f){return console.error("Login error",f),$e.error("Login failed. Please try again."),!1}},c=async(d,h,p,f)=>{try{const m=await fetch(`${a}/store-auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subdomain:d,name:h,email:p,password:f})}),g=await m.json();return m.ok&&g.success?(localStorage.setItem(`store_token_${d}`,g.token),r(g.customer),$e.success("Account created successfully"),!0):($e.error(g.message||"Registration failed"),!1)}catch(m){return console.error("Registration error",m),$e.error("Registration failed. Please try again."),!1}},u=()=>{r(null)};return i.jsx(zie.Provider,{value:{customer:e,isAuthenticated:!!e,isLoading:n,login:l,register:c,logout:u,checkAuth:o},children:t})},hx=()=>{const t=b.useContext(zie);if(t===void 0)throw new Error("useStoreAuth must be used within a StoreAuthProvider");return t},gW={modern:{id:"modern",name:"Modern",description:"Clean and contemporary design with bold typography",preview:"A sleek, minimalist design with plenty of whitespace",colors:{primary:"#2563eb",secondary:"#64748b",accent:"#f59e0b",background:"#ffffff",text:"#1e293b"},fonts:{heading:"Inter, sans-serif",body:"Inter, sans-serif"}},classic:{id:"classic",name:"Classic",description:"Timeless and elegant with refined details",preview:"Traditional layout with elegant serif typography",colors:{primary:"#16a34a",secondary:"#737373",accent:"#dc2626",background:"#fafaf9",text:"#292524"},fonts:{heading:"Georgia, serif",body:"system-ui, sans-serif"}},minimal:{id:"minimal",name:"Minimal",description:"Simple and focused with maximum clarity",preview:"Ultra-clean design with focus on products",colors:{primary:"#0f172a",secondary:"#94a3b8",accent:"#8b5cf6",background:"#ffffff",text:"#334155"},fonts:{heading:"system-ui, sans-serif",body:"system-ui, sans-serif"}}},Vg=t=>gW[t]||gW.modern,V5="shelfmerch.in",aP=["www","shelfmerch","admin","api"];function Uie(t){if(!t||typeof t!="string")return null;const e=t.toLowerCase().trim();if(e==="localhost"||e==="127.0.0.1")return null;if(e.endsWith(".localhost")){const a=e.replace(".localhost","");return a&&!aP.includes(a)?a:null}const r=e.split(".");if(r.length<2)return null;if(!(e===V5||e.endsWith("."+V5))){if(r.length>=2){const a=r[0];if(a&&!aP.includes(a))return a}return null}const s=e.replace("."+V5,"").replace(V5,"");return!s||aP.includes(s)?null:s}function qw(t,e){const r=(t==null?void 0:t.hostname)||(typeof window<"u"?window.location.hostname:""),n=r?Uie(r):null;if(n)return n;if(e!=null&&e.subdomain)return e.subdomain;if(e!=null&&e.slug)return e.slug;const s=(t==null?void 0:t.pathname)||(typeof window<"u"?window.location.pathname:"");if(s){const a=s.match(/\/store\/([^/]+)/);if(a&&a[1])return a[1]}return null}function h_(){return typeof window>"u"?!1:Uie(window.location.hostname)!==null}function trt(t){const e=t||qw();return e&&h_()?"":e?`/store/${e}`:""}function uu(t,e){const r=trt(e),n=t.startsWith("/")?t:`/${t}`;return`${r}${n}`}const m7=({open:t,onClose:e,cart:r,onUpdateQuantity:n,onRemove:s,onCheckout:a})=>{const{isAuthenticated:o}=hx(),l=r.reduce((c,u)=>c+(u.product.price||0)*(u.quantity||0),0);return i.jsx(dM,{open:t,onOpenChange:e,children:i.jsxs(H3,{className:"w-full sm:max-w-lg flex flex-col",children:[i.jsx(V3,{children:i.jsxs(q3,{className:"flex items-center gap-2",children:[i.jsx(_0,{className:"h-5 w-5"}),"Shopping Cart (",r.length,")"]})}),r.length===0?i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(_0,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your cart is empty"}),i.jsx("p",{className:"text-muted-foreground",children:"Add some products to get started!"})]})}):i.jsxs(i.Fragment,{children:[i.jsx(ul,{className:"flex-1 -mx-6 px-6",children:i.jsx("div",{className:"space-y-4 py-4",children:r.map(c=>{var h;const u=((h=c.product.mockupUrls)==null?void 0:h[0])||c.product.mockupUrl,d=c.product.price||0;return i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-20 h-20 bg-muted rounded-md flex-shrink-0",children:u?i.jsx("img",{src:u,alt:c.product.name,className:"w-full h-full object-cover rounded-md"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:i.jsx(_0,{className:"h-8 w-8"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold truncate",children:c.product.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.variant.color," / ",c.variant.size]}),i.jsxs("p",{className:"font-semibold text-primary",children:["$",d.toFixed(2)]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(pe,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>n(c.productId,c.variant,Math.max(0,c.quantity-1)),children:i.jsx(iN,{className:"h-3 w-3"})}),i.jsx("span",{className:"w-8 text-center",children:c.quantity}),i.jsx(pe,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>n(c.productId,c.variant,c.quantity+1),children:i.jsx(ha,{className:"h-3 w-3"})}),i.jsx(pe,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 ml-auto text-destructive",onClick:()=>s(c.productId,c.variant),children:i.jsx(ol,{className:"h-4 w-4"})})]})]})]},`${c.productId}-${c.variant.color}-${c.variant.size}`)})})}),i.jsxs("div",{className:"border-t pt-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),i.jsxs("span",{children:["$",l.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Calculated at checkout"})]}),i.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[i.jsx("span",{children:"Estimated Total"}),i.jsxs("span",{children:["$",l.toFixed(2)]})]}),i.jsx(pe,{className:"w-full",size:"lg",onClick:a,children:o?"Proceed to Checkout":"Login / Register to Checkout"})]})]})]})})},Wie=({storeName:t,navLinks:e,cartItemCount:r,onCartClick:n,onSearchClick:s,primaryColor:a})=>{const[o,l]=b.useState(!1),c=e||[{name:"Products",href:"#products"},{name:"About",href:"#about"},{name:"Contact",href:"#contact"}];return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-foreground text-background text-center py-2.5 text-sm font-medium tracking-wide",children:[i.jsx("span",{className:"opacity-90",children:"Free shipping on orders over $75"}),i.jsx("span",{className:"mx-3 opacity-50",children:""}),i.jsx("span",{className:"opacity-90",children:"Powered by ShelfMerch"})]}),i.jsxs("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-md border-b border-border",children:[i.jsx("div",{className:"container mx-auto px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[i.jsx(_t,{to:"/",className:"flex items-center gap-2",children:i.jsx("span",{className:"font-display text-2xl lg:text-3xl font-semibold text-foreground tracking-tight",style:{color:a},children:t})}),i.jsx("nav",{className:"hidden md:flex items-center gap-8",children:c.map(u=>u.href.startsWith("http")||u.href.startsWith("#")?i.jsx("a",{href:u.href,className:"nav-link text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:u.name},u.name):i.jsx(_t,{to:u.href,className:"nav-link text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:u.name},u.name))}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{className:"p-2 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Search",onClick:s,children:i.jsx(pl,{className:"w-5 h-5"})}),i.jsxs("button",{className:"p-2 text-muted-foreground hover:text-foreground transition-colors relative","aria-label":"Cart",onClick:n,children:[i.jsx(pc,{className:"w-5 h-5"}),r>0&&i.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-primary text-primary-foreground text-[10px] font-bold rounded-full flex items-center justify-center",children:r})]}),i.jsx("button",{className:"p-2 text-muted-foreground hover:text-foreground transition-colors md:hidden",onClick:()=>l(!o),"aria-label":"Menu",children:o?i.jsx(Ri,{className:"w-5 h-5"}):i.jsx(tue,{className:"w-5 h-5"})})]})]})}),o&&i.jsx("div",{className:"md:hidden bg-background border-t border-border animate-fade-in",children:i.jsx("nav",{className:"container mx-auto px-6 py-4 flex flex-col gap-4",children:c.map(u=>u.href.startsWith("http")||u.href.startsWith("#")?i.jsx("a",{href:u.href,className:"text-base font-medium text-foreground py-2",onClick:()=>l(!1),children:u.name},u.name):i.jsx(_t,{to:u.href,className:"text-base font-medium text-foreground py-2",onClick:()=>l(!1),children:u.name},u.name))})})]})]})},rrt=({storeName:t,description:e})=>i.jsxs("section",{className:"hero-gradient min-h-[70vh] lg:min-h-[80vh] flex items-center justify-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.03]",children:i.jsxs("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("defs",{children:i.jsx("pattern",{id:"grid",width:"60",height:"60",patternUnits:"userSpaceOnUse",children:i.jsx("path",{d:"M 60 0 L 0 0 0 60",fill:"none",stroke:"currentColor",strokeWidth:"1"})})}),i.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),i.jsx("div",{className:"absolute top-20 left-10 w-24 h-24 rounded-full bg-primary/10 animate-float"}),i.jsx("div",{className:"absolute bottom-32 right-20 w-16 h-16 rounded-full bg-accent/10 animate-float",style:{animationDelay:"2s"}}),i.jsx("div",{className:"absolute top-1/3 right-1/4 w-8 h-8 rounded-full bg-primary/20 animate-float",style:{animationDelay:"4s"}}),i.jsxs("div",{className:"container mx-auto px-6 lg:px-8 text-center relative z-10",children:[i.jsx("span",{className:"animate-fade-up inline-block text-sm font-medium text-primary tracking-widest uppercase mb-6",children:"New Collection 2025"}),i.jsxs("h1",{className:"animate-fade-up animate-delay-100 font-display text-5xl md:text-7xl lg:text-8xl font-semibold text-foreground tracking-tight mb-6 leading-[1.1]",children:["Welcome to",i.jsx("br",{}),i.jsx("span",{className:"text-primary",children:t})]}),i.jsx("p",{className:"animate-fade-up animate-delay-200 text-lg md:text-xl text-muted-foreground max-w-xl mx-auto mb-10 font-light",children:e||"Premium custom merchandise designed with passion. Every piece tells a story."}),i.jsxs("div",{className:"animate-fade-up animate-delay-300 flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx("a",{href:"#products",className:"btn-primary-store",children:"Shop Now"}),i.jsx("a",{href:"#about",className:"btn-outline-store",children:"Our Story"})]})]}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:i.jsx("svg",{viewBox:"0 0 1440 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full",children:i.jsx("path",{d:"M0 80V40C240 0 480 0 720 20C960 40 1200 60 1440 40V80H0Z",fill:"hsl(var(--background))"})})})]}),Gie=({product:t,onProductClick:e,onAddToCart:r})=>{var l,c;const n=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.price),s=((l=t.mockupUrls)==null?void 0:l[0])||t.mockupUrl,a=(c=t.catalogProduct)!=null&&c.categoryId?t.subcategoryId?t.subcategoryId:"Product":void 0,o=u=>{u.stopPropagation(),r?r(t):e(t)};return i.jsxs("article",{className:"product-card group bg-card rounded-2xl overflow-hidden border border-border/50 hover:shadow-lg transition-all cursor-pointer",onClick:()=>e(t),children:[i.jsxs("div",{className:"product-image-wrapper aspect-[4/5] bg-muted relative overflow-hidden",children:[s?i.jsx("img",{src:s,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:i.jsx(Sr,{className:"h-16 w-16"})}),i.jsx("div",{className:"absolute inset-0 bg-foreground/0 group-hover:bg-foreground/10 transition-colors duration-300 flex items-center justify-center",children:i.jsxs("button",{className:"opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-4 group-hover:translate-y-0 bg-background text-foreground px-6 py-3 rounded-full font-medium flex items-center gap-2 shadow-lg hover:bg-foreground hover:text-background",onClick:u=>{u.stopPropagation(),e(t)},children:["Quick View",i.jsx(Sd,{className:"w-4 h-4"})]})})]}),i.jsxs("div",{className:"p-5 space-y-3",children:[a&&i.jsx("span",{className:"text-xs font-medium uppercase tracking-wider text-primary",children:a}),i.jsx("h3",{className:"font-display text-lg font-medium text-foreground leading-snug line-clamp-2",children:t.name}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xl font-semibold text-foreground",children:n}),i.jsx("button",{className:"btn-outline-store !px-4 !py-1.5 text-sm",onClick:o,children:"Add to Cart"})]})]})]})},nrt=({products:t,onProductClick:e,onAddToCart:r,showViewAllButton:n=!1,viewAllLink:s,title:a="Our Products",subtitle:o})=>{const[l,c]=b.useState("All"),u=b.useMemo(()=>{const h=new Set;return t.forEach(p=>{var f;if((f=p.catalogProduct)!=null&&f.categoryId){const m=p.subcategoryId||"Other";h.add(m)}}),["All",...Array.from(h).sort()]},[t]),d=b.useMemo(()=>l==="All"?t:t.filter(h=>(h.subcategoryId||"Other")===l),[t,l]);return i.jsx("section",{id:"products",className:"py-20 lg:py-28 bg-background",children:i.jsxs("div",{className:"container mx-auto px-6 lg:px-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-6 mb-14",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-primary tracking-widest uppercase mb-3 block",children:o||"Shop Collection"}),i.jsx("h2",{className:"section-heading text-foreground",children:a}),i.jsxs("p",{className:"text-muted-foreground mt-3 text-lg",children:[d.length," ",d.length===1?"product":"products"," available"]})]}),u.length>1&&i.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((h,p)=>{const f=h===l;return i.jsx("button",{onClick:()=>c(h),className:`px-5 py-2 rounded-full text-sm font-medium transition-all duration-300 ${f?"bg-foreground text-background":"bg-secondary text-secondary-foreground hover:bg-foreground hover:text-background"}`,children:h},h)})})]}),d.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map((h,p)=>i.jsx("div",{className:"animate-fade-up",style:{animationDelay:`${p*.1}s`},children:i.jsx(Gie,{product:h,onProductClick:e,onAddToCart:r})},h.id))}),n&&s&&i.jsx("div",{className:"text-center mt-14",children:i.jsx(_t,{to:s,className:"btn-primary-store inline-block",children:"View All Products"})})]}):i.jsx("div",{className:"text-center py-16",children:i.jsx("p",{className:"text-muted-foreground text-lg",children:l==="All"?"No products available yet. Check back soon!":`No products found in ${l} category.`})})]})})},srt=[{icon:Zce,title:"Sustainable",description:"Eco-friendly materials and processes"},{icon:gw,title:"Made with Love",description:"Every piece crafted with passion"},{icon:Up,title:"Fast Delivery",description:"Print on demand, shipped fresh"}],irt=({storeName:t="Merch",description:e})=>{const r=e||`${t} brings you high-quality custom merchandise designed with passion. 
    Every product is printed on demand, ensuring freshness and reducing waste. 
    We're committed to delivering exceptional quality and customer satisfaction.`;return i.jsx("section",{id:"about",className:"py-20 lg:py-28 bg-muted/50",children:i.jsx("div",{className:"container mx-auto px-6 lg:px-8",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-primary tracking-widest uppercase mb-4 block",children:"Our Story"}),i.jsx("h2",{className:"section-heading text-foreground mb-6",children:"About Us"}),i.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-8",children:r}),i.jsx("ul",{className:"space-y-4 mb-10",children:["Premium quality materials","Unique, original designs","Satisfaction guaranteed","Carbon-neutral shipping"].map(n=>i.jsxs("li",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-accent/10 flex items-center justify-center",children:i.jsx(Gi,{className:"w-3.5 h-3.5 text-accent"})}),i.jsx("span",{className:"text-foreground font-medium",children:n})]},n))}),i.jsx("a",{href:"#contact",className:"btn-primary-store inline-block",children:"Get in Touch"})]}),i.jsx("div",{className:"grid gap-6",children:srt.map((n,s)=>i.jsxs("div",{className:"bg-card rounded-2xl p-8 border border-border/50 flex items-start gap-6 hover:shadow-lg transition-shadow duration-300",style:{animationDelay:`${s*.1}s`},children:[i.jsx("div",{className:"flex-shrink-0 w-14 h-14 rounded-2xl bg-primary/10 flex items-center justify-center",children:i.jsx(n.icon,{className:"w-7 h-7 text-primary"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-display text-xl font-semibold text-foreground mb-2",children:n.title}),i.jsx("p",{className:"text-muted-foreground",children:n.description})]})]},n.title))})]})})})},art=()=>i.jsx("section",{className:"py-20 lg:py-24 bg-foreground text-background",children:i.jsxs("div",{className:"container mx-auto px-6 lg:px-8 text-center",children:[i.jsx("h2",{className:"font-display text-3xl md:text-4xl lg:text-5xl font-semibold mb-4 tracking-tight",children:"Stay in the Loop"}),i.jsx("p",{className:"text-background/70 text-lg mb-10 max-w-lg mx-auto",children:"Be the first to know about new drops, exclusive offers, and more."}),i.jsxs("form",{className:"max-w-md mx-auto flex flex-col sm:flex-row gap-4",children:[i.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-6 py-4 rounded-full bg-background/10 border border-background/20 text-background placeholder:text-background/50 focus:outline-none focus:border-background/40 transition-colors"}),i.jsxs("button",{type:"submit",className:"px-8 py-4 rounded-full bg-primary text-primary-foreground font-medium flex items-center justify-center gap-2 hover:bg-primary/90 transition-colors group",children:["Subscribe",i.jsx(Sd,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})}),Hie=({storeName:t,description:e})=>{const r=new Date().getFullYear();return i.jsx("footer",{className:"bg-muted/50 border-t border-border py-16",children:i.jsxs("div",{className:"container mx-auto px-6 lg:px-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-display text-2xl font-semibold text-foreground",children:t}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e||"Premium custom merchandise designed with passion. Every piece tells a story."}),i.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[i.jsx("a",{href:"#",className:"p-2 rounded-full bg-background hover:bg-primary/10 transition-colors","aria-label":"Instagram",children:i.jsx(_V,{className:"w-5 h-5 text-muted-foreground hover:text-primary"})}),i.jsx("a",{href:"#",className:"p-2 rounded-full bg-background hover:bg-primary/10 transition-colors","aria-label":"Twitter",children:i.jsx(fue,{className:"w-5 h-5 text-muted-foreground hover:text-primary"})}),i.jsx("a",{href:"#",className:"p-2 rounded-full bg-background hover:bg-primary/10 transition-colors","aria-label":"Facebook",children:i.jsx(Vce,{className:"w-5 h-5 text-muted-foreground hover:text-primary"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-foreground mb-4 uppercase text-sm tracking-wider",children:"Shop"}),i.jsx("ul",{className:"space-y-3",children:["All Products","New Arrivals","Best Sellers","Sale"].map(n=>i.jsx("li",{children:i.jsx("a",{href:"#products",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:n})},n))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-foreground mb-4 uppercase text-sm tracking-wider",children:"Help"}),i.jsx("ul",{className:"space-y-3",children:["Shipping","Returns","Size Guide"].map(n=>i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:n})},n))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-foreground mb-4 uppercase text-sm tracking-wider",children:"Company"}),i.jsx("ul",{className:"space-y-3",children:["About Us","Contact","Careers","Press"].map(n=>i.jsx("li",{children:i.jsx("a",{href:n==="About Us"?"#about":"#contact",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:n})},n))})]})]}),i.jsxs("div",{className:"pt-8 border-t border-border flex flex-col md:flex-row items-center justify-between gap-4",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",r," ",t,". All rights reserved."]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[i.jsx("span",{children:"Powered by ShelfMerch"}),i.jsx("span",{className:"hidden md:inline",children:""}),i.jsx("span",{className:"hidden md:inline",children:"Edit with Lovable"})]})]})]})})},xW=()=>{const{user:t,isMerchant:e,isAdmin:r}=Ba(),n=Do(),s=Vi(),a=rs(),o=qw(s,n)||n.subdomain,[l,c]=b.useState(null),[u,d]=b.useState([]),[h,p]=b.useState([]),[f,m]=b.useState(!1),[g,y]=b.useState([]),[x,w]=b.useState(!1),[S,N]=b.useState({status:"published",isActive:!0});b.useEffect(()=>{(async()=>{if(!l){y([]),d([]);return}try{w(!0);const O=await La.listPublic(l.id);if(O.success){const K=O.data||[];y(K);const Y=K.map(D=>{var Q,re,le,ve,fe,X,ce,Pe,ke,oe,Oe,Ie,He;const Z=((re=(Q=D._id)==null?void 0:Q.toString)==null?void 0:re.call(Q))||D.id,ie=typeof D.sellingPrice=="number"?D.sellingPrice:typeof D.price=="number"?D.price:0,he=((le=D.designData)==null?void 0:le.previewImagesByView)||D.previewImagesByView||{},J=Object.values(he).filter(nt=>typeof nt=="string"&&nt.length>0),ae=J[0]||((fe=(ve=D.galleryImages)==null?void 0:ve.find(nt=>nt.isPrimary))==null?void 0:fe.url)||Array.isArray(D.galleryImages)&&((X=D.galleryImages[0])==null?void 0:X.url)||void 0,ne=D.catalogProductId&&typeof D.catalogProductId=="object"?D.catalogProductId:null,se=((ce=ne==null?void 0:ne._id)==null?void 0:ce.toString())||(typeof D.catalogProductId=="string"?D.catalogProductId:"");return{id:Z,userId:l.userId,name:D.title||D.name||(ne==null?void 0:ne.name)||"Untitled product",description:D.description||(ne==null?void 0:ne.description),baseProduct:se,price:ie,compareAtPrice:typeof D.compareAtPrice=="number"?D.compareAtPrice:void 0,mockupUrl:ae,mockupUrls:J.length>0?J:Array.isArray(D.galleryImages)?D.galleryImages.map(nt=>nt.url).filter(Boolean):[],designs:((Pe=D.designData)==null?void 0:Pe.designs)||{},designBoundaries:(ke=D.designData)==null?void 0:ke.designBoundaries,variants:{colors:[],sizes:[]},categoryId:((oe=ne==null?void 0:ne.categoryId)==null?void 0:oe.toString())||(ne==null?void 0:ne.categoryId),subcategoryId:((Ie=(Oe=ne==null?void 0:ne.subcategoryIds)==null?void 0:Oe[0])==null?void 0:Ie.toString())||Array.isArray(ne==null?void 0:ne.subcategoryIds)&&ne.subcategoryIds[0]||((He=ne==null?void 0:ne.subcategoryIds)==null?void 0:He[0]),subcategoryIds:Array.isArray(ne==null?void 0:ne.subcategoryIds)?ne.subcategoryIds.map(nt=>(nt==null?void 0:nt.toString())||nt):[],catalogProduct:ne,createdAt:D.createdAt||new Date().toISOString(),updatedAt:D.updatedAt||new Date().toISOString()}});d(Y)}}catch(O){console.error("Failed to load store products",O),y([]),d([])}finally{w(!1)}})()},[l,S]);const C=b.useCallback(async()=>{if(o)try{const B=await ua.getBySubdomain(o);if(B&&B.success&&B.data){const O=B.data;c(O)}else c(null),d([])}catch(B){console.error("Failed to fetch store from backend:",B),c(null),d([])}},[o]);b.useEffect(()=>{o&&(window.location.pathname.startsWith("/store/")&&(document.title=`${o.charAt(0).toUpperCase()+o.slice(1)} - ShelfMerch Store`,window.history.replaceState(null,"",`/store/${o}`)),C())},[o,C]),b.useEffect(()=>{const B=O=>{if(O.detail.type==="store"&&O.detail.data){const K=O.detail.data;K.subdomain===o&&c(K)}};return window.addEventListener("shelfmerch-data-update",B),()=>{window.removeEventListener("shelfmerch-data-update",B)}},[o]);const A=(B,O,K)=>{if(K<=0){k(B,O);return}p(h.map(Y=>Y.productId===B&&Y.variant.color===O.color&&Y.variant.size===O.size?{...Y,quantity:K}:Y))},k=(B,O)=>{p(h.filter(K=>!(K.productId===B&&K.variant.color===O.color&&K.variant.size===O.size)))},E=B=>{if(!l)return;const O=uu(`/product/${B.id}`,l.subdomain);a(O)},{isAuthenticated:T,checkAuth:R}=hx();b.useEffect(()=>{o&&R(o)},[o]);const I=()=>{if(!l)return;if(!T){const O=uu("/auth?redirect=checkout",l.subdomain);a(O,{state:{cart:h}});return}m(!1);const B=uu("/checkout",l.subdomain);a(B,{state:{cart:h,storeId:l.id,subdomain:l.subdomain}})};if(!l)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Store Not Found"}),i.jsxs("p",{className:"text-muted-foreground mb-6",children:['The store "',o,'" does not exist.']}),i.jsx(_t,{to:"/",children:i.jsx(pe,{children:"Go to ShelfMerch"})})]})});const L=Vg(l.theme),U=h.reduce((B,O)=>B+O.quantity,0),$=l.useBuilder&&l.builder,q=$?l.builder.pages.find(B=>B.slug==="/"):null,G=q==null?void 0:q.sections.some(B=>B.type==="header"&&B.visible),W=q==null?void 0:q.sections.some(B=>B.type==="footer"&&B.visible);return $&&l.builder.globalStyles,i.jsxs("div",{className:"min-h-screen bg-background",children:[!G&&i.jsx(Wie,{storeName:l.storeName,navLinks:[{name:"Products",href:uu("/products",l.subdomain)},{name:"About",href:"#about"},{name:"Contact",href:"#contact"}],cartItemCount:U,onCartClick:()=>m(!0),primaryColor:L.colors.primary}),$&&q?i.jsx("div",{children:q.sections.filter(B=>B.visible).sort((B,O)=>B.order-O.order).map(B=>i.jsx(Y4,{section:B,products:u,globalStyles:l.builder.globalStyles,isPreview:!1,onProductClick:E},B.id))}):i.jsxs(i.Fragment,{children:[i.jsx(rrt,{storeName:l.storeName,description:l.description}),i.jsx(nrt,{products:u.slice(0,8),onProductClick:E,onAddToCart:B=>{E(B)},showViewAllButton:u.length>8,viewAllLink:uu("/products",l.subdomain),title:"Featured Products",subtitle:"Featured Collection"}),i.jsx(irt,{storeName:l.storeName,description:l.description}),i.jsx(art,{})]}),!W&&i.jsx(Hie,{storeName:l.storeName,description:l.description}),i.jsx(m7,{open:f,onClose:()=>m(!1),cart:h,onUpdateQuantity:A,onRemove:k,onCheckout:I})]})},yW=()=>{const t=Do(),e=Vi(),r=rs(),n=qw(e,t)||t.subdomain,[s,a]=b.useState(null),[o,l]=b.useState([]),[c,u]=b.useState([]),[d,h]=b.useState([]),[p,f]=b.useState(!1),[m,g]=b.useState(!0),[y,x]=b.useState(!1),[w,S]=b.useState(""),[N,C]=b.useState(new Set),[A,k]=b.useState(new Set),[E,T]=b.useState(new Set),[R,I]=b.useState("newest"),[L,U]=b.useState("grid"),{isAuthenticated:$,checkAuth:q}=hx(),G=b.useCallback(async()=>{if(n)try{const fe=await ua.getBySubdomain(n);fe&&fe.success&&fe.data?a(fe.data):a(null)}catch(fe){console.error("Failed to fetch store from backend:",fe),a(null)}},[n]);b.useEffect(()=>{(async()=>{if(s)try{g(!0);const X=await La.listPublic(s.id);if(X.success){const Pe=(X.data||[]).map(ke=>{var Ae,it,Ee,Re,We,Ge,ze,ot,lt,yt,Pt,ct,zt,jt,At;const oe=((it=(Ae=ke._id)==null?void 0:Ae.toString)==null?void 0:it.call(Ae))||ke.id,Oe=typeof ke.sellingPrice=="number"?ke.sellingPrice:typeof ke.price=="number"?ke.price:0,Ie=((Ee=ke.designData)==null?void 0:Ee.previewImagesByView)||ke.previewImagesByView||{},He=Object.values(Ie).filter(Ht=>typeof Ht=="string"&&Ht.length>0),nt=He[0]||((We=(Re=ke.galleryImages)==null?void 0:Re.find(Ht=>Ht.isPrimary))==null?void 0:We.url)||Array.isArray(ke.galleryImages)&&((Ge=ke.galleryImages[0])==null?void 0:Ge.url)||void 0,ft=ke.catalogProductId&&typeof ke.catalogProductId=="object"?ke.catalogProductId:null,Fe=((ze=ft==null?void 0:ft._id)==null?void 0:ze.toString())||(typeof ke.catalogProductId=="string"?ke.catalogProductId:"");return{id:oe,userId:s.userId,name:ke.title||ke.name||(ft==null?void 0:ft.name)||"Untitled product",description:ke.description||(ft==null?void 0:ft.description),baseProduct:Fe,price:Oe,compareAtPrice:typeof ke.compareAtPrice=="number"?ke.compareAtPrice:void 0,mockupUrl:nt,mockupUrls:He.length>0?He:Array.isArray(ke.galleryImages)?ke.galleryImages.map(Ht=>Ht.url).filter(Boolean):[],designs:((ot=ke.designData)==null?void 0:ot.designs)||{},designBoundaries:(lt=ke.designData)==null?void 0:lt.designBoundaries,variants:{colors:((yt=ke.designData)==null?void 0:yt.selectedColors)||[],sizes:((Pt=ke.designData)==null?void 0:Pt.selectedSizes)||[]},categoryId:((ct=ft==null?void 0:ft.categoryId)==null?void 0:ct.toString())||(ft==null?void 0:ft.categoryId),subcategoryId:((jt=(zt=ft==null?void 0:ft.subcategoryIds)==null?void 0:zt[0])==null?void 0:jt.toString())||Array.isArray(ft==null?void 0:ft.subcategoryIds)&&ft.subcategoryIds[0]||((At=ft==null?void 0:ft.subcategoryIds)==null?void 0:At[0]),subcategoryIds:Array.isArray(ft==null?void 0:ft.subcategoryIds)?ft.subcategoryIds.map(Ht=>(Ht==null?void 0:Ht.toString())||Ht):[],catalogProduct:ft,createdAt:ke.createdAt||new Date().toISOString(),updatedAt:ke.updatedAt||new Date().toISOString()}});u(Pe),l(Pe)}}catch(X){console.error("Failed to load store products",X),u([]),l([])}finally{g(!1)}})()},[s]),b.useEffect(()=>{n&&G()},[n,G]),b.useEffect(()=>{n&&q(n)},[n,q]);const{availableCategories:W,availableSubcategoriesByCategory:B}=b.useMemo(()=>{const fe=new Set,X={};return c.forEach(ce=>{var Pe;if((Pe=ce.catalogProduct)!=null&&Pe.categoryId){const ke=ce.catalogProduct.categoryId.toString();ke in el&&(fe.add(ke),X[ke]||(X[ke]=new Set),ce.subcategoryIds&&ce.subcategoryIds.length>0?ce.subcategoryIds.forEach(oe=>{X[ke].add(oe)}):ce.subcategoryId&&X[ke].add(ce.subcategoryId))}}),{availableCategories:Array.from(fe),availableSubcategoriesByCategory:Object.fromEntries(Object.entries(X).map(([ce,Pe])=>[ce,Array.from(Pe)]))}},[c]),O=fe=>{C(X=>{const ce=new Set(X);if(ce.has(fe)){ce.delete(fe);const Pe=Yp(fe);k(ke=>{const oe=new Set(ke);return Pe.forEach(Oe=>oe.delete(Oe)),oe})}else ce.add(fe),T(Pe=>new Set(Pe).add(fe));return ce})},K=(fe,X)=>{k(ce=>{const Pe=new Set(ce);return Pe.has(fe)?Pe.delete(fe):(Pe.add(fe),C(ke=>new Set(ke).add(X)),T(ke=>new Set(ke).add(X))),Pe})},Y=fe=>{T(X=>{const ce=new Set(X);return ce.has(fe)?ce.delete(fe):ce.add(fe),ce})},D=b.useMemo(()=>{let fe=[...c];if(w.trim()){const X=w.toLowerCase();fe=fe.filter(ce=>{var Pe;return ce.name.toLowerCase().includes(X)||((Pe=ce.description)==null?void 0:Pe.toLowerCase().includes(X))})}return N.size>0&&(fe=fe.filter(X=>{var Pe,ke;const ce=(ke=(Pe=X.catalogProduct)==null?void 0:Pe.categoryId)==null?void 0:ke.toString();return ce&&N.has(ce)})),A.size>0&&(fe=fe.filter(X=>X.subcategoryIds&&X.subcategoryIds.length>0?X.subcategoryIds.some(ce=>A.has(ce)):X.subcategoryId&&A.has(X.subcategoryId))),fe.sort((X,ce)=>{switch(R){case"name-asc":return X.name.localeCompare(ce.name);case"name-desc":return ce.name.localeCompare(X.name);case"price-asc":return X.price-ce.price;case"price-desc":return ce.price-X.price;case"newest":return new Date(ce.createdAt).getTime()-new Date(X.createdAt).getTime();case"oldest":return new Date(X.createdAt).getTime()-new Date(ce.createdAt).getTime();default:return 0}}),fe},[c,w,N,A,R]),Z=fe=>{if(!s)return;const X=uu(`/product/${fe.id}`,s.subdomain);r(X)},ie=fe=>{Z(fe)},he=(fe,X,ce)=>{if(ce<=0){J(fe,X);return}h(d.map(Pe=>Pe.productId===fe&&Pe.variant.color===X.color&&Pe.variant.size===X.size?{...Pe,quantity:ce}:Pe))},J=(fe,X)=>{h(d.filter(ce=>!(ce.productId===fe&&ce.variant.color===X.color&&ce.variant.size===X.size)))},ae=()=>{if(!s)return;if(!$){const X=uu("/auth?redirect=checkout",s.subdomain);r(X,{state:{cart:d}});return}f(!1);const fe=uu("/checkout",s.subdomain);r(fe,{state:{cart:d,storeId:s.id,subdomain:s.subdomain}})},ne=()=>{S(""),C(new Set),k(new Set),I("newest")},se=w.trim()!==""||N.size>0||A.size>0,Q=N.size+A.size,re=()=>i.jsxs("div",{className:"space-y-6",children:[se&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Active Filters"}),i.jsx(pe,{variant:"ghost",size:"sm",onClick:ne,className:"h-7 text-xs text-primary hover:text-primary/80",children:"Clear All"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[Array.from(N).map(fe=>{const X=el[fe];return X?i.jsxs(Ot,{variant:"secondary",className:"gap-1 pl-2 pr-1 py-1 bg-primary/10 text-primary border-primary/20 hover:bg-primary/20 transition-colors",children:[X.name,i.jsx("button",{onClick:()=>O(fe),className:"ml-1 p-0.5 rounded-full hover:bg-primary/20",children:i.jsx(Ri,{className:"h-3 w-3"})})]},fe):null}),Array.from(A).map(fe=>i.jsxs(Ot,{variant:"secondary",className:"gap-1 pl-2 pr-1 py-1 bg-secondary text-secondary-foreground hover:bg-secondary/80 transition-colors",children:[fe,i.jsx("button",{onClick:()=>{k(X=>{const ce=new Set(X);return ce.delete(fe),ce})},className:"ml-1 p-0.5 rounded-full hover:bg-background/50",children:i.jsx(Ri,{className:"h-3 w-3"})})]},fe))]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-foreground uppercase tracking-wider",children:"Categories"}),i.jsx(ul,{className:"h-auto max-h-[50vh]",children:i.jsx("div",{className:"space-y-1 pr-4",children:Object.values(el).filter(fe=>W.includes(fe.id)).map(fe=>{const X=E.has(fe.id),ce=N.has(fe.id),Pe=Yp(fe.id),ke=B[fe.id]||[],oe=ke.length>0,Oe=c.filter(Ie=>{var He,nt;return((nt=(He=Ie.catalogProduct)==null?void 0:He.categoryId)==null?void 0:nt.toString())===fe.id}).length;return i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:`flex items-center gap-3 p-2.5 rounded-lg cursor-pointer transition-all duration-200 group ${ce?"bg-primary/10 border border-primary/20":"hover:bg-muted/80"}`,onClick:()=>O(fe.id),children:[i.jsx(Un,{id:`cat-${fe.id}`,checked:ce,onCheckedChange:()=>O(fe.id),className:"data-[state=checked]:bg-primary data-[state=checked]:border-primary"}),i.jsxs("div",{className:"flex-1 flex items-center justify-between min-w-0",children:[i.jsx("span",{className:`text-sm font-medium truncate ${ce?"text-primary":"text-foreground"}`,children:fe.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-0.5 rounded-full",children:Oe}),oe&&i.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),Y(fe.id)},className:"p-1 hover:bg-background rounded transition-colors",children:i.jsx(gu,{className:`h-4 w-4 text-muted-foreground transition-transform duration-200 ${X?"rotate-180":""}`})})]})]})]}),oe&&X&&i.jsx("div",{className:"ml-4 pl-4 border-l-2 border-border/50 space-y-1 animate-fade-in",children:Pe.filter(Ie=>ke.includes(Ie)).map(Ie=>{const He=A.has(Ie),nt=c.filter(ft=>{var Fe;return((Fe=ft.subcategoryIds)==null?void 0:Fe.includes(Ie))||ft.subcategoryId===Ie}).length;return i.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-all duration-200 ${He?"bg-secondary/50":"hover:bg-muted/50"}`,onClick:()=>K(Ie,fe.id),children:[i.jsx(Un,{id:`sub-${fe.id}-${Ie}`,checked:He,onCheckedChange:()=>K(Ie,fe.id),className:"data-[state=checked]:bg-secondary-foreground data-[state=checked]:border-secondary-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground flex-1",children:Ie}),i.jsx("span",{className:"text-xs text-muted-foreground/60",children:nt})]},Ie)})})]},fe.id)})})})]})]});if(!s&&!m)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/30 flex items-center justify-center",children:i.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-muted/50 flex items-center justify-center mx-auto mb-6",children:i.jsx(pc,{className:"h-10 w-10 text-muted-foreground"})}),i.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Store Not Found"}),i.jsxs("p",{className:"text-muted-foreground mb-8",children:['The store "',n,`" doesn't exist or may have been removed.`]}),i.jsx(_t,{to:"/",children:i.jsxs(pe,{size:"lg",className:"gap-2",children:[i.jsx(sy,{className:"h-4 w-4"}),"Go to ShelfMerch"]})})]})});if(!s)return null;const le=Vg(s.theme),ve=d.reduce((fe,X)=>fe+X.quantity,0);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Wie,{storeName:s.storeName,navLinks:[{name:"Home",href:`/store/${s.subdomain}`},{name:"Products",href:`/store/${s.subdomain}/products`},{name:"About",href:"#about"}],cartItemCount:ve,onCartClick:()=>f(!0),onSearchClick:()=>{const fe=document.getElementById("product-search");fe&&fe.focus()},primaryColor:le.colors.primary}),i.jsxs("section",{className:"relative bg-gradient-to-b from-muted/50 via-muted/30 to-background border-b border-border/50 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent"}),i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16 relative",children:[i.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[i.jsxs(_t,{to:`/store/${s.subdomain}`,className:"flex items-center gap-1.5 hover:text-primary transition-colors",children:[i.jsx(sy,{className:"h-3.5 w-3.5"}),"Home"]}),i.jsx(gs,{className:"h-4 w-4"}),i.jsx("span",{className:"text-foreground font-medium",children:"Products"})]}),i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6",children:i.jsxs("div",{className:"max-w-2xl",children:[i.jsx("h1",{className:"text-4xl lg:text-5xl xl:text-6xl font-bold tracking-tight mb-4",style:{fontFamily:le.fonts.heading},children:i.jsx("span",{className:"bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text",children:"Our Collection"})}),i.jsxs("p",{className:"text-lg lg:text-xl text-muted-foreground leading-relaxed",children:["Discover ",c.length," carefully curated products crafted with quality and passion"]})]})})]})]}),i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12",children:i.jsxs("div",{className:"flex gap-8",children:[i.jsx("aside",{className:"hidden lg:block w-72 flex-shrink-0",children:i.jsx("div",{className:"sticky top-24",children:i.jsxs("div",{className:"bg-card border border-border/50 rounded-2xl p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 pb-4 border-b border-border/50 mb-6",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(GL,{className:"h-4 w-4 text-primary"})}),i.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),Q>0&&i.jsx(Ot,{className:"ml-auto bg-primary text-primary-foreground",children:Q})]}),i.jsx(re,{})]})})}),i.jsxs("main",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"bg-card border border-border/50 rounded-2xl p-4 mb-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(pl,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),i.jsx(rt,{id:"product-search",type:"text",placeholder:"Search products...",value:w,onChange:fe=>S(fe.target.value),className:"pl-12 pr-10 h-12 text-base border-border/50 rounded-xl bg-background focus-visible:ring-primary/30"}),w&&i.jsx("button",{onClick:()=>S(""),className:"absolute right-4 top-1/2 -translate-y-1/2 p-1 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted transition-all",children:i.jsx(Ri,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(dM,{open:y,onOpenChange:x,children:[i.jsx(ZX,{asChild:!0,children:i.jsxs(pe,{variant:"outline",className:"lg:hidden gap-2 h-12 px-4 rounded-xl",children:[i.jsx(m3,{className:"h-4 w-4"}),"Filters",Q>0&&i.jsx(Ot,{className:"ml-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs bg-primary text-primary-foreground",children:Q})]})}),i.jsxs(H3,{side:"left",className:"w-[320px] sm:w-[380px]",children:[i.jsx(V3,{className:"mb-6",children:i.jsxs(q3,{className:"flex items-center gap-2",children:[i.jsx(GL,{className:"h-5 w-5"}),"Filters"]})}),i.jsx(re,{})]})]}),i.jsxs(Er,{value:R,onValueChange:fe=>I(fe),children:[i.jsxs(Ar,{className:"w-[180px] h-12 rounded-xl border-border/50",children:[i.jsx(Fce,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx(Tr,{placeholder:"Sort by"})]}),i.jsxs(kr,{children:[i.jsx(at,{value:"newest",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Jo,{className:"h-4 w-4"}),"Newest First"]})}),i.jsx(at,{value:"oldest",children:"Oldest First"}),i.jsx(at,{value:"name-asc",children:"Name (A-Z)"}),i.jsx(at,{value:"name-desc",children:"Name (Z-A)"}),i.jsx(at,{value:"price-asc",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kf,{className:"h-4 w-4"}),"Price (Low to High)"]})}),i.jsx(at,{value:"price-desc",children:"Price (High to Low)"})]})]}),i.jsxs("div",{className:"hidden sm:flex items-center border border-border/50 rounded-xl p-1 bg-muted/30",children:[i.jsx(pe,{variant:L==="grid"?"default":"ghost",size:"icon",className:"h-9 w-9 rounded-lg",onClick:()=>U("grid"),children:i.jsx(Kce,{className:"h-4 w-4"})}),i.jsx(pe,{variant:L==="list"?"default":"ghost",size:"icon",className:"h-9 w-9 rounded-lg",onClick:()=>U("list"),children:i.jsx(AV,{className:"h-4 w-4"})})]})]})]})}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",i.jsx("span",{className:"font-semibold text-foreground",children:D.length})," of"," ",i.jsx("span",{className:"font-semibold text-foreground",children:c.length})," products"]}),se&&i.jsxs(pe,{variant:"ghost",size:"sm",onClick:ne,className:"text-primary hover:text-primary/80 hover:bg-primary/5",children:[i.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Clear filters"]})]}),m?i.jsx("div",{className:"flex items-center justify-center py-32",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-muted animate-pulse"}),i.jsx(Zn,{className:"absolute inset-0 m-auto h-8 w-8 text-primary animate-spin"})]}),i.jsx("p",{className:"mt-6 text-muted-foreground font-medium",children:"Loading products..."})]})}):D.length>0?i.jsx("div",{className:L==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6":"space-y-4",children:D.map((fe,X)=>i.jsx("div",{className:"animate-fade-up opacity-0",style:{animationDelay:`${Math.min(X*.05,.5)}s`,animationFillMode:"forwards"},children:L==="grid"?i.jsx(Gie,{product:fe,onProductClick:Z,onAddToCart:ie}):i.jsxs("div",{className:"group flex gap-5 p-5 bg-card border border-border/50 rounded-2xl hover:shadow-lg hover:border-primary/20 transition-all duration-300 cursor-pointer",onClick:()=>Z(fe),children:[i.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0 rounded-xl overflow-hidden bg-muted/50",children:[fe.mockupUrl?i.jsx("img",{src:fe.mockupUrl,alt:fe.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Sr,{className:"h-10 w-10 text-muted-foreground/40"})}),fe.compareAtPrice&&fe.compareAtPrice>fe.price&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsx(Ot,{className:"bg-red-500 text-white text-xs px-2 py-0.5",children:"Sale"})})]}),i.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between py-1",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg mb-1.5 line-clamp-1 group-hover:text-primary transition-colors",children:fe.name}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:fe.description||"Premium quality product"})]}),i.jsxs("div",{className:"flex items-center justify-between mt-3",children:[i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsxs("span",{className:"text-xl font-bold text-primary",children:["$",fe.price.toFixed(2)]}),fe.compareAtPrice&&fe.compareAtPrice>fe.price&&i.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",fe.compareAtPrice.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pe,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full hover:bg-red-50 hover:text-red-500",onClick:ce=>{ce.stopPropagation(),$e.success("Added to wishlist")},children:i.jsx(gw,{className:"h-4 w-4"})}),i.jsx(pe,{size:"sm",className:"rounded-full px-5",onClick:ce=>{ce.stopPropagation(),ie(fe)},children:"View Details"})]})]})]})]})},fe.id))}):i.jsxs("div",{className:"text-center py-24",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-muted/50 flex items-center justify-center mx-auto mb-6",children:i.jsx(Sr,{className:"h-12 w-12 text-muted-foreground/50"})}),i.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"No products found"}),i.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:se?"We couldn't find any products matching your filters. Try adjusting your search criteria.":"No products are available at this time. Check back soon!"}),se&&i.jsxs(pe,{onClick:ne,variant:"outline",size:"lg",className:"gap-2",children:[i.jsx(Ri,{className:"h-4 w-4"}),"Clear All Filters"]})]})]})]})}),i.jsx(Hie,{storeName:s.storeName,description:s.description||"Premium custom merchandise designed with passion"}),i.jsx(m7,{open:p,onClose:()=>f(!1),cart:d,onUpdateQuantity:he,onRemove:J,onCheckout:ae})]})},ort=({src:t,zoom:e=2,alt:r})=>{const[n,s]=b.useState(!1),[a,o]=b.useState("center"),[l,c]=b.useState(!1),u=h=>{if(l)return;const{left:p,top:f,width:m,height:g}=h.currentTarget.getBoundingClientRect(),y=(h.clientX-p)/m*100,x=(h.clientY-f)/g*100;o(`${y}% ${x}%`)},d=()=>{c(!0)};return l?i.jsx("div",{className:"relative aspect-square w-full overflow-hidden rounded-xl border bg-muted flex items-center justify-center",children:i.jsx("div",{className:"text-center text-muted-foreground",children:i.jsx("p",{className:"text-sm",children:"Failed to load image"})})}):i.jsx("div",{className:"relative aspect-square w-full overflow-hidden rounded-xl border bg-muted",style:{backgroundImage:l?"none":`url(${t})`,backgroundSize:n&&!l?`${e*100}%`:"cover",backgroundPosition:n&&!l?a:"center"},onMouseEnter:()=>!l&&s(!0),onMouseLeave:()=>s(!1),onMouseMove:u,children:i.jsx("img",{src:t,alt:r,className:`h-full w-full object-cover transition-opacity duration-200 ${n&&!l?"opacity-0":"opacity-100"}`,loading:"lazy",onError:d,decoding:"async"})})},lrt={sm:"h-3 w-3",md:"h-5 w-5",lg:"h-6 w-6"},Tb=({value:t,onChange:e,size:r="md",readonly:n=!1,showValue:s=!1,className:a})=>{const[o,l]=xe.useState(0),c=p=>{!n&&e&&e(p)},u=p=>{n||l(p)},d=()=>{l(0)},h=o||t;return i.jsxs("div",{className:dt("flex items-center gap-0.5",a),children:[[1,2,3,4,5].map(p=>{const f=p<=h,m=!f&&p-.5<=h;return i.jsx("button",{type:"button",className:dt("relative transition-transform",!n&&"cursor-pointer hover:scale-110",n&&"cursor-default"),onClick:()=>c(p),onMouseEnter:()=>u(p),onMouseLeave:d,disabled:n,"aria-label":`Rate ${p} stars`,children:i.jsx(mc,{className:dt(lrt[r],"transition-colors",f?"fill-amber-400 text-amber-400":m?"fill-amber-400/50 text-amber-400":"fill-transparent text-gray-300")})},p)}),s&&i.jsx("span",{className:"ml-1.5 text-sm font-medium text-muted-foreground",children:t.toFixed(1)})]})},crt=({id:t,customerName:e,rating:r,title:n,body:s,images:a,isVerifiedPurchase:o,helpfulCount:l,createdAt:c,onMarkHelpful:u,hasVotedHelpful:d=!1})=>{const[h,p]=xe.useState(!1),[f,m]=xe.useState(null),g=h?a:a.slice(0,3),y=a.length>3&&!h,x=new Date(c).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});return i.jsxs("div",{className:"border-b border-border py-6 last:border-b-0",children:[i.jsx("div",{className:"flex items-start justify-between mb-3",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-semibold text-foreground",children:e}),o&&i.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded-full",children:[i.jsx(al,{className:"h-3 w-3"}),"Verified Purchase"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Tb,{value:r,size:"sm",readonly:!0}),i.jsx("span",{className:"text-xs text-muted-foreground",children:x})]})]})}),n&&i.jsx("h4",{className:"font-semibold text-foreground mb-2",children:n}),i.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-4",children:s}),a.length>0&&i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.map((w,S)=>i.jsx("button",{className:"relative w-20 h-20 rounded-lg overflow-hidden border border-border hover:ring-2 hover:ring-primary transition-all",onClick:()=>m(w.url),children:i.jsx("img",{src:w.url,alt:w.caption||`Review image ${S+1}`,className:"w-full h-full object-cover"})},S)),y&&i.jsxs("button",{className:"w-20 h-20 rounded-lg border border-border bg-muted flex items-center justify-center text-sm text-muted-foreground hover:bg-muted/80 transition-colors",onClick:()=>p(!0),children:["+",a.length-3]})]})}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs(pe,{variant:"ghost",size:"sm",className:dt("text-muted-foreground hover:text-foreground",d&&"text-primary"),onClick:()=>u==null?void 0:u(t),disabled:d,children:[i.jsx(due,{className:dt("h-4 w-4 mr-1",d&&"fill-current")}),"Helpful (",l,")"]})}),f&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",onClick:()=>m(null),children:i.jsx("img",{src:f,alt:"Review image",className:"max-w-full max-h-full object-contain rounded-lg"})})]})},urt=({productId:t,onSuccess:e,onCancel:r})=>{const[n,s]=b.useState(0),[a,o]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(""),[h,p]=b.useState(""),[f,m]=b.useState([]),[g,y]=b.useState(!1),[x,w]=b.useState({}),S=b.useRef(null),N=()=>{const E={};return n===0&&(E.rating="Please select a rating"),a.trim()||(E.customerName="Name is required"),l&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)&&(E.customerEmail="Invalid email format"),(!h.trim()||h.trim().length<10)&&(E.body="Review must be at least 10 characters"),w(E),Object.keys(E).length===0},C=async E=>{const T=E.target.files;if(!T)return;const R=5-f.length,I=Array.from(T).slice(0,R);for(const L of I){m(U=>[...U,{url:"",isUploading:!0}]);try{const U=await em.uploadImage(L,"reviews");m($=>$.map(q=>q.url===""&&q.isUploading?{url:U,isUploading:!1}:q))}catch{$e.error("Failed to upload image"),m($=>$.filter(q=>!(q.url===""&&q.isUploading)))}}S.current&&(S.current.value="")},A=E=>{m(T=>T.filter((R,I)=>I!==E))},k=async E=>{if(E.preventDefault(),!!N()){y(!0);try{await OI.create(t,{customerName:a.trim(),customerEmail:l.trim()||void 0,rating:n,title:u.trim()||void 0,body:h.trim(),images:f.filter(T=>T.url&&!T.isUploading)}),$e.success("Thank you for your review!"),e==null||e()}catch(T){const R=T instanceof Error?T.message:"Failed to submit review";$e.error(R)}finally{y(!1)}}};return i.jsxs("form",{onSubmit:k,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{className:"text-base",children:"Your Rating *"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Tb,{value:n,onChange:s,size:"lg"}),n>0&&i.jsx("span",{className:"text-sm text-muted-foreground",children:n===5?"Excellent!":n===4?"Great":n===3?"Good":n===2?"Fair":"Poor"})]}),x.rating&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(ju,{className:"h-3 w-3"}),x.rating]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"customerName",children:"Name *"}),i.jsx(rt,{id:"customerName",placeholder:"Your name",value:a,onChange:E=>{o(E.target.value),x.customerName&&w({...x,customerName:""})},className:x.customerName?"border-destructive":""}),x.customerName&&i.jsx("p",{className:"text-xs text-destructive",children:x.customerName})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"customerEmail",children:"Email (optional)"}),i.jsx(rt,{id:"customerEmail",type:"email",placeholder:"For verified purchase badge",value:l,onChange:E=>{c(E.target.value),x.customerEmail&&w({...x,customerEmail:""})},className:x.customerEmail?"border-destructive":""}),x.customerEmail&&i.jsx("p",{className:"text-xs text-destructive",children:x.customerEmail})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"title",children:"Review Title (optional)"}),i.jsx(rt,{id:"title",placeholder:"Summarize your review",value:u,onChange:E=>d(E.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"body",children:"Your Review *"}),i.jsx(Ei,{id:"body",placeholder:"Tell us about your experience with this product...",rows:4,value:h,onChange:E=>{p(E.target.value),x.body&&w({...x,body:""})},className:x.body?"border-destructive":""}),x.body&&i.jsx("p",{className:"text-xs text-destructive",children:x.body}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length,"/5000 characters"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{children:"Add Photos (optional)"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.map((E,T)=>i.jsx("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden border border-border",children:E.isUploading?i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:i.jsx(Zn,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):i.jsxs(i.Fragment,{children:[i.jsx("img",{src:E.url,alt:`Upload ${T+1}`,className:"w-full h-full object-cover"}),i.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-black/60 text-white rounded-full p-0.5 hover:bg-black/80",onClick:()=>A(T),children:i.jsx(Ri,{className:"h-3 w-3"})})]})},T)),f.length<5&&i.jsxs("button",{type:"button",className:"w-20 h-20 rounded-lg border-2 border-dashed border-border flex flex-col items-center justify-center text-muted-foreground hover:border-primary hover:text-primary transition-colors",onClick:()=>{var E;return(E=S.current)==null?void 0:E.click()},children:[i.jsx(ll,{className:"h-5 w-5"}),i.jsx("span",{className:"text-xs mt-1",children:"Upload"})]})]}),i.jsx("input",{ref:S,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:C}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Up to 5 images"})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[r&&i.jsx(pe,{type:"button",variant:"outline",onClick:r,disabled:g,children:"Cancel"}),i.jsx(pe,{type:"submit",disabled:g,children:g?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Review"})]})]})};function drt(t,e=5){const[r,n]=b.useState([]),[s,a]=b.useState(null),[o,l]=b.useState(!0),[c,u]=b.useState(null),[d,h]=b.useState(!1),[p,f]=b.useState(0),[m,g]=b.useState("recent"),y=b.useCallback(async(S=!1)=>{if(t)try{l(!0),u(null);const N=S?0:p,C=await OI.getReviews(t,{limit:e,skip:N,sort:m});if(C.success&&C.data){const{reviews:A,stats:k,pagination:E}=C.data;n(S?A:T=>[...T,...A]),a(k),h(E.hasMore),f(N+A.length)}}catch(N){console.error("[useProductReviews] Error:",N),u(N instanceof Error?N.message:"Failed to load reviews")}finally{l(!1)}},[t,e,m,p]);return b.useEffect(()=>{n([]),f(0),y(!0)},[t,m]),{reviews:r,stats:s,isLoading:o,error:c,hasMore:d,loadMore:async()=>{o||!d||await y(!1)},refresh:async()=>{n([]),f(0),await y(!0)},sortBy:m,setSortBy:g}}const hrt=({productId:t,heading:e="Customer Reviews",showForm:r=!0,maxInitialReviews:n=5,className:s})=>{const{reviews:a,stats:o,isLoading:l,error:c,hasMore:u,loadMore:d,refresh:h,sortBy:p,setSortBy:f}=drt(t,n),[m,g]=b.useState(!1),[y,x]=b.useState(new Set),w=async C=>{if(y.has(C))return;let A=localStorage.getItem("review_voter_id");A||(A=`anon_${Date.now()}_${Math.random().toString(36).slice(2)}`,localStorage.setItem("review_voter_id",A));try{const{reviewsApi:k}=await uf(async()=>{const{reviewsApi:E}=await Promise.resolve().then(()=>Uq);return{reviewsApi:E}},void 0);await k.markHelpful(C,A),x(E=>new Set(E).add(C)),h()}catch(k){console.error("Failed to mark helpful:",k)}},S=()=>{g(!1),h()},N=({rating:C,count:A})=>{const k=o!=null&&o.totalCount?A/o.totalCount*100:0;return i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"w-3",children:C}),i.jsx(Tb,{value:1,size:"sm",readonly:!0}),i.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-amber-400 rounded-full transition-all",style:{width:`${k}%`}})}),i.jsx("span",{className:"w-8 text-muted-foreground text-right",children:A})]})};return c?i.jsxs("div",{className:dt("py-12 text-center",s),children:[i.jsx("p",{className:"text-muted-foreground",children:"Failed to load reviews"}),i.jsx(pe,{variant:"outline",size:"sm",onClick:h,className:"mt-2",children:"Try Again"})]}):i.jsx("section",{className:dt("py-8 md:py-12",s),children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:e}),o&&o.totalCount>0&&i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Tb,{value:o.averageRating,size:"md",readonly:!0,showValue:!0}),i.jsxs("span",{className:"text-muted-foreground",children:["Based on ",o.totalCount," review",o.totalCount!==1?"s":""]})]})]}),r&&!m&&i.jsxs(pe,{onClick:()=>g(!0),children:[i.jsx(sN,{className:"h-4 w-4 mr-2"}),"Write a Review"]})]}),m&&i.jsxs(Ze,{className:"p-6 mb-8",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Write Your Review"}),i.jsx(urt,{productId:t,onSuccess:S,onCancel:()=>g(!1)})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[o&&o.totalCount>0&&i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(Ze,{className:"p-6 sticky top-4",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"text-5xl font-bold",children:o.averageRating.toFixed(1)}),i.jsx(Tb,{value:o.averageRating,size:"lg",readonly:!0,className:"justify-center mt-2"}),i.jsxs("p",{className:"text-muted-foreground mt-2",children:[o.totalCount," review",o.totalCount!==1?"s":""]})]}),i.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(C=>i.jsx(N,{rating:C,count:o.distribution[C]},C))})]})}),i.jsxs("div",{className:dt(o&&o.totalCount>0?"lg:col-span-3":"lg:col-span-4"),children:[a.length>0&&i.jsx("div",{className:"flex justify-end mb-4",children:i.jsxs(Er,{value:p,onValueChange:f,children:[i.jsx(Ar,{className:"w-40",children:i.jsx(Tr,{placeholder:"Sort by"})}),i.jsxs(kr,{children:[i.jsx(at,{value:"recent",children:"Most Recent"}),i.jsx(at,{value:"helpful",children:"Most Helpful"}),i.jsx(at,{value:"highest",children:"Highest Rating"}),i.jsx(at,{value:"lowest",children:"Lowest Rating"})]})]})}),l&&a.length===0&&i.jsxs("div",{className:"py-12 text-center",children:[i.jsx(Zn,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading reviews..."})]}),!l&&a.length===0&&i.jsxs(Ze,{className:"py-12 text-center border-dashed",children:[i.jsx(sN,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium",children:"No reviews yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Be the first to share your experience with this product!"}),r&&!m&&i.jsx(pe,{onClick:()=>g(!0),children:"Write a Review"})]}),a.length>0&&i.jsxs("div",{children:[a.map(C=>i.jsx(crt,{...C,onMarkHelpful:w,hasVotedHelpful:y.has(C.id)},C.id)),u&&i.jsx("div",{className:"text-center mt-6",children:i.jsxs(pe,{variant:"outline",onClick:d,disabled:l,children:[l?i.jsx(Zn,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(gu,{className:"h-4 w-4 mr-2"}),"Load More Reviews"]})})]})]})]})]})})},vW=[{id:1,name:"Alex Morgan",date:"October 12, 2025",rating:5,content:"The print quality is outstanding and the fabric feels premium. Would definitely recommend to anyone looking for comfort and style.",avatar:"AM",verified:!0},{id:2,name:"Priya Desai",date:"October 05, 2025",rating:4,content:"Loved the colors and fit. Shipping was quick too! Slightly wish there were more pastel color options.",avatar:"PD",verified:!0},{id:3,name:"Jordan Lee",date:"September 28, 2025",rating:5,content:"Fits perfectly and the size guide is accurate. The design looks even better in person. Great job!",avatar:"JL",verified:!1}],bW=[{size:"S",chest:'34" - 36"',length:'28"',shoulder:'16"'},{size:"M",chest:'38" - 40"',length:'29"',shoulder:'17"'},{size:"L",chest:'42" - 44"',length:'30"',shoulder:'18"'},{size:"XL",chest:'46" - 48"',length:'31"',shoulder:'19"'},{size:"2XL",chest:'50" - 52"',length:'32"',shoulder:'20"'}],wW=()=>{const t=Do(),e=Vi(),r=rs(),n=qw(e,t)||t.subdomain,s=t.productId,[a,o]=b.useState(null),[l,c]=b.useState(null),[u,d]=b.useState([]),[h,p]=b.useState(!0),[f,m]=b.useState(null),[g,y]=b.useState(0),[x,w]=b.useState(""),[S,N]=b.useState(""),[C,A]=b.useState(1),[k,E]=b.useState("description"),[T,R]=b.useState(!1),[I,L]=b.useState([]),[U,$]=b.useState(!1),[q,G]=b.useState(!1),[W,B]=b.useState({}),[O,K]=b.useState({}),[Y,D]=b.useState({}),[Z,ie]=b.useState({}),he=Vg(a?a.theme:"modern"),J=b.useMemo(()=>{if(!(a!=null&&a.builder))return[];const Ae=a.builder.pages.find(it=>it.id==="product"||it.slug==="/product"||it.slug==="product");return Ae?Ae.sections.filter(it=>it.visible!==!1).sort((it,Ee)=>it.order-Ee.order):(console.warn("Product page configuration not found in builder"),[])},[a]),ae=(a==null?void 0:a.useBuilder)&&J.length>0;J.some(Ae=>Ae.type==="header"),J.some(Ae=>Ae.type==="announcement-bar"),J.some(Ae=>Ae.type==="footer"),J.find(Ae=>Ae.type==="product-recommendations");const ne=b.useMemo(()=>u.filter(Ae=>Ae.id!==s).slice(0,4),[u,s]);b.useEffect(()=>{const Ae=()=>{G(window.scrollY>600)};return window.addEventListener("scroll",Ae),()=>window.removeEventListener("scroll",Ae)},[]),b.useEffect(()=>{(async()=>{var it,Ee,Re,We,Ge,ze,ot,lt;if(!(!n||!s)){p(!0);try{const yt=await ua.getBySubdomain(n);if(!yt.success||!yt.data){o(null),d([]),c(null),p(!1);return}const Pt=yt.data;o(Pt);const ct=await La.listPublic(Pt.id);if(!ct.success)d([]);else{const jt=(ct.data||[]).map(At=>{var Zt,Te,vt,Ct,qt,Nr,Or,fr,lr;const Ht=((Te=(Zt=At._id)==null?void 0:Zt.toString)==null?void 0:Te.call(Zt))||At.id,Vt=typeof At.sellingPrice=="number"?At.sellingPrice:typeof At.price=="number"?At.price:0,It=((Ct=(vt=At.galleryImages)==null?void 0:vt.find(br=>br.isPrimary))==null?void 0:Ct.url)||Array.isArray(At.galleryImages)&&((qt=At.galleryImages[0])==null?void 0:qt.url)||void 0,Qt=(Nr=At.designData)!=null&&Nr.selectedColors&&At.designData.selectedColors.length>0?At.designData.selectedColors:["Default"],Ut=(Or=At.designData)!=null&&Or.selectedSizes&&At.designData.selectedSizes.length>0?At.designData.selectedSizes:["One Size"];return{id:Ht,userId:Pt.userId,name:At.title||At.name||"Untitled product",description:At.description,baseProduct:At.catalogProductId||"",price:Vt,compareAtPrice:typeof At.compareAtPrice=="number"?At.compareAtPrice:void 0,mockupUrl:It,mockupUrls:Array.isArray(At.previewImagesUrl)?At.previewImagesUrl.map(br=>br.url).filter(Boolean):[],designs:((fr=At.designData)==null?void 0:fr.designs)||{},designBoundaries:(lr=At.designData)==null?void 0:lr.designBoundaries,variants:{colors:Qt,sizes:Ut},createdAt:At.createdAt||new Date().toISOString(),updatedAt:At.updatedAt||new Date().toISOString()}});d(jt)}try{const zt=await La.getPublic(Pt.id||Pt._id,s);if(!zt.success||!zt.data){c(null),p(!1);return}const jt=zt.data,At=typeof jt.sellingPrice=="number"?jt.sellingPrice:typeof jt.price=="number"?jt.price:0,Ht=((Ee=(it=jt.previewImagesUrl)==null?void 0:it.find(fr=>fr.isPrimary))==null?void 0:Ee.url)||Array.isArray(jt.previewImagesUrl)&&((Re=jt.previewImagesUrl[0])==null?void 0:Re.url)||void 0,Vt=Array.isArray(jt.variants)?jt.variants:Array.isArray(jt.variantsSummary)?jt.variantsSummary:[],It=new Set,Qt=new Set,Ut={},Zt={},Te={},vt={};Vt.forEach(fr=>{const lr=fr.catalogProductVariantId||{},br=typeof fr.color=="string"?fr.color:typeof lr.color=="string"?lr.color:void 0,er=typeof fr.size=="string"?fr.size:typeof lr.size=="string"?lr.size:void 0;if(!br||!er){console.warn("Variant missing color or size:",fr);return}const bn=typeof fr.colorHex=="string"?fr.colorHex:typeof lr.colorHex=="string"?lr.colorHex:void 0;bn&&(Zt[br]=bn);const ls=typeof fr.sellingPrice=="number"&&fr.sellingPrice>0?fr.sellingPrice:At;It.add(br),Qt.add(er),Te[br]||(Te[br]=new Set),Te[br].add(er),vt[er]||(vt[er]=new Set),vt[er].add(br),Ut[br]||(Ut[br]={}),Ut[br][er]=ls}),K(Zt),D(Te),ie(vt);const Ct=Array.from(It.values()),qt=Array.from(Qt.values()),Nr={id:((Ge=(We=jt._id)==null?void 0:We.toString)==null?void 0:Ge.call(We))||jt.id,userId:Pt.userId,name:jt.title||jt.name||"Untitled product",description:jt.description,baseProduct:jt.catalogProductId||"",price:At,compareAtPrice:typeof jt.compareAtPrice=="number"?jt.compareAtPrice:void 0,mockupUrl:Ht,mockupUrls:(()=>{var br;const fr=((br=jt.designData)==null?void 0:br.previewImagesByView)||jt.previewImagesByView||{},lr=Object.values(fr).filter(er=>typeof er=="string"&&er.length>0);return lr.length>0?lr:Array.isArray(jt.previewImagesUrl)?jt.previewImagesUrl.map(er=>er.url||er).filter(Boolean):Array.isArray(jt.galleryImages)?jt.galleryImages.map(er=>er.url||er).filter(Boolean):[]})(),designs:((ze=jt.designData)==null?void 0:ze.designs)||{},designBoundaries:(ot=jt.designData)==null?void 0:ot.designBoundaries,variants:{colors:Ct.length?Ct:["Default"],sizes:qt.length?qt:["One Size"]},createdAt:jt.createdAt||new Date().toISOString(),updatedAt:jt.updatedAt||new Date().toISOString()};c(Nr),B(Ut);const Or=((lt=Nr.mockupUrls)==null?void 0:lt[0])||Nr.mockupUrl||null;m(Or),y(0),w(Nr.variants.colors[0]||"Default"),N(Nr.variants.sizes[0]||"One Size")}catch(zt){console.error("Failed to load public store product with variants:",zt),c(null)}}catch(yt){console.error("Failed to load store product page data:",yt),o(null),d([]),c(null)}finally{p(!1)}}})()},[n,s]);const se=b.useMemo(()=>{if(!l)return 0;const Ae=W[x],it=Ae==null?void 0:Ae[S];return typeof it=="number"?it:l.price},[l,W,x,S]),Q=b.useMemo(()=>{if(!x)return[];const Ae=Y[x];return!Ae||Ae.size===0?[]:Array.from(Ae).sort()},[x,Y]);b.useMemo(()=>{if(!S)return(l==null?void 0:l.variants.colors)||[];const Ae=Z[S];return!Ae||Ae.size===0?(l==null?void 0:l.variants.colors)||[]:Array.from(Ae).sort()},[S,Z,l]),b.useEffect(()=>{if(!x)return;const Ae=Y[x];if(!Ae||Ae.size===0){N("");return}const it=Array.from(Ae);S&&Ae.has(S)||(it.length>0?N(it[0]):N(""))},[x,Y,S]),b.useEffect(()=>{if(!S)return;const Ae=Z[S];if(!Ae||Ae.size===0)return;const it=Array.from(Ae);x&&Ae.has(x)||it.length>0&&w(it[0])},[S,Z,x]);const re=b.useCallback(()=>{if(!l)return;if(!x||!S){$e.error("Please choose a color and size");return}const Ae=W[x],it=Ae&&typeof Ae[S]=="number"?Ae[S]:l.price,Ee={productId:l.id,product:{...l,price:it},quantity:C,variant:{color:x,size:S}};L(Re=>{const We=Re.findIndex(Ge=>Ge.productId===Ee.productId&&Ge.variant.color===Ee.variant.color&&Ge.variant.size===Ee.variant.size);if(We>=0){const Ge=[...Re];return Ge[We].quantity+=Ee.quantity,$e.success("Updated cart quantity"),Ge}return $e.success("Added to cart"),[...Re,Ee]})},[l,C,x,S,W]),le=(Ae,it,Ee)=>{if(Ee<=0){ve(Ae,it);return}L(Re=>Re.map(We=>We.productId===Ae&&We.variant.color===it.color&&We.variant.size===it.size?{...We,quantity:Ee}:We))},ve=(Ae,it)=>{L(Ee=>Ee.filter(Re=>!(Re.productId===Ae&&Re.variant.color===it.color&&Re.variant.size===it.size)))},{isAuthenticated:fe}=hx(),X=b.useMemo(()=>l?l.mockupUrls&&l.mockupUrls.length>0?l.mockupUrls:l.mockupUrl?[l.mockupUrl]:[]:[],[l==null?void 0:l.mockupUrls,l==null?void 0:l.mockupUrl]);b.useEffect(()=>{X.length>0&&g>=0&&g<X.length&&m(X[g])},[g,X]);const ce=b.useCallback(()=>{X.length&&y(Ae=>(Ae+1)%X.length)},[X.length]),Pe=b.useCallback(()=>{X.length&&y(Ae=>(Ae-1+X.length)%X.length)},[X.length]),ke=b.useCallback(Ae=>O[Ae]||"#E8DDD4",[O]),oe=()=>{if(!a)return;if(!fe){const it=uu("/auth?redirect=checkout",a.subdomain);r(it,{state:{cart:I,storeId:a.id,subdomain:a.subdomain}});return}const Ae=uu("/checkout",a.subdomain);r(Ae,{state:{cart:I,storeId:a.id,subdomain:a.subdomain}})},Oe=async()=>{const Ae=window.location.href;if(navigator.share)try{await navigator.share({title:l==null?void 0:l.name,url:Ae})}catch{}else await navigator.clipboard.writeText(Ae),$e.success("Link copied to clipboard")},Ie=b.useMemo(()=>!(l!=null&&l.compareAtPrice)||l.compareAtPrice<=se?0:Math.round((1-se/l.compareAtPrice)*100),[l==null?void 0:l.compareAtPrice,se]);if(h)return i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading product..."})]});if(!a)return i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-6 text-center",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center mb-6",children:i.jsx(Sr,{className:"w-12 h-12 text-muted-foreground"})}),i.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Store not found"}),i.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"The store you are looking for is unavailable or has not been published yet."}),i.jsx(pe,{asChild:!0,size:"lg",children:i.jsx(_t,{to:"/",children:"Go back to ShelfMerch"})})]});if(!l)return i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-6 text-center",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center mb-6",children:i.jsx(Sr,{className:"w-12 h-12 text-muted-foreground"})}),i.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Product not available"}),i.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"This product might have been removed or is no longer available."}),i.jsx(pe,{size:"lg",onClick:()=>r(`/store/${a.subdomain}`),children:"Back to store"})]});const He=()=>i.jsxs("div",{className:"grid gap-8 lg:gap-12 lg:grid-cols-2 mb-16",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"relative aspect-square bg-gradient-to-br from-muted/50 to-muted rounded-2xl border overflow-hidden group",children:X.length>0?i.jsxs(i.Fragment,{children:[i.jsx(ort,{src:X[g]||X[0],alt:l.name}),X.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:Pe,className:"absolute left-3 top-1/2 -translate-y-1/2 p-2.5 bg-background/90 backdrop-blur-sm rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-all hover:bg-background hover:scale-105 border","aria-label":"Previous image",children:i.jsx(nc,{className:"w-5 h-5"})}),i.jsx("button",{onClick:ce,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2.5 bg-background/90 backdrop-blur-sm rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-all hover:bg-background hover:scale-105 border","aria-label":"Next image",children:i.jsx(gs,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[Ie>0&&i.jsxs(Ot,{className:"bg-destructive text-destructive-foreground shadow-lg",children:["-",Ie,"% OFF"]}),i.jsxs(Ot,{variant:"secondary",className:"bg-primary/10 text-primary backdrop-blur-sm shadow-lg",children:[i.jsx(xue,{className:"w-3 h-3 mr-1"}),"Bestseller"]})]}),i.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[i.jsx("button",{onClick:()=>$(!U),className:dt("p-2.5 rounded-full shadow-lg transition-all hover:scale-105 border",U?"bg-red-500 text-white border-red-500":"bg-background/90 backdrop-blur-sm hover:bg-background"),"aria-label":U?"Remove from wishlist":"Add to wishlist",children:i.jsx(gw,{className:dt("w-5 h-5",U&&"fill-current")})}),i.jsx("button",{onClick:Oe,className:"p-2.5 bg-background/90 backdrop-blur-sm rounded-full shadow-lg hover:bg-background transition-all hover:scale-105 border","aria-label":"Share product",children:i.jsx(IV,{className:"w-5 h-5"})})]}),X.length>1&&i.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-background/90 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-medium shadow-lg border",children:[g+1," / ",X.length]})]}):i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(Sr,{className:"w-24 h-24 text-muted-foreground/30"})})}),X.length>1&&i.jsx("div",{className:"grid grid-cols-5 gap-2",children:X.map((Ae,it)=>i.jsxs("button",{onClick:()=>y(it),className:dt("relative aspect-square rounded-lg overflow-hidden border-2 transition-all",g===it?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"),children:[i.jsx("img",{src:Ae,alt:`${l.name} view ${it+1}`,className:"w-full h-full object-cover",loading:"lazy"}),g===it&&i.jsx("div",{className:"absolute inset-0 bg-primary/10"})]},`thumb-${it}`))})]}),i.jsxs("div",{className:"space-y-6 lg:sticky lg:top-24 lg:self-start",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(Ae=>i.jsx(mc,{className:dt("w-4 h-4",Ae<=4?"fill-amber-400 text-amber-400":"fill-muted text-muted")},Ae))}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"4.8 (128 reviews)"})]}),i.jsx("h1",{className:"text-3xl lg:text-4xl font-bold tracking-tight",style:{fontFamily:he.fonts.heading},children:l.name}),l.description&&i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:l.description})]}),i.jsxs("div",{className:"flex items-baseline gap-3",children:[i.jsxs("span",{className:"text-3xl font-bold",style:{color:he.colors.primary},children:["$",se.toFixed(2)]}),l.compareAtPrice&&l.compareAtPrice>se&&i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-xl text-muted-foreground line-through",children:["$",l.compareAtPrice.toFixed(2)]}),i.jsxs(Ot,{variant:"destructive",className:"font-semibold",children:["Save $",(l.compareAtPrice-se).toFixed(2)]})]})]}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-semibold",children:"Color"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:x})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.variants.colors.map(Ae=>{var Ge,ze;const it=ke(Ae),Ee=x===Ae,Re=S?((Ge=Z[S])==null?void 0:Ge.has(Ae))??!1:((ze=Y[Ae])==null?void 0:ze.size)>0,We=!Re;return i.jsxs("button",{onClick:()=>{Re&&w(Ae)},disabled:We,className:dt("relative w-10 h-10 rounded-full border-2 transition-all",We?"opacity-40 cursor-not-allowed grayscale":Ee?"border-primary ring-2 ring-primary/30 hover:scale-110":"border-border hover:border-primary/50 hover:scale-110"),style:{backgroundColor:it},title:We?`${Ae} - Not available for selected size`:Ae,"aria-label":We?`${Ae} color (not available)`:`Select ${Ae} color`,children:[Ee&&i.jsx(Gi,{className:dt("w-5 h-5 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",["White","Cream","Beige","Yellow"].includes(Ae)?"text-black":"text-white"),strokeWidth:3}),We&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-muted-foreground",children:""})})]},Ae)})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-semibold",children:"Size"}),i.jsxs("button",{className:"text-sm text-primary hover:underline flex items-center gap-1",onClick:()=>{},children:["Size Guide",i.jsx(gu,{className:"w-3 h-3"})]})]}),Q.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(Ae=>{const it=S===Ae;return i.jsx("button",{onClick:()=>N(Ae),className:dt("min-w-[3rem] px-3 py-2 rounded-md border text-sm font-medium transition-all",it?"border-primary bg-primary text-primary-foreground shadow-sm":"border-border hover:border-primary/50 hover:bg-accent"),title:Ae,"aria-label":`Select ${Ae} size`,children:Ae},Ae)})}):i.jsx("p",{className:"text-sm text-muted-foreground italic",children:x?`No sizes available for ${x}`:"No sizes available"})]})]}),i.jsxs("div",{className:"space-y-4 pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-semibold",children:"Quantity"}),i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx("button",{onClick:()=>A(Math.max(1,C-1)),className:"p-2 hover:bg-accent hover:text-accent-foreground transition-colors",disabled:C<=1,children:i.jsx(iN,{className:"w-4 h-4"})}),i.jsx("span",{className:"w-12 text-center font-medium",children:C}),i.jsx("button",{onClick:()=>A(C+1),className:"p-2 hover:bg-accent hover:text-accent-foreground transition-colors",children:i.jsx(ha,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(pe,{size:"lg",className:"flex-1 text-base font-semibold shadow-md active:scale-[0.98] transition-all",onClick:re,children:[i.jsx(_0,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),i.jsx(pe,{variant:"outline",size:"lg",className:"flex-1 text-base font-semibold border-2 hover:bg-accent/50",onClick:oe,children:"Buy it now"})]})]}),i.jsxs("div",{className:"grid gap-3 pt-6",children:[i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/50",children:[i.jsx("div",{className:"p-2 bg-background rounded-full shadow-sm",children:i.jsx(Up,{className:"w-4 h-4 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-sm",children:"Fast Fulfillment"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Ships in 2-3 business days"})]})]}),i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/30 border border-border/50",children:[i.jsx("div",{className:"p-2 bg-background rounded-full shadow-sm",children:i.jsx(Km,{className:"w-4 h-4 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-sm",children:"Quality Guarantee"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"30-day hassle-free returns"})]})]})]})]})]}),nt=(Ae,it)=>i.jsx(i.Fragment,{children:ne.length>0&&i.jsxs("section",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",style:{fontFamily:he.fonts.heading},children:Ae||"You May Also Like"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:it||"Explore more designs that pair perfectly with this product."})]}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>r(`/store/${a.subdomain}#products`),className:"hidden sm:flex",children:["View All",i.jsx(gs,{className:"w-4 h-4 ml-1"})]})]}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:ne.map(Ee=>{var We;const Re=((We=Ee.mockupUrls)==null?void 0:We[0])||Ee.mockupUrl;return i.jsx(_t,{to:`/store/${a.subdomain}/product/${Ee.id}`,className:"group",children:i.jsxs(Ze,{className:"overflow-hidden border-0 shadow-sm hover:shadow-lg transition-shadow",children:[i.jsx("div",{className:"aspect-square overflow-hidden bg-muted",children:Re?i.jsx("img",{src:Re,alt:Ee.name,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}):i.jsx("div",{className:"flex h-full w-full items-center justify-center text-muted-foreground",children:i.jsx(Sr,{className:"h-12 w-12"})})}),i.jsxs("div",{className:"p-4 space-y-1",children:[i.jsx("h3",{className:"font-medium line-clamp-1 group-hover:text-primary transition-colors",children:Ee.name}),i.jsxs("p",{className:"text-sm font-semibold",style:{color:he.colors.primary},children:["$",Ee.price.toFixed(2)]})]})]})},Ee.id)})})]})}),ft=Ae=>{var Ee,Re,We,Ge,ze,ot,lt,yt;const it=Ae?{backgroundColor:(Ee=Ae.styles)==null?void 0:Ee.backgroundColor,color:((Re=Ae.styles)==null?void 0:Re.color)||((We=Ae.styles)==null?void 0:We.textColor)}:void 0;return i.jsx("header",{className:dt("border-b sticky top-0 z-50",!((Ge=Ae==null?void 0:Ae.styles)!=null&&Ge.backgroundColor)&&"bg-background/80 backdrop-blur-md"),style:it,children:i.jsxs("div",{className:"container mx-auto px-4 flex h-16 items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-6",children:i.jsx(_t,{to:`/store/${a.subdomain}`,className:"text-xl font-bold tracking-tight hover:opacity-80 transition-opacity",style:{color:((ze=Ae==null?void 0:Ae.styles)==null?void 0:ze.color)||he.colors.primary,fontFamily:he.fonts.heading},children:((ot=Ae==null?void 0:Ae.settings)==null?void 0:ot.storeName)||a.storeName})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>r(`/store/${a.subdomain}`),className:"hidden sm:flex",style:{color:(lt=Ae==null?void 0:Ae.styles)==null?void 0:lt.color},children:[i.jsx(ao,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]}),i.jsxs(pe,{variant:"ghost",size:"icon",className:"relative",onClick:()=>R(!0),style:{color:(yt=Ae==null?void 0:Ae.styles)==null?void 0:yt.color},children:[i.jsx(_0,{className:"h-5 w-5"}),I.length>0&&i.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-primary-foreground text-xs font-medium animate-scale-in",children:I.reduce((Pt,ct)=>Pt+ct.quantity,0)})]})]})]})})},Fe=Ae=>{var Ee,Re,We,Ge,ze,ot,lt,yt,Pt,ct;const it=Ae?{backgroundColor:(Ee=Ae.styles)==null?void 0:Ee.backgroundColor,color:((Re=Ae.styles)==null?void 0:Re.color)||((We=Ae.styles)==null?void 0:We.textColor),paddingTop:(ze=(Ge=Ae.styles)==null?void 0:Ge.padding)==null?void 0:ze.top,paddingBottom:(lt=(ot=Ae.styles)==null?void 0:ot.padding)==null?void 0:lt.bottom}:void 0;return i.jsx("footer",{className:dt("border-t mt-16",!((yt=Ae==null?void 0:Ae.styles)!=null&&yt.backgroundColor)&&"bg-muted/30 py-8"),style:it,children:i.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",style:{color:(Pt=Ae==null?void 0:Ae.styles)!=null&&Pt.color?"inherit":void 0},children:((ct=Ae==null?void 0:Ae.settings)==null?void 0:ct.copyright)||i.jsxs(i.Fragment,{children:[" ",new Date().getFullYear()," ",a.storeName,". Powered by"," ",i.jsx(_t,{to:"/",className:"text-primary hover:underline font-medium",children:"ShelfMerch"})]})})})};return i.jsxs("div",{className:"min-h-screen bg-background",style:{fontFamily:he.fonts.body},children:[ae?i.jsx("div",{children:J.map(Ae=>{var it,Ee,Re,We,Ge;return Ae.type==="header"?i.jsx("div",{children:ft(Ae)},Ae.id):Ae.type==="announcement-bar"?i.jsx(Y4,{section:Ae,products:u,globalStyles:(it=a.builder)==null?void 0:it.globalStyles,isPreview:!1},Ae.id):Ae.type==="product-details"?i.jsxs("div",{children:[i.jsx("div",{className:"border-b bg-muted/30",children:i.jsx("div",{className:"container mx-auto px-4 py-3",children:i.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs(_t,{to:`/store/${a.subdomain}`,className:"hover:text-primary transition-colors flex items-center gap-1",children:[i.jsx(sy,{className:"h-3.5 w-3.5"}),i.jsx("span",{className:"hidden sm:inline",children:"Home"})]}),i.jsx(gs,{className:"h-3.5 w-3.5"}),i.jsx(_t,{to:`/store/${a.subdomain}#products`,className:"hover:text-primary transition-colors",children:"Products"}),i.jsx(gs,{className:"h-3.5 w-3.5"}),i.jsx("span",{className:"text-foreground font-medium truncate max-w-[200px]",children:l.name})]})})}),i.jsxs("main",{className:"container mx-auto px-4 py-8 lg:py-12",children:[He(),i.jsx("div",{className:"mt-16",children:i.jsxs(_c,{defaultValue:"description",className:"w-full",children:[i.jsxs(Fl,{className:"w-full justify-start border-b rounded-none h-auto p-0 bg-transparent",children:[i.jsx(Zr,{value:"description",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-6 py-3",children:"Description"}),i.jsx(Zr,{value:"reviews",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-6 py-3",children:"Reviews (128)"}),i.jsx(Zr,{value:"size-chart",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-6 py-3",children:"Size Chart"})]}),i.jsx(sn,{value:"description",className:"pt-8",children:i.jsxs("div",{className:"max-w-3xl space-y-4 text-muted-foreground leading-relaxed",children:[i.jsx("p",{children:l.description}),i.jsxs("p",{children:["Made with premium materials and designed for everyday comfort. This ",l.name," features durable stitching, a soft feel, and a modern fit that looks great on everyone."]}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1 mt-4",children:[i.jsx("li",{children:"Premium quality fabric"}),i.jsx("li",{children:"Durable and long-lasting print"}),i.jsx("li",{children:"Comfortable fit for all-day wear"}),i.jsx("li",{children:"Machine washable"})]})]})}),i.jsx(sn,{value:"reviews",className:"pt-8",children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xl font-bold",children:"Customer Reviews"}),i.jsx(pe,{children:"Write a Review"})]}),i.jsx("div",{className:"grid gap-6",children:vW.map(ze=>i.jsxs(Ze,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center font-bold text-primary",children:ze.avatar}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:ze.name}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{children:ze.date}),ze.verified&&i.jsxs("span",{className:"flex items-center gap-1 text-green-600 bg-green-50 px-2 py-0.5 rounded-full",children:[i.jsx(Gi,{className:"w-3 h-3"})," Verified Purchase"]})]})]})]}),i.jsx("div",{className:"flex",children:[1,2,3,4,5].map(ot=>i.jsx(mc,{className:dt("w-4 h-4",ot<=ze.rating?"fill-amber-400 text-amber-400":"fill-muted text-muted")},ot))})]}),i.jsx("p",{className:"text-muted-foreground",children:ze.content})]},ze.id))})]})}),i.jsx(sn,{value:"size-chart",className:"pt-8",children:i.jsx("div",{className:"max-w-2xl border rounded-lg overflow-hidden",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Size"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Chest"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Length"})]})}),i.jsx("tbody",{className:"divide-y",children:bW.map(ze=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:ze.size}),i.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:ze.chest}),i.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:ze.length})]},ze.size))})]})})})]})})]})]},Ae.id):Ae.type==="product-recommendations"?i.jsx("div",{className:"container mx-auto px-4 pb-16",children:nt((Ee=Ae.settings)==null?void 0:Ee.heading,(Re=Ae.settings)==null?void 0:Re.subheading)},Ae.id):Ae.type==="reviews"?i.jsx("div",{className:"bg-muted/10",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx(hrt,{productId:s||"",heading:((We=Ae.settings)==null?void 0:We.heading)||"Customer Reviews"})})},Ae.id):Ae.type==="footer"?i.jsx("div",{children:Fe(Ae)},Ae.id):i.jsx(Y4,{section:Ae,products:u,globalStyles:(Ge=a.builder)==null?void 0:Ge.globalStyles,isPreview:!1},Ae.id)})}):i.jsxs(i.Fragment,{children:[ft(),i.jsx("div",{className:"border-b bg-muted/30",children:i.jsx("div",{className:"container mx-auto px-4 py-3",children:i.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs(_t,{to:`/store/${a.subdomain}`,className:"hover:text-primary transition-colors flex items-center gap-1",children:[i.jsx(sy,{className:"h-3.5 w-3.5"}),i.jsx("span",{className:"hidden sm:inline",children:"Home"})]}),i.jsx(gs,{className:"h-3.5 w-3.5"}),i.jsx(_t,{to:`/store/${a.subdomain}#products`,className:"hover:text-primary transition-colors",children:"Products"}),i.jsx(gs,{className:"h-3.5 w-3.5"}),i.jsx("span",{className:"text-foreground font-medium truncate max-w-[200px]",children:l.name})]})})}),i.jsxs("main",{className:"container mx-auto px-4 py-8 lg:py-12",children:[He(),i.jsx("div",{className:"mt-16",children:i.jsxs(_c,{defaultValue:"description",className:"w-full",children:[i.jsxs(Fl,{className:"w-full justify-start border-b rounded-none h-auto p-0 bg-transparent",children:[i.jsx(Zr,{value:"description",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-6 py-3",children:"Description"}),i.jsx(Zr,{value:"reviews",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-6 py-3",children:"Reviews (128)"}),i.jsx(Zr,{value:"size-chart",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-6 py-3",children:"Size Chart"})]}),i.jsx(sn,{value:"description",className:"pt-8",children:i.jsxs("div",{className:"max-w-3xl space-y-4 text-muted-foreground leading-relaxed",children:[i.jsx("p",{children:l.description}),i.jsxs("p",{children:["Made with premium materials and designed for everyday comfort. This ",l.name," features durable stitching, a soft feel, and a modern fit that looks great on everyone."]}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1 mt-4",children:[i.jsx("li",{children:"Premium quality fabric"}),i.jsx("li",{children:"Durable and long-lasting print"}),i.jsx("li",{children:"Comfortable fit for all-day wear"}),i.jsx("li",{children:"Machine washable"})]})]})}),i.jsx(sn,{value:"reviews",className:"pt-8",children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xl font-bold",children:"Customer Reviews"}),i.jsx(pe,{children:"Write a Review"})]}),i.jsx("div",{className:"grid gap-6",children:vW.map(Ae=>i.jsxs(Ze,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center font-bold text-primary",children:Ae.avatar}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:Ae.name}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{children:Ae.date}),Ae.verified&&i.jsxs("span",{className:"flex items-center gap-1 text-green-600 bg-green-50 px-2 py-0.5 rounded-full",children:[i.jsx(Gi,{className:"w-3 h-3"})," Verified Purchase"]})]})]})]}),i.jsx("div",{className:"flex",children:[1,2,3,4,5].map(it=>i.jsx(mc,{className:dt("w-4 h-4",it<=Ae.rating?"fill-amber-400 text-amber-400":"fill-muted text-muted")},it))})]}),i.jsx("p",{className:"text-muted-foreground",children:Ae.content})]},Ae.id))})]})}),i.jsx(sn,{value:"size-chart",className:"pt-8",children:i.jsx("div",{className:"max-w-2xl border rounded-lg overflow-hidden",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Size"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Chest"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Length"})]})}),i.jsx("tbody",{className:"divide-y",children:bW.map(Ae=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:Ae.size}),i.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:Ae.chest}),i.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:Ae.length})]},Ae.size))})]})})})]})}),nt()]}),Fe()]}),i.jsx("div",{className:dt("fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-md border-t py-3 px-4 z-50 transition-transform duration-300",q?"translate-y-0":"translate-y-full"),children:i.jsxs("div",{className:"container mx-auto flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[X[0]&&i.jsx("img",{src:X[0],alt:l.name,className:"w-12 h-12 rounded-lg object-cover border hidden sm:block"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-semibold truncate",children:l.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[x," / ",S]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:"text-xl font-bold hidden sm:block",style:{color:he.colors.primary},children:["$",se.toFixed(2)]}),i.jsxs(pe,{size:"lg",onClick:re,className:"gap-2",children:[i.jsx(_0,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Add to Cart"}),i.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]})}),i.jsx(m7,{open:T,onClose:()=>R(!1),cart:I,onUpdateQuantity:le,onRemove:ve,onCheckout:oe})]})};function frt(t){const r=t.reduce((n,s)=>n+s.quantity,0);return Math.max(.5,r*.4)}const prt={fullName:"",email:"",phone:"",address1:"",address2:"",city:"",state:"",zipCode:"",country:"United States"},jW=()=>{const{subdomain:t}=Do(),e=rs(),n=Vi().state,[s,a]=b.useState(null),[o,l]=b.useState([]),[c,u]=b.useState(prt),[d,h]=b.useState(!1),[p,f]=b.useState(0),[m,g]=b.useState(!1),[y,x]=b.useState();b.useEffect(()=>{(async()=>{if(t)try{const $=await ua.getBySubdomain(t);$.success&&$.data?a($.data):a(null)}catch($){console.error("Failed to fetch store for checkout:",$),a(null)}})()},[t]),b.useEffect(()=>{n!=null&&n.cart&&Array.isArray(n.cart)&&l(n.cart)},[n]);const{isAuthenticated:w}=hx();b.useEffect(()=>{s&&!w&&e(`/store/${s.subdomain}/auth?redirect=checkout`,{state:n})},[w,s,e,n]);const S=Vg(s?s.theme:"modern"),N=b.useMemo(()=>o.reduce((U,$)=>U+$.product.price*$.quantity,0),[o]),C=N*.08,A=N+p+C;b.useEffect(()=>{o.length>0&&!c.zipCode?f(150):o.length===0&&f(0)},[o.length]),b.useEffect(()=>{const $=setTimeout(async()=>{var G;const q=((G=c.zipCode)==null?void 0:G.trim())||"";if(!q||!/^\d{6}$/.test(q)){f(o.length>0?150:0),x(void 0),g(!1);return}if(o.length===0){f(0),x(void 0),g(!1);return}g(!0);try{const W=frt(o),B=Math.round(W*1e3),O=await zq.getQuote(q,B);O&&O.serviceable?(f(O.shipping_charge),x(O.estimated_days),(O.city||O.state_code)&&u(K=>({...K,city:O.city||K.city,state:O.state||O.state_code||K.state})),console.log("Shipping calculated:",O.shipping_charge,"Source:",O.rate_source)):(f(150),x(void 0),O&&O.message&&$e.error(O.message))}catch(W){console.error("Error calculating shipping:",W),f(o.length>0?150:0),x(void 0),$e.error("Could not calculate shipping. Using default rate.")}finally{g(!1)}},500);return()=>clearTimeout($)},[c.zipCode,o]);const k=U=>{const{name:$,value:q}=U.target;u(G=>({...G,[$]:q}))},E=U=>{const $=U.target.value.replace(/\D/g,"").slice(0,6);u(q=>({...q,zipCode:$}))},T=()=>{const U=["fullName","email","phone","address1","city","state","zipCode"];for(const $ of U)if(!c[$])return $e.error(`Please fill in ${$.replace(/([A-Z])/g," $1").toLowerCase()}`),!1;return!0},R=()=>new Promise(U=>{if(document.getElementById("razorpay-checkout-js")){U(!0);return}const $=document.createElement("script");$.id="razorpay-checkout-js",$.src="https://checkout.razorpay.com/v1/checkout.js",$.onload=()=>U(!0),$.onerror=()=>U(!1),document.body.appendChild($)}),I=async()=>{var $,q;if(!T())return;if(!await R()){$e.error("Failed to load payment gateway. Please try again.");return}try{h(!0);const G=o.reduce((he,J)=>he+J.product.price*J.quantity,0),W=G*.08,B=G+p+W,O=await v6.createRazorpayOrder(t,{cart:o,shippingInfo:c,shipping:p,tax:W});if(!O.success||!(($=O.data)!=null&&$.razorpayOrder))throw new Error(O.message||"Failed to start payment");const{razorpayOrder:K}=O.data,D=((q=O.data)==null?void 0:q.razorpayKeyId)||void 0;if(!D){$e.error("Payment configuration missing. Please contact store owner."),h(!1);return}const Z={key:D,amount:K.amount,currency:K.currency||"INR",name:(s==null?void 0:s.storeName)||"ShelfMerch Store",description:"Order payment",order_id:K.id,prefill:{name:c.fullName,email:c.email,contact:c.phone},notes:{subdomain:s==null?void 0:s.subdomain},handler:async he=>{try{const ae=o.reduce((Q,re)=>Q+re.product.price*re.quantity,0)*.08,ne=await v6.verifyRazorpayPayment(t,{cart:o,shippingInfo:c,razorpay_order_id:he.razorpay_order_id,razorpay_payment_id:he.razorpay_payment_id,razorpay_signature:he.razorpay_signature,shipping:p,tax:ae});if(!ne.success||!ne.data)throw new Error(ne.message||"Payment verification failed");const se=ne.data;l([]),$e.success("Payment successful! Order placed."),e("/order-confirmation",{state:{order:se}})}catch(J){console.error("Order placement error after payment:",J),$e.error("Payment verification failed. Please contact support with your payment ID.")}},modal:{ondismiss:()=>{h(!1)}}};if(!window.Razorpay){$e.error("Payment SDK not loaded. Please refresh and try again."),h(!1);return}const ie=new window.Razorpay(Z);ie.on("payment.failed",he=>{var J;console.error("Payment failed:",he),$e.error(`Payment failed: ${((J=he.error)==null?void 0:J.description)||"Unknown error"}`),h(!1)}),ie.open()}catch(G){console.error("Error starting payment:",G),$e.error("Failed to start payment. Please try again."),h(!1)}},L=()=>{s&&e(`/store/${s.subdomain}`)};return s?o.length===0?i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-6 text-center",children:[i.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Your cart is empty"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Add items to your cart before proceeding to checkout."}),i.jsx(pe,{onClick:L,children:"Back to store"})]}):i.jsxs("div",{className:"min-h-screen bg-background",style:{fontFamily:S.fonts.body},children:[i.jsx("header",{className:"border-b bg-card sticky top-0 z-40",children:i.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(pe,{variant:"ghost",size:"sm",onClick:L,children:[i.jsx(ao,{className:"h-4 w-4 mr-2"}),"Continue shopping"]}),i.jsx(ln,{orientation:"vertical",className:"hidden h-6 md:block"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Checkout"}),i.jsx("h1",{className:"text-lg font-semibold",style:{fontFamily:S.fonts.heading},children:s.storeName})]})]}),i.jsxs("div",{className:"hidden items-center gap-2 text-sm text-muted-foreground md:flex",children:[i.jsx(kV,{className:"h-4 w-4"}),"Secure checkout"]})]})}),i.jsxs("main",{className:"container mx-auto grid gap-8 px-4 py-12 lg:grid-cols-[minmax(0,1fr)_360px]",children:[i.jsx("section",{className:"space-y-8",children:i.jsxs("div",{className:"space-y-6 rounded-2xl border bg-card p-6 shadow-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Step 1"}),i.jsx("h2",{className:"text-2xl font-semibold",style:{fontFamily:S.fonts.heading},children:"Shipping information"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide your contact and delivery details so we know where to send your order."})]}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"sm:col-span-2",children:[i.jsx(je,{htmlFor:"fullName",children:"Full name *"}),i.jsx(rt,{id:"fullName",name:"fullName",value:c.fullName,onChange:k,placeholder:"Alex Johnson",required:!0})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"email",children:"Email *"}),i.jsx(rt,{id:"email",name:"email",type:"email",value:c.email,onChange:k,placeholder:"you@example.com",required:!0})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"phone",children:"Phone *"}),i.jsx(rt,{id:"phone",name:"phone",type:"tel",value:c.phone,onChange:k,placeholder:"(555) 123-4567",required:!0})]}),i.jsxs("div",{className:"sm:col-span-2",children:[i.jsx(je,{htmlFor:"address1",children:"Address line 1 *"}),i.jsx(rt,{id:"address1",name:"address1",value:c.address1,onChange:k,placeholder:"123 Market Street",required:!0})]}),i.jsxs("div",{className:"sm:col-span-2",children:[i.jsx(je,{htmlFor:"address2",children:"Address line 2"}),i.jsx(rt,{id:"address2",name:"address2",value:c.address2,onChange:k,placeholder:"Apartment, suite, etc."})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"city",children:"City *"}),i.jsx(rt,{id:"city",name:"city",value:c.city,onChange:k,placeholder:"San Francisco",required:!0})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"state",children:"State / Province *"}),i.jsx(rt,{id:"state",name:"state",value:c.state,onChange:k,placeholder:"California",required:!0})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"zipCode",children:"Postal code / Pin code *"}),i.jsx(rt,{id:"zipCode",name:"zipCode",value:c.zipCode,onChange:E,placeholder:"110001 (6-digit pin code)",maxLength:6,required:!0}),m&&c.zipCode&&/^\d{6}$/.test(c.zipCode)&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[i.jsx(Zn,{className:"h-3 w-3 animate-spin"}),"Calculating shipping..."]}),y&&!m&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Estimated delivery: ",y," ",y===1?"day":"days"]})]}),i.jsxs("div",{children:[i.jsx(je,{htmlFor:"country",children:"Country"}),i.jsx(rt,{id:"country",name:"country",value:c.country,onChange:k,placeholder:"United States"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(pe,{size:"lg",onClick:I,disabled:d,children:d?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin"})," Processing payment"]}):"Continue to payment"})})]})}),i.jsxs("aside",{className:"space-y-6",children:[i.jsxs(Ze,{className:"space-y-4 p-6 shadow-sm",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",style:{fontFamily:S.fonts.heading},children:"Order summary"}),i.jsxs("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:[o.length," ",o.length===1?"item":"items"," in cart"]})]}),i.jsx(ln,{}),i.jsx("div",{className:"space-y-4",children:o.map(U=>i.jsxs("div",{className:"flex items-start justify-between gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:U.product.name}),i.jsxs("p",{className:"text-muted-foreground text-xs",children:[U.variant.color,"  ",U.variant.size]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty ",U.quantity]})]}),i.jsxs("p",{className:"font-semibold",children:["",(U.product.price*U.quantity).toFixed(2)]})]},`${U.productId}-${U.variant.color}-${U.variant.size}`))}),i.jsx(ln,{}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[i.jsx("span",{children:"Subtotal"}),i.jsxs("span",{children:["",N.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[i.jsxs("span",{children:["Shipping",!c.zipCode&&i.jsx("span",{className:"text-xs ml-1 text-muted-foreground",children:"(Enter pin code)"}),c.zipCode&&!/^\d{6}$/.test(c.zipCode.trim())&&i.jsx("span",{className:"text-xs ml-1 text-amber-600",children:"(Enter valid 6-digit pin code)"})]}),i.jsx("span",{children:m?i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Zn,{className:"h-3 w-3 animate-spin"}),i.jsx("span",{className:"text-xs",children:"Calculating..."})]}):`${p.toFixed(2)}`})]}),i.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[i.jsx("span",{children:"Taxes (8%)"}),i.jsxs("span",{children:["",C.toFixed(2)]})]}),i.jsx(ln,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between text-base font-semibold",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:m?i.jsx(Zn,{className:"h-4 w-4 animate-spin inline-block"}):`${A.toFixed(2)}`})]})]})]}),i.jsxs(Ze,{className:"space-y-4 p-6 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Up,{className:"h-4 w-4 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-foreground",children:"Fast fulfillment"}),i.jsx("p",{children:"Orders ship within 3-5 business days after production."})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(MV,{className:"h-4 w-4 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-foreground",children:"Purchase protection"}),i.jsx("p",{children:"30-day return policy. Contact us if anything isn't perfect."})]})]})]})]})]}),i.jsx("footer",{className:"border-t py-6",children:i.jsxs("div",{className:"container mx-auto px-4 text-center text-xs text-muted-foreground",children:[" ",new Date().getFullYear()," ",s.storeName,". Powered by ShelfMerch."]})})]}):i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background px-6 text-center",children:[i.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Checkout unavailable"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"The store you are trying to access is not available at the moment."}),i.jsx(pe,{asChild:!0,children:i.jsx(_t,{to:"/",children:"Go back to ShelfMerch"})})]})},SW=()=>{const{subdomain:t}=Do(),{customer:e,isAuthenticated:r}=hx(),[n,s]=b.useState("overview"),[a,o]=b.useState(null),[l,c]=b.useState(!1),[u,d]=b.useState([]),[h,p]=b.useState(!1),[f,m]=b.useState(null),[g,y]=b.useState(""),[x,w]=b.useState(""),[S,N]=b.useState(""),[C,A]=b.useState(!1),k="http://shelfmerch.in/api",E=()=>t?localStorage.getItem(`store_token_${t}`):null;if(b.useEffect(()=>{if(!t)return;const U=E();if(!U)return;const $=async()=>{try{const G=await fetch(`${k}/api/store-auth/me`,{headers:{Authorization:`Bearer ${U}`}}),W=await G.json();G.ok&&W.success&&W.customer&&o({id:W.customer._id||W.customer.id,name:W.customer.name,email:W.customer.email,marketingOptIn:W.customer.marketingOptIn})}catch(G){console.error("Failed to load customer profile",G)}},q=async()=>{try{p(!0),m(null);const G=await fetch(`${k}/api/store-customer/orders`,{headers:{Authorization:`Bearer ${U}`}}),W=await G.json();G.ok&&W.success?d(W.data||[]):m(W.message||"Failed to load orders")}catch(G){console.error("Failed to load customer orders",G),m((G==null?void 0:G.message)||"Failed to load orders")}finally{p(!1)}};$(),q()},[t]),!t)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Store not found"});if(!r||!e)return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:i.jsxs(Ze,{className:"max-w-md w-full",children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Sign in to your account"}),i.jsx(Xr,{children:"You need to sign in to view your account and orders."})]}),i.jsxs(Tt,{className:"space-y-4",children:[i.jsx(pe,{asChild:!0,className:"w-full",children:i.jsx(_t,{to:`/store/${t}/auth?redirect=account`,children:"Go to Sign In"})}),i.jsx(pe,{variant:"outline",asChild:!0,className:"w-full",children:i.jsx(_t,{to:`/store/${t}`,children:"Return to Store"})})]})]})});const T=async U=>{if(U.preventDefault(),!t||!a)return;const $=E();if($)try{c(!0);const q=await fetch(`${k}/api/store-auth/me`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({name:a.name,marketingOptIn:a.marketingOptIn})}),G=await q.json();q.ok&&G.success&&G.customer?(o({id:G.customer._id||G.customer.id,name:G.customer.name,email:G.customer.email,marketingOptIn:G.customer.marketingOptIn}),$e.success("Profile updated")):$e.error(G.message||"Failed to update profile")}catch(q){console.error("Failed to update profile",q),$e.error((q==null?void 0:q.message)||"Failed to update profile")}finally{c(!1)}},R=async U=>{if(U.preventDefault(),!t)return;if(!x||x!==S){$e.error("New password and confirmation must match");return}const $=E();if($)try{A(!0);const q=await fetch(`${k}/api/store-auth/change-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({currentPassword:g,newPassword:x})}),G=await q.json();q.ok&&G.success?($e.success("Password updated"),y(""),w(""),N("")):$e.error(G.message||"Failed to change password")}catch(q){console.error("Failed to change password",q),$e.error((q==null?void 0:q.message)||"Failed to change password")}finally{A(!1)}},I=(a==null?void 0:a.name)||e.name||"Your account",L=(a==null?void 0:a.email)||e.email;return i.jsx("div",{className:"min-h-screen bg-muted/20 flex flex-col items-center p-4",children:i.jsxs("div",{className:"w-full max-w-4xl space-y-6 mt-8 mb-12",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"My Account"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage your profile, orders, and security settings for this store."})]}),i.jsxs("div",{className:"flex flex-col items-start md:items-end text-sm",children:[i.jsx("span",{className:"font-medium",children:I}),L&&i.jsx("span",{className:"text-muted-foreground",children:L}),i.jsx(Ot,{variant:"outline",className:"mt-2 text-xs",children:"Store customer"})]})]}),i.jsxs(_c,{value:n,onValueChange:U=>s(U),children:[i.jsxs(Fl,{className:"grid w-full grid-cols-4",children:[i.jsx(Zr,{value:"overview",children:"Overview"}),i.jsx(Zr,{value:"orders",children:"Orders"}),i.jsx(Zr,{value:"profile",children:"Profile"}),i.jsx(Zr,{value:"security",children:"Security"})]}),i.jsxs(sn,{value:"overview",className:"mt-4 space-y-4",children:[i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Account Summary"}),i.jsx(Xr,{children:"Quick overview of your account for this store."})]}),i.jsxs(Tt,{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Name"}),i.jsx("p",{className:"font-medium",children:I})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Email"}),i.jsx("p",{className:"font-medium break-all",children:L})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Marketing"}),i.jsx("p",{className:"font-medium",children:a!=null&&a.marketingOptIn?"Subscribed":"Not subscribed"})]})]})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Recent Orders"}),i.jsx(Xr,{children:"Last few orders for this store."})]}),i.jsx(Tt,{children:h?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading orders..."}):u.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No orders yet."}):i.jsxs("div",{className:"space-y-3",children:[u.slice(0,3).map(U=>i.jsxs("div",{className:"flex items-center justify-between text-sm border rounded-md px-3 py-2",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:["Order #",U._id.slice(-6)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:U.createdAt?new Date(U.createdAt).toLocaleDateString():""})]}),i.jsxs("div",{className:"text-right",children:[i.jsx(Ot,{className:"mb-1 text-xs",children:U.status}),i.jsx("p",{className:"font-semibold",children:typeof U.total=="number"?`$${U.total.toFixed(2)}`:"-"})]})]},U._id)),u.length>3&&i.jsx(pe,{variant:"outline",size:"sm",onClick:()=>s("orders"),children:"View all orders"})]})})]})]}),i.jsx(sn,{value:"orders",className:"mt-4",children:i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Your Orders"}),i.jsx(Xr,{children:"Orders you have placed in this store."})]}),i.jsxs(Tt,{children:[f&&i.jsx("p",{className:"text-sm text-destructive mb-3",children:f}),h?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading orders..."}):u.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No orders found."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-3 py-2",children:"Order"}),i.jsx("th",{className:"text-left px-3 py-2",children:"Date"}),i.jsx("th",{className:"text-left px-3 py-2",children:"Status"}),i.jsx("th",{className:"text-right px-3 py-2",children:"Total"})]})}),i.jsx("tbody",{className:"divide-y",children:u.map(U=>i.jsxs("tr",{className:"hover:bg-muted/30",children:[i.jsxs("td",{className:"px-3 py-2 font-medium",children:["#",U._id.slice(-8)]}),i.jsx("td",{className:"px-3 py-2",children:U.createdAt?new Date(U.createdAt).toLocaleString():""}),i.jsx("td",{className:"px-3 py-2",children:i.jsx(Ot,{variant:"secondary",children:U.status})}),i.jsx("td",{className:"px-3 py-2 text-right font-semibold",children:typeof U.total=="number"?`$${U.total.toFixed(2)}`:"-"})]},U._id))})]})})]})]})}),i.jsx(sn,{value:"profile",className:"mt-4",children:i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Profile"}),i.jsx(Xr,{children:"Update your personal details."})]}),i.jsx(Tt,{children:i.jsxs("form",{className:"space-y-4",onSubmit:T,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"name",children:"Full name"}),i.jsx(rt,{id:"name",value:(a==null?void 0:a.name)||"",onChange:U=>o($=>$&&{...$,name:U.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"email",children:"Email"}),i.jsx(rt,{id:"email",value:L||"",disabled:!0})]}),i.jsxs("div",{className:"flex items-center justify-between border rounded-md px-3 py-2",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("p",{className:"font-medium text-sm",children:"Marketing emails"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive updates and promotions from this store."})]}),i.jsx(pe,{type:"button",variant:"outline",size:"sm",onClick:()=>o(U=>U&&{...U,marketingOptIn:!U.marketingOptIn}),children:a!=null&&a.marketingOptIn?"Subscribed":"Subscribe"})]}),i.jsx(pe,{type:"submit",disabled:l,children:l?"Saving...":"Save changes"})]})})]})}),i.jsx(sn,{value:"security",className:"mt-4",children:i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Security"}),i.jsx(Xr,{children:"Update your password for this store account."})]}),i.jsx(Tt,{children:i.jsxs("form",{className:"space-y-4",onSubmit:R,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"currentPassword",children:"Current password"}),i.jsx(rt,{id:"currentPassword",type:"password",value:g,onChange:U=>y(U.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"newPassword",children:"New password"}),i.jsx(rt,{id:"newPassword",type:"password",value:x,onChange:U=>w(U.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"confirmPassword",children:"Confirm new password"}),i.jsx(rt,{id:"confirmPassword",type:"password",value:S,onChange:U=>N(U.target.value)})]}),i.jsx(pe,{type:"submit",disabled:C,children:C?"Updating...":"Change password"})]})})]})})]})]})})},NW=()=>{const t=Do(),e=Vi(),[r]=vw(),n=rs(),{login:s,register:a,isAuthenticated:o}=hx(),l=qw(e,t)||t.subdomain,[c,u]=b.useState(null),[d,h]=b.useState(!0),[p,f]=b.useState("login"),[m,g]=b.useState(!1),[y,x]=b.useState(""),[w,S]=b.useState(""),[N,C]=b.useState(""),A=r.get("redirect")||"checkout";b.useEffect(()=>{(async()=>{try{const L=await ua.getBySubdomain(l||void 0);L.success&&L.data?u(L.data):u(null)}catch(L){console.error("Failed to load store:",L),u(null)}finally{h(!1)}})()},[l]),b.useEffect(()=>{if(o&&c){const I=uu(`/${A}`,c.subdomain);n(I,{state:e.state})}},[o,c,n,A,e.state]);const k=async I=>{I.preventDefault(),l&&(g(!0),await s(l,y,w),g(!1))},E=async I=>{I.preventDefault(),l&&(g(!0),await a(l,N,y,w),g(!1))};if(d)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});if(!c)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Store not found"});const R=Vg(c.theme).colors.primary;return i.jsx("div",{className:"min-h-screen bg-muted/30 flex flex-col items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-md space-y-8",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-3xl font-bold",style:{color:R},children:c.storeName}),i.jsx("p",{className:"text-muted-foreground",children:"Sign in to continue to checkout"})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:p==="login"?"Welcome Back":"Create Account"}),i.jsx(Xr,{children:p==="login"?"Enter your credentials to access your account":"Enter your details to create a new account"})]}),i.jsx(Tt,{children:i.jsxs(_c,{value:p,onValueChange:I=>f(I),children:[i.jsxs(Fl,{className:"grid w-full grid-cols-2 mb-8",children:[i.jsx(Zr,{value:"login",children:"Login"}),i.jsx(Zr,{value:"register",children:"Register"})]}),i.jsx(sn,{value:"login",children:i.jsxs("form",{onSubmit:k,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"login-email",children:"Email"}),i.jsx(rt,{id:"login-email",type:"email",value:y,onChange:I=>x(I.target.value),required:!0,placeholder:"name@example.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(je,{htmlFor:"login-password",children:"Password"}),i.jsx(pe,{variant:"link",className:"px-0 font-normal h-auto text-xs",type:"button",children:"Forgot password?"})]}),i.jsx(rt,{id:"login-password",type:"password",value:w,onChange:I=>S(I.target.value),required:!0})]}),i.jsx(pe,{type:"submit",className:"w-full",disabled:m,style:{backgroundColor:R},children:m?"Signing in...":"Sign In"})]})}),i.jsx(sn,{value:"register",children:i.jsxs("form",{onSubmit:E,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"reg-name",children:"Full Name"}),i.jsx(rt,{id:"reg-name",value:N,onChange:I=>C(I.target.value),required:!0,placeholder:"John Doe"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"reg-email",children:"Email"}),i.jsx(rt,{id:"reg-email",type:"email",value:y,onChange:I=>x(I.target.value),required:!0,placeholder:"name@example.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"reg-password",children:"Password"}),i.jsx(rt,{id:"reg-password",type:"password",value:w,onChange:I=>S(I.target.value),required:!0,minLength:6}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters"})]}),i.jsx(pe,{type:"submit",className:"w-full",disabled:m,style:{backgroundColor:R},children:m?"Creating account...":"Create Account"})]})})]})})]}),i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:i.jsx(pe,{variant:"link",onClick:()=>{const I=uu("/",c.subdomain);n(I)},children:"Return to Store"})})]})})};function Vie(){return h_()?i.jsxs(m6,{children:[i.jsx(Dr,{path:"/",element:i.jsx(eu,{children:i.jsx(xW,{})})}),i.jsx(Dr,{path:"/products",element:i.jsx(eu,{children:i.jsx(yW,{})})}),i.jsx(Dr,{path:"/auth",element:i.jsx(eu,{children:i.jsx(NW,{})})}),i.jsx(Dr,{path:"/account",element:i.jsx(eu,{children:i.jsx(SW,{})})}),i.jsx(Dr,{path:"/product/:productId",element:i.jsx(eu,{children:i.jsx(wW,{})})}),i.jsx(Dr,{path:"/checkout",element:i.jsx(eu,{children:i.jsx(jW,{})})})]}):i.jsxs(m6,{children:[i.jsx(Dr,{path:"/store/:subdomain",element:i.jsx(eu,{children:i.jsx(xW,{})})}),i.jsx(Dr,{path:"/store/:subdomain/products",element:i.jsx(eu,{children:i.jsx(yW,{})})}),i.jsx(Dr,{path:"/store/:subdomain/auth",element:i.jsx(eu,{children:i.jsx(NW,{})})}),i.jsx(Dr,{path:"/store/:subdomain/account",element:i.jsx(eu,{children:i.jsx(SW,{})})}),i.jsx(Dr,{path:"/store/:subdomain/product/:productId",element:i.jsx(eu,{children:i.jsx(wW,{})})}),i.jsx(Dr,{path:"/store/:subdomain/checkout",element:i.jsx(eu,{children:i.jsx(jW,{})})})]})}const mrt=()=>{const t=rs(),r=Vi().state||{},[n]=b.useState(r.storeProductId),[s,a]=b.useState(!1),[o,l]=b.useState(null),[c,u]=b.useState(null),[d,h]=b.useState([]),[p,f]=b.useState([]),[m,g]=b.useState(!1),[y,x]=b.useState(null),[w,S]=b.useState({}),[N,C]=b.useState({}),A=b.useRef({}),k={scaleX:45,scaleY:45,contrastBoost:2},[E,T]=b.useState(k),R=b.useRef({}),[I,L]=b.useState({}),[U,$]=b.useState({}),[q,G]=b.useState(!1),[W,B]=b.useState(!1),[O,K]=b.useState({}),[Y,D]=b.useState([]),[Z,ie]=b.useState([]),[he,J]=b.useState({}),[ae,ne]=b.useState(null),[se,Q]=b.useState([]),[re,le]=b.useState(null),ve=(Ee,Re,We,Ge)=>{const ze=Ge.width,ot=Ge.height,lt=800,yt=600,Pt=40,ct=lt-Pt*2,zt=yt-Pt*2,jt=Math.min(ct/ze,zt/ot),At=Re/We;let Ht=ct,Vt=Ht/At;Vt>zt&&(Vt=zt,Ht=zt*At);const It=Pt+(ct-Ht)/2,Qt=Pt+(zt-Vt)/2,Ut=Re/Ht;if(Ee.xIn!==void 0||Ee.widthIn!==void 0){const Te=Ee.xIn||0,vt=Ee.yIn||0,Ct=Ee.widthIn||0,qt=Ee.heightIn||0,Nr=Ee.rotationDeg||Ee.rotation||0,Or=Pt+Te*jt,fr=Pt+vt*jt,lr=Ct*jt,br=qt*jt,er=Or-It,bn=fr-Qt,ls=er*Ut,Qs=bn*Ut,ya=lr*Ut,qi=br*Ut;return console.log(" Converted inches to raw image pixels:",{input:{xIn:Te,yIn:vt,widthIn:Ct,heightIn:qt},physicalDims:{physW:ze,physH:ot},canvasGeometry:{pxPerInchCanvas:jt.toFixed(2),imgCanvasW:Ht.toFixed(1),imgCanvasH:Vt.toFixed(1),imgStageX:It.toFixed(1),imgStageY:Qt.toFixed(1)},stageCoords:{xStage:Or.toFixed(1),yStage:fr.toFixed(1),wStage:lr.toFixed(1),hStage:br.toFixed(1)},relativeToImage:{xRelStage:er.toFixed(1),yRelStage:bn.toFixed(1)},scaleToRaw:Ut.toFixed(3),output:{x:Math.round(ls),y:Math.round(Qs),width:Math.round(ya),height:Math.round(qi),rotation:Nr}}),{x:ls,y:Qs,width:ya,height:qi,rotation:Nr}}else return{x:Ee.x||0,y:Ee.y||0,width:Ee.width||0,height:Ee.height||0,rotation:Ee.rotationDeg||Ee.rotation||0}},fe=async(Ee,Re,We,Ge)=>new Promise((ze,ot)=>{const lt=document.createElement("canvas"),yt=lt.getContext("2d");if(!yt)return ot("Could not get canvas context");const Pt=new Image;Pt.crossOrigin="anonymous",Pt.onload=()=>{lt.width=Pt.width,lt.height=Pt.height,yt.drawImage(Pt,0,0);const ct=new Image;ct.crossOrigin="anonymous",ct.onload=()=>{const{x:zt,y:jt,width:At,height:Ht,rotation:Vt}=ve(We,Pt.width,Pt.height,Ge);if(At<=0||Ht<=0){console.warn(" Invalid placeholder dimensions after conversion:",{x:zt,y:jt,width:At,height:Ht}),ze(lt.toDataURL("image/png"));return}yt.save();const It=zt+At/2,Qt=jt+Ht/2;yt.translate(It,Qt),yt.rotate(Vt*Math.PI/180),yt.beginPath(),yt.rect(-At/2,-Ht/2,At,Ht),yt.clip();const Ut=ct.width/ct.height,Zt=At/Ht;let Te,vt,Ct,qt;Ut>Zt?(vt=Ht,Te=Ht*Ut,Ct=-Te/2,qt=-Ht/2):(Te=At,vt=At/Ut,Ct=-At/2,qt=-vt/2),yt.drawImage(ct,Ct,qt,Te,vt),yt.restore();try{ze(lt.toDataURL("image/png"))}catch(Nr){console.error("Canvas export failed (likely CORS):",Nr),ot(Nr)}},ct.onerror=()=>ot("Failed to load design image"),ct.src=Re},Pt.onerror=()=>ot("Failed to load mockup image"),Pt.src=Ee});b.useEffect(()=>{(async()=>{if(!n){l("Missing storeProductId. Please go back to the design editor and try again.");return}try{a(!0),l(null);const Re=await La.getById(n);Re&&Re.success!==!1?u(Re.data):l("Failed to load store product")}catch(Re){l((Re==null?void 0:Re.message)||"Failed to load store product")}finally{a(!1)}})()},[n]),b.useEffect(()=>{const Ee=async()=>{if(c!=null&&c.catalogProductId)try{g(!0);const Re=await Di.getById(c.catalogProductId);if(Re&&Re.success!==!1&&Re.data){const We=Re.data;Array.isArray(We.availableColors)&&We.availableColors.length>0&&Q(We.availableColors),Array.isArray(We.variants)&&f(We.variants);const Ge=We.design||{},ze=Ge.sampleMockups||[];h(ze);const ot=Ge.physicalDimensions;x(ot?{width:ot.width||20,height:ot.height||24}:{width:20,height:24}),console.log(" Loaded sampleMockups from productcatalogs:",{catalogProductId:c.catalogProductId,sampleMockupsCount:ze.length,physicalDimensions:ot||"using defaults (20x24)",sampleMockups:ze.map(lt=>{var yt;return{id:lt.id,viewKey:lt.viewKey,imageUrl:lt.imageUrl?"present":"missing",placeholders:(yt=lt.placeholders)==null?void 0:yt.map(Pt=>({id:Pt.id,xIn:Pt.xIn,yIn:Pt.yIn,widthIn:Pt.widthIn,heightIn:Pt.heightIn}))}})})}}catch(Re){console.error(" Error loading sampleMockups from productcatalogs:",Re)}finally{g(!1)}};c!=null&&c.catalogProductId&&Ee()},[c==null?void 0:c.catalogProductId]);const X=(c==null?void 0:c.designData)||{};b.useEffect(()=>{if(c!=null&&c.designData){const Ee=c.designData;Array.isArray(Ee.selectedColors)?D(Ee.selectedColors):r.selectedColors&&Array.isArray(r.selectedColors)&&D(r.selectedColors),Array.isArray(Ee.selectedSizes)?ie(Ee.selectedSizes):r.selectedSizes&&Array.isArray(r.selectedSizes)&&ie(r.selectedSizes),Ee.selectedSizesByColor&&typeof Ee.selectedSizesByColor=="object"&&J(Ee.selectedSizesByColor),typeof Ee.primaryColorHex=="string"?ne(Ee.primaryColorHex):r.primaryColorHex&&typeof r.primaryColorHex=="string"&&ne(r.primaryColorHex),console.log(" Extracted color/size selections from designData:",{selectedColors:Ee.selectedColors||r.selectedColors,selectedSizes:Ee.selectedSizes||r.selectedSizes,selectedSizesByColor:Ee.selectedSizesByColor,primaryColorHex:Ee.primaryColorHex||r.primaryColorHex})}},[c==null?void 0:c.designData,r.selectedColors,r.selectedSizes,r.primaryColorHex]),b.useEffect(()=>{const Ee=Y.length>0?Y:se;Ee.length>0&&!re&&le(Ee[0])},[Y,se,re]);const ce=Ee=>{const Re={black:"#000000",white:"#FFFFFF",red:"#FF0000",blue:"#0000FF",green:"#008000",yellow:"#FFFF00",orange:"#FFA500",purple:"#800080",pink:"#FFC0CB",brown:"#A52A2A",grey:"#808080",gray:"#808080",navy:"#000080",maroon:"#800000",olive:"#808000",lime:"#00FF00",aqua:"#00FFFF",teal:"#008080",silver:"#C0C0C0",gold:"#FFD700",beige:"#F5F5DC",tan:"#D2B48C",khaki:"#F0E68C",coral:"#FF7F50",salmon:"#FA8072",turquoise:"#40E0D0",lavender:"#E6E6FA",ivory:"#FFFFF0",cream:"#FFFDD0",mint:"#98FF98",peach:"#FFE5B4","cerulean frost":"#6D9BC3",cerulean:"#6D9BC3","cobalt blue":"#0047AB",amber:"#FFBF00",frosted:"#E8E8E8",natural:"#FAF0E6","beige-gray":"#9F9F9F",clear:"#FFFFFF",kraft:"#D4A574"},We=Ee.toLowerCase().trim();return Re[We]||"#CCCCCC"};re&&ce(re);const Pe=Y.length>0?Y:se,ke=b.useMemo(()=>{let Ee=d.filter(Re=>!Re.colorKey||re&&Re.colorKey===re);if(re&&p.length>0){const Re=p.find(We=>We.color===re);Re&&Re.viewImages&&["front","back","left","right"].forEach(We=>{var ot;const Ge=Re.viewImages[We];if(!Ge)return;if(!Ee.some(lt=>lt.viewKey===We)){const lt=(ot=X==null?void 0:X.views)==null?void 0:ot.find(Pt=>Pt.key===We),yt=(lt==null?void 0:lt.placeholders)||[];Ee.push({id:`variant-${Re.id}-${We}`,viewKey:We,colorKey:re,imageUrl:Ge,placeholders:yt,displacementSettings:null,isVariantFallback:!0})}})}return Ee},[d,re,p,X]),oe=b.useCallback(Ee=>{let Re=d.filter(We=>!We.colorKey||We.colorKey===Ee);if(p.length>0){const We=p.find(Ge=>Ge.color===Ee);We&&We.viewImages&&["front","back","left","right"].forEach(Ge=>{var lt;const ze=We.viewImages[Ge];if(!ze)return;if(!Re.some(yt=>yt.viewKey===Ge)){const yt=(lt=X==null?void 0:X.views)==null?void 0:lt.find(ct=>ct.key===Ge),Pt=(yt==null?void 0:yt.placeholders)||[];Re.push({id:`variant-${We._id||We.id}-${Ge}-${Ee.replace(/\s+/g,"-")}`,viewKey:Ge,colorKey:Ee,imageUrl:ze,placeholders:Pt,displacementSettings:null,isVariantFallback:!0})}})}return Re},[d,p,X]),Oe=b.useMemo(()=>(Pe.length>0?Pe:[]).map(Re=>({color:Re,colorHex:ce(Re),mockups:oe(Re)})),[Pe,oe,ce]),Ie=(()=>{const Ee={};return X.views&&typeof X.views=="object"&&Object.keys(X.views).forEach(Re=>{const We=Re.toLowerCase(),Ge=X.views[Re];Ge!=null&&Ge.imageUrl&&(Ee[We]=Ge.imageUrl)}),X.designUrlsByPlaceholder&&typeof X.designUrlsByPlaceholder=="object"&&Object.keys(X.designUrlsByPlaceholder).forEach(Re=>{const We=Re.toLowerCase(),Ge=X.designUrlsByPlaceholder[Re];if(Ge&&typeof Ge=="object"){const ze=Object.values(Ge);ze.length>0&&typeof ze[0]=="string"&&(Ee[We]=ze[0])}}),Array.isArray(X.elements)&&X.elements.length>0&&X.elements.forEach(Re=>{if((Re==null?void 0:Re.type)==="image"&&(Re!=null&&Re.imageUrl)&&(Re==null?void 0:Re.visible)!==!1){const We=(Re.view||"front").toLowerCase();Ee[We]||(Ee[We]=Re.imageUrl)}}),X.savedPreviewImages&&typeof X.savedPreviewImages=="object"&&Object.keys(X.savedPreviewImages).forEach(Re=>{const We=Re.toLowerCase();!Ee[We]&&X.savedPreviewImages[Re]&&(Ee[We]=X.savedPreviewImages[Re])}),console.log(" Extracted designImagesByView:",Ee),Ee})();b.useEffect(()=>{(async()=>{if(d.length===0){console.log(" No sample mockups to generate previews for");return}if(!(Object.keys(Ie).length>0)){console.log(" No design images found to composite onto mockups"),console.log("   designData structure:",{hasViews:!!X.views,hasElements:Array.isArray(X.elements)?X.elements.length:0,hasDesignUrlsByPlaceholder:!!X.designUrlsByPlaceholder,hasSavedPreviewImages:!!X.savedPreviewImages});return}if(!y){console.log(" Waiting for catalog physical dimensions...");return}console.log(" Starting preview generation for",d.length,"mockups"),console.log("   Available design images by view:",Ie),console.log("   Physical dimensions:",y);const We=d.map(async Ge=>{var Pt;if(!Ge.id||!Ge.imageUrl){console.log(" Skipping mockup (no id or imageUrl):",Ge);return}const ot=(Ge.viewKey||"front").toLowerCase(),lt=Ie[ot];if(!lt){console.log(` No design image for view "${ot}" (mockup ${Ge.id})`);return}const yt=`${Ge.id}:${lt}`;if(A.current[yt]){console.log(` Using cached preview for mockup ${Ge.id}`),S(ct=>({...ct,[Ge.id]:A.current[yt]}));return}if(N[Ge.id]){console.log(` Already generating preview for mockup ${Ge.id}`);return}try{C(jt=>({...jt,[Ge.id]:!0}));const ct=(Pt=Ge.placeholders)==null?void 0:Pt[0];if(!ct){console.warn(` No placeholders for mockup ${Ge.id}`);return}console.log(` Generating preview for mockup ${Ge.id}:`,{viewKey:ot,designImageUrl:lt.substring(0,50)+"...",placeholder:{xIn:ct.xIn,yIn:ct.yIn,widthIn:ct.widthIn,heightIn:ct.heightIn,rotationDeg:ct.rotationDeg||0},physicalDimensions:y});const zt=await fe(Ge.imageUrl,lt,ct,y);A.current[yt]=zt,S(jt=>({...jt,[Ge.id]:zt})),console.log(` Generated preview for mockup ${Ge.id}`)}catch(ct){console.error(` Failed to generate preview for mockup ${Ge.id}:`,ct)}finally{C(ct=>({...ct,[Ge.id]:!1}))}});await Promise.all(We)})()},[d,Ie,y]);const He=b.useCallback(async Ee=>{const Re=R.current[Ee];if(!Re)return console.warn(`WebGL container not found for mockup ${Ee}`),null;await new Promise(Ge=>setTimeout(Ge,300)),await new Promise(requestAnimationFrame),await new Promise(requestAnimationFrame);let We=Re.querySelector("canvas");if(!We){const Ge=Re.querySelectorAll("div");for(const ze of Array.from(Ge))if(We=ze.querySelector("canvas"),We)break}return We?new Promise(Ge=>{We.toBlob(async ze=>{if(!ze){console.error("Failed to convert canvas to blob"),Ge(null);return}try{const ot=new FormData;ot.append("image",ze,`mockup-preview-${Ee}.png`);const lt=Fq,yt=localStorage.getItem("token"),Pt={};yt&&(Pt.Authorization=`Bearer ${yt}`);const zt=await(await fetch(`${lt}/api/upload/image`,{method:"POST",headers:Pt,body:ot})).json();zt.success&&zt.url?(console.log(` Uploaded WebGL preview for mockup ${Ee}:`,zt.url),Ge(zt.url)):(console.error("Failed to upload preview:",zt.message),Ge(null))}catch(ot){console.error("Error uploading preview:",ot),Ge(null)}},"image/png",1)}):(console.warn(`Canvas element not found for mockup ${Ee}`),null)},[]),nt=b.useCallback(async Ee=>{if(!n){$e.error("No store product ID available");return}$(Re=>({...Re,[Ee]:!0}));try{const Re=await He(Ee);if(!Re){$e.error("Failed to capture preview");return}const We=ke.find(ze=>ze.id===Ee),Ge=(We==null?void 0:We.viewKey)||"front";await La.updateDesignPreview(n,{viewKey:`mockup-${Ee}`,previewUrl:Re}),L(ze=>({...ze,[Ee]:Re})),$e.success(`Saved preview for ${Ge} mockup`)}catch(Re){console.error("Failed to save mockup preview:",Re),$e.error((Re==null?void 0:Re.message)||"Failed to save preview")}finally{$(Re=>({...Re,[Ee]:!1}))}},[n,He,ke]),ft=b.useCallback(async()=>{if(!n){$e.error("No store product ID available");return}const Ee=[];for(const{color:Ge,mockups:ze}of Oe)for(const ot of ze)ot.id&&Ee.push({color:Ge,mockup:ot});if(Ee.length===0){$e.warning("No mockups to save");return}B(!0);const Re={};let We=0;$e.info(`Saving ${Ee.length} mockup previews across ${Oe.length} color(s)...`);for(const{color:Ge,mockup:ze}of Ee){const ot=`${Ge}:${ze.id}`;$(lt=>({...lt,[ot]:!0}));try{await new Promise(yt=>setTimeout(yt,500));const lt=await He(ot);lt&&(Re[ot]=lt,We++,await La.updateDesignPreview(n,{viewKey:`mockup-${Ge.replace(/\\s+/g,"-")}-${ze.viewKey||"front"}`,previewUrl:lt}))}catch(lt){console.error(`Failed to save mockup ${ot}:`,lt)}finally{$(lt=>({...lt,[ot]:!1}))}}L(Ge=>({...Ge,...Re})),G(We===Ee.length),B(!1),We===Ee.length?$e.success(`All ${We} mockup previews saved for ${Oe.length} color(s)!`):$e.warning(`Saved ${We} of ${Ee.length} previews`)},[n,Oe,He]);b.useCallback(Ee=>{K(Re=>({...Re,[Ee]:!0}))},[]);const Fe=X.previewImagesByView||{},Ae=Array.isArray(X.elements)?X.elements.filter(Ee=>(Ee==null?void 0:Ee.type)==="image"&&(Ee==null?void 0:Ee.imageUrl)):[],it=Ae.reduce((Ee,Re)=>{const We=Re.view||"default";return Ee[We]||(Ee[We]=[]),Ee[We].push(Re),Ee},{});return i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("main",{className:"max-w-9xl px-3 py-8",children:[i.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[i.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:i.jsx(ao,{className:"h-4 w-4"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Mockups library"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Preview design data fetched from the store product and prepare for mockup generation."})]})]}),o&&i.jsxs(Ze,{className:"mb-6 border-destructive/40 bg-destructive/5",children:[i.jsxs(yr,{className:"flex flex-row items-center gap-2 pb-2",children:[i.jsx(lS,{className:"h-4 w-4 text-destructive"}),i.jsx(vr,{className:"text-sm",children:"Error"})]}),i.jsx(Tt,{className:"text-sm text-destructive",children:o})]}),s&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading store product"}),!s&&!o&&c&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs(Ze,{className:"lg:col-span-1",children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Store product"}),i.jsx(Xr,{children:"Basic information and status"})]}),i.jsxs(Tt,{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Title"}),i.jsx("p",{className:"font-medium",children:c.title||r.title||"Untitled product"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Status"}),i.jsx("p",{className:"font-medium capitalize",children:c.status||"draft"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Price"}),i.jsx("p",{className:"font-medium",children:c.sellingPrice?`$${c.sellingPrice.toFixed(2)}`:"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Store product ID"}),i.jsx("p",{className:"font-mono text-xs break-all",children:n})]})]})]}),i.jsxs(Ze,{className:"lg:col-span-2",children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Design previews"}),i.jsxs(Xr,{children:["Preview images per view (front, back, etc.) from stored preview URLs or image elements in ",i.jsx("code",{children:"designData.elements"}),"."]})]}),i.jsx(Tt,{children:Object.keys(Fe).length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Object.entries(Fe).map(([Ee,Re])=>i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"border rounded-lg overflow-hidden bg-muted",children:i.jsx("img",{src:Re,alt:`${Ee} preview`,className:"w-full h-auto max-h-[420px] object-contain"})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(pe,{variant:"outline",size:"sm",asChild:!0,children:i.jsx("a",{href:Re,target:"_blank",rel:"noreferrer",children:"Open original"})}),i.jsx(pe,{variant:"outline",size:"sm",asChild:!0,children:i.jsx("a",{href:Re,download:!0,target:"_blank",rel:"noreferrer",children:"Download"})})]})]},Ee))}):Ae.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Object.entries(it).map(([Ee,Re])=>i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 gap-4",children:Re.map((We,Ge)=>i.jsx("div",{className:"border rounded-lg bg-muted overflow-hidden",children:i.jsx("img",{src:We.imageUrl,alt:`${Ee} design element ${Ge+1}`,className:"w-full h-auto max-h-[260px] object-contain bg-background"})},`${Ee}-${Ge}`))})},Ee))}):i.jsxs("div",{className:"border rounded-lg bg-muted/40 p-8 text-center text-muted-foreground",children:[i.jsx(ca,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm mb-1",children:"No preview images or image elements found for this design."}),i.jsx("p",{className:"text-xs",children:"Create image elements in the design editor, then save/publish the design."})]})})]})]}),!s&&!o&&!c&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"No store product loaded."}),c&&i.jsxs("div",{className:"mt-8 space-y-6",children:[Pe.length>0&&i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Choose a color to preview on the mockups"}),i.jsx(Xr,{children:'Previews will be generated for all colors below. Click "Save All Previews" to save.'})]}),i.jsx(Tt,{children:i.jsx("div",{className:"flex flex-wrap gap-3",children:Pe.map(Ee=>{const Re=ce(Ee);return i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md border bg-background",children:[i.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:Re}}),i.jsx("span",{className:"text-sm font-medium capitalize",children:Ee})]},Ee)})})})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{className:"flex flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(vr,{children:"Realistic Mockup Previews"}),i.jsxs(Xr,{children:["WebGL-rendered realistic previews with displacement mapping",i.jsxs("span",{className:"ml-2",children:[" ",Oe.length," color(s)  ",d.length," mockup(s)"]})]})]}),Oe.length>0&&Object.keys(Ie).length>0&&i.jsx(pe,{onClick:ft,disabled:W||q,className:"gap-2",children:W?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"h-4 w-4 animate-spin"}),"Saving All..."]}):q?i.jsxs(i.Fragment,{children:[i.jsx(Gi,{className:"h-4 w-4"}),"All Saved"]}):i.jsxs(i.Fragment,{children:[i.jsx(Kb,{className:"h-4 w-4"}),"Save All Previews"]})})]}),i.jsx(Tt,{children:m?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading sample mockups..."})]})}):Oe.length>0?i.jsx("div",{className:"space-y-8",children:Oe.map(({color:Ee,colorHex:Re,mockups:We})=>{const Ge=ze=>`${Ee}:${ze}`;return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b",children:[i.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-md",style:{backgroundColor:Re}}),i.jsx("span",{className:"text-lg font-semibold capitalize",children:Ee}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",We.length," mockup",We.length!==1?"s":"",")"]})]}),i.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 gap-4",children:We.map((ze,ot)=>{var Vt;const lt=(ze.viewKey||"front").toLowerCase(),yt=!!Ie[lt],Pt=Array.isArray(ze.placeholders)&&ze.placeholders.length>0,ct=Ge(ze.id),zt=U[ct],jt=!!I[ct],At=ze.displacementSettings||E||k,Ht={};return yt&&Pt&&ze.placeholders.forEach(It=>{It.id&&Ie[lt]&&(Ht[It.id]=Ie[lt])}),i.jsxs("div",{className:"border rounded-lg bg-background overflow-hidden",children:[i.jsxs("div",{className:"px-4 py-3 border-b bg-muted/30 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium capitalize",children:ze.viewKey||"front"}),yt?i.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-1.5 py-0.5 rounded",children:" Design"}):i.jsx("span",{className:"text-[10px] bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded",children:" No design"})]}),i.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>nt(ze.id),disabled:zt||!yt,className:"gap-1",children:[zt?i.jsx(Zn,{className:"h-3 w-3 animate-spin"}):jt?i.jsx(Gi,{className:"h-3 w-3"}):i.jsx(Kb,{className:"h-3 w-3"}),zt?"...":jt?"":"Save"]})]}),ze.imageUrl&&yt&&Pt&&y?i.jsx("div",{ref:It=>{R.current[ct]=It},className:"relative bg-white flex justify-center items-center",style:{minHeight:350},children:i.jsx(nJ,{mockupImageUrl:ze.imageUrl,activePlaceholder:null,placeholders:(ze.placeholders||[]).map(It=>({...It,rotationDeg:It.rotationDeg??0})),physicalWidth:y.width,physicalHeight:y.height,settings:At,onSettingsChange:It=>{d.forEach(Qt=>{Qt.id===ze.id&&(Qt.displacementSettings=It)})},designUrlsByPlaceholder:Ht,previewMode:!0,currentView:lt,canvasPadding:40,PX_PER_INCH:Math.min(720/y.width,520/y.height)},`webgl-${ct}-${((Vt=Ie[lt])==null?void 0:Vt.slice(-20))||""}`)}):ze.imageUrl?i.jsxs("div",{className:"relative bg-muted flex items-center justify-center",style:{minHeight:350},children:[i.jsx("img",{src:ze.imageUrl,alt:`${Ee} ${ze.viewKey||"front"} mockup`,className:"max-w-full h-auto max-h-[350px] object-contain",crossOrigin:"anonymous"}),!yt&&i.jsx("div",{className:"absolute inset-0 bg-background/80 flex items-center justify-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["No design for ",lt]})})]}):i.jsx("div",{className:"h-[350px] flex items-center justify-center bg-muted",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No mockup image"})})]},ct||ot)})})]},Ee)})}):c.catalogProductId?i.jsxs("div",{className:"border rounded-lg bg-muted/40 p-8 text-center text-muted-foreground",children:[i.jsx(ca,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm mb-1",children:"No sample mockups found in product catalog."}),i.jsx("p",{className:"text-xs",children:"The product catalog may not have sample mockups configured."})]}):i.jsx("div",{className:"border rounded-lg bg-muted/40 p-4 text-center text-sm text-muted-foreground",children:i.jsx("p",{children:"No catalogProductId available to fetch sample mockups."})})})]}),Oe.length>0&&Object.keys(I).length>0&&i.jsx("div",{className:"flex justify-end",children:i.jsx(pe,{size:"lg",onClick:()=>{t("/listing-editor",{state:{...r,storeProductId:n,savedMockupUrls:I}})},children:"Continue to Listing Editor "})})]})]})})},grt=()=>{const{user:t}=Ba(),e=rs(),[r,n]=b.useState([]),[s,a]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState("");return b.useEffect(()=>{t&&(async()=>{try{l(!0);const h=await ua.listMyStores();if(h.success){const p=h.data||[];n(p),a(p)}}catch(h){console.error("Error fetching stores:",h),$e.error("Failed to load stores: "+((h==null?void 0:h.message)||"Unknown error"))}finally{l(!1)}})()},[t]),b.useEffect(()=>{if(!c.trim()){a(r);return}const d=r.filter(h=>{var p;return h.storeName.toLowerCase().includes(c.toLowerCase())||h.subdomain.toLowerCase().includes(c.toLowerCase())||((p=h.description)==null?void 0:p.toLowerCase().includes(c.toLowerCase()))});a(d)},[c,r]),o?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx(Zn,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading stores..."})]})}):i.jsx("div",{className:"min-h-screen bg-background p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pop-Up Stores"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage and view all your pop-up stores"})]}),i.jsx(pe,{onClick:()=>e("/stores"),variant:"outline",children:"Back to Stores"})]}),i.jsx(Ze,{children:i.jsx(Tt,{className:"pt-6",children:i.jsxs("div",{className:"relative",children:[i.jsx(pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(rt,{placeholder:"Search stores by name, subdomain, or description...",value:c,onChange:d=>u(d.target.value),className:"pl-10"})]})})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(Ze,{children:[i.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(vr,{className:"text-sm font-medium",children:"Total Stores"}),i.jsx(Lo,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Tt,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"All your stores"})]})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(vr,{className:"text-sm font-medium",children:"Active Stores"}),i.jsx(al,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Tt,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.filter(d=>{var h;return d.useBuilder||((h=d.productIds)==null?void 0:h.length)>0}).length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Stores with content"})]})]}),i.jsxs(Ze,{children:[i.jsxs(yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(vr,{className:"text-sm font-medium",children:"Total Products"}),i.jsx(Sr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Tt,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.reduce((d,h)=>{var p;return d+(((p=h.productIds)==null?void 0:p.length)||0)},0)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all stores"})]})]})]}),s.length===0?i.jsxs(Ze,{className:"p-12 text-center",children:[i.jsx(Lo,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:c?"No stores found":"No stores yet"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:c?"Try adjusting your search terms":"Create your first store to start selling your products"}),!c&&i.jsxs(pe,{onClick:()=>e("/stores"),className:"gap-2",children:[i.jsx(Lo,{className:"h-4 w-4"}),"Go to Stores"]})]}):i.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:s.map(d=>{var h;return i.jsxs(Ze,{className:"p-6 flex flex-col justify-between gap-4 border-l-4 border-l-primary hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-bold text-lg truncate",children:d.storeName}),i.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[d.subdomain,".shelfmerch.com"]}),d.description&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:d.description})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.useBuilder&&i.jsxs(Ot,{variant:"secondary",className:"text-xs flex items-center gap-1 bg-green-100 text-green-700 border-green-200",children:[i.jsx(al,{className:"w-3 h-3"}),"Builder"]}),i.jsx(Ot,{variant:"outline",className:"text-xs",children:"Active"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Sr,{className:"w-4 h-4"}),i.jsxs("span",{children:[((h=d.productIds)==null?void 0:h.length)||0," products"]})]}),d.builderLastPublishedAt&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(kf,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-xs",children:["Published ",new Date(d.builderLastPublishedAt).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex flex-col gap-2 pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pe,{variant:"outline",size:"sm",className:"flex-1",asChild:!0,children:i.jsxs("a",{href:QJ(d.subdomain),target:"_blank",rel:"noreferrer",children:[i.jsx(Vy,{className:"w-4 h-4 mr-2"}),"Visit Store"]})}),i.jsx(pe,{variant:"default",size:"sm",className:"flex-1",onClick:()=>e("/dashboard"),children:"Dashboard"})]}),i.jsxs(pe,{variant:"secondary",size:"sm",className:"w-full",onClick:()=>e(`/stores/${d.id}/builder`),children:[i.jsx(EV,{className:"w-4 h-4 mr-2"}),"Customize Storefront"]})]})]},d.id)})})]})})},xrt=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,a]=b.useState(null),[o,l]=b.useState(null);b.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const[h,p]=await Promise.all([bw.listForMerchant(),xg.getBalance()]);e(h||[]),p&&p.success&&p.data?l(p.data):p&&p.balancePaise!==void 0&&l(p)}catch(h){a((h==null?void 0:h.message)||"Failed to load data")}finally{n(!1)}},u=h=>{switch(h){case"paid":return"bg-green-500/10 text-green-500";case"pending":return"bg-yellow-500/10 text-yellow-500";case"insufficient_funds":return"bg-orange-500/10 text-orange-500";case"cancelled":return"bg-red-500/10 text-red-500";default:return"bg-muted text-muted-foreground"}},d=h=>{switch(h){case"paid":return"Paid";case"pending":return"Pending";case"insufficient_funds":return"Insufficient Funds";case"cancelled":return"Cancelled";default:return h}};return i.jsx(mm,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-end mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Wallet & Invoices"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your fulfillment costs and invoices"})]}),i.jsx(Ze,{className:"p-4 bg-primary/5 border-primary/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vd,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-semibold",children:"Wallet Balance"}),i.jsxs("p",{className:"text-xl font-bold",children:["",o?o.balanceRupees:"0.00"]})]}),i.jsxs("div",{className:"flex gap-2 ml-4",children:[i.jsx(pe,{size:"sm",asChild:!0,children:i.jsx(_t,{to:"/wallet/top-up",children:"Top Up"})}),i.jsx(pe,{size:"sm",variant:"outline",asChild:!0,children:i.jsxs(_t,{to:"/wallet/transactions",children:[i.jsx(Cp,{className:"h-3 w-3 mr-1"}),"History"]})})]})]})})]}),s&&i.jsx("p",{className:"mb-4 text-sm text-destructive",children:s}),r?i.jsx("p",{className:"text-sm text-muted-foreground font-medium animate-pulse",children:"Loading invoices..."}):t.length===0?i.jsxs(Ze,{className:"p-12 text-center border-dashed",children:[i.jsx(xu,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("p",{className:"text-lg font-medium",children:"No invoices yet."}),i.jsx("p",{className:"text-muted-foreground",children:"Your fulfillment invoices will appear here once you receive orders."})]}):i.jsx(Ze,{className:"overflow-hidden border-shadow",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-muted/50 border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Invoice"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Store/Order"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Total Amount"}),i.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-border",children:t.map(h=>{var p,f,m,g,y,x;return i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-bold text-foreground",children:h.invoiceNumber}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Fulfillment"})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-medium",children:((p=h.storeId)==null?void 0:p.storeName)||"Store"}),i.jsxs(_t,{to:"/orders",className:"text-xs text-primary hover:underline flex items-center gap-1",children:["Order #",((f=h.orderId)==null?void 0:f.orderNumber)||((g=(m=h.orderId)==null?void 0:m._id)==null?void 0:g.slice(-6)),i.jsx(Vy,{className:"h-3 w-3"})]})]})}),i.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground italic",children:new Date(h.createdAt).toLocaleDateString(void 0,{dateStyle:"medium"})}),i.jsxs("td",{className:"px-6 py-4",children:[i.jsxs(Ot,{variant:"outline",className:`capitalize ${u(h.status)}`,children:[h.status==="paid"?i.jsx(al,{className:"h-3 w-3 mr-1"}):i.jsx(Jo,{className:"h-3 w-3 mr-1"}),d(h.status)]}),h.status==="insufficient_funds"&&((y=h.paymentDetails)==null?void 0:y.shortfallPaise)&&i.jsxs("p",{className:"text-xs text-orange-500 mt-1",children:["Shortfall: ",((h.paymentDetails.shortfallPaise||0)/100).toFixed(2)]})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"text-sm font-bold text-foreground",children:["",(x=h.totalAmount)==null?void 0:x.toFixed(2)]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:h.status==="paid"?i.jsx(pe,{variant:"outline",size:"sm",className:"font-medium",children:"Download PDF"}):h.status==="insufficient_funds"?i.jsx(pe,{variant:"outline",size:"sm",className:"font-medium",asChild:!0,children:i.jsx(_t,{to:"/wallet/top-up",children:"Top Up Wallet"})}):i.jsx(pe,{variant:"outline",size:"sm",className:"font-medium",disabled:!0,children:"Processing..."})})]},h._id)})})]})})})]})})},yrt=()=>{const{user:t}=Ba(),[e,r]=b.useState([]),[n,s]=b.useState(!0),[a,o]=b.useState(null),[l,c]=b.useState("");b.useEffect(()=>{(async()=>{try{s(!0);const p=await bw.listAll();p!=null&&p.success?r(p.data||[]):Array.isArray(p)?r(p):o((p==null?void 0:p.message)||"Failed to load invoices")}catch(p){o((p==null?void 0:p.message)||"Failed to load invoices")}finally{s(!1)}})()},[]);const u=h=>{switch(h){case"paid":return"bg-green-500/10 text-green-500";case"pending":return"bg-yellow-500/10 text-yellow-500";case"cancelled":return"bg-red-500/10 text-red-500";default:return"bg-muted text-muted-foreground"}},d=e.filter(h=>{var p,f,m;return h.invoiceNumber.toLowerCase().includes(l.toLowerCase())||((p=h.merchantId)==null?void 0:p.email.toLowerCase().includes(l.toLowerCase()))||((m=(f=h.storeId)==null?void 0:f.storeName)==null?void 0:m.toLowerCase().includes(l.toLowerCase()))});return i.jsx("div",{className:"min-h-screen bg-background p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(_t,{to:"/admin",className:"text-sm text-primary hover:underline flex items-center gap-1 mb-2",children:[i.jsx(ao,{className:"h-3 w-3"})," Back to Admin"]}),i.jsx("h1",{className:"text-3xl font-bold",children:"System Invoices"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor and manage all fulfillment invoices across the platform"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(pe,{variant:"outline",size:"sm",children:[i.jsx(xu,{className:"h-4 w-4 mr-2"})," Export All"]})})]}),i.jsx(Ze,{className:"p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(rt,{placeholder:"Search by invoice #, merchant email, or store...",className:"pl-10",value:l,onChange:h=>c(h.target.value)})]}),i.jsxs(pe,{variant:"outline",children:[i.jsx(m3,{className:"h-4 w-4 mr-2"})," Filter Invoices"]})]})}),a&&i.jsx("p",{className:"mb-4 text-sm text-destructive",children:a}),n?i.jsx("p",{className:"text-sm text-muted-foreground font-medium animate-pulse",children:"Loading all invoices..."}):d.length===0?i.jsxs(Ze,{className:"p-12 text-center border-dashed",children:[i.jsx(xu,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("p",{className:"text-lg font-medium",children:"No invoices found."})]}):i.jsx(Ze,{className:"overflow-hidden shadow-sm",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-muted/50 border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Invoice"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Merchant"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Store/Order"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold uppercase tracking-wider",children:"Date"})]})}),i.jsx("tbody",{className:"divide-y",children:d.map(h=>{var p,f,m,g,y,x,w,S;return i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"text-sm font-bold",children:h.invoiceNumber})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-medium",children:((p=h.merchantId)==null?void 0:p.name)||"User"}),i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(xh,{className:"h-3 w-3"})," ",(f=h.merchantId)==null?void 0:f.email]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{className:"text-sm font-medium flex items-center gap-1",children:[i.jsx(Lo,{className:"h-3 w-3 text-muted-foreground"})," ",((m=h.storeId)==null?void 0:m.storeName)||"Store"]}),i.jsxs(_t,{to:`/admin/orders/${(g=h.orderId)==null?void 0:g._id}`,className:"text-xs text-primary hover:underline flex items-center gap-1",children:["Order #",((y=h.orderId)==null?void 0:y.orderNumber)||((w=(x=h.orderId)==null?void 0:x._id)==null?void 0:w.slice(-6)),i.jsx(Vy,{className:"h-3 w-3"})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs(Ot,{variant:"outline",className:`capitalize ${u(h.status)}`,children:[h.status==="paid"?i.jsx(al,{className:"h-3 w-3 mr-1"}):i.jsx(Jo,{className:"h-3 w-3 mr-1"}),h.status]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"text-sm font-bold",children:["",(S=h.totalAmount)==null?void 0:S.toFixed(2)]})}),i.jsx("td",{className:"px-6 py-4 text-right text-sm text-muted-foreground italic",children:new Date(h.createdAt).toLocaleDateString()})]},h._id)})})]})})})]})})},vrt=()=>{const{user:t,logout:e,isAdmin:r}=Ba();rs();const[n,s]=b.useState(""),[a,o]=b.useState(!1),[l,c]=b.useState(null),[u,d]=b.useState(!0),[h,p]=b.useState("idle");b.useEffect(()=>{f()},[]);const f=async()=>{try{d(!0);const x=await xg.getBalance();c(x)}catch(x){console.error("Failed to load wallet balance:",x),$e.error("Failed to load wallet balance")}finally{d(!1)}},m=async x=>{x.preventDefault();const w=parseFloat(n);if(isNaN(w)||w<=0){$e.error("Please enter a valid amount");return}if(w<1){$e.error("Minimum top-up amount is 1");return}if(w>1e5){$e.error("Maximum top-up amount is 1,00,000");return}o(!0),p("pending");try{const S=Math.round(w*100),N=await xg.createTopupOrder(S);g(N.razorpayOrderId,N.razorpayKeyId,N.amountPaise,N.currency)}catch(S){console.error("Top-up error:",S),$e.error(S.message||"Failed to create payment order"),p("failed"),o(!1)}},g=(x,w,S,N)=>{const C={key:w,amount:S,currency:N,name:"ShelfMerch",description:"Wallet Top-up",order_id:x,handler:async function(k){p("success"),$e.success("Payment successful! Your wallet will be credited shortly."),setTimeout(async()=>{try{await f()}catch(E){console.error("Failed to refresh balance:",E)}o(!1),s(""),p("idle")},3e3)},prefill:{email:(t==null?void 0:t.email)||""},theme:{color:"#6366f1"},modal:{ondismiss:function(){o(!1),p("idle"),$e.info("Payment cancelled")}}},A=new window.Razorpay(C);A.on("payment.failed",function(k){console.error("Payment failed:",k.error),p("failed"),o(!1),$e.error(k.error.description||"Payment failed")}),A.open()},y=[100,500,1e3,5e3];return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs("aside",{className:"fixed left-0 top-0 h-full w-64 border-r bg-card p-6",children:[i.jsx(_t,{to:"/",className:"flex items-center space-x-2 mb-8",children:i.jsxs("span",{className:"font-heading text-xl font-bold text-foreground",children:["Shelf",i.jsx("span",{className:"text-primary",children:"Merch"})]})}),i.jsxs("nav",{className:"space-y-2",children:[i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/dashboard",children:[i.jsx(Sr,{className:"mr-2 h-4 w-4"}),"My Products"]})}),i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/orders",children:[i.jsx(pc,{className:"mr-2 h-4 w-4"}),"Orders"]})}),i.jsx(pe,{variant:"secondary",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/invoices",children:[i.jsx(xu,{className:"mr-2 h-4 w-4"}),"Wallet & Invoices"]})}),i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/customers",children:[i.jsx(xh,{className:"mr-2 h-4 w-4"}),"Customers"]})}),i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/stores",children:[i.jsx(Lo,{className:"mr-2 h-4 w-4"}),"My Stores"]})}),i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/analytics",children:[i.jsx(kf,{className:"mr-2 h-4 w-4"}),"Analytics"]})}),r&&i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/admin",children:[i.jsx(xh,{className:"mr-2 h-4 w-4"}),"Admin Panel"]})}),i.jsx(pe,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:i.jsxs(_t,{to:"/settings",children:[i.jsx(iy,{className:"mr-2 h-4 w-4"}),"Settings"]})})]}),i.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:i.jsxs("div",{className:"border-t pt-4 space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Signed in as"}),i.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.email}),i.jsxs(pe,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive",onClick:e,children:[i.jsx(g3,{className:"mr-2 h-4 w-4"}),"Log out"]})]})})]}),i.jsx("main",{className:"ml-64 p-8",children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx(pe,{variant:"ghost",asChild:!0,className:"mb-4 pl-0 hover:bg-transparent hover:text-primary",children:i.jsxs(_t,{to:"/invoices",className:"flex items-center gap-2",children:[i.jsx(ao,{className:"h-4 w-4"}),"Back to Wallet & Invoices"]})}),i.jsx("h1",{className:"text-3xl font-bold",children:"Add Money to Wallet"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Top up your wallet balance to pay for fulfillment orders"})]}),i.jsxs("div",{className:"grid gap-6",children:[i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Current Balance"}),i.jsx(Xr,{children:"Your available funds for order fulfillment"})]}),i.jsx(Tt,{children:i.jsxs("div",{className:"flex items-center gap-2 text-3xl font-bold text-primary",children:[i.jsx(vd,{className:"h-8 w-8"}),u?i.jsx("span",{className:"animate-pulse",children:"Loading..."}):i.jsxs("span",{children:["",(l==null?void 0:l.balanceRupees)||"0.00"]})]})})]}),h==="success"&&i.jsx(Ze,{className:"border-green-500/50 bg-green-500/5",children:i.jsx(Tt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[i.jsx(al,{className:"h-6 w-6"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Payment Successful!"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Your wallet balance is being updated. This may take a few seconds."})]})]})})}),i.jsxs(Ze,{children:[i.jsxs(yr,{children:[i.jsx(vr,{children:"Top Up Amount"}),i.jsx(Xr,{children:"Enter the amount you want to add to your wallet"})]}),i.jsx(Tt,{children:i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:y.map(x=>i.jsxs(pe,{type:"button",variant:n===x.toString()?"default":"outline",size:"sm",onClick:()=>s(x.toString()),children:["",x.toLocaleString()]},x))}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"amount",children:"Amount ()"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:""}),i.jsx(rt,{id:"amount",type:"number",min:"1",max:"100000",step:"1",placeholder:"0.00",className:"pl-8 text-lg",value:n,onChange:x=>s(x.target.value),required:!0,disabled:a})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Min: 1 | Max: 1,00,000"})]}),i.jsx("div",{className:"pt-4",children:i.jsx(pe,{type:"submit",className:"w-full h-11 text-lg",disabled:a||!n||parseFloat(n)<1,children:a?i.jsx(i.Fragment,{children:"Processing Payment..."}):i.jsxs(i.Fragment,{children:[i.jsx(wV,{className:"mr-2 h-5 w-5"}),"Proceed to Pay ",n||"0"]})})}),i.jsxs("div",{className:"flex items-start gap-2 pt-2 text-xs text-muted-foreground",children:[i.jsx(ju,{className:"h-4 w-4 mt-0.5 shrink-0"}),i.jsx("p",{children:"Payments are processed securely via Razorpay. Your wallet will be credited once payment is confirmed (usually within a few seconds)."})]})]})})]})]})]})})]})},brt=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,a]=b.useState(null),[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,h]=b.useState(!1);b.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0);const[w,S]=await Promise.all([xg.getBalance(),xg.getTransactions({limit:20})]);a(w);const N=Array.isArray(S)?S:S.data||[],C=Array.isArray(S)?null:S.pagination;e(N),l((C==null?void 0:C.hasMore)||!1),u((C==null?void 0:C.nextCursor)||null)}catch(w){$e.error(w.message||"Failed to load transactions")}finally{n(!1)}},f=async()=>{if(!(!c||d))try{h(!0);const w=await xg.getTransactions({limit:20,cursor:c}),S=Array.isArray(w)?w:w.data||[],N=Array.isArray(w)?null:w.pagination;e(C=>[...C,...S]),l((N==null?void 0:N.hasMore)||!1),u((N==null?void 0:N.nextCursor)||null)}catch{$e.error("Failed to load more transactions")}finally{h(!1)}},m=(w,S)=>S==="CREDIT"?i.jsx(Rce,{className:"h-4 w-4 text-green-500"}):i.jsx(vV,{className:"h-4 w-4 text-red-500"}),g=w=>{switch(w){case"TOPUP":return"Top-up";case"DEBIT":return"Payment";case"REFUND":return"Refund";case"ADJUSTMENT":return"Adjustment";default:return w}},y=w=>{switch(w){case"RAZORPAY":return i.jsx(wV,{className:"h-3 w-3"});case"ORDER":return i.jsx(vd,{className:"h-3 w-3"});case"ADMIN":return i.jsx(ha,{className:"h-3 w-3"});default:return null}},x=w=>{switch(w){case"SUCCESS":return i.jsx(Ot,{variant:"outline",className:"bg-green-500/10 text-green-500",children:"Success"});case"PENDING":return i.jsx(Ot,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500",children:"Pending"});case"FAILED":return i.jsx(Ot,{variant:"outline",className:"bg-red-500/10 text-red-500",children:"Failed"});default:return i.jsx(Ot,{variant:"outline",children:w})}};return i.jsx(mm,{children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx(pe,{variant:"ghost",asChild:!0,className:"mb-4 pl-0 hover:bg-transparent hover:text-primary",children:i.jsxs(_t,{to:"/invoices",className:"flex items-center gap-2",children:[i.jsx(ao,{className:"h-4 w-4"}),"Back to Wallet & Invoices"]})}),i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(Cp,{className:"h-8 w-8"}),"Transaction History"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"View all your wallet transactions"})]}),i.jsx(Ze,{className:"p-4 bg-primary/5 border-primary/20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vd,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-semibold",children:"Current Balance"}),i.jsxs("p",{className:"text-xl font-bold",children:["",s?s.balanceRupees:"0.00"]})]}),i.jsx(pe,{size:"sm",className:"ml-4",asChild:!0,children:i.jsxs(_t,{to:"/wallet/top-up",children:[i.jsx(ha,{className:"h-3 w-3 mr-1"}),"Top Up"]})})]})})]})]}),r?i.jsxs(Ze,{className:"p-12 text-center",children:[i.jsx(hh,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading transactions..."})]}):t.length===0?i.jsxs(Ze,{className:"p-12 text-center border-dashed",children:[i.jsx(Cp,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("p",{className:"text-lg font-medium",children:"No transactions yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Add money to your wallet to get started"}),i.jsx(pe,{asChild:!0,children:i.jsxs(_t,{to:"/wallet/top-up",children:[i.jsx(ha,{className:"h-4 w-4 mr-2"}),"Top Up Wallet"]})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ze,{className:"overflow-hidden",children:i.jsx("div",{className:"divide-y divide-border",children:t.map(w=>i.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-2 rounded-full ${w.direction==="CREDIT"?"bg-green-500/10":"bg-red-500/10"}`,children:m(w.type,w.direction)}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:g(w.type)}),x(w.status)]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:w.description}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[y(w.source),i.jsx("span",{children:w.source}),i.jsx("span",{children:""}),i.jsx("span",{children:new Date(w.createdAt).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`text-lg font-bold ${w.direction==="CREDIT"?"text-green-600":"text-red-600"}`,children:[w.direction==="CREDIT"?"+":"-","",w.amountRupees]}),w.status==="SUCCESS"&&w.balanceAfterPaise!==void 0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Balance: ",(w.balanceAfterPaise/100).toFixed(2)]})]})]})},w.id))})}),o&&i.jsx("div",{className:"mt-6 text-center",children:i.jsx(pe,{variant:"outline",onClick:f,disabled:d,children:d?i.jsxs(i.Fragment,{children:[i.jsx(hh,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):"Load More"})})]})]})})},wrt=({open:t,onOpenChange:e,availableBalancePaise:r,onSuccess:n})=>{const[s,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(!1),[d,h]=b.useState({}),p=()=>{const y={},x=parseFloat(s);return isNaN(x)||x<=0?y.amount="Please enter a valid amount":x<100?y.amount="Minimum withdrawal amount is 100":x*100>r&&(y.amount=`Maximum available: ${(r/100).toFixed(2)}`),o.trim()?/^[a-zA-Z0-9._-]+@[a-zA-Z0-9]+$/.test(o.trim())||(y.upiId="Invalid UPI ID format (e.g., name@upi)"):y.upiId="UPI ID is required",h(y),Object.keys(y).length===0},f=async y=>{if(y.preventDefault(),!!p()){u(!0);try{const x=Math.round(parseFloat(s)*100);await fN.create({amountPaise:x,upiId:o.trim().toLowerCase()}),$e.success("Withdrawal request submitted successfully"),a(""),l(""),h({}),e(!1),n()}catch(x){const w=x instanceof Error?x.message:"Failed to submit withdrawal request";$e.error(w)}finally{u(!1)}}},m=()=>{c||(a(""),l(""),h({}),e(!1))},g=(r/100).toFixed(2);return i.jsx(dl,{open:t,onOpenChange:m,children:i.jsxs(Fo,{className:"sm:max-w-[425px]",children:[i.jsxs(Bo,{children:[i.jsxs($o,{className:"flex items-center gap-2",children:[i.jsx(vd,{className:"h-5 w-5"}),"Request Withdrawal"]}),i.jsx(vh,{children:"Enter the amount and UPI ID for payout. Minimum withdrawal is 100."})]}),i.jsxs("form",{onSubmit:f,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Available for Withdrawal"}),i.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",g]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"amount",children:"Amount ()"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),i.jsx(rt,{id:"amount",type:"number",min:"100",step:"1",placeholder:"0.00",className:`pl-8 ${d.amount?"border-destructive":""}`,value:s,onChange:y=>{a(y.target.value),d.amount&&h({...d,amount:void 0})},disabled:c})]}),d.amount&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(ju,{className:"h-3 w-3"}),d.amount]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"upiId",children:"UPI ID"}),i.jsx(rt,{id:"upiId",type:"text",placeholder:"name@upi",className:d.upiId?"border-destructive":"",value:o,onChange:y=>{l(y.target.value),d.upiId&&h({...d,upiId:void 0})},disabled:c}),d.upiId&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(ju,{className:"h-3 w-3"}),d.upiId]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your UPI ID where you want to receive the payout"})]})]}),i.jsxs(Xg,{children:[i.jsx(pe,{type:"button",variant:"outline",onClick:m,disabled:c,children:"Cancel"}),i.jsx(pe,{type:"submit",disabled:c||!s||!o,children:c?i.jsxs(i.Fragment,{children:[i.jsx(Zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Request"})]})]})]})})},jrt=()=>{const[t,e]=b.useState(null),[r,n]=b.useState([]),[s,a]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState("withdrawals"),[d,h]=b.useState(!1);b.useEffect(()=>{p()},[]);const p=async()=>{try{l(!0);const[g,y,x]=await Promise.all([fN.getWalletSummary(),fN.list({limit:50}),bw.listForMerchant()]);e(g),n(y.data||[]),a(x||[])}catch(g){const y=g instanceof Error?g.message:"Failed to load data";$e.error(y)}finally{l(!1)}},f=g=>{switch(g){case"PENDING":return i.jsxs(Ot,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600",children:[i.jsx(Jo,{className:"h-3 w-3 mr-1"}),"Pending"]});case"APPROVED":return i.jsxs(Ot,{variant:"outline",className:"bg-blue-500/10 text-blue-600",children:[i.jsx(al,{className:"h-3 w-3 mr-1"}),"Approved"]});case"PAID":return i.jsxs(Ot,{variant:"outline",className:"bg-green-500/10 text-green-600",children:[i.jsx(ib,{className:"h-3 w-3 mr-1"}),"Paid"]});case"REJECTED":return i.jsxs(Ot,{variant:"outline",className:"bg-red-500/10 text-red-600",children:[i.jsx(ny,{className:"h-3 w-3 mr-1"}),"Rejected"]});case"FAILED":return i.jsxs(Ot,{variant:"outline",className:"bg-red-500/10 text-red-600",children:[i.jsx(ju,{className:"h-3 w-3 mr-1"}),"Failed"]});default:return i.jsx(Ot,{variant:"outline",children:g})}},m=g=>{switch(g){case"paid":return i.jsxs(Ot,{variant:"outline",className:"bg-green-500/10 text-green-500",children:[i.jsx(al,{className:"h-3 w-3 mr-1"}),"Paid"]});case"pending":return i.jsxs(Ot,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500",children:[i.jsx(Jo,{className:"h-3 w-3 mr-1"}),"Pending"]});case"cancelled":return i.jsxs(Ot,{variant:"outline",className:"bg-red-500/10 text-red-500",children:[i.jsx(ny,{className:"h-3 w-3 mr-1"}),"Cancelled"]});default:return i.jsx(Ot,{variant:"outline",children:g})}};return i.jsx(mm,{children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"flex justify-between items-end mb-8",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Wallet & Payouts"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your wallet balance and withdrawal requests"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[i.jsx(Ze,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:i.jsx(Tt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:i.jsx(vd,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-semibold",children:"Total Balance"}),i.jsxs("p",{className:"text-2xl font-bold",children:["",(t==null?void 0:t.balanceRupees)||"0.00"]})]})]})})}),i.jsx(Ze,{children:i.jsx(Tt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full bg-yellow-500/10",children:i.jsx(Jo,{className:"h-6 w-6 text-yellow-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-semibold",children:"Pending Withdrawals"}),i.jsxs("p",{className:"text-2xl font-bold",children:["",(t==null?void 0:t.pendingWithdrawalsRupees)||"0.00"]})]})]})})}),i.jsx(Ze,{className:"relative overflow-hidden",children:i.jsx(Tt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-full bg-green-500/10",children:i.jsx(Q_,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-semibold",children:"Available to Withdraw"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",(t==null?void 0:t.availableForWithdrawalRupees)||"0.00"]})]})]}),i.jsx(pe,{size:"sm",onClick:()=>h(!0),disabled:((t==null?void 0:t.availableForWithdrawalPaise)||0)<1e4,children:"Withdraw"})]})})})]}),i.jsxs("div",{className:"flex gap-2 mb-6",children:[i.jsx(pe,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs(_t,{to:"/wallet/top-up",children:[i.jsx(vd,{className:"h-4 w-4 mr-2"}),"Top Up Wallet"]})}),i.jsx(pe,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs(_t,{to:"/wallet/transactions",children:[i.jsx(Cp,{className:"h-4 w-4 mr-2"}),"Transaction History"]})}),i.jsxs(pe,{variant:"ghost",size:"sm",onClick:p,disabled:o,children:[i.jsx(hh,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]})]}),i.jsxs(_c,{value:c,onValueChange:u,children:[i.jsxs(Fl,{className:"mb-4",children:[i.jsxs(Zr,{value:"withdrawals",className:"gap-2",children:[i.jsx(Q_,{className:"h-4 w-4"}),"Withdrawal Requests",r.filter(g=>g.status==="PENDING").length>0&&i.jsx(Ot,{variant:"secondary",className:"ml-1",children:r.filter(g=>g.status==="PENDING").length})]}),i.jsxs(Zr,{value:"invoices",className:"gap-2",children:[i.jsx(xu,{className:"h-4 w-4"}),"Fulfillment Invoices"]})]}),i.jsx(sn,{value:"withdrawals",children:o?i.jsxs(Ze,{className:"p-12 text-center",children:[i.jsx(hh,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading withdrawal requests..."})]}):r.length===0?i.jsxs(Ze,{className:"p-12 text-center border-dashed",children:[i.jsx(Q_,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("p",{className:"text-lg font-medium",children:"No withdrawal requests yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Request a withdrawal to receive funds in your bank account"}),i.jsx(pe,{onClick:()=>h(!0),disabled:((t==null?void 0:t.availableForWithdrawalPaise)||0)<1e4,children:"Request Withdrawal"})]}):i.jsx(Ze,{className:"overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-muted/50 border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"UPI ID"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Requested"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Reference"})]})}),i.jsx("tbody",{className:"divide-y divide-border",children:r.map(g=>i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"text-lg font-bold",children:["",g.amountRupees]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"font-mono text-sm",children:g.upiId})}),i.jsxs("td",{className:"px-6 py-4",children:[f(g.status),g.status==="REJECTED"&&g.rejectionReason&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.rejectionReason})]}),i.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:new Date(g.requestedAt).toLocaleDateString(void 0,{dateStyle:"medium"})}),i.jsx("td",{className:"px-6 py-4",children:g.payoutReference?i.jsx("span",{className:"font-mono text-sm text-green-600",children:g.payoutReference}):i.jsx("span",{className:"text-muted-foreground text-sm",children:""})})]},g.id))})]})})})}),i.jsx(sn,{value:"invoices",children:o?i.jsxs(Ze,{className:"p-12 text-center",children:[i.jsx(hh,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading invoices..."})]}):s.length===0?i.jsxs(Ze,{className:"p-12 text-center border-dashed",children:[i.jsx(xu,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("p",{className:"text-lg font-medium",children:"No invoices yet"}),i.jsx("p",{className:"text-muted-foreground",children:"Your fulfillment invoices will appear here once you receive orders."})]}):i.jsx(Ze,{className:"overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-muted/50 border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Invoice"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Store/Order"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-border",children:s.map(g=>{var y,x,w,S,N;return i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-bold",children:g.invoiceNumber}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Fulfillment"})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-medium",children:((y=g.storeId)==null?void 0:y.storeName)||"Store"}),i.jsxs(_t,{to:"/orders",className:"text-xs text-primary hover:underline flex items-center gap-1",children:["Order #",((x=g.orderId)==null?void 0:x.orderNumber)||((S=(w=g.orderId)==null?void 0:w._id)==null?void 0:S.slice(-6)),i.jsx(Vy,{className:"h-3 w-3"})]})]})}),i.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:new Date(g.createdAt).toLocaleDateString(void 0,{dateStyle:"medium"})}),i.jsx("td",{className:"px-6 py-4",children:m(g.status)}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"text-sm font-bold",children:["",(N=g.totalAmount)==null?void 0:N.toFixed(2)]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:g.status==="paid"?i.jsx(pe,{variant:"outline",size:"sm",children:"Download PDF"}):i.jsx(pe,{variant:"outline",size:"sm",disabled:!0,children:"Processing..."})})]},g._id)})})]})})})})]}),i.jsx(wrt,{open:d,onOpenChange:h,availableBalancePaise:(t==null?void 0:t.availableForWithdrawalPaise)||0,onSuccess:p})]})})},Srt=({open:t,onOpenChange:e,withdrawal:r,onSuccess:n})=>{const[s,a]=b.useState(!1),o=async()=>{if(r){a(!0);try{await ly.approve(r.id),$e.success("Withdrawal approved! Balance has been deducted."),e(!1),n()}catch(l){const c=l instanceof Error?l.message:"Failed to approve withdrawal";$e.error(c)}finally{a(!1)}}};return r?i.jsx(dl,{open:t,onOpenChange:e,children:i.jsxs(Fo,{className:"sm:max-w-[400px]",children:[i.jsxs(Bo,{children:[i.jsxs($o,{className:"flex items-center gap-2",children:[i.jsx(al,{className:"h-5 w-5 text-green-600"}),"Approve Withdrawal"]}),i.jsx(vh,{children:"This will deduct the amount from the merchant's wallet."})]}),i.jsxs("div",{className:"py-4 space-y-3",children:[i.jsx("div",{className:"rounded-lg bg-green-500/10 p-4 text-center",children:i.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["",r.amountRupees]})}),i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Merchant:"})," ",r.merchantName||r.merchantEmail]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-muted-foreground",children:"UPI ID:"})," ",i.jsx("span",{className:"font-mono",children:r.upiId})]})]}),i.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-yellow-500/10 text-yellow-700 text-sm",children:[i.jsx(ju,{className:"h-4 w-4 mt-0.5 shrink-0"}),i.jsx("p",{children:"After approval, you need to manually send the UPI payment and mark it as paid."})]})]}),i.jsxs(Xg,{children:[i.jsx(pe,{variant:"outline",onClick:()=>e(!1),disabled:s,children:"Cancel"}),i.jsxs(pe,{onClick:o,disabled:s,className:"bg-green-600 hover:bg-green-700",children:[s?i.jsx(Zn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Approve Withdrawal"]})]})]})}):null},Nrt=({open:t,onOpenChange:e,withdrawal:r,onSuccess:n})=>{const[s,a]=b.useState(""),[o,l]=b.useState(!1),[c,u]=b.useState(null),d=async()=>{if(r){if(!s.trim()||s.trim().length<3){u("Please provide a reason (minimum 3 characters)");return}l(!0);try{await ly.reject(r.id,s.trim()),$e.success("Withdrawal rejected"),a(""),u(null),e(!1),n()}catch(p){const f=p instanceof Error?p.message:"Failed to reject withdrawal";$e.error(f)}finally{l(!1)}}},h=()=>{o||(a(""),u(null),e(!1))};return r?i.jsx(dl,{open:t,onOpenChange:h,children:i.jsxs(Fo,{className:"sm:max-w-[400px]",children:[i.jsxs(Bo,{children:[i.jsxs($o,{className:"flex items-center gap-2",children:[i.jsx(ny,{className:"h-5 w-5 text-red-600"}),"Reject Withdrawal"]}),i.jsx(vh,{children:"Provide a reason for rejecting this withdrawal request."})]}),i.jsxs("div",{className:"py-4 space-y-4",children:[i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Amount:"})," ",i.jsxs("span",{className:"font-bold",children:["",r.amountRupees]})]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Merchant:"})," ",r.merchantName||r.merchantEmail]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"reason",children:"Rejection Reason *"}),i.jsx(Ei,{id:"reason",placeholder:"e.g., Invalid UPI ID, Suspicious activity...",value:s,onChange:p=>{a(p.target.value),c&&u(null)},disabled:o,className:c?"border-destructive":""}),c&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(ju,{className:"h-3 w-3"}),c]})]})]}),i.jsxs(Xg,{children:[i.jsx(pe,{variant:"outline",onClick:h,disabled:o,children:"Cancel"}),i.jsxs(pe,{variant:"destructive",onClick:d,disabled:o||!s.trim(),children:[o?i.jsx(Zn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Reject Withdrawal"]})]})]})}):null},Crt=({open:t,onOpenChange:e,withdrawal:r,onSuccess:n})=>{const[s,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(!1),[d,h]=b.useState(null),p=async()=>{if(r){if(!s.trim()||s.trim().length<3){h("UTR/Reference is required");return}u(!0);try{await ly.markPaid(r.id,{payoutReference:s.trim(),notes:o.trim()||void 0}),$e.success("Withdrawal marked as paid"),a(""),l(""),h(null),e(!1),n()}catch(m){const g=m instanceof Error?m.message:"Failed to mark as paid";$e.error(g)}finally{u(!1)}}},f=()=>{c||(a(""),l(""),h(null),e(!1))};return r?i.jsx(dl,{open:t,onOpenChange:f,children:i.jsxs(Fo,{className:"sm:max-w-[425px]",children:[i.jsxs(Bo,{children:[i.jsxs($o,{className:"flex items-center gap-2",children:[i.jsx(ib,{className:"h-5 w-5 text-green-600"}),"Mark as Paid"]}),i.jsx(vh,{children:"Record the UPI transaction reference after completing the payout."})]}),i.jsxs("div",{className:"py-4 space-y-4",children:[i.jsxs("div",{className:"rounded-lg bg-muted/50 p-3 text-sm space-y-1",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Amount:"})," ",i.jsxs("span",{className:"font-bold text-green-600",children:["",r.amountRupees]})]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-muted-foreground",children:"UPI ID:"})," ",i.jsx("span",{className:"font-mono",children:r.upiId})]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Merchant:"})," ",r.merchantName||r.merchantEmail]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"utr",children:"UTR / Transaction Reference *"}),i.jsx(rt,{id:"utr",placeholder:"e.g., 123456789012",value:s,onChange:m=>{a(m.target.value),d&&h(null)},disabled:c,className:d?"border-destructive":""}),d&&i.jsxs("p",{className:"text-xs text-destructive flex items-center gap-1",children:[i.jsx(ju,{className:"h-3 w-3"}),d]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(je,{htmlFor:"notes",children:"Notes (optional)"}),i.jsx(Ei,{id:"notes",placeholder:"Any additional notes...",value:o,onChange:m=>l(m.target.value),disabled:c,rows:2})]})]}),i.jsxs(Xg,{children:[i.jsx(pe,{variant:"outline",onClick:f,disabled:c,children:"Cancel"}),i.jsxs(pe,{onClick:p,disabled:c||!s.trim(),className:"bg-green-600 hover:bg-green-700",children:[c?i.jsx(Zn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Mark as Paid"]})]})]})}):null},_rt=()=>{var C,A,k,E,T,R,I,L,U,$,q,G,W,B;const[t,e]=b.useState([]),[r,n]=b.useState(null),[s,a]=b.useState(!0),[o,l]=b.useState("PENDING"),[c,u]=b.useState(null),[d,h]=b.useState(!1),[p,f]=b.useState(!1),[m,g]=b.useState(!1);b.useEffect(()=>{y()},[o]);const y=async()=>{try{a(!0);const[O,K]=await Promise.all([ly.list({status:o,limit:100}),ly.getStats()]);e(O.data||[]),n(K)}catch(O){const K=O instanceof Error?O.message:"Failed to load data";$e.error(K)}finally{a(!1)}},x=(O,K)=>{switch(u(O),K){case"approve":h(!0);break;case"reject":f(!0);break;case"mark-paid":g(!0);break}},w=O=>{switch(O){case"PENDING":return i.jsxs(Ot,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600",children:[i.jsx(Jo,{className:"h-3 w-3 mr-1"}),"Pending"]});case"APPROVED":return i.jsxs(Ot,{variant:"outline",className:"bg-blue-500/10 text-blue-600",children:[i.jsx(al,{className:"h-3 w-3 mr-1"}),"Approved"]});case"PAID":return i.jsxs(Ot,{variant:"outline",className:"bg-green-500/10 text-green-600",children:[i.jsx(ib,{className:"h-3 w-3 mr-1"}),"Paid"]});case"REJECTED":return i.jsxs(Ot,{variant:"outline",className:"bg-red-500/10 text-red-600",children:[i.jsx(ny,{className:"h-3 w-3 mr-1"}),"Rejected"]});case"FAILED":return i.jsxs(Ot,{variant:"outline",className:"bg-red-500/10 text-red-600",children:[i.jsx(ju,{className:"h-3 w-3 mr-1"}),"Failed"]});default:return i.jsx(Ot,{variant:"outline",children:O})}},S=((A=(C=r==null?void 0:r.byStatus)==null?void 0:C.PENDING)==null?void 0:A.count)||0,N=((E=(k=r==null?void 0:r.byStatus)==null?void 0:k.APPROVED)==null?void 0:E.count)||0;return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(pe,{variant:"ghost",size:"sm",asChild:!0,children:i.jsxs(_t,{to:"/admin",children:[i.jsx(ao,{className:"h-4 w-4 mr-2"}),"Back to Admin"]})}),i.jsx("h1",{className:"text-xl font-bold",children:"Withdrawal Requests"})]}),i.jsxs(pe,{variant:"ghost",size:"sm",onClick:y,disabled:s,children:[i.jsx(hh,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]})}),i.jsxs("main",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[i.jsx(Ze,{children:i.jsx(Tt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-yellow-500/10",children:i.jsx(Jo,{className:"h-5 w-5 text-yellow-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"}),i.jsx("p",{className:"text-2xl font-bold",children:S}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["",((R=(T=r==null?void 0:r.byStatus)==null?void 0:T.PENDING)==null?void 0:R.totalRupees)||"0.00"]})]})]})})}),i.jsx(Ze,{children:i.jsx(Tt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-blue-500/10",children:i.jsx(al,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting Payout"}),i.jsx("p",{className:"text-2xl font-bold",children:N}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["",((L=(I=r==null?void 0:r.byStatus)==null?void 0:I.APPROVED)==null?void 0:L.totalRupees)||"0.00"]})]})]})})}),i.jsx(Ze,{children:i.jsx(Tt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-green-500/10",children:i.jsx(ib,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Paid Today"}),i.jsx("p",{className:"text-2xl font-bold",children:((U=r==null?void 0:r.todayPaid)==null?void 0:U.count)||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["",(($=r==null?void 0:r.todayPaid)==null?void 0:$.totalRupees)||"0.00"]})]})]})})}),i.jsx(Ze,{children:i.jsx(Tt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-purple-500/10",children:i.jsx(xh,{className:"h-5 w-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Paid"}),i.jsx("p",{className:"text-2xl font-bold",children:((G=(q=r==null?void 0:r.byStatus)==null?void 0:q.PAID)==null?void 0:G.count)||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["",((B=(W=r==null?void 0:r.byStatus)==null?void 0:W.PAID)==null?void 0:B.totalRupees)||"0.00"]})]})]})})})]}),i.jsxs(_c,{value:o,onValueChange:l,children:[i.jsxs(Fl,{className:"mb-4",children:[i.jsxs(Zr,{value:"PENDING",className:"gap-2",children:[i.jsx(Jo,{className:"h-4 w-4"}),"Pending",S>0&&i.jsx(Ot,{variant:"secondary",className:"ml-1",children:S})]}),i.jsxs(Zr,{value:"APPROVED",className:"gap-2",children:[i.jsx(al,{className:"h-4 w-4"}),"Approved",N>0&&i.jsx(Ot,{variant:"secondary",className:"ml-1",children:N})]}),i.jsxs(Zr,{value:"PAID",className:"gap-2",children:[i.jsx(ib,{className:"h-4 w-4"}),"Paid"]}),i.jsxs(Zr,{value:"REJECTED",className:"gap-2",children:[i.jsx(ny,{className:"h-4 w-4"}),"Rejected"]})]}),i.jsx(sn,{value:o,children:s?i.jsxs(Ze,{className:"p-12 text-center",children:[i.jsx(hh,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading withdrawal requests..."})]}):t.length===0?i.jsxs(Ze,{className:"p-12 text-center border-dashed",children:[i.jsx(Jo,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),i.jsxs("p",{className:"text-lg font-medium",children:["No ",o.toLowerCase()," requests"]}),i.jsx("p",{className:"text-muted-foreground",children:"Withdrawal requests with this status will appear here."})]}):i.jsx(Ze,{className:"overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-muted/50 border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Merchant"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"UPI ID"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Requested"}),i.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-border",children:t.map(O=>i.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:O.merchantName||"N/A"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:O.merchantEmail})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"text-lg font-bold",children:["",O.amountRupees]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"font-mono text-sm",children:O.upiId})}),i.jsxs("td",{className:"px-6 py-4",children:[w(O.status),O.status==="REJECTED"&&O.rejectionReason&&i.jsx("p",{className:"text-xs text-red-500 mt-1 max-w-[200px] truncate",children:O.rejectionReason}),O.payoutReference&&i.jsxs("p",{className:"text-xs text-green-600 mt-1 font-mono",children:["UTR: ",O.payoutReference]})]}),i.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:new Date(O.requestedAt).toLocaleDateString(void 0,{dateStyle:"medium"})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[O.status==="PENDING"&&i.jsxs(i.Fragment,{children:[i.jsx(pe,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>x(O,"approve"),children:"Approve"}),i.jsx(pe,{size:"sm",variant:"destructive",onClick:()=>x(O,"reject"),children:"Reject"})]}),O.status==="APPROVED"&&i.jsx(pe,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>x(O,"mark-paid"),children:"Mark as Paid"}),(O.status==="PAID"||O.status==="REJECTED")&&i.jsx("span",{className:"text-sm text-muted-foreground",children:""})]})})]},O.id))})]})})})})]})]}),i.jsx(Srt,{open:d,onOpenChange:h,withdrawal:c,onSuccess:y}),i.jsx(Nrt,{open:p,onOpenChange:f,withdrawal:c,onSuccess:y}),i.jsx(Crt,{open:m,onOpenChange:g,withdrawal:c,onSuccess:y})]})},Art=()=>h_()?i.jsx(Vie,{}):i.jsx(cxe,{}),krt=new Xfe,Prt=()=>i.jsx(Zfe,{client:krt,children:i.jsxs(wq,{children:[i.jsx(tde,{}),i.jsx(Mde,{}),i.jsx(Kpe,{children:i.jsx(tme,{children:i.jsx(rme,{children:i.jsx(fme,{children:i.jsxs(m6,{children:[i.jsx(Dr,{path:"/",element:i.jsx(Art,{})}),!h_()&&i.jsxs(i.Fragment,{children:[i.jsx(Dr,{path:"/products",element:i.jsx(pxe,{})}),i.jsx(Dr,{path:"/categories",element:i.jsx(gxe,{})}),i.jsx(Dr,{path:"/category-subcategories/:categoryId",element:i.jsx(rve,{})}),i.jsx(Dr,{path:"/products/category/:slug",element:i.jsx(Oye,{})}),i.jsx(Dr,{path:"/products/:id",element:i.jsx(ave,{})}),i.jsx(Dr,{path:"/auth",element:i.jsx(L4e,{})}),i.jsx(Dr,{path:"/verify-email",element:i.jsx(R4e,{})})]}),i.jsx(Dr,{path:"/designer/:id",element:i.jsx(ws,{children:i.jsx(w4e,{})})}),i.jsx(Dr,{path:"/listing-editor/:id",element:i.jsx(ws,{children:i.jsx(mW,{})})}),i.jsx(Dr,{path:"/dashboard",element:i.jsx(ws,{children:i.jsx(rCe,{})})}),i.jsx(Dr,{path:"/dashboard/products/:productId",element:i.jsx(ws,{children:i.jsx(ert,{})})}),i.jsx(Dr,{path:"/listing-editor",element:i.jsx(ws,{children:i.jsx(mW,{})})}),i.jsx(Dr,{path:"/mockups-library",element:i.jsx(ws,{children:i.jsx(mrt,{})})}),i.jsx(Dr,{path:"/orders",element:i.jsx(ws,{children:i.jsx(nCe,{})})}),i.jsx(Dr,{path:"/stores",element:i.jsx(ws,{children:i.jsx(cCe,{})})}),i.jsx(Dr,{path:"/wallet/top-up",element:i.jsx(ws,{children:i.jsx(vrt,{})})}),i.jsx(Dr,{path:"/wallet/transactions",element:i.jsx(ws,{children:i.jsx(brt,{})})}),i.jsx(Dr,{path:"/popup-stores",element:i.jsx(ws,{children:i.jsx(grt,{})})}),i.jsx(Dr,{path:"/invoices",element:i.jsx(ws,{children:i.jsx(xrt,{})})}),i.jsx(Dr,{path:"/stores/:storeId/builder",element:i.jsx(ws,{children:i.jsx(Qtt,{})})}),i.jsx(Dr,{path:"/analytics",element:i.jsx(ws,{children:i.jsx(uCe,{})})}),i.jsx(Dr,{path:"/customers",element:i.jsx(ws,{children:i.jsx(hCe,{})})}),i.jsx(Dr,{path:"/settings",element:i.jsx(ws,{children:i.jsx(dCe,{})})}),i.jsx(Dr,{path:"/admin",element:i.jsx(ws,{requireAdmin:!0,children:i.jsx(oJe,{})})}),i.jsx(Dr,{path:"/admin/orders/:id",element:i.jsx(lJe,{})}),i.jsx(Dr,{path:"/admin/products/new",element:i.jsx(eW,{})}),i.jsx(Dr,{path:"/admin/products/:id/edit",element:i.jsx(ws,{requireAdmin:!0,children:i.jsx(eW,{})})}),i.jsx(Dr,{path:"/admin/products/:id",element:i.jsx(ws,{requireAdmin:!0,children:i.jsx(VJe,{})})}),i.jsx(Dr,{path:"/admin/variant-options",element:i.jsx(ws,{requireAdmin:!0,children:i.jsx(qJe,{})})}),i.jsx(Dr,{path:"/admin/catalogue-fields",element:i.jsx(ws,{requireAdmin:!0,children:i.jsx(YJe,{})})}),i.jsx(Dr,{path:"/admin/invoices",element:i.jsx(ws,{requireAdmin:!0,children:i.jsx(yrt,{})})}),i.jsx(Dr,{path:"/admin/assets",element:i.jsx(ws,{requireAdmin:!0,children:i.jsx(XJe,{})})}),i.jsx(Dr,{path:"/wallet",element:i.jsx(ws,{children:i.jsx(jrt,{})})}),i.jsx(Dr,{path:"/admin/withdrawals",element:i.jsx(ws,{requireAdmin:!0,children:i.jsx(_rt,{})})}),i.jsx(Dr,{path:"/create-store",element:i.jsx(ws,{children:i.jsx(KJe,{})})}),i.jsx(Dr,{path:"/*",element:i.jsx(Vie,{})}),i.jsx(Dr,{path:"/order-confirmation",element:i.jsx(ZJe,{})}),i.jsx(Dr,{path:"*",element:i.jsx(Jtt,{})})]})})})})})]})});qH(document.getElementById("root")).render(i.jsx(Prt,{}));export{NN as $,NQ as A,Il as B,dc as C,Us as D,Mr as E,Gje as F,ov as G,_d as H,YZ as I,z9 as J,Ao as K,Oje as L,yn as M,Vje as N,Ew as O,ro as P,Si as Q,s8 as R,Wje as S,l5 as T,e8 as U,Ra as V,u5e as W,W9 as X,IA as Y,G9 as Z,fje as _,Md as a,fa as a0,dje as a1,GZ as a2,CQ as a3,mn as a4,ss as a5,m5e as a6,U5e as a7,L5e as a8,oSe as a9,cSe as aa,pSe as ab,gSe as ac,xSe as ad,xj as ae,is as af,On as ag,SN as ah,vS as ai,d8 as aj,PD as ak,zQ as al,sD as am,rD as an,TD as ao,yNe as ap,Fs as aq,m2 as ar,Owe as as,kN as at,GQ as au,I5e as b,f2 as c,yS as d,so as e,nD as f,P5e as g,AM as h,wQ as i,rQ as j,Od as k,kM as l,g8 as m,aSe as n,lSe as o,hSe as p,mSe as q,Ywe as r,nC as s,Sn as t,Mwe as u,rC as v,Bs as w,ySe as x,yu as y,zZ as z};
